<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.149.0">
    <meta name="generator" content="Relearn 8.0.0+9803d5122ebb3276acea823f476e9eb44f607862">
    <meta name="description" content="Guide for setting up a static website with Hugo">
    <meta name="author" content="David Thomas">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="How to Build a website With Hugo :: Linux Reader">
    <meta name="twitter:description" content="Guide for setting up a static website with Hugo">
    <meta property="og:url" content="http://linuxreader.com/tools/how-to-build-a-website-with-hugo/">
    <meta property="og:site_name" content="Linux Reader">
    <meta property="og:title" content="How to Build a website With Hugo :: Linux Reader">
    <meta property="og:description" content="Guide for setting up a static website with Hugo">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Tools">
    <meta itemprop="name" content="How to Build a website With Hugo :: Linux Reader">
    <meta itemprop="description" content="Guide for setting up a static website with Hugo">
    <meta itemprop="wordCount" content="2005">
    <title>How to Build a website With Hugo :: Linux Reader</title>
    <link href="/tools/how-to-build-a-website-with-hugo/index.xml" rel="alternate" type="application/rss+xml" title="How to Build a website With Hugo :: Linux Reader">
    <link href="/tools/how-to-build-a-website-with-hugo/index.print.html" rel="alternate" type="text/html" title="How to Build a website With Hugo :: Linux Reader">
    <link href="/images/favicon.svg?1756998522" rel="icon" type="image/svg+xml">
    <link href="/css/auto-complete/auto-complete.min.css?1756998522" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1756998522" defer></script>
    <script src="/js/search-lunr.min.js?1756998522" defer></script>
    <script src="/js/search.min.js?1756998522" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/searchindex.en.js?1756998522";
    </script>
    <script src="/js/lunr/lunr.min.js?1756998522" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1756998522" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1756998522" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1756998522" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/fonts/fontawesome/css/fontawesome-all.min.css?1756998522" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/fontawesome-all.min.css?1756998522" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1756998522" rel="stylesheet">
    <link href="/css/theme.min.css?1756998522" rel="stylesheet">
    <link href="/css/format-html.min.css?1756998522" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/tools\/how-to-build-a-website-with-hugo\/';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='http:\/\/linuxreader.com';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'oled' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script><style>
:root {
    --MENU-WIDTH-S: 14.375rem;
    --MENU-WIDTH-M: 14.375rem;
    --MENU-WIDTH-L: 18.75rem;
    --MAIN-WIDTH-MAX: 80rem;
    font-size: 1.2rem;
}
</style>

  </head>
  <body class="mobile-support html" data-url="/tools/how-to-build-a-website-with-hugo/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/tools/calibre-web-with-docker-and-nginx/" title="Calibre Web with Docker and NGINX (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>

            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#setting-up-a-virtual-private-server-vps">Setting up a Virtual Private Server (VPS)</a></li>
    <li><a href="#registering-a-domain-name">Registering a Domain Name</a></li>
    <li><a href="#setting-up-hugo-on-your-local-pc">Setting up hugo on your local PC</a>
      <ul>
        <li><a href="#serve-your-website-locally">Serve your website locally</a></li>
        <li><a href="#build-out-your-public-directory">Build out your public directory</a></li>
      </ul>
    </li>
    <li><a href="#set-up-nginx-on-your-server">Set up nginx on your server</a>
      <ul>
        <li><a href="#access-permissions">Access Permissions</a></li>
        <li><a href="#firewall-permissions">Firewall Permissions</a></li>
        <li><a href="#nginx-security">Nginx Security</a></li>
      </ul>
    </li>
    <li><a href="#use-certbot-to-enable-https">Use Certbot to enable HTTPS</a>
      <ul>
        <li><a href="#install-certbot-and-its-nginx-module">Install Certbot and It&rsquo;s Nginx Module</a></li>
        <li><a href="#run-certbot">Run certbot</a></li>
        <li><a href="#set-up-a-cronjob-to-automatically-renew-certbot-certs">Set Up a Cronjob to automatically Renew certbot certs</a></li>
      </ul>
    </li>
    <li><a href="#extras">Extras</a>
      <ul>
        <li><a href="#optimizing-images">Optimizing images</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>


          </div>
          <span class="topbar-breadcrumbs highlightable">
            How to Build a website With Hugo
          </span>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/tools/how-to-build-a-website-with-hugo/index.print.html" title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a>
            </div>

            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/tools/process-bookfusion-highlights/" title="How to Process Bookfusion Highlights with Vim (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>







          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable tools" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="how-to-build-a-website-with-hugo">How to Build a website With Hugo</h1>

<p>Word Press is great, but it is probably a lot more bloated then you need for a personal website. Enter Hugo, it has less server capacity and storage needs than Word Press. Hugo is a static site generator than takes markdown files and converts them to html.</p>
<p>Hosting your own website is also a lot cheaper than having a provider like Bluehost do it for you. Instead of $15 per month, I am currently paying $10 per year.</p>
<p>This guide will walk through building a website step-by-step.</p>
<ol>
<li>Setting up a Virtual Private Server (VPS)</li>
<li>Registering a domain name</li>
<li>Pointing the domain to your server</li>
<li>Setting up hugo on your local PC</li>
<li>Syncing your Hugo generate site with your server</li>
<li>Using nginx to serve your site</li>
<li>Enable http over SSL</li>
</ol>
<h2 id="setting-up-a-virtual-private-server-vps">Setting up a Virtual Private Server (VPS)</h2>
<p>I use Vultr as my VPS. When I signed up they had a $250 credit towards a new account. If you select the cheapest server (you shouldn&rsquo;t need anything else for a basic site) that comes out to about $6 a month. Of course the $250 credit goes towards that which equates to around 41 months free.</p>
<p>Head to vultr.com. Create and account and  Select the Cloud Compute option.</p>
<p>Under CPU &amp; Storage Technology, select &ldquo;Regular Performance&rdquo;. Then under &ldquo;Server Location, select the server closest to you. Or closest to where you think your main audience will be.</p>
<p>Under Server image, select the OS you are most comfortable with. This guide uses Debian.</p>
<p>Under Server Size, slect the 10GB SSD. Do not select the &ldquo;IPv6 ONLY&rdquo; option. Leave the other options as default and enter your server hostname.</p>
<p>On the products page, click your new server. You can find your server credentials and IPv4 address here. You will need these to log in to your server.</p>
<p>Log into your sever via ssh to test. From a Linux terminal run:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>ssh username@serveripaddress</code></pre></div>
<p>Then, enter your password when prompted.</p>
<h2 id="registering-a-domain-name">Registering a Domain Name</h2>
<p>I got my domain perfectdarkmode.com from Cloudflare.com for about $10 per year. You can check to see available domains there. You can also check <a href="https://www.namecheckr.com/" rel="external" target="_blank">https://www.namecheckr.com/</a> to see iof that name is available on various social media sites.</p>
<p>In CloudFlare, just click &ldquo;add a site&rdquo; and pick a domain that works for you. Next, you will need your server address from earlier.</p>
<p>Under domain Registration, click &ldquo;Manage Domains&rdquo;, click &ldquo;manage&rdquo; on your domain. One the sidebar to the right, there is a qucik actions menu. Click &ldquo;update DNS configuration&rdquo;.</p>
<p>Click &ldquo;Add record&rdquo;. Type is an &ldquo;A&rdquo; record. Enter the name and the ip address that you used earlier for your server. Uncheck &ldquo;Proxy Status&rdquo; and save.</p>
<p>You can check to see if your DNS has updated on various DNS severs at <a href="https://dnschecker.org/" rel="external" target="_blank">https://dnschecker.org/</a>. Once those are up to date (after a couple minutes) you should be able to ping your new domain.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>$ ping perfectdarkmode.com
PING perfectdarkmode.com (104.238.140.131) 56(84) bytes of data.
64 bytes from 104.238.140.131.vultrusercontent.com (104.238.140.131): icmp_seq=1 ttl=53 time=33.2 ms
64 bytes from 104.238.140.131.vultrusercontent.com (104.238.140.131): icmp_seq=2 ttl=53 time=28.2 ms
64 bytes from 104.238.140.131.vultrusercontent.com (104.238.140.131): icmp_seq=3 ttl=53 time=31.0 ms</code></pre></div>
<p>Now, you can use the same ssh command to ssh into your vultr serverusing your domain name.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>ssh username@domain.com</code></pre></div>
<h2 id="setting-up-hugo-on-your-local-pc">Setting up hugo on your local PC</h2>
<p>Hugo is a popular open-source static site generator. It allows you to take markdown files, and builds them into and html website. To start go to <a href="https://gohugo.io/installation/" rel="external" target="_blank">https://gohugo.io/installation/</a> and download Hugo on your local computer. (I will show you how to upload the site to your server later.)</p>
<p>Pick a theme
The theme I use is here <a href="https://themes.gohugo.io/themes/hugo-theme-hello-friend-ng/" rel="external" target="_blank">https://themes.gohugo.io/themes/hugo-theme-hello-friend-ng/</a></p>
<p>You can browse your own themes as well. Just make sure to follow the installation instructions. Let&rsquo;s create a new Hugo site. Change into the directory where you want your site to be located in. Mine rests in ~/Documents/.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>cd ~/Documents/</code></pre></div>
<p>Create your new Hugo site.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>hugo new site site-name</code></pre></div>
<p>This will make a new folder with your site name in the ~/Documents directory. This folder will have a few directories and a config file in it.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>archetypes  config.toml  content  data  layouts  public  resources  static  themes</code></pre></div>
<p>For this tutorial, we will be working with the config.toml file and the  content, public, static, and themes. Next, load the theme into your site directory. For the Hello Friend NG theme:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>git clone https://github.com/rhazdon/hugo-theme-hello-friend-ng.git themes/hello-friend-ng</code></pre></div>
<p>Now we will load the example site into our working site. Say yes to overwrite.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>cp -a themes/hello-friend-ng/exampleSite/* .</code></pre></div>
<p>The top of your new config.toml site now contains:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>baseURL = &#34;https://example.com&#34;
title   = &#34;Hello Friend NG&#34;
languageCode = &#34;en-us&#34;
theme = &#34;hello-friend-ng&#34;</code></pre></div>
<p>Replace your baseURL with your site name and give your site a title. Set the enableGlobalLanguageMenu option to false if you want to remove the language swithcer option at the top. I also set enableThemeToggle to true so users could set the theme to dark or light.</p>
<p>You can also fill in the links to your social handles. Comment out any lines you don&rsquo;t want with a &ldquo;#&rdquo; like so:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>[params.social](params.social)
    name = &#34;twitter&#34;
    url  = &#34;https://twitter.com/&#34;

  [params.social](params.social)
    name = &#34;email&#34;
    url  = &#34;mailto:nobody@example.com&#34;

  [params.social](params.social)
    name = &#34;github&#34;
    url  = &#34;https://github.com/&#34;

  [params.social](params.social)
    name = &#34;linkedin&#34;
    url  = &#34;https://www.linkedin.com/&#34;

 # [params.social](params.social)
   # name = &#34;stackoverflow&#34;
   # url  = &#34;https://www.stackoverflow.com/&#34;</code></pre></div>
<p>You may also want to edit the footer text to your liking. I commented out the second line that comes with the example site:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>[params.footer]
    trademark = true
    rss = true
    copyright = true
    author = true

    topText = []
    bottomText = [
     # &#34;Powered by &lt;a href=\&#34;http://gohugo.io\&#34;&gt;Hugo&lt;/a&gt;&#34;,
     #  &#34;Made with &amp;#10084; by &lt;a href=\&#34;https://github.com/rhazdon\&#34;&gt;Djordje Atlialp&lt;/a&gt;&#34;
    ]</code></pre></div>
<p>Now, move the contents of the example contents folder over to your site&rsquo;s contents folder (giggidy):</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>cp -r ~/Documents/hugo/themes/hello-friend-ng/exampleSite/content/* ~/Documents/hugo/content/</code></pre></div>
<p>Let&rsquo;s clean up a little bit. Cd into ~/Documents/hugo/content/posts. Rename the file to the name of your first post. Also, delete all of the other files here:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>cd ~/Documents/hugo/contents/posts
mv goisforlovers.md newpostnamehere.md
find . ! -name &#39;newpostnamehere.md&#39; -type f -exec rm -f {} +</code></pre></div>
<p>Open the new post file and delete everything after this:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>+++
title = &#34;Building a Minimalist Website with Hugo&#34;
description = &#34;&#34;
type = [&#34;posts&#34;,&#34;post&#34;]
tags = [
    &#34;hugo&#34;,
    &#34;nginx&#34;,
    &#34;ssl&#34;,
    &#34;http&#34;,
    &#34;vultr&#34;,
]
date = &#34;2023-03-26&#34;
categories = [
    &#34;tools&#34;,
    &#34;linux&#34;,
]
series = [&#34;tools&#34;]
[ author ]
  name = &#34;David Thomas&#34;
+++</code></pre></div>
<p>You will need to fill out this header information for each new post you make. This will allow you to give your site a title, tags, date, categories, etc. This is what is called a TOML header. TOML stands for Tom&rsquo;s Obvious Minimal Language. Which is a minimal language used for parsing data. Hugo uses TOML to fill out your site.</p>
<p>Save your doc and exit. Next, there should be an about.md page now in your ~/Documents/hugo/Contents folder. Edit this to edit your about page for your site. You can use this Markdown Guide if you need help learning markdown language. <a href="https://www.markdownguide.org/" rel="external" target="_blank">https://www.markdownguide.org/</a></p>
<h3 id="serve-your-website-locally">Serve your website locally</h3>
<p>Let&rsquo;s test the website by serving it locally and accessing it at localhost:1313 in your web browser. Enter the command:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>hugo serve</code></pre></div>
<p>Hugo will now be generating your website. You can view it by entering localhost:1313 in your webbrowser.</p>
<p>You can use this to test new changes before uploading them to your server. When you svae a post or page file such as your about page, hugo will automatically update the changes to this local page if the local server is running.</p>
<p>Press &ldquo;Ctrl + c&rdquo; to stop this local server. This is only for testing and does not need to be running to make your site work.</p>
<h3 id="build-out-your-public-directory">Build out your public directory</h3>
<p>Okay, your website is working locally, how do we get it to your server to host it online? We are almost there. First, we will use the hugo command to build your website in the public folder. Then, we will make a copy of our public folder on our server using rsync. I will also show you how to create an alias so you do not have to remember the rsync command every time.</p>
<p>From your hugo site folder run:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>hugo</code></pre></div>
<p>Next, we will put your public hugo folder into /var/www/ on your server. Here is how to do that with an alias. Open ~/.bashrc.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>vim ~/.bashrc</code></pre></div>
<p>Add the following line to the end of the file, making sure to replace the username and server name:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code># My custom aliases
alias rsyncp=&#39;rsync -rtvzP ~/Documents/hugo/public/ username@myserver.com:/var/www/public&#39;</code></pre></div>
<p>Save and exit the file. Then tell bash to update it&rsquo;s source config file.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>source ~/.bashrc</code></pre></div>
<p>Now your can run the command by just using the new alias any time. Your will need to do this every time you update your site locally.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>rsyncp</code></pre></div>
<h2 id="set-up-nginx-on-your-server">Set up nginx on your server</h2>
<p>Install nginx</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>apt update
apt upgrade
apt install nginx</code></pre></div>
<p>create an nginx config file in /etc/nginx/sites-available/</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>vim /etc/nginx/sites-available/public</code></pre></div>
<p>You will need to add the following to the file, update the options, then save and exit:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>server {
        listen 80 ;
        listen [::]:80 ;
        server_name example.org ;
        root /var/www/mysite ;
        index index.html index.htm index.nginx-debian.html ;
        location / {
                try_files $uri $uri/ =404 ;
        }
}</code></pre></div>
<p>Enter your domain in &ldquo;server_name&rdquo; line in place of &ldquo;example.org&rdquo;. Also, point &ldquo;root&rdquo; to your new site file from earlier. (/var/www/public). Then save and exit.</p>
<p>Link this site-available config file to sites-enabled to enable it. Then restart nginx:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>ln -s /etc/nginx/sites-available/public /etc/nginx/sites-enabled
systemctl reload nginx</code></pre></div>
<h3 id="access-permissions">Access Permissions</h3>
<p>We will need to make sure nginx has permissions to your site folder so that it can access them to serve your site. Run:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>chmod 777 /var/www/public</code></pre></div>
<h3 id="firewall-permissions">Firewall Permissions</h3>
<p>You will need to make sure your firewall allows port 80 and 443. Vultr installs the ufw program by default. But your can install it if you used a different provider. Beware, enabling a firewalll could block you from accessing your vm, so do your research before tinkering outside of these instructions.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>ufw allow 80
ufw allow 443</code></pre></div>
<h3 id="nginx-security">Nginx Security</h3>
<p>We will want to hide your nginx version number on error pages. This will make your site a bit harder for hackers to find exploits. Open your Nginx config file at /etc/nginx/nginx.conf and remove the &ldquo;#&rdquo; before &ldquo;server_tokens off;&rdquo;</p>
<p>Enter your domain into your browser. Congrats! You now have a running website!</p>
<h2 id="use-certbot-to-enable-https">Use Certbot to enable HTTPS</h2>
<p>Right now, our site uses the unencrypted http. We want it to use the encrypted version HTTPS (HTTP over SSL). This will increase user privacy, hide usernames and passwords used on your site, and you get the lock symbol by your URL name instead of &ldquo;!not secure&rdquo;.</p>
<h3 id="install-certbot-and-its-nginx-module">Install Certbot and It&rsquo;s Nginx Module</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>apt install python3-certbot-nginx</code></pre></div>
<h3 id="run-certbot">Run certbot</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>certbot --nginx</code></pre></div>
<p>Fill out the information, certbot asks for your emaill so it can send you a reminder when the certs need to be renewed every 3 months. You do not need to consent to giving your email to the EFF. Press 1 to select your domain. And 2 too redirect all connections to HTTPS.</p>
<p>Certbot will build out some information in your site&rsquo;s config file. Refresh your site. You should see your new fancy lock icon.</p>
<h3 id="set-up-a-cronjob-to-automatically-renew-certbot-certs">Set Up a Cronjob to automatically Renew certbot certs</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>crontab -e</code></pre></div>
<p>Select a text editor and add this line to the end of the file. Then save and exit the file:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>0 0 1 * * certbot --nginx renew</code></pre></div>
<p>You now have a running website. Just make new posts locally, the run &ldquo;hugo&rdquo; to rebuild the site. And use the rsync alias to update the folder on your server. I will soon be making tutorials on making an email address for your domain, such as <a href="mailto:david@perfectdarkmode.com" rel="external" target="_blank">david@perfectdarkmode.com</a> on my site. I will also be adding a comments section, RSS feed, email subscription, sidebar, and more.</p>
<p>Feel free to reach out with any questions if you get stuck. This is meant to be an all encompassing guide. So I want it to work.</p>
<h2 id="extras">Extras</h2>
<h3 id="optimizing-images">Optimizing images</h3>
<p>Create assets folder in main directory.</p>
<p>Create images folder in /assets</p>
<p>Access image using hugo pipes</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>{{ $image := resources.Get &#34;images/test-image.jpg&#34; }}
&lt;img src=&#34;{{ ( $image.Resize &#34;500x&#34; ).RelPermalink }}&#34; /&gt;</code></pre></div>
<p><a href="https://gohugo.io/content-management/image-processing/" rel="external" target="_blank">https://gohugo.io/content-management/image-processing/</a></p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<a href="https://linuxreader.com">
  <img src="/images/linuxreader.svg" alt="Linux Reader" >
</a>

        </div>
        <search><form action="/search/" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/ansible/"><a class="padding" href="/ansible/"><i class="fa-fw fas fa-file-lines"></i> Ansible</a><ul id="R-subsections-e5b911977d99c31c82b120cc3d2f2606" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/bash-scripting/"><a class="padding" href="/bash-scripting/"><i class="fa-fw fas fa-code"></i> Bash Scripting</a><ul id="R-subsections-fc95944d927ad1a52feaf7ff2addc71b" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/containers/"><a class="padding" href="/containers/"><i class="fa-fw fas fa-box-open"></i> Containers</a><ul id="R-subsections-98e55644e7defe4a283b28e510b18cf5" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/cyber-security/"><a class="padding" href="/cyber-security/"><i class="fa-fw fas fa-ghost"></i> Cyber Security</a><ul id="R-subsections-f95cf8cea1c115dd046e46a833f33dfa" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/desktop/"><a class="padding" href="/desktop/"><i class="fa-fw fas fa-computer"></i> Desktop</a><ul id="R-subsections-e1fc414efb00462ad25041a21e45e696" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/keyboard/"><a class="padding" href="/keyboard/"><i class="fa-fw fas fa-keyboard"></i> Keyboard</a><ul id="R-subsections-9c70f15c7e0cd80e425ec652ecbd7e70" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/networking/"><a class="padding" href="/networking/"><i class="fa-fw fas fa-network-wired"></i> Networking</a><ul id="R-subsections-d7c3359b808d40df139a3bb9f9073483" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/redhat/"><a class="padding" href="/redhat/"><i class="fa-brands fab fa-redhat"></i> RedHat</a><ul id="R-subsections-22ddd467d467af44ac41abd22ed6268b" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/storage/"><a class="padding" href="/storage/"><i class="fa-fw fas fa-hard-drive"></i> Storage</a><ul id="R-subsections-28a53f7a259bc0e6bfd5bf73591250a9" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-id="/tools/"><a class="padding" href="/tools/"><i class="fa-fw fas fa-screwdriver-wrench"></i> Tools</a><ul id="R-subsections-bf1399820dde3dd110e03ace4147ff86" class="collapsible-menu">
            <li class="" data-nav-id="/tools/calibre-web-with-docker-and-nginx/"><a class="padding" href="/tools/calibre-web-with-docker-and-nginx/">Calibre Web with Docker and NGINX</a></li>
            <li class="active " data-nav-id="/tools/how-to-build-a-website-with-hugo/"><a class="padding" href="/tools/how-to-build-a-website-with-hugo/">How to Build a website With Hugo</a></li>
            <li class="" data-nav-id="/tools/process-bookfusion-highlights/"><a class="padding" href="/tools/process-bookfusion-highlights/">How to Process Bookfusion Highlights with Vim</a></li>
            <li class="" data-nav-id="/tools/how-to-set-up-hugo-relearn-theme/"><a class="padding" href="/tools/how-to-set-up-hugo-relearn-theme/">How to Set Up Hugo Relearn Theme</a></li>
            <li class="" data-nav-id="/tools/nextcloud-on-rhel-based-systems/"><a class="padding" href="/tools/nextcloud-on-rhel-based-systems/">Nextcloud on RHEL Based Systems</a></li>
            <li class="" data-nav-id="/tools/using-man-pages/"><a class="padding" href="/tools/using-man-pages/">You Need to Learn Man Pages</a></li></ul></li>
            <li class="" data-nav-id="/virtualization/"><a class="padding" href="/virtualization/"><i class="fa-fw fas fa-server"></i> Virtualization</a><ul id="R-subsections-da8ee4406de37987b502b79e5b0a9d1c" class="collapsible-menu"></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <div class="nav-title padding">More</div>
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="/about/"><a class="padding" href="/about/"><i class='fas fa-solid fa-circle-info'></i> About</a></li>
            <li class="" data-nav-id="/now/"><a class="padding" href="/now/"><i class='fas fa-fw fa-play'></i> Now</a></li>
            <li class="" data-nav-id="/contact/"><a class="padding" href="/contact/"><i class='fas fa-fw fa-envelope'></i> Contact</a></li>
            <li class="" data-nav-id="/booknotes/"><a class="padding" href="/booknotes/"><i class='fas fa-fw fa-file'></i> Book Notes</a></li>
            <li class="" data-nav-id="https://github.com/linuxreader"><a class="padding" href="https://github.com/linuxreader" rel="external" target="_blank"><i class='fab fa-fw fa-github'></i> GitHub</a></li>
            <li class="" data-nav-id="https://linkedin.com/in/linuxreader/"><a class="padding" href="https://linkedin.com/in/linuxreader/" rel="external" target="_blank"><i class='fab fa-fw fa-linkedin'></i> LinkedIn</a></li>
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer"><p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p></div>
      </div>
    </aside>
    <script>
      window.MathJax = Object.assign( window.MathJax || {}, {
        tex: {
          inlineMath:  [['\\(', '\\)'], ['$',  '$']],  
          displayMath: [['\\[', '\\]'], ['$$', '$$']], 
        },
        options: {
          enableMenu: false 
        }
      }, JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/js/js-yaml/js-yaml.min.js?1756998522" defer></script>
    <script src="/js/d3/d3-color.min.js?1756998522" defer></script>
    <script src="/js/d3/d3-dispatch.min.js?1756998522" defer></script>
    <script src="/js/d3/d3-drag.min.js?1756998522" defer></script>
    <script src="/js/d3/d3-ease.min.js?1756998522" defer></script>
    <script src="/js/d3/d3-interpolate.min.js?1756998522" defer></script>
    <script src="/js/d3/d3-selection.min.js?1756998522" defer></script>
    <script src="/js/d3/d3-timer.min.js?1756998522" defer></script>
    <script src="/js/d3/d3-transition.min.js?1756998522" defer></script>
    <script src="/js/d3/d3-zoom.min.js?1756998522" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.relearn.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="/js/clipboard/clipboard.min.js?1756998522" defer></script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1756998522" defer></script>
    <script src="/js/theme.min.js?1756998522" defer></script>
  </body>
</html>
