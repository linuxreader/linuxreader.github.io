<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.145.0">
    <meta name="generator" content="Relearn 7.1.1">
    <meta name="description" content="I’m going to show you how to set up your own, self-hosted Nextcloud server using Alma Linux 9 and Apache.
What is Nextcloud? Nextcloud is so many things. It offers so many features and options, it deserves a bulleted list:
Free and open source Cloud storage and syncing Email client Custom browser dashboard with widgets Office suite RSS newsfeed Project organization (deck) Notebook Calender Task manager Connect to decentralized social media (like Mastodon) Replacement for all of google’s services Create web forms or surveys It is also free and open source. This mean the source code is available to all. And hosting yourself means you can guarantee that your data isn’t being shared.">
    <meta name="author" content="David Thomas">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Nextcloud on RHEL Based Systems :: Linux Reader">
    <meta name="twitter:description" content="I’m going to show you how to set up your own, self-hosted Nextcloud server using Alma Linux 9 and Apache.
What is Nextcloud? Nextcloud is so many things. It offers so many features and options, it deserves a bulleted list:
Free and open source Cloud storage and syncing Email client Custom browser dashboard with widgets Office suite RSS newsfeed Project organization (deck) Notebook Calender Task manager Connect to decentralized social media (like Mastodon) Replacement for all of google’s services Create web forms or surveys It is also free and open source. This mean the source code is available to all. And hosting yourself means you can guarantee that your data isn’t being shared.">
    <meta property="og:url" content="http://localhost:1313/storage/nextcloud-on-rhel-based-systems/">
    <meta property="og:site_name" content="Linux Reader">
    <meta property="og:title" content="Nextcloud on RHEL Based Systems :: Linux Reader">
    <meta property="og:description" content="I’m going to show you how to set up your own, self-hosted Nextcloud server using Alma Linux 9 and Apache.
What is Nextcloud? Nextcloud is so many things. It offers so many features and options, it deserves a bulleted list:
Free and open source Cloud storage and syncing Email client Custom browser dashboard with widgets Office suite RSS newsfeed Project organization (deck) Notebook Calender Task manager Connect to decentralized social media (like Mastodon) Replacement for all of google’s services Create web forms or surveys It is also free and open source. This mean the source code is available to all. And hosting yourself means you can guarantee that your data isn’t being shared.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Storage">
    <meta itemprop="name" content="Nextcloud on RHEL Based Systems :: Linux Reader">
    <meta itemprop="description" content="I’m going to show you how to set up your own, self-hosted Nextcloud server using Alma Linux 9 and Apache.
What is Nextcloud? Nextcloud is so many things. It offers so many features and options, it deserves a bulleted list:
Free and open source Cloud storage and syncing Email client Custom browser dashboard with widgets Office suite RSS newsfeed Project organization (deck) Notebook Calender Task manager Connect to decentralized social media (like Mastodon) Replacement for all of google’s services Create web forms or surveys It is also free and open source. This mean the source code is available to all. And hosting yourself means you can guarantee that your data isn’t being shared.">
    <meta itemprop="wordCount" content="993">
    <title>Nextcloud on RHEL Based Systems :: Linux Reader</title>
    <link href="http://localhost:1313/storage/nextcloud-on-rhel-based-systems/" rel="canonical" type="text/html" title="Nextcloud on RHEL Based Systems :: Linux Reader">
    <link href="/storage/nextcloud-on-rhel-based-systems/index.xml" rel="alternate" type="application/rss+xml" title="Nextcloud on RHEL Based Systems :: Linux Reader">
    <link href="/images/logo.svg?1741724718" rel="icon" type="image/svg+xml">
    <link href="/css/fontawesome-all.min.css?1741724718" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1741724718" rel="stylesheet"></noscript>
    <link href="/css/nucleus.css?1741724718" rel="stylesheet">
    <link href="/css/auto-complete.css?1741724718" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1741724718" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1741724718" rel="stylesheet">
    <link href="/css/fonts.css?1741724718" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1741724718" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1741724718" rel="stylesheet">
    <link href="/css/theme-oled.css?1741724718" rel="stylesheet" id="R-variant-style">
    <link href="/css/chroma-relearn-dark.css?1741724718" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/css/print.css?1741724718" rel="stylesheet" media="print">
    <link href="/css/format-print.css?1741724718" rel="stylesheet">
    <script src="/js/variant.js?1741724718"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      // variant stuff
      window.variants && variants.init( [ 'oled' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script><style>
:root {
    --MENU-WIDTH-S: 14.375rem;
    --MENU-WIDTH-M: 14.375rem;
    --MENU-WIDTH-L: 18.75rem;
    --MAIN-WIDTH-MAX: 80rem;
    font-size: 1.2rem;
}
</style>

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="/storage/nextcloud-on-rhel-based-systems/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/storage" title="Storage (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>

            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#what-is-nextcloud">What is Nextcloud?</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#install-latest-supported-php">Install latest supported PHP</a></li>
    <li><a href="#apache-setup">Apache setup</a></li>
    <li><a href="#set-up-the-mysql-database">Set up the mysql database</a>
      <ul>
        <li><a href="#create-the-database">Create the database:</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#create-a-cname-record-for-dns">Create a CNAME record for DNS.</a></li>
        <li><a href="#install-ssl-with-certbot">Install SSL with Certbot</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>


          </div>
          <span class="topbar-breadcrumbs highlightable">
            Nextcloud on RHEL Based Systems
          </span>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/storage/nextcloud-on-rhel-based-systems?format=print" title="Print whole chapter (CTRL&#43;ALT&#43;p)"><i class="fa-fw fas fa-print"></i></a>
            </div>

            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/virtualization" title="Virtualization (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>







          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable storage" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="nextcloud-on-rhel-based-systems">Nextcloud on RHEL Based Systems</h1>

<p>I&rsquo;m going to show you how to set up your own, self-hosted Nextcloud server using Alma Linux 9 and Apache.</p>
<h3 id="what-is-nextcloud">What is Nextcloud?</h3>
<p>Nextcloud is so many things. It offers so many features and options, it deserves a bulleted list:</p>
<ul>
<li>Free and open source</li>
<li>Cloud storage and syncing</li>
<li>Email client</li>
<li>Custom browser dashboard with widgets</li>
<li>Office suite</li>
<li>RSS newsfeed</li>
<li>Project organization (deck)</li>
<li>Notebook</li>
<li>Calender</li>
<li>Task manager</li>
<li>Connect to decentralized social media (like Mastodon)</li>
<li>Replacement for all of google&rsquo;s services</li>
<li>Create web forms or surveys</li>
</ul>
<p>It is also free and open source. This mean the source code is available to all. And hosting yourself means you can guarantee that your data isn&rsquo;t being shared.</p>
<p>As you can see. Nextcloud is feature packed and offers an all in one solution for many needs. The set up is fairly simple.</p>
<p><strong>You will need:</strong></p>
<ul>
<li>Domain hosted through CloudFlare or other hosting.</li>
<li>Server with Alma Linux 9 with a dedicated public ip address.</li>
</ul>
<p>Nextcloud dependencies:</p>
<ul>
<li>PHP 8.3</li>
<li>Apache</li>
<li>sql database (This tutorial uses MariaDB)</li>
</ul>
<p>Official docs: <a href="https://docs.nextcloud.com/server/latest/admin_manual/installation/source_installation.html" rel="external" target="_blank">https://docs.nextcloud.com/server/latest/admin_manual/installation/source_installation.html</a></p>
<h1 id="setting-up-dependencies">Setting up dependencies</h1>
<h2 id="install-latest-supported-php">Install latest supported PHP</h2>
<p>I used this guide to help get a supported php version. As php 2 installed from dnf repos by default:
<a href="https://orcacore.com/php83-installation-almalinux9-rockylinux9/" rel="external" target="_blank">https://orcacore.com/php83-installation-almalinux9-rockylinux9/</a></p>
<p>Make sure dnf is up to date:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo dnf update -y
</span></span><span style="display:flex;"><span>sudo dnf upgrade -y</span></span></code></pre></div>
<p>Set up the epel repository:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo dnf install epel-release -y</code></pre></div>
<p>Set up remi to manage php modules:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo dnf install -y dnf-utils http://rpms.remirepo.net/enterprise/remi-release-9.rpm
sudo dnf update -y</code></pre></div>
<p>Remove old versions of php:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo dnf remove php* -y</code></pre></div>
<p>List available php streams:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo dnf module list reset php -y

Last metadata expiration check: 1:03:46 ago on Sun 29 Dec 2024 03:34:52 AM MST.
AlmaLinux 9 - AppStream
Name                Stream                      Profiles                                  Summary                             
php                 8.1                         common [d], devel, minimal                PHP scripting language              
php                 8.2                         common [d], devel, minimal                PHP scripting language              

Remi&#39;s Modular repository for Enterprise Linux 9 - x86_64
Name                Stream                      Profiles                                  Summary                             
php                 remi-7.4                    common [d], devel, minimal                PHP scripting language              
php                 remi-8.0                    common [d], devel, minimal                PHP scripting language              
php                 remi-8.1                    common [d], devel, minimal                PHP scripting language              
php                 remi-8.2                    common [d], devel, minimal                PHP scripting language              
php                 remi-8.3 [e]                common [d], devel, minimal                PHP scripting language              
php                 remi-8.4                    common [d], devel, minimal                PHP scripting language       </code></pre></div>
<p>Enable the correct stream:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo dnf module enable php:remi-8.3</code></pre></div>
<p>Now the default to install is version 8.3, install it like this:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo dnf install php -y
php -v</code></pre></div>
<p>Let&rsquo;s install git, as it&rsquo;s also needed in this setup:
<code>sudo dnf -y install git</code></p>
<p>Install Composer for managing php modules:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff5c57">cd</span> <span style="color:#ff6ac1">&amp;&amp;</span> curl -sS https://getcomposer.org/installer | php
</span></span><span style="display:flex;"><span>sudo mv composer.phar /usr/local/bin/composer</span></span></code></pre></div>
<p>Install needed PHP modules:
<code>sudo dnf install php-process  php-zip php-gd php-mysqlnd</code></p>
<p>Upgrade php memory limit:
<code>sudo vim /etc/php.ini</code></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff5c57">memory_limit</span> <span style="color:#ff6ac1">=</span> 512M</span></span></code></pre></div>
<h2 id="apache-setup">Apache setup</h2>
<p>Add Apache config for vhost:
<code>sudo vim /etc/httpd/conf.d/nextcloud.conf</code></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;VirtualHost *:80&gt;
</span></span><span style="display:flex;"><span>  DocumentRoot /var/www/nextcloud/
</span></span><span style="display:flex;"><span>  ServerName  <span style="color:#ff6ac1">{</span>subdomain<span style="color:#ff6ac1">}</span>.<span style="color:#ff6ac1">{</span>example<span style="color:#ff6ac1">}</span>.com
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  &lt;Directory /var/www/nextcloud/&gt;
</span></span><span style="display:flex;"><span>    Require all granted
</span></span><span style="display:flex;"><span>    AllowOverride All
</span></span><span style="display:flex;"><span>    Options FollowSymLinks MultiViews
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;IfModule mod_dav.c&gt;
</span></span><span style="display:flex;"><span>      Dav off
</span></span><span style="display:flex;"><span>    &lt;/IfModule&gt;
</span></span><span style="display:flex;"><span>  &lt;/Directory&gt;
</span></span><span style="display:flex;"><span>&lt;/VirtualHost&gt;</span></span></code></pre></div>
<h2 id="set-up-the-mysql-database">Set up the mysql database</h2>
<p>Install:
<code>sudo dnf install mariadb-server -y</code></p>
<p>Enable the service:
<code>sudo systemctl enable --now mariadb</code></p>
<p>Nextcloud needs some tables setup in order to store information in a database. First set up a secure sql database:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo mysql_secure_installation</code></pre></div>
<p>Say “Yes” to the prompts and enter root password:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>Switch to unix_socket authentication [Y/n]: Y
Change the root password? [Y/n]: Y	# enter password.
Remove anonymous users? [Y/n]: Y
Disallow root login remotely? [Y/n]: Y
Remove test database and access to it? [Y/n]: Y
Reload privilege tables now? [Y/n]: Y</code></pre></div>
<p>Sign in to your SQL database with the password you just chose:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>mysql -u root -p</code></pre></div>
<h3 id="create-the-database">Create the database:</h3>
<p>While signed in with the mysql command, enter the commands below one at a time. Make sure to replace the username and password. But leave localhost as is:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>CREATE DATABASE nextcloud;
GRANT ALL ON nextcloud.* TO &#39;{username}&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;{password}&#39;;
FLUSH PRIVILEGES;
EXIT;</code></pre></div>
<h1 id="nextcloud-install">Nextcloud Install</h1>
<p>Clone the git repo into /var/www/nextcloud:
<code>git clone https://github.com/nextcloud/server.git /var/www/nextcloud &amp;&amp; cd /var/www/nextcloud</code></p>
<p>Add an exception for git to access the directory:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>git config --global --add safe.directory /var/www/nextcloud</code></pre></div>
<p>Initialize the git submodule that handles the subfolder &ldquo;3rdpartysudo&rdquo;:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff5c57">cd</span> /var/www/nextcloud <span style="color:#ff6ac1">&amp;&amp;</span> sudo git submodule update --init</span></span></code></pre></div>
<p>Change the nextcloud folder ownership to apache and add permissions:
<code>sudo chmod -R 755 /var/www/nextcloud</code>
<code>sudo chown -R apache:apache /var/www/nextcloud</code></p>
<p>Selinux:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo semanage fcontext -a -t httpd_sys_content_t <span style="color:#5af78e">&#34;/var/www/nextcloud(/.*)?&#34;</span> <span style="color:#ff6ac1">&amp;&amp;</span> <span style="color:#5af78e">\
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e"></span>sudo semanage fcontext -a -t httpd_sys_rw_content_t <span style="color:#5af78e">&#34;/var/www/nextcloud/(config|data|apps)(/.*)?&#34;</span> <span style="color:#ff6ac1">&amp;&amp;</span> <span style="color:#5af78e">\
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e"></span>sudo restorecon -Rv /var/www/nextcloud/</span></span></code></pre></div>
<p>Now we can actually install Nextcloud. <code>cd</code> to the /var/www/nextcloud directory and run occ with these settings to install:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo -u apache php occ  maintenance:install <span style="color:#5af78e">\
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e"></span>--database<span style="color:#ff6ac1">=</span><span style="color:#5af78e">&#39;mysql&#39;</span> --database-name<span style="color:#ff6ac1">=</span><span style="color:#5af78e">&#39;nextcloud&#39;</span> <span style="color:#5af78e">\
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e"></span>--database-user<span style="color:#ff6ac1">=</span><span style="color:#5af78e">&#39;root&#39;</span> --database-pass<span style="color:#ff6ac1">=</span><span style="color:#5af78e">&#39;{password}&#39;</span> <span style="color:#5af78e">\
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e"></span>--admin-user<span style="color:#ff6ac1">=</span><span style="color:#5af78e">&#39;admin&#39;</span> --admin-pass<span style="color:#ff6ac1">=</span><span style="color:#5af78e">&#39;{password}&#39;</span></span></span></code></pre></div>
<h3 id="create-a-cname-record-for-dns">Create a CNAME record for DNS.</h3>
<p>Before you go any further, you will need to have a domain name set up for your server. I use Cloudflare to manage my DNS records. You will want to make a CNAME record for your nextcloud subdomain.</p>
<p>Just add &ldquo;nextcloud&rdquo; as the name and &ldquo;yourwebsite.com&rdquo; as the content. This will make it so &ldquo;nextcloud.yourwebsite.com&rdquo; is the site for your nextcloud dashboard. Also, make sure to select &ldquo;DNS Only&rdquo; under proxy status.</p>
<p>Here&rsquo;s what my CloudFlare domain setup looks with this blog as the main site, and cloud.perfectdarkmode.com as the nextcloud site:</p>
<p><a href="#R-image-02d5f1fdce0dddffa6f07525cc3511b2" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="/images/Pasted%20image%2020241229050325.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-02d5f1fdce0dddffa6f07525cc3511b2"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="/images/Pasted%20image%2020241229050325.png"></a></p>
<p>Then you need to update trusted domains in /var/www/nextcloud/config/config.php:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#5af78e">&#39;trusted_domains&#39;</span> <span style="color:#ff6ac1">=</span>&gt;
</span></span><span style="display:flex;"><span>   <span style="color:#ff6ac1">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#5af78e">&#39;{subdomain}.{domain}.com&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#5af78e">&#39;localhost&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">]</span>,</span></span></code></pre></div>
<p>Restart httpd
<code>systemctl restart httpd</code></p>
<h3 id="install-ssl-with-certbot">Install SSL with Certbot</h3>
<p>Obtain an SSL certificate. (See my <a href="Obsidian%20site%20setup.md">Obsidian site setup</a> post for information about Certbot and Apache setup.)</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo certbot -d {subdomain}.{domain}.com</code></pre></div>
<p>Now log into nextcloud with your admin account using the DNS name you set earlier:</p>
<p><a href="#R-image-771a48d22e89ca3928934b74e3344b2e" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="/images/Pasted%20image%2020241229050541.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-771a48d22e89ca3928934b74e3344b2e"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="/images/Pasted%20image%2020241229050541.png"></a></p>
<p>I recommend setting up a normal user account instead of doing everything as &ldquo;admin&rdquo;. Just hit the &ldquo;A&rdquo; icon at the top right and go to &ldquo;Accounts&rdquo;. Then just select &ldquo;New Account&rdquo; and create a user account with whatever privileges you want.</p>
<p><a href="#R-image-69656d556b2f96a0ac883c21f656438d" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="../../images/Pasted%20image%2020241229051101.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-69656d556b2f96a0ac883c21f656438d"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="../../images/Pasted%20image%2020241229051101.png"></a></p>
<p>I may make a post about which Nextcloud apps I recommend and customize the setup a bit. Let me know if that&rsquo;s something you&rsquo;d like to see. That&rsquo;s all for now.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <script src="/js/clipboard.min.js?1741724718" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1741724718" defer></script>
    <script>
      function useMathJax( config ){
        window.MathJax = Object.assign( window.MathJax || {}, {
          tex: {
            inlineMath:  [['\\(', '\\)'], ['$',  '$']],  
            displayMath: [['\\[', '\\]'], ['$$', '$$']], 
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/js/d3/d3-color.min.js?1741724718" defer></script>
    <script src="/js/d3/d3-dispatch.min.js?1741724718" defer></script>
    <script src="/js/d3/d3-drag.min.js?1741724718" defer></script>
    <script src="/js/d3/d3-ease.min.js?1741724718" defer></script>
    <script src="/js/d3/d3-interpolate.min.js?1741724718" defer></script>
    <script src="/js/d3/d3-selection.min.js?1741724718" defer></script>
    <script src="/js/d3/d3-timer.min.js?1741724718" defer></script>
    <script src="/js/d3/d3-transition.min.js?1741724718" defer></script>
    <script src="/js/d3/d3-zoom.min.js?1741724718" defer></script>
    <script src="/js/js-yaml.min.js?1741724718" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="/js/theme.js?1741724718" defer></script>
  </body>
</html>
