var relearn_searchindex = [
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "This was a very insightful book. Knowing the balance between pain and pleasure is essential to living in modern day society. Where scarcity is no longer an issue. Our brains are not adapted for a world of abundance. So the forces that kept us alive for thousands of years, are now making us miserable. Consider this a primer into understanding addiction and over consumption. And steps you can take to mitigate this.\nSummary and Highlights Being sick and tired is a result of a skewed pain/pleasure balance. In order to find balance, you must understand the relationship between pleasure and pain in the body. Pleasure and pain operate in the same area of the brain and are intertwined.\nCompulsive consumption leads to pain. And we all can face consumption issues. Even if we have good lives.\nThere are many factors that increase risk for over consumption and addiction. These include:\nBiology Mental illness Trauma Genetics Poverty “Limbic capitalism” is the market force that profits on consumption. This provides access to hyper novel and more potent substances and behaviors. More than any time in history.\nEven the internet suggests behaviors that we would have not thought of doing in the first place. Porn and TikTok come to mind. We see crazy behaviors as “Normal” because other people on the internet are doing them.\nThe rush is never as good as you imagine.\nKids these days are growing up in padded environments and not ready for the real world. We have made them afraid of adversity and are encouraging hedonism and escapism.\nWe can’t even put up with minor discomforts like being bored. We are always seeking out novelty and entertainment.\nGo 30 minutes a day with nothing but your thoughts. This will help you become familiar with yourself, others, and the world. You are no longer running from painful thoughts and emotions.\nBoredom can be terrifying. It makes you think about big issues, meaning, and purpose. Boredom is an opportunity. You may discover something new. It gives your mind space to think.\nYou may attribute fatigue and the inability to focus to mental illness. But it could also be from sleep deprivation, over consumption, and over stimulation.\nThe reason we are so miserable is because we are trying so hard not to be miserable.\nWhy too much pleasure leads to pain. Dopamine is a neurotransmitter involved in reward processing. It plays a bigger role in the motivation to get a reward than the pleasure of having the reward.\nThe brains reward pathway includes these parts of the brain:\nVentral tegmental Nucleus accumbens Prefrontal cortex The more/faster dopamine released from a drug or behavior, the more addictive the drug or behavior is.\nPleasure and pain function as a balance in the brain. When one side of the balance is weighted down, the brain compensates by pushing down on the opposite side. Pleasure leads to pain, pain leads to pleasure.\nThe brain wants to maintain homeostasis.\nOpponent process theory states that any prolonged or repeated departures from hedonic or effective neutrality have a cost.\nWith prolonged exposure to pleasure, our capacity to tolerate pain decreases, and our threshold for experiencing pleasure increases.\nThe negative feedback caused by tolerance Repeated exposure to a pleasure stimulus makes the pleasure from that stimulus less and less. And the rebound to the pain side gets stronger and longer. You need more of a behavior or substance over time to feel the same amount of pleasure.\nOver time, your baseline gets set to the side of pain, as your brain tries to counteract bigger and more potent doses of pleasure. See how this bird starts out normal and healthy, then eventually needs it’s drug just to feel normal: https://www.youtube.com/watch?v=HUngLgGRJpo\nPeople who do Opioids for a long time often experience more pain not less. This is referred to as “opioid induced hyperglasia”.\nHeavy and prolonged dopamine leads to a baseline that is dopamine deficient. Hedonism leads to ahedonia.\nUniversal symtoms of withdrawl include:\nAnxiety Irritability Insomnia Dysphoria The pain from withdrawl is what drives people to relapse, withdrawl is the pleasure/pain balance tipping towards the side of pain.\nIf you wait long enough, you can reset your dopamine baseline. (in most cases) And you can regain pleasure in simple things like going for walks, listening to birds, reading, writing, watching the sun rise, etc.\nDopamine cues Cue dependant learning or pavlovian conditioning is when dopamine is released in the brain in response to a conditioned cue. This leads to pleasure in anticipation of a reward. When the cue happens, dopamine drops below baseline, which leads us to seek out the reward.\nDopamine levels below baseline drive craving. The cycle of craving can occur outside of conscious awareness. Dopamine levels raise once we get the reward, but falls below baseline if the reward doesn’t happen.\nLoss chasing: when the uncertainty of getting a reward is as reinforcing as the reward it self. Like gambling or likes on social media.\nThese conditioned reward pathways can cause permanent brain changes. But new pathways can always be forged with dopamine-healthy activities like human connection or exercise.\nEven learning releases dopamine.\nBalance is person independent. Pleasure and pain can happen at the same time like with spicy food. Something that one person finds pleasurable or painful may not be the same for someone else. And not everyone starts with a level balance.\nPeople injured in war are sometimes in less pain because they are pulled into a safer environment when they are being treated.\n“We are Cacti in a rainforest” -Dr. Tom Finucane. Our brains have evolved for a world of scarcity, but we live in a new world of abundance.\nDopamine Fasting We must abstain from the unwanted behavior in order to truly have clarity on how it effects us. High dopamine substances or behaviors cloud our ability to see cause and effect. And young people are more immune to immediate negative impacts than adults.\nHere are 8 steps to a dopamine fast:\nGet information on the details of your dopamine use. What, when, how often? Find out your personal reason for doing the dopamine inducing behavior. Even seemingly irrational behavior is often rooted in personal logic. What problems is the drug or behavior causing? Short term? Long term? Go for a set period without the drug or behavior. Use mindfulness to observe your thoughts, emotions, and physical sensations as separate from yourself. Abstaining gives new insight to the behaviors. Decide if you will continue using in a controlled way. Or go completely without. Experiment to find out what works and what doesn’t. “I’m sick and tired of being sick and tired”\nDo you want to be doing this 10 years from now? How about 5? 1? 6 months from now? You may as well try to stop now. Consider your current behaviors for your future self.\nYou must go without the drug or behavior in order to reset your dopamine baseline and to truly see the cause and effect between substance use and how you feel.\nYou can’t replace one drug with another because you will still be weighing down the pleasure side of the balance. And something less potent won’t feel like a reward because your baseline for pleasure is too high.\nIf you don’t feel better after a dopamine fast then you may have some other underlying medical problem. But you will feel worse before you feel better. Withdrawal can last anywhere from 2 weeks to 2 months or longer.\nUse mindfulness to observe without judging yourself. Have compassion for yourself. The thoughts and emotions you have been running from will come crashing down on you during withdrawal. Instead of running, tolerate it.\nDon’t forget that moderation can backfire.\nLimit access through self-binding. Self-binding is placing barriers between you and the reward to help get over the limitations of willpower. Willpower gets tired the more we use it. This is a tool, not a fail safe.\nYou do self binding while your will is strong. Not when the cue, routine, reward cycle has already started and your willpower goes down.\nMake it harder to access the reward.\nThis can be through physical barriers or distance. Such as a ksafe or weight loss surgeries. It can also be based on time limits and finish lines. Such as setting a time of day to use or a reward for accomplishing something.\n“Forgive yourself, you have problems like everyone else.”\nTrack your usage to become more aware. Overall awareness will help mitigate consumption.\nDelay discounting is when high dopamine messes with our ability to delay gratification. “Temporal horizons” shrink when we are under the spell of a drug. You become governed by the pleasure-pain balance, instead of by reason. You can no longer objectively evaluate immediate rewards vs their long term counterparts.\nIf you don’t take control now, you may be doing this forever.\nThe opposite is also true, immediate rewards activate emotion and reward parts of the brain. When you delay rewards, you activate the prefrontal cortex. Which is involved in planning and abstract thinking.\nCategorical self binding is avoiding anything that could entertain your addict mind. Like how scrolling Instagram can lead to seeking out porn. Sort dopamine into categories. Ones that you will allow yourself to consume, and ones you do not. This helps avoid triggers that lead to craving.\nThis is useful for substances that we can’t eliminate all together but want to have a healthier relationship with like food, sex, smartphones, etc.\nThis can fail if you accidentally include a triggering behavior in your list of acceptable behaviors.\nYou can also transform an object into a symbol of restraint. Such as putting a single beer on display to remind you of what you are doing.\nRather than feeling restrained by this new way of living, you will feel liberated.\nIntimacy from drugs doesn’t last.\nThere are drugs may help with addictions, but have the potential to become addictive themselves. Prescription stimulants like Adderall are the molecular equivalent to meth. They cause huge spikes of dopamine and have high high potential for abuse.\nThese drugs could also potentially make things worse in the long run and have unintended consequences.\nADHD drug treatment is associated with deterioration in academic and social-emotional functioning.\nAntidepressants may lead to tolerance and dependence and make depression worse in the long run (tardive dysphoria).\nInstead of feeling better than well, these drugs may make us feel other than well. And can limit our ability to experience the full range of emotions needed for a balanced life.\nWe may be making large portions of the population indifferent to intolerable circumstances. Corporations and governments have the potential to use drugs as a form of social control.\nThere are as many as 10,000 toddlers receiving stimulants like Ritalin.\nWhen you are numb to everything, you lose your hunger for anything. Medications can be lifesaving, but there are other tools than can help.\nWhy you should lean on pain We feel great after a cold shower. The first seconds are painful, tell yourself this is temporary.\nJames bond shower: Start with a normal shower, then end it cold for at least a minute.\nDopamine and norepinephrine levels rise 250 and 530% above baseline respectively. And remain elevated hours after. And have been shown to raise serotonin and neuronal growth.\nPressing on the pain side of the balance can lead to pleasure. The dopamine that results is indirect and potentially longer lasting. Just like how the body restores balance by leaning toward pain after a pleasure stimuli, the body will restore balance towards pleasure from a painful stimuli.\n“With intermittent exposure to pain, our natural hedonic set point gets weighted to the side of pleasure, such that we become less vulnerable to pain and more able to feel pleasure over time.” -pg 145 Dopamine Nation\nSocrates on the relationship between pain and pleasure:\n“How strange would appear to be this thing that men call pleasure! And how curiously it is related to what is thought to be its opposite, pain! The two will never be found together in a man, and yet if you seek the one and obtain it, you are almost bound always to get the other as well, just as though they were both attached to one and the same head. . . . Wherever the one is found, the other follows up behind. So, in my case, since I had pain in my leg as a result of the fetters, pleasure seems to have come to follow it up.” -pg 147 Dopamine Nation\nHormesis Using pain to treat pain has been around forever.\nHormesis is the study of using small doses of “pain” to trigger the body’s adaptive processes. (Cold, heat, gravitational changes, radiation, food restriction, exercise, etc.) These adaptive processes improve tolerance and functionality of the system to harder challenges.\nIntermittent fasting in animals increased life span, reduced blood pressure, and improved Heart Rate Variability.\n“Exercise is immediately toxic to cells, leading to increased temperatures, noxious oxidants, and oxygen and glucose deprivation. Yet the evidence is overwhelming that exercise is health-promoting, and the absence of exercise, especially combined with chronic sedentary feeding—eating too much all day long—is deadly.”\nExercise increases many of the neurotransmitters involved in positive mood regulation: dopamine, serotonin, norepinephrine, epinephrine, endocannabinoids, and endogenous opioid peptides (endorphins). Exercise contributes to the birth of new neurons and supporting glial cells. Exercise even reduces the likelihood of using and getting addicted to drugs.\" -pg 150 Dopamine Nation\nDopamine and movement are deeply connected. Do obtain what we desire, we need to go get it. Do drugs just remind us that we have bodies?\nExercise is more beneficial to positive mood, sleep, cognition than any pill. Even a 30 minute walk is beneficial. Just remember that pleasure comes AFTER pain.\nThe extreme side of pain can cause it’s own addiction. So be careful. Too much pain can deplete dopamine, causing overconsumption. So just slightly lean into pain. Build progress over time.\nTruth telling Telling the truth is another “pain leads to pleasure”. You can trick yourself when you are lying. So you are inhibiting self-awareness as well when you tell the truth. Writing in a journal is a good way to master yourself with truth telling.\nDenial is caused by the disconnect between our reward pathway and higher brain regions. (Prefrontal cortex)\nPrefrontal cortex is involved in planning, storytelling, decision making, emotional regulation, etc.\nTelling the truth activates the prefrontal cortex and strengthens it through repeated use.\nAwareness What behavior or habit do you want to change? Why? And what would you be giving up if you stopped that behavior? What is one step you can take to change the behavior?\nHonesty makes connections with other humans We assume people will abandon us when we expose our vulnerabilities. But they really assure other people of their own doubts, fears, and weaknesses.\nHuman connection increases Oxytocin. Oxytocin binds to dopamine-secreting neurons and enhances the reward circuit tract. Human connection replaces addiction.\nConsuming leads to isolation. Because you replace the reward you get from Human connections with artificial rewards.\nHuman connection can be exploited as an addiction as well. When it is used for selfish gratifications rather than through shared humanity. Like when people are Grandstanding and manipulating.\nDo not share stories about your addictions to show off. Only share them to teach lessons. Tell accurate stories about yourself. Do not play the victim. Take responsibility. Accurate stories help you make accurate decisions.\nWrite down your character defects and ways those hurt your relationships.\nSocial media has led us to creating false self’s about what our lives are really like. If we don’t feel real, we isolate and become depersonalized.\nHonesty tethers ourselves to reality and makes us feel real in the world.\nGetting control of your addictions can lead others to do the same.\nKeep your promises to children. The children benefit and are better able to regulate their emotions.\nPeople will feel more confident around you because they can trust you.\nProsocial Shame Destructive shame is when the group condemns or shuns when someone makes a mistake. Over consumption leads to shame, which leads to lying, which leads to isolation, which continues the circle to over consumption.\nProsocial shame is when the group holds us closer and provides steps to redemption. It says that shame is useful for thriving communities. We all have our flaws and need forgiveness. Instead of leading to lying, it leads to truth telling and acceptance and breaks the cycle of addiction.\nIf we are open and honest to our children about our mistakes and struggles, children will be more open and honest with us about theirs. Admit when we have been wrong.\nWe feel deeply connected to others when we feel accepted despite our flaws.\nSocial media makes us compare ourselves to the entire world. Leading us to believe we should have done more.\nImmerse ourselves in the world instead of turning away from it.\nFinding balance does not happen instantly. It requires patience, courage, and maintenance. You must have faith that the small actions you take every day will pay off in the future.\nIf you made it this far… Please consider giving me some feedback. I want to become a better writer and help others grow along with me. Feedback is invaluable for this goal.\nThanks for reading!",
    "description": "This was a very insightful book. Knowing the balance between pain and pleasure is essential to living in modern day society. Where scarcity is no longer an issue. Our brains are not adapted for a world of abundance. So the forces that kept us alive for thousands of years, are now making us miserable. Consider this a primer into understanding addiction and over consumption. And steps you can take to mitigate this.",
    "tags": [],
    "title": "Dopamine Nation (9/10)",
    "uri": "/booknotes/dopamine-nation/"
  },
  {
    "breadcrumb": "Linux Reader",
    "content": "Ad Hoc Ansible CommandsGetting started with some simple Ansible commands\nAnsible DocumentationAnsible Documentation resources\nAnsible Inventory and Ansible.cfgSetting up and Ansible environment\nAnsible PlaybooksGetting started with Ansible Playbooks\nBuilding an Ansible lab with AnsibleBuilding an Ansible lab with Ansible using Ansible and Libvirt\nCommon modules with examplesCommon Ansible modules with examples\nNetworking with AnsibleNetworking with Ansible Setting up an Ansible LabBasic Ansible lab for RHCE\nVariables and FactsAll about Ansible variables and facts",
    "description": "Ad Hoc Ansible CommandsGetting started with some simple Ansible commands\nAnsible DocumentationAnsible Documentation resources\nAnsible Inventory and Ansible.cfgSetting up and Ansible environment\nAnsible PlaybooksGetting started with Ansible Playbooks\nBuilding an Ansible lab with AnsibleBuilding an Ansible lab with Ansible using Ansible and Libvirt\nCommon modules with examplesCommon Ansible modules with examples\nNetworking with AnsibleNetworking with Ansible Setting up an Ansible LabBasic Ansible lab for RHCE\nVariables and FactsAll about Ansible variables and facts",
    "tags": [],
    "title": "Ansible",
    "uri": "/ansible/"
  },
  {
    "breadcrumb": "Linux Reader",
    "content": "BashBash variables, redirections, history substitution, metacharacters, startup files, etc. Shell ScriptingShell scripting and logical constructs",
    "description": "BashBash variables, redirections, history substitution, metacharacters, startup files, etc. Shell ScriptingShell scripting and logical constructs",
    "tags": [],
    "title": "Bash Scripting",
    "uri": "/bash-scripting/"
  },
  {
    "breadcrumb": "Linux Reader",
    "content": "ContainersPodman Podman Podman",
    "description": "ContainersPodman Podman Podman",
    "tags": [],
    "title": "Containers",
    "uri": "/containers/"
  },
  {
    "breadcrumb": "Linux Reader",
    "content": "Security Enhanced LinuxThe confusing world of SELinux\nThe Linux FirewallFirewalld stuff mostly",
    "description": "Security Enhanced LinuxThe confusing world of SELinux\nThe Linux FirewallFirewalld stuff mostly",
    "tags": [],
    "title": "Cyber Security",
    "uri": "/cyber-security/"
  },
  {
    "breadcrumb": "Linux Reader",
    "content": "Configure Fedora Desktop using AnsibleNew Fedora Build Using Ansible\nMy Fedora SetupMy Fedora Setup\nSilverblueFedora Silverblue",
    "description": "Configure Fedora Desktop using AnsibleNew Fedora Build Using Ansible\nMy Fedora SetupMy Fedora Setup\nSilverblueFedora Silverblue",
    "tags": [],
    "title": "Desktop",
    "uri": "/desktop/"
  },
  {
    "breadcrumb": "Linux Reader",
    "content": "Learning Touch TypingLearning touch typing\nVim GuideGuide to using Vim",
    "description": "Learning Touch TypingLearning touch typing\nVim GuideGuide to using Vim",
    "tags": [],
    "title": "Keyboard",
    "uri": "/keyboard/"
  },
  {
    "breadcrumb": "Linux Reader",
    "content": "Consoling in to MX80 from linuxHow to console into an MX80 router from linux\nDNSDNS Stuff\nHow to Study for the CCNA ExamGuide to how you should approach studying for the CCNA exam\nJuniper CLI BasicsJuniper Basics\nNetworking Network Devices and Network ConnectionsHostname, IP addressing, network protocols, network manager, tools, etc.\nResources for Passing CCNAResources for passing the CCNA exam\nTime SynchronizationNTP, Chrony, etc. Toggle PoE on a Juniper SwitchHow to toggle PoE on a Juniper switch.\nWhat to Learn After CCNAWhat you should learn after taking the CCNA exam",
    "description": "Consoling in to MX80 from linuxHow to console into an MX80 router from linux\nDNSDNS Stuff\nHow to Study for the CCNA ExamGuide to how you should approach studying for the CCNA exam\nJuniper CLI BasicsJuniper Basics\nNetworking Network Devices and Network ConnectionsHostname, IP addressing, network protocols, network manager, tools, etc.\nResources for Passing CCNAResources for passing the CCNA exam\nTime SynchronizationNTP, Chrony, etc. Toggle PoE on a Juniper SwitchHow to toggle PoE on a Juniper switch.",
    "tags": [],
    "title": "Networking",
    "uri": "/networking/"
  },
  {
    "breadcrumb": "Linux Reader",
    "content": "Advanced File ManagementFile permissions, ACLs, and finding things\nAdvanced Package ManagementManaging package groups, application streams, modules, and DNF\nAdvanced User ManagementPassword aging, group and user manament\nBasic File ManagmentFile types, linking, viewing, and archiving files.\nBasic Package ManagementRPM and package integrity and credibility\nBasic User ManagementManage users and groups\nBoot Process, Grub2, and KernelLinux kernel, boot process, and password recovery\nInstallationInstallation Logs and Cockpit\nInteractionBasic Commands and Directory Structure\nLocal File Systems and SwapLocal file systems and swap\nNetwork File System (NFS)Managing NFS and AutoFS\nProcess and Task SchedulingProcesses, priorities, and scheduling jobs.\nRHCSA Exam Environment GuideExam environment guide for RHCSA\nRHCSA NotesMy notes from RHCSA\nRHCSA Study TrackerSpaced repitition RHCSA Study Calendar\nRHCSA Vagrant Lab SetupLab setup for RHCSA using Vagrant\nSample ExamsSample Exams 1-4 in the book\nSystem Initialization, Message Logging, and System TuningSystem initialization, service management, tuning, and logging\nThe Secure Shell ServiceOpenSSH, system access, file transfer",
    "description": "redhat",
    "tags": [],
    "title": "RedHat",
    "uri": "/redhat/"
  },
  {
    "breadcrumb": "Linux Reader",
    "content": "Nextcloud on RHEL Based SystemsNextcloud setup guide on a RHEL based server\nPartitioning, MBR, and GPTPartitions and their management.\nSelf hosting a Nextcloud ServerSelf hosting a Nextcloud server\nThin Provisioning and LVMThin provisioning and LVM\nVirtual Data Optimizer (VDO)VDO",
    "description": "Nextcloud on RHEL Based SystemsNextcloud setup guide on a RHEL based server\nPartitioning, MBR, and GPTPartitions and their management.\nSelf hosting a Nextcloud ServerSelf hosting a Nextcloud server\nThin Provisioning and LVMThin provisioning and LVM\nVirtual Data Optimizer (VDO)VDO",
    "tags": [],
    "title": "Storage",
    "uri": "/storage/"
  },
  {
    "breadcrumb": "Linux Reader",
    "content": "Posts Calibre Web with Docker and NGINXSeting up your own Calibre Web server\nHow to Build a website With HugoGuide for setting up a static website with Hugo\nHow to Process Bookfusion Highlights with VimRemoving extra stuff from Bookfusion exported highlights\nHow to Set Up Hugo Relearn ThemeHugo Relearn setup guide\nNextcloud on RHEL Based SystemsNextcloud setup guide on a RHEL based server\nYou Need to Learn Man PagesGuide to using Man Pages",
    "description": "Posts Calibre Web with Docker and NGINXSeting up your own Calibre Web server\nHow to Build a website With HugoGuide for setting up a static website with Hugo\nHow to Process Bookfusion Highlights with VimRemoving extra stuff from Bookfusion exported highlights\nHow to Set Up Hugo Relearn ThemeHugo Relearn setup guide\nNextcloud on RHEL Based SystemsNextcloud setup guide on a RHEL based server\nYou Need to Learn Man PagesGuide to using Man Pages",
    "tags": [],
    "title": "Tools",
    "uri": "/tools/"
  },
  {
    "breadcrumb": "Linux Reader",
    "content": "Using Vagrant on LinuxHow to use Vagrant from a Linux computer.",
    "description": "Using Vagrant on LinuxHow to use Vagrant from a Linux computer.",
    "tags": [],
    "title": "Virtualization",
    "uri": "/virtualization/"
  },
  {
    "breadcrumb": "",
    "content": "Welcome! Check out super awesome Linux stuff: Ansible Bash Scripting Containers Cyber Security Desktop Keyboard Networking RedHat Storage Tools Virtualization Also check out what I am doing now, read my book notes, contact me, or see what this site is all about",
    "description": "Welcome! Check out super awesome Linux stuff: Ansible Bash Scripting Containers Cyber Security Desktop Keyboard Networking RedHat Storage Tools Virtualization Also check out what I am doing now, read my book notes, contact me, or see what this site is all about",
    "tags": [],
    "title": "Linux Reader",
    "uri": "/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "Sex drive is a powerful force. And misusing it brings you down to the level of an animal. You must conserve and transmute this force to reveal your true gifts. Feeding lust makes you never satisfied, and spills over into all other areas in life. Giving a low rating because it’s overly religious for my tastes. And says that if you have sex, then you won’t have guy friends because you are afraid of being gay. Other than those two things, it’s a decent intro on the benefits you can experience from controlling your sexual side.\nSummary and Highlights Sexual nature spirals out of control, always moving towards chaos the more it is indulged.\nLust is like a drug. Caries the negative traits of other drug addictions.\nLust makes you more materialistic. Clinging to the physical world, and abandoning the spiritual one.\nWomen notice a man change after a man releases. His mood changes. He becomes uninterested in her. He becomes withdrawn. He loses the sparkle in his eye.\nWhen retaining sexual energy, a man becomes more noble, acquires patience, magnanimity, energy, and strength.\nHe becomes kinder to his children and has more patience with them.\nOrgasm gives man a “Male Period”.\nOrgasm more than once a month makes man psychologically inferior to a woman.\nSemen benefits women physically and psychologically.\nRetaining sexual energy is the foundation of character and psychological resilience.\nWithout masculine energy, females are having to fill that role in families and society.\nWith woman taking over masculine roles and feminine roles, she does neither one good.\nCultivate your sexual energy in order to stop your decline. Each day adding more benefits than the previous.\nWhen you retain you become more patient.\nYour mind becomes steady.\nYou get your fidelity back.\nYou become more calm and generous.\nYou become less needy.\nSex no longer controls you.\nAny attempt to cut back on orgasms gives benefits.\nYou become more charming.\nYou get “superpowers”\nYou get psychological improvements.\nYour greatness is based on your ability to control your sexual nature.\nWhen you try to control your sexual energy and fail, you are still better than the person who does not try and says that there is no reason to try.\n“No man is great who doesn’t have righteous control of his sexual energy.”\nYour ability to be moral depends on the control you have over your sexual nature.\nSexual purity is everything, the more sexually pure you are, the more moral impact you have on the world. The less sexually pure you are, the worst moral impact you have on the world.\nLust is a cheap thrill that has nothing to do with you.\nIt has nothing to do with divine bliss and does not compare.\nCelibacy becomes easy.\nCelibacy means there is no loss of creative substance. No lust.\nIt is not just retaining semen that is important.\nEvery effort at celibacy gives you permanent effect.\nSexual desire makes you a slave.\nSexual addict will rationalize to keep the addiction going. They will try to get others to become addicted for their own “lustful stimulation” and too provide a validating environment.\nLust is an empty, fruitless pursuit that draws you away from the spiritual world, and down to “matter” or the physical world.\nYou must make an effort to banish lustful thoughts.\nYou can take a vow or not. But stay on the path either way.\nYou are not signing up for “The death of all pleasure”.\nYour health gets better, you get more energy, you need less sleep, you have more power to manifest your thoughts.\nYou can achieve deeper meditation.\nMore wealth.\nSex is not a human need. It is a force of nature.\nMan strives to attain authority over forces of nature.\nYou cannot satisfy a sex appetite. You are led to the nature of a beast.\nSex is not a drug to make you feel better or temporarily distract you from pain.\nSex is intended to make babies.\nSex is not a way to build power or give you influence.\nSex is not meant to make you famous or make money.\nSex is not meant for bonding. It is just using each other as a drug.\nYou need vitality, strength, and endurance.\nYou need evenness and patience.\nKnowledge builds like compound interest in a celibate.\nYou need meditation.\nMeditation is stabilized by celibacy.\nEnlightenment is only possible through celibacy.\nQuit losing your vital force.\n“Tantra” tries to include the world in the divine.\nSexuality disturbs us and takes away our peace.\nSex draws us away from the spiritual world, and out into the material world. Giving the illusion that the material world is real and important.\nHigher divorce rate is seen in nations that have the most sex in marriage.\nSex cheapens relationships and makes you lose respect for each other.\nRespect each other’s good character to achieve higher bonding. Divine friendship.\nFriendship is the highest form of human relationships.\nA meditation practice makes all material addictions (including sex) decline and then disappear.\nBecause Meditation brings superior pleasure than sense pleasures of the body.\nWhen you retain, stavic qualities arise. You want to serve mankind. You get charisma.\nWhen you sex, your life becomes darker and less successful on all levels.\nAll human sexual perversion comes from indulging in lust.\nMost human sorrow comes from lust.\nThis is a hard reality to grasp and few can bare it.\nYou can achieve limitless bliss of pure consciousness.\nEven just a little bit of Caffeine makes it nearly impossible to stay on the path.\nKeep the mind on lofty thoughts, exercise strenuously, meditate, serve others. And your sexual energy will by transmuted into physical strength, health, creativity, and bliss.\nVirtue brings beauty, sin brings ugliness.\n“Yoga” means “union” with the divine.\n“Yoga Sutras” by Patanjali.\nAn austerity is a “doing without.” Austerity and Renunciation are the same thing.\nBuddha was a Hindu. The books he read were the Bhagavad-Gita and the Vedas.\nYou must have austerity to develop spiritually.\nThe eight parts of yoga. - Self restraints - Fixed observances - Posture - Regulation of breath - Abstraction - Concentration - Contemplation - Trance\n“The Science of Yoga, The Yoga Sutras of Patanjali” with Commentary by I.K. Taimni, p. 205.\nFive Yamas (Forms Of Restraint): - Bramacharya (Sexual Celibacy) - Ahimsa (Non-Injury) - Satya (Truth) - Asteya (Abstention From Stealing) - Bramacharya (Continence) - Aparigraha {Abstinence From Avariciousness)\nSanskrit is the oldest language.\nSanskrit is a literal language not open to interpretation.\nBramacharya refers to one thing, and one thing only: sexual celibacy. No orgasms, at minimum. No thought of sex or sexual titillation.\nDo no look at breasts or rear ends of women as they go by.\nEventually the energy will stop dropping to your private parts when you look at women.\nDo not imagine having sex with any woman.\nVirya = vigor\nYou attain virya.\nWeakness, laxity (not caring), and inadequacy disappear.\nYou gain resilience, strength, and energy.\nEventually, even the slightest thought of sex fails to enter the mind.\n“Yoga Vasistha,” by the sage Vasistha, is one of the most valuable books on yoga.\nCelibacy is the sole means to one’s ultimate good.\nThe only way to master your mind.\n“Lovingly, patiently wean yourself away from sense addictions.”\nSex weakens you, makes you an addict, and gives you delusional notions that keep you trapped.\nSex addicted men do not win wars or battles. They cannot even mount an effective resistance.\nBanish all fear and weakness. Never weaken your mind by thinking of past mistakes.\nNever lose faith in yourself.\nFrom lust comes grief, from lust comes fear; he who is free from lust neither sorrows nor fears.\nThe thirst of a heedless man grows like a creeper; he runs from life to life, like a monkey seeking fruit in the forest.\nSufferings fall from him like water drops from a lotus leaf.\nCalled a medicant (sanyyasin).\nHe who, though richly adorned, exercises tranquillity, is quiet, subdued, restrained, chaste, and has ceased to injure all other beings, is indeed a Brahman, an ascetic, a friar.\nThere are no satisfying lusts.\nEver by a shower of gold pieces; he who knows that lusts have a short taste and bring suffering in their train is wise.\nFour things befall the heedless man who courts his neighbor’s wife – first, acquisition of demerit, secondly, an uncomfortable bed, thirdly, evil report, and lastly, hell.\nThe type of Buddhism spreading most in America is Tibetan Buddhism, or “Tantric Buddhism”.\nAny sexual self restraint has great benefits to man morally, emotionally, and physically, and conduces to all prosperity.\nEngine of enlightenment.\nMakes possible the deeper meditation.\nSteadies the mind.\nAny sexual self-restraint\" gives “great benefits” to man.\nIt is more difficult to attain celibacy and sexual self restraint for a male.\nWhen he attains it, the effects on him are immediately greater.\nIn bodily terms, the woman is the actual winner in the sex act; the male is the actual loser.\nIn the spiritual path, one disengages from grosser pleasures so that one can experience pleasures that are finer and more satisfying.\nThe one thing worth attaining.\nIncreased energy and greater powers of concentration.\nProper attitude one should have toward wickedness is to ignore it, while praising the virtuous.\nCelibacy has always been, and still is, essential to classical yoga.\nThe sanskrit term for sexual celibacy is bramacharya. For a man it means no emission of sexual fluid. This is the minimum meaning for celibacy. Celibacy has been broken, for example, if a man has an orgasm in sleep.\nHe fully burns up all thoughts of sex, starting with the gross physical mind, and then later cleaning up his dream states and astral mind.\nYogananda states that meditation is the highest of all the austerities.\nThe renunciation of harmful food, useless diversions, fruitless pleasures.\nShe seems to lack his energy, intrepidness, intelligence, skill, and courage.\nWhen he first finds attraction to another female, again, it is to the eyes and face. His shakti dwells in the higher part of the spine.\nThe orgasm has indeed made him less interested in society, less able to deal with the stresses of other people, and even antisocial.\nHe can fill up this strange new emptiness with a distraction or thrill.\nDivine Shakti becomes insulted and angry seeing herself “dumped on the ground” for no procreative purpose. She regrets that she gave that boy the sexual organ and the sexual power of the male. The Divine Shakti begins taking steps to mess up the boy’s life, and darken his world.\nAs the boy keeps sexing, a coarse energy or pollution gathers in his lower chakras, casting a blight on his outer world.\nIf he doesn’t have clear moral teachings or guidance on this subject, from people he loves and respects, he won’t adequately reject this activity and will be tempted to do it again.\nOther men, especially males, are in the best position to protect him here. Without clear warnings and teachings/dharma from another male he respects, he does it again and begins to develop an addiction to it.\nFirst he had no interest in the idea of the sex act. In fact as a boy the sex act seemed stupid and disgusting. But now it is interesting and the idea gives a sexual charge.\nThis marks him, giving him powerful samskaras (memories/impressions) of sex. Later as he tries to renounce, these impressions will become deeply problematic. The memories of sex will keep coming back to him, inciting his lust.\nHis eyes now have the habit of looking at the bodies of women and lusting.\nThe male developing sex addiction is always drawn to look at the bodies of women. Women on the street, women at school, women at work, etc.\nBut now his consciousness is dropping lower. In society, this causes women to become preoccupied with a new part of her body, her butt.\nWomen in more pure societies are never obsessed about their butts.\nYou can tell where a society is at in it’s decline by which part of the anatomy the female is most obsessed about.\nThe male becomes powerless in his reaction to the female form.\nEvery time he sees the female form, in photos or it life, he is intensely drawn to it. The female body has a seemingly magical hold over him, and his response to the female form is intense.\nThe female form becomes his true idol, his de facto god.\nHe is easily irritated, and easily loses his temper, especially after an orgasm.\nPowers of focus and concentration lessen.\nBecomes less competent and energetic in discharging his duties.\nHe has less patience and operates from a lower morale.\nHe is more likely to get into conflicts and arguments with others, and operate from a less noble emotional position.\nHe performs more other deeds which are unvirtuous, destructive, or negative.\nListless and lacks sparkle. He lacks energy. He is sick more. He may develop a chronic health problem.\nUsually the sexing man comes to be more comfortable relating to women, and is uncomfortable with men.\nFeels uncomfortable getting close to men, and avoids men as friends.\nMen no longer appeal as companions, because he relates to others mostly with a sexual charge, and he has become so sexualized that it begins to respond to strange things, as if sexual desire had an omnivorous appetite.\nYou can usually tell a man who is fairly sexually clean, because he will have close non sexual male relationships, even preferring to be with men, with no sexual thing at all.\nHe begins to find himself attracted to things in the woman that did not have a sexual meaning before.\nHe is about to take the path of the demon, who is destined to be made fertilizer by the Divine Being.\nA sexual thrill will begin to develop around increasingly perverse and disturbing things. With each new collapse, he yields something more in the realm of his conscience and values.\nMan either moves into the darkness of sexual perversion, or realizes where he is headed and turns back in the direction of his original purity.\nMost effective technique for regaining this lost purity is outright sexual renunciation, along with deep meditation.\nMeditation is critically important, because it gives a more-than-ample replacement of the lost pleasure when pursued devoutly.\nSteps along the way as he reverses his path:\nConscious realization that what he is doing is wrong and destructive in his life. He has become aware of becoming in some way sexually corrupted or perverted. He realizes he is addicted and begins to seek for help in some form.\nIt is good for the male to ask, in a conscious way, a higher power to intervene and assist him in overcoming the addiction.\nThe higher power might be termed God, Jesus Christ, or another guru. He makes a statement to himself of renunciation. Like a smoker who throws all his cigarettes in the sewer, he accomplishes an act of renunciation.\nBegins to make an effort not to look at sexual things, read sexual things, or listen to sexual things, or go to women where does sexual things. Because of this effort he reduces his orgasms, but he will probably continue to slip regularly. When he does slip, he feels increasing remorse and disgust with himself. He prays more about the problem.\nIf the man is fortunate, he will find activities that substitute for the pleasure being given up. He will begin to turn the energy now saved to more constructive and positive activities. This may be involvement with people or service. It may be one of the arts. He may throw himself into writing a book, or reading and learning He may get obsessed with his car or some other vehicle, or begin some new interest. If he is very fortunate, he will discover meditation. This will eventually completely short circuit the sex addiction.\nAs he sexes less, any trend toward perversion begins to recede. He strips back the years and regains his more simple, healthy sexual interests.\nThings that were once gross but had become interesting, now are gross and repugnant again. Small and wholesome matters become sexually attractive again, such as the sight of a woman’s calf, or the shape of her bust, or her downy cheek.\nRestraint. He feels more sexually potent, and the attraction to women at times is quite strong. This occasionally causes him to slip again. As a once sexually active man attempts restraint, he naturally builds up a higher level of sexual potential.\nHe comes into states in which he feels more potent than ever.\nAt times, as this energy is building up but not transmuted, he feels so virile he thinks he could be a veritable stag, mating with many women. He can find sexual attraction to even the plainest of women at these times. He feels like his sexual energy is some kind of boon or precious gift he has to bestow. (This is true, but he should not let it trick him into the Deed.)\nThis is a lot of fun for him to feel this potent, so he will occasionally slip. Like a sailor who has been away at sea for months, sex desire becomes keen again, and he will at times savor it and “ride” it as he once did when he was younger and becoming addicted.\nThis is a mistake, but most men will go through phases like this. The stored up sexual energy is still inclined to want to go down through the lower.\nHe is trying to pen up a wild stallion that is used to running free. He has a tiger in the barn, and for a period it seems to be problematic.\nEventually the horse will be like a powerful, disciplined draft horse that can be applied to any task.\nBut during the beginning, the horse wants to bolt a lot. Because of the storing of the sexual energy, any fanning of the flame makes the man feel extremely passionate desire. What he has inside him seems more powerful than before.\nWith cultivation the tiger will become calm and serve you.\n(Thinks that) “Celibacy must be impossible or bad. It makes men very horny.” But the fellow is only in an unbaked stage of unskilled celibacy.\nThe man has a long way to go yet. When he does slip, he will feel more remorse than ever.\nAnd like an alcoholic, he will also find that he sinks to the old depths rather quickly. Whereas his sexual appetite had seemed so wholesome, now a perverse thought reappears. This happens after a slip. Channels have been “cut” in the body, brain, and astral body by the addiction and experiences of the past. These channels are still fresh. Weeds may be growing up in what was once a highway, but the path is still there. In Hinduism these impressions or markings are called “samskaras.” If you scratch a mark in the ground, water will tend to find that channel and flow down it.\nJust abstaining and letting them lie fallow for a while doesn’t erase them. They are quickly reclaimed and reactivated with every lapse back into sexing.\nThere will be lapses. But the wise man continues to cultivate himself away from sexing. He may find he can will the sexual energy to bolt up up his spine. When doing so, his spine will bolt erect, as if his whole upper body had become an erection. He stops looking at the butts of women and their other physical features. When he does look, he feels a little disappointed by what he sees.\nIt’s just the same old butt. He starts to think, “You see one, you’ve seen them all.”\nHis most tempting sexual encounters begin to be in the dream state. He sees fewer women who attract him.\nAs he begins to purify himself of lust, he begins to sense lust in others.\nMost women begin to seem used and soiled, or having lust. He senses these things by instinct.\nBecause he is becoming pure, he notices the impurity in others.\nHe finds that he is only attracted to those with some purity.\nHe no longer consciously masturbates; only in near sleep or sleep states.\nHe becomes keenly aware of how any loss of semen weakens him physically and demoralizes him. He may masturbate consciously or semi-consciously, but endeavors not to “leak” any semen.\nHe may experiment with Taoist\" sexual practices in which sexual pleasure is indulged, but semen is retained or drawn back in. These cause harm to the sexual organs such as the prostate, plus keep him sexing and addicted to the thrill.\nHe sees how even the mental activity of lusting is vitiating and drains him of shakti.\nHe senses how even when he looks at a woman with lust, he is losing subtle shakti.\nNow we have a man capable of becoming that jewel among men, the celibate.\nVirya refers to noticeable qualities of character and countenance that come to the celibate male (In some Sutra translations the English word “vigor” is used instead).\nVirya means the increase of masculine qualities such as strength, stamina, energy, clarity, patience and evenness.\nHis body, face and attitude.\nHe wins wars, and protects others who are more vulnerable. Virility also makes a man unafraid.\nIn the “Art of War” there is given this interesting strategy for winning a war: Send prostitutes into the enemy camp.\nSturdy, intrepid, and forceful.\nThe first evidence of a man’s progress in spiritual life is a strong grit.\nWhat “grit” means: Firmness of character, especially in pain or danger.\nUnrestrained and wanton sex destroys the character of man and takes away his courage.\nTejas (effulgence) Tejas refers to the sparkle in the eyes and, the glow of vitality, and charismatic aura around the face and body of a celibate saint or yogi.\nYou are sick less often. Many health problems will be mitigated, or disappear entirely. You need less sleep.\nDevelop a more even temperament.\nFew things irritate you or cause you to lose your temper.\nYou are bolder, more courageous, and show integrity.\nDevelop consistency of character and more constancy in pursuing goals.\nEven begin controlling “wet dreams”.\nWhen any come close to attracting you, it will always be a woman who is herself developing moral purity.\nYou no longer create sexual experiences in the dream state. One begins to see the female form in a different way.\nYou begin seeing that almost all women assume males are no better than dogs, that all men inherently worship the female form, and that men are generally unable to resist any woman who gives them half a chance.\nWomen who are conventionally “sexy” will not attract this sort of man unless they have high moral virtue similar to his.\nSo it is that as men return to purity and goodness, women automatically follow.\nOthers notice you and are attracted to you more than before, especially women.\nHappens to be attracted to the stored up sexual energy itself, which provides greater temptations to the celibate, and to her.\nAs a man withdraws energy from the lower centers and the sexual organ, sometimes a buzzing or vibrating sensation can be felt in the sexual members. This carries no erotic or sexual feeling.\nThis is the divine shakti knocking off layers of dark karma associated with that organ.\nYou stop having erections, even in the dream state.\nRequires abstention from all caffeine.\nA sign of spiritual development is a more pleasant and attractive voice.\nYour words are found to have more effect. Your thoughts are found to influence your surroundings. People who spend time around you become more like you. Whatever spiritual realization you have, you become able to pass it to others.\nOne result is usually a heightened interest in God and pursuit of the spiritual life.\nEven a celibate man who is not a God-seeker will influence others powerfully through his thoughts.\nThe buildup of the male energy, manifests as more energy.\nEndurance, steadiness, toughness, and courage – in all areas of life.\nWasting of the male substance eventually makes a man weak, listless, timid, and feminine.\nPlace in the human brain associated with sexual orgasm. This area lies next to the part of the brain associated with violent aggression. As the sexer repeatedly “overheats” this part of the brain, it begins to fuse with the violent-aggressive part of the brain. Thus the sexer eventually finds that he is getting erections at the sight of blood and violence. We have a term from deep in our cultural history: “blood lust”.\nDesire for celibacy does not often emerge in the female as compellingly as in a man who finally figures out the situation. First of all, sex desire tends not to become such a problem for the female, causing such negative consequences.\nAny man who sexes more than once a month is automatically inferior to any woman.\nA female yogi directing her shakti up the spine over a long time will eventually cease from having her period.\nMany great female saints having the highest station of nirvikalpa samadhi. Examples: St. Teresa of Avila, Ananda Mayi Ma, the living saint Karuna Mayi.\nThe man is inherently rajasic, pushing outward and also manifests his spiritual progress more noticeably in the external realm.\nTypical Male Weaknesses –Addiction to the Female Form; tendency to become addicted to sex –Lack Of interest in the spiritual and esoteric –Addiction to activity and worldly pursuits, Overly aggressive, combative nature.\nHurtfulness towards others which clouds his karma and hides from him the spiritual truth –Pride, ego, arrogance, lack of humility. –Fruitless intellectuality; tendency to become distracted by too many facts, details, and fine distinctions, Difficulty grasping the broad, ineffable, inarticulate sense of things –Enjoyment of arguing over spiritual things; lording spiritual knowledge over others –Less capacity for trust and Faith (shraddha) –More distance from the childlike consciousness –Less tendency for emotion and devotion (bhakti) –Tendency to believe in only external things –Tendency to view external things as more important, including in external things in the spiritual and religious fields. The male is the leader in the attraction to worldliness.\nTendency to silence, economy of words, which conserves his life force and reduces his entanglements, improving his sadhana.\nWhen the male, for a long time, worships the female form, the female will necessarily come to worship her own form.\nWoman has long been dismayed, bemused and even confused by the power of her body to hold such sway over the male.\nNothing in the material world, and no sensual feeling, can ever satisfy man because man is Spirit.",
    "description": "Sex drive is a powerful force. And misusing it brings you down to the level of an animal. You must conserve and transmute this force to reveal your true gifts. Feeding lust makes you never satisfied, and spills over into all other areas in life. Giving a low rating because it’s overly religious for my tastes. And says that if you have sex, then you won’t have guy friends because you are afraid of being gay. Other than those two things, it’s a decent intro on the benefits you can experience from controlling your sexual side.",
    "tags": [],
    "title": "Bliss of the Celibate (4/10)",
    "uri": "/booknotes/bliss-of-the-celibate/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "Don’t argue with your kids. Manage behavior without getting angry. This was an exciting method at first but became un-managable. Focuses too much on last resort when all other methods fail. Instead of focusing on the all other methods. Very easy to use “breaks” and rewards to try and manipulate your child instead of teaching lessons and trying to get activities to be enjoyable in and of themselves. Read Playful Parenting instead.\nSummary and Highlights The 3 jobs for you as a parent Control obnoxious Behavior (STOP behaviors) Encourage good behavior (START behaviors) Strengthening your relationship with your children. Controlling obnoxious behavior (STOP Behaviors) This is where counting and break times come in. You will use counting and break times for STOP behaviors.\nTaking Breaks and Counting A break is when parents and child can separate briefly so they can calm down and regroup. You do not talk about the behavior after the break. No need to punish the child twice. If the behavior was dangerous, unusual, or new, then give a brief explanation.\n3 counts are needed before a break occurs. And after you’ve tried ignoring, sympathetic listening, distraction, and joint problem solving.\nYou and your child may fall for the arguing/ yelling/ hitting/ persuading/ defending/ rationalizing trap. You need to start counting before this happens. Once you notice that you’ve fallen in this trap. Simply go back to counting.\nThe parents tone should not be anger/ negative. It should simply be “I love you but you simply cannot behave this way”.\nStraight to 3! Major behavior goes straight to 3 and taking a break. This is stuff like hitting, spitting, etc. Still, you must be gentle and consistent. Then the child’s behavior will mature over time.\nYour child won’t behave rationally when they are upset. Same goes to you! The brain is just not wired that way. When dealing with a child, you must manage the yelling/ screaming/ whining/ fighting. All while encouraging positive behaviors like eating, doing homework, cleaning up, going to bed and child/parent bonding.\nTo be an effective parent you must be gentle and friendly. The message your child receives should be that you love them and will take care of them.\nYou must also balance this with being firm and letting them know that you expect them to do something.\nChildren also will model your behavior. Like if you solve problems with anger. They will to. If you are calm and collected. They will learn that from you as well.\nCounting is for STOP behaviors You must control negative behaviors. These are things you want your children to STOP doing. And what you will use COUNTING for.\nPhysical attacks on people , breaking something, fighting Teasing Whinin Temper (intimidation, “I HATE YOU!”) Arguing Badgering (wearing you down with repetition Tantrums Yelling Threat (I’m running away from home) Martyrdom (“I never get anything”) Crying, pouting, looking sad on purpose Saying something is unfair Butter up “you are the nicest dad in the world!” Promises/ insincere apologies This is controlling obnoxious behavior. Or the demanding side of parenting. This teaches you and your child to hold back and avoid dysfunctional responses.\nMethods for stop behaviors. Counting Go straight to 3 if behavior is dangerous or extreme. Don’t talk or get angry, just count. Voice should be casual but stern. No extra talking or emotion. Things should go back to normal after a count. Counting with anger is challenging your child to misbehave. Both parents can be involved in any of the counts (mom says 1 for first offense dad says 2, etc.). Keep quit and ignore for minor offenses (depending on your fuse). When in doubt count Take about 5 seconds between counts Start the counting cycle over longer as the child gets older. (15 minutes for 5 year old, 2-3 hours for an 11 year old, etc. Do not punish bad grades, use the reward system for grades instead. Explain to child the counting process when you first start. Should not be used for bedtime. Break time One minute per year of the child’s life. Do not make eye contact or talk to child. Remain gentle but firm and instructive. You do not have to close the door. No lectures, explanations, or emotions after a break time. Explanations are appropriate when the behavior is new, unusual, or dangerous. Very gentle procedure to calm everyone down. If child behaves, praise him and enjoy his company, if they do something else that is countable, count it. Parent should not be furious, yelling, lecturing, or physical or emotionally abusive. Most failures are because the parent forgets the no talking and no emotion rules. Timer doesn’t start until child is done with tantrum (unless they are 3 or younger, then just let them out when their time is up, start the count over if they continue to misbehave after they get out). Child can go to room and read, take a nap, play legos, draw, etc. No phone, no friends, and no electronic entertainment. Use same strategy if company is over. Send kid and friend outside if they both get counted to 3. Give child a hug after break time if they want one. Should happen right when the offense happens. Do not give a break time an hour later for something. If you can’t give a breaktime right away then use a breaktime alternative. What if kids won’t go to break time?\nBring them to the room. Choose a breaktime Alternative (you can give them a choice between a couple consequences, you pick if they won’t). Reverse break time, you leave the room, walk around the house, don’t talk. If they won’t come out of breaktime, that is okay, just tell them when their time is up. What if they leave their room?\nAdd extra time. Switch to break time alternative. Doorknob cover. Locking the door. Tell them if they come out then the door gets closed. Break Time Alternatives Make sure these are fair and reasonable. And that the punishment fits the behavior.\nLoss of privilege or toy for a period of time. bedtime fifteen minutes earlier. forty cents off the allowance. no electronic entertainment for two hours. Earlier bedtime. No dessert or treat. No use of phone. No friend over. No conversation—fifteen minutes. Removal of DVD, iPod. Reduced computer time. Loss of TV for evening. Loss of electronic games—two hours. Monetary fine. Small chore—wash bathroom sink. Larger chore—weed yard. Write a paragraph. (Limited only by your imagination) If a child has a fit when dropping off at daycare. Become master of the quick exit. Kiss goodbye, tell them when you’ll see them again, and get out of there. The more you talk, the worse you will make the situation.\nSibling rivalry? Never ask “what happened?” Count both kids. Put them in different break time locations.\nTantrums? Never talk or argue with a tantruming child.\nCommon mistakes when dealing with a misbehaving child Mistake #1\nUsing counting for Start behavior (for example, counting a child to get her to do her homework).\nMistake # 2\nToo much talking.\nMistake #3\nToo much emotion.\nEncourage good behavior. (START behaviors) This takes more effort on the parent AND the child. Cleaning up after themselves. Going to bed on time. Being polite. Doing homework. Warm and demanding side of parenting.\nYou do not count for these things. Instead, to encourage positive action, pick something from this list of methods. You can use one or a combination of these:\nPraise Timers Natural Consequences Docking Charting Counting variation Simple requests Model behavior yourself Make activity fun or add diversions or friendly challenges Positive reinforcement Cheering and applauding, praise Elaborate for younger kids, heartfelt for older kids Praise in front of other people Unexpected praise Three positive comments for every negative comment Simple requests “It’s time to start your homework” Phrasing requests in a “matter of fact” tone Try not to spring requests out of the blue, give them some warning Structure tasks into fixed routines Kitchen timers The docking system If you don’t work, you don’t get paid Charge them money for doing their chores Natural consequences Let the big bad world teach lessons for you “I’m sure you’ll do better next time!” (offer encouragement) 3-4 things to work on at one time for a chart If they do good at something on a chart for a long period of time then replace it with something new Offer rewards for completing a chart Trip for icecream Tokens Small toy Rent a game Outing with parent Shopping trip Sleepover Game with parent No-chore voucher Camping in the backyard Card for a collection Tech time Breakfast in bed Cash Rent a movie Grab-bag surprise Comic book or magazine Friend over for supper Choice of three reinforcers Reading a story with parents Sleeping with the dog or cat Special phone call Collection items Helping make and eat cookies Using a power tool Staying up an extra 15 minutes Counting Variation for start behaviors that only take a couple minutes to accomplish.\nChildren’s approximate capacities at different ages for doing independent school work:\nAge 6: 10 minutes Age 7: 20 minutes Age 8: 30 minutes Age 9: 40 minutes\nStrengthening your relationship with your children Make sure screen time does not replace face-to-face time. You value enjoying each other’s company. Critical for family well-being and child’s self-esteem that you like them and not just love them. Strategies for Strengthening Your Relationships:\nPractice sympathetic listening Avoid over-parenting Join in one-on-one fun Solve problems together If encouraging positive behavior in kids requires more motivation from the kids, it’s also going to require more motivation from Mom and Dad.",
    "description": "Don’t argue with your kids. Manage behavior without getting angry. This was an exciting method at first but became un-managable. Focuses too much on last resort when all other methods fail. Instead of focusing on the all other methods. Very easy to use “breaks” and rewards to try and manipulate your child instead of teaching lessons and trying to get activities to be enjoyable in and of themselves. Read Playful Parenting instead.",
    "tags": [],
    "title": "123 Magic (4/10)",
    "uri": "/booknotes/123-magic/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Categories",
    "content": "",
    "description": "",
    "tags": [],
    "title": "Category :: About",
    "uri": "/categories/about/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Ansible",
    "content": "Building off our lab, we need a playbook that give instructions for getting managed nodes to their desired states. Playbooks are scripts written in YAML. There are some things you need to know when working with playbooks:\nAd Hoc Commands Modules Module Documentation Ad Hoc commands from bash scripts Ad Hoc Commands Ad hoc commands are ansible tasks you can run against managed hosts without the need of a playbook or script. These are used for bringing nodes to their desired states, verifying playbook results, and verifying nodes meet any needed criteria/pre-requisites. These must be ran as the ansible user (whatever your remote_user directive is set to under [defaults] in ansible.cfg)\nRun the user module with the argument name=lisa on all hosts to make sure the user “lisa” exists. If the user doesn’t exist, it will be created on the remote system: ansible all -m user -a \"name=lisa\"\n{command} {host} -m {module} -a {\"argument1 argument2 argument3\"}\nIn our lab:\n[ansible@control base]$ ansible all -m user -a \"name=lisa\" web1 | UNREACHABLE! =\u003e { \"changed\": false, \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web1: Name or service not known\", \"unreachable\": true } web2 | UNREACHABLE! =\u003e { \"changed\": false, \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web2: Name or service not known\", \"unreachable\": true } ansible1 | CHANGED =\u003e { \"ansible_facts\": { \"discovered_interpreter_python\": \"/usr/bin/python3\" }, \"changed\": true, \"comment\": \"\", \"create_home\": true, \"group\": 1001, \"home\": \"/home/lisa\", \"name\": \"lisa\", \"shell\": \"/bin/bash\", \"state\": \"present\", \"system\": false, \"uid\": 1001 } ansible2 | CHANGED =\u003e { \"ansible_facts\": { \"discovered_interpreter_python\": \"/usr/bin/python3\" }, \"changed\": true, \"comment\": \"\", \"create_home\": true, \"group\": 1001, \"home\": \"/home/lisa\", \"name\": \"lisa\", \"shell\": \"/bin/bash\", \"state\": \"present\", \"system\": false, \"uid\": 1001 } This Ad Hoc command created user “Lisa” on ansible1 and ansible2. If we run the command again, we get “SUCCESS” on the first line instead of “CHANGED”. Which means the hosts already meet the requirements:\n[ansible@control base]$ ansible all -m user -a \"name=lisa\" web2 | UNREACHABLE! =\u003e { \"changed\": false, \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web2: Name or service not known\", \"unreachable\": true } web1 | UNREACHABLE! =\u003e { \"changed\": false, \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web1: Name or service not known\", \"unreachable\": true } ansible2 | SUCCESS =\u003e { \"ansible_facts\": { \"discovered_interpreter_python\": \"/usr/bin/python3\" }, \"append\": false, \"changed\": false, \"comment\": \"\", \"group\": 1001, \"home\": \"/home/lisa\", \"move_home\": false, \"name\": \"lisa\", \"shell\": \"/bin/bash\", \"state\": \"present\", \"uid\": 1001 } ansible1 | SUCCESS =\u003e { \"ansible_facts\": { \"discovered_interpreter_python\": \"/usr/bin/python3\" }, \"append\": false, \"changed\": false, \"comment\": \"\", \"group\": 1001, \"home\": \"/home/lisa\", \"move_home\": false, \"name\": \"lisa\", \"shell\": \"/bin/bash\", \"state\": \"present\", \"uid\": 1001 } indempotent Regardless of current condition, the host is brought to the desired state. Even if you run the command multiple times.\nRun the command id lisa on all managed hosts:\n[ansible@control base]$ ansible all -m command -a \"id lisa\" web1 | UNREACHABLE! =\u003e { \"changed\": false, \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web1: Name or service not known\", \"unreachable\": true } web2 | UNREACHABLE! =\u003e { \"changed\": false, module should you use to run the rpm -qa | grep httpd command? \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web2: Name or service not known\", \"unreachable\": true } ansible1 | CHANGED | rc=0 \u003e\u003e uid=1001(lisa) gid=1001(lisa) groups=1001(lisa) ansible2 | CHANGED | rc=0 \u003e\u003e uid=1001(lisa) gid=1001(lisa) groups=1001(lisa) Here, the command module is used to run a command on the specified hosts. And the output is displayed on screen. TO note, this does not show up in our ansible user’s command history on the host:\n[ansible@ansible1 ~]$ history 1 history Remove the userLlisa from all managed hosts:\n[ansible@control base]$ ansible all -m user -a \"name=lisa state=absent\" web2 | UNREACHABLE! =\u003e { \"changed\": false, \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web2: Name or service not known\", \"unreachable\": true } web1 | UNREACHABLE! =\u003e { \"changed\": false, \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web1: Name or service not known\", \"unreachable\": true } ansible1 | CHANGED =\u003e { \"ansible_facts\": { \"discovered_interpreter_python\": \"/usr/bin/python3\" }, \"changed\": true, \"force\": false, \"name\": \"lisa\", \"remove\": false, \"state\": \"absent\" } ansible2 | CHANGED =\u003e { \"ansible_facts\": { \"discovered_interpreter_python\": \"/usr/bin/python3\" }, \"changed\": true, \"force\": false, \"name\": \"lisa\", \"remove\": false, \"state\": \"absent\" } [ansible@control base]$ ansible all -m command -a \"id lisa\" web1 | UNREACHABLE! =\u003e { \"changed\": false, \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web1: Name or service not known\", \"unreachable\": true } web2 | UNREACHABLE! =\u003e { \"changed\": false, \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web2: Name or service not known\", \"unreachable\": true } ansible1 | FAILED | rc=1 \u003e\u003e id: ‘lisa’: no such usernon-zero return code ansible2 | FAILED | rc=1 \u003e\u003e id: ‘lisa’: no such usernon-zero return code You can also use the -u option to specify the user that Ansible will use to run the command. Remember, with no modules specified, ansible uses the command module: ansible all -a \"free -m\" -u david\nModules There are more than 3000 Ansible modules available for a variety of different tasks and servers. The more modules you know, the better you will be at Ansible. They are essentially plug ins written in Python that can be used in playbooks or Ad Hoc commands. Make sure to use modules that are the most specific to the task you are trying to accomplish.\nImportant modules Arbitrary Modules Limit your use of these, it’s hard to track what has been changed using these modules. Use the more specific indempotent module for the task instead, if you can.\ncommand Runs arbitrary commands (not using the shell). Shell stuff such as pipes and redirects will not work with this module. This is the default module if no modules are specified. You can set different default module in ansible.crf by using “module_name = module”. A python script is generated on the manage host and executed. ansible all -m command -a \"rpm -qa | grep httpd\" (the pipe gets ignored)\nCheck status of httpd: ansible all -m command -a \"systemctl status httpd\"\nshell Same as above but with the shell. So pipes and redirects will work. A python script is generated on the manage host and executed. ansible all -m shell -a \"rpm -qa | grep httpd\" (the pipe is not ignored)\nraw Runs arbitrary command on top of SSH without using Python. Good for managed hosts that don’t have Python. Or install Python during setup: ansible -u root -i inventory ansible3 --ask-pass -m raw -a \"yum install python3\nIndempotent modules These are easier to track and guarantee indempotency.\ncopy Copy files or lines of text to files `ansible all -m copy -a ‘content=“hello world” dest=/etc/motd’\nyum Manage packages on RHEL hosts. Can use the package module to install packages on any Linux distro. Use the yum module if you need specific yum features. And package module if you need to manage software on different distros.\nInstall latest version of nmap: `ansible all -m yum -a “name=nmap state=latest”\nList httpd details: ansible all -m yum -a \"list=httpd\"\nservice Manage state of systemd and system-V services. Make sure to use enabled=yes and state=started to make sure services are enabled at startup. ansible -m service -a \"name=httpd state=started enabled=yes\"\nping Checks if managed hosts are in a manageable state. ansible all -m ping\nViewing available modules with ansible-doc As noted before, there are over 3,000 modules that come with Ansible. These are installed on your system when you install Ansible. View all the modules available like so: ansible-doc -l\nFilter to get more specific results:\n[ansible@control ~]$ ansible-doc -l | grep package ansible.builtin.apt Manages apt-packages ansible.builtin.debconf Configure a .deb package ansible.builtin.dnf Manages packages with the `dnf' pack... ansible.builtin.dpkg_selections Dpkg package selection selections ansible.builtin.package Generic OS package manager ansible.builtin.package_facts Package information as facts ansible.builtin.yum Manages packages with the `yum' pack... Finding details on a specific module: ansible-doc ping\nOutput shows the module name, maintainter information, options available, related modules, module author, examples, and return values.\nEach module is a Python script on your system that you can view if you want to see what is going on under the hood: \u003e ANSIBLE.BUILTIN.PING (/usr/lib/python3.9/site-packages/ansible/modules/ping.py)\nMake sure you read the modules description for details!\nA trivial test module, this module always returns `pong' on successful contact. It does not make sense in playbooks, but it is useful from `/usr/bin/ansible' to verify the ability to login and that a usable Python is configured. This is NOT ICMP ping, this is just a trivial test module that requires Python on the remote-node. For Windows targets, use the [ansible.windows.win_ping] module instead. For Network targets, use the [ansible.netcommon.net_ping] module instead. Note that mandatory option are listed as =option instead of -option.\nOPTIONS (= is mandatory): - data Data to return for the `ping' return value. If this parameter is set to `crash', the module will cause an exception. default: pong type: str And don’t forget to check the “SEE ALSO” section to see if there could be a module that better suits your needs:\nSEE ALSO: * Module ansible.netcommon.net_ping * Module ansible.windows.win_ping Here are some examples from the raw module doc:\nEXAMPLES: - name: Bootstrap a host without python2 installed ansible.builtin.raw: dnf install -y python2 python2-dnf libselinux-python - name: Run a command that uses non-posix shell-isms (in this example /bin/sh doesn't handle redirection and wildcards together but bash does) ansible.builtin.raw: cat \u003c /tmp/*txt args: executable: /bin/bash - name: Safely use templated variables. Always use quote filter to avoid injection issues. ansible.builtin.raw: \"{{ package_mgr|quote }} {{ pkg_flags|quote }} install {{ python|quote }}\" - name: List user accounts on a Windows system ansible.builtin.raw: Get-WmiObject -Class Win32_UserAccount The examples show the playbook code for common use cases for running the module. Use the -s flag to show the playbook snippet only:\n[ansible@control ~]$ ansible-doc -s service - name: Manage services service: arguments: # Additional arguments provided on the command line. While using remote hosts with systemd this setting will be ignored. enabled: # Whether the service should start on boot. *At least one of state and enabled are required.* name: # (required) Name of the service. pattern: # If the service does not respond to the status command, name a substring to look for as would be found in the output of the `ps' # command as a stand-in for a status result. If the string is found, the service will be assumed to # be started. While using remote hosts with systemd this setting will be ignored. runlevel: # For OpenRC init scripts (e.g. Gentoo) only. The runlevel that this service belongs to. While using remote hosts with systemd # this setting will be ignored. sleep: # If the service is being `restarted' then sleep this many seconds between the stop and start command. This helps to work around # badly-behaving init scripts that exit immediately after signaling a process to stop. Not all # service managers support sleep, i.e when using systemd this setting will be ignored. state: # `started'/`stopped' are idempotent actions that will not run commands unless necessary. `restarted' will always bounce the # service. `reloaded' will always reload. *At least one of state and enabled are required.* Note # that reloaded will start the service if it is not already started, even if your chosen init # system wouldn't normally. use: # The service module actually uses system specific modules, normally through auto detection, this setting can force a specific # module. Normally it uses the value of the 'ansible_service_mgr' fact and falls back to the old # 'service' module when none matching is found. The official Ansible documentation will also be available during the RHCE exam: https://docs.ansible.com/\nThe docs will also show you how to install additional module collections. To install the posix collection: [ansible@control base]$ ansible-galaxy collection install ansible.posix\nAd hoc commands in Scripts Follow normal bash scripting guidelines to run ansible commands in a script:\n[ansible@control base]$ vim httpd-ansible.sh Let’s set up a script that installs and starts/enables httpd, creates a user called “anna”, and copies the ansible control node’s /etc/hosts file to /tmp/ on the managed nodes:\n#!/bin/bash ansible all -m yum -a \"name=httpd state=latest\" ansible all -m service -a \"name=httpd state=started enabled=yes\" ansible all -m user -a \"name=anna\" ansible all -m copy -a \"src=/etc/hosts dest=/tmp/hosts\" [ansible@control base]$ chmod +x httpd-ansible.sh [ansible@control base]$ ./httpd-ansible.sh web2 | UNREACHABLE! =\u003e { \"changed\": false, \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web2: Name or service not known\", \"unreachable\": true } web1 | UNREACHABLE! =\u003e { \"changed\": false, \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web1: Name or service not known\", \"unreachable\": true } ansible1 | SUCCESS =\u003e { \"ansible_facts\": { \"discovered_interpreter_python\": \"/usr/bin/python3\" }, \"changed\": false, \"msg\": \"Nothing to do\", \"rc\": 0, \"results\": [] } ansible2 | SUCCESS =\u003e { \"ansible_facts\": { \"discovered_interpreter_python\": \"/usr/bin/python3\" }, \"changed\": false, \"msg\": \"Nothing to do\", \"rc\": 0, \"results\": [] } ... \u003c-- Results truncated And from the ansible1 node we can verify:\n[ansible@ansible1 ~]$ cat /etc/passwd | grep anna anna:x:1001:1001::/home/anna:/bin/bash [ansible@ansible1 ~]$ cat /tmp/hosts 127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 192.168.124.201 ansible1 192.168.124.202 ansible2 View a file from a managed node: ansible ansible1 -a \"cat /somfile.txt\"",
    "description": "Getting started with some simple Ansible commands",
    "tags": [],
    "title": "Ad Hoc Ansible Commands",
    "uri": "/ansible/4-ad-hoc-ansible-commands/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "Permission Classes and Types Permission classes\nuser (u) group (g) other (o) (public) all (a) \u003c- all combined Permission types\nr,w,x works differently on files and directories hyphen (-) represents no permissions set ls results permissions groupings rwx rw- r– user (owner), group, and other (public) ls results first character meaning regular file d directory l symbolic link c character device file b block device file p named pipe s socket Modifying Access Permission Bits chmod command Modify permissions using symbolic or octal notation. Used by root or the file owner. Flags chmod -v ::: Verbose.\nSymbolic notation Letters (ugo/rwx) and symbols (+, -, =) used to add, revoke, or assign permission bits. Octal Notation Three-digit numbering system ranging from 0 to 7. 0 — 1 –x 2 -w- 3 -wx 4 r– 5 r-x 6 rw- 7 rwx\nDefault Permissions Calculated based on the umask (user mask) value subtracted from the initial permissions value. umask Three-digit value (octal or symbolic) that refers to read, write, and execute permissions for owner, group, and public. Default umask value is 0022 for the root user and 0002 normal users. The left-most 0 has no significance. If umask is set to 000 files will get max of 666 If the initial permissions are 666 and the umask is 002 then the default permissions are 664. (666-002) Any new files or directories created after changing the umask will have the new default permissions set. umask settings are lost when you log off. Add it to the appropriate startup file to make it permanent. Defaults\nfiles 666 rw-rw-rw- directories 777 rwxrwxrwx umask command Options\n-S symbolic form Special Permission Bits 3 types of special permission bits for executable files or directories for non root users setuid setgid sticky setuid set on exe’s to provide non-owners the ability to run them with the privileges of the owning user may be set on directories and files but will have no effect. example: the su command shows an ’s’ in ls -l listing at the end of owners permissions If the file already has the “x” bit set for the user, the long listing will show a lowercase “s”, otherwise it will list it with an uppercase “S”. setgid set on exe’s to provide non-group members the ability to run them with the privileges of the owning group. May be set on shared directories allow files and subdirectories created underneath to automatically inherit the directory’s owning group. saves group members who are sharing the directory contents from changing the group ID for every new file and subdirectory that they add. write command has this set by default so a member of the tty group can run it. If the file already has the “x” bit set for the group, the long listing will show a lowercase “s”, otherwise it will list it with an uppercase “S”. Sticky bit may be set on public directories for inhibiting file deletion by non-owners may be set on directories and files but will have no effect. Set on /tmp and /var/tmp by default Letter “t” in other permission feild If the directory already has the “x” bit set for public, the long listing will show a lowercase “t”, otherwise it will list it with an uppercase “T”. Access Control Lists (ACLs) Setting a default ACL on a directory allows content sharing among user’s without having to modify access on each new file and subdirectory.\nExtra permissions that can be set on files and directories.\nDefine permissions for named user and named groups.\nConfigured the same way on both files and directories.\nNamed Users\nMay or may not be a part of the same group. 2 different groups of ACLs. Default ACLs and Access ACLs.\nAccess ACLs Set on individual files and directories Default ACLs Applied on directories files and subdirectories inherit the ACL Execute bit must be set on the directory for public. Files receive the shared directory’s default ACLs as their access ACLs - what the mask limits. Subdirectories receive both default ACLs and access ACLs as they are. A “+” at the end of ls -l listing indicates ACL is set\n-rw-rw-r–+ ACL Commands getfacl\nDisplay ACL settings Displays: name of file owner owning group Permissions colon characters save space for named user/group (or UID/GID) when extended Permissions are set. Example: user:1000:r– the named user with UID 1000, who is neither the file owner nor a member of the owning group, is allowed read-only access to this file. Example: group:dba:rw- give the named group (dba) read and write access to the file. setfacl set, modify, substitute, or delete ACL settings If you want to give read and write permissions to a specific user (user1) and change the mask to read-only at the same time, the setfacl command will allocate the permissions as mentioned; however, the effective permissions for the named user will only be read-only. u:UID:perms\nnamed user must exist in /etc/passwd if no user specified, permissions are given to the owner of the file/directory g:GID:perms\nNamed group must exist in /etc/group If no group specified, permissions are given to the owning group of the file/directory o:perms\nNeither owner or owning group m:perms\nMaximum permissions for named user or named group Switches\nSwitch Description -b Remove all Access ACLs -d Applies to default ACLs -k Removes all default ACLs -m Sets or modifies ACLs -n Prevent auto mask recalculation -R Apply Recursively to directory -x Remove Access ACL -c Display output without header Mask Value Determine maximum allowable permissions for named user or named group Mask value displayed on separate line in getfacl output Mask is recalculated every time an ACL is modified unless value is manually entered. Overrides the set ACL value. Find Command Search files and display the full path. Execute command on search results. Different search criteria name part name ownership owning group permissions inode number last access modification time in days or minutes size file type Command syntax {find} + {path} + {search option} + {action} Options -name / -iname (search by name) -user / -group (UID / GID) -perm (permissions) -inum (inode) -atime/amin (access time) -mtime/amin (modification time) -size / -type (size / type) Action copy, erase, rename, change ownership, modify permissions -exec {} \\; replaces {} for each filename as it is found. The semicolon character (;) marks the termination of the command and it is escaped with the backslash character (\\). -ok {} \\; same as exec but requires confirmation. -delete -print \u003c- default Advanced File Management Labs Lab: find stuff Create file 10 and search for it. [vagrant@server1 ~]$ sudo touch /root/file10 [vagrant@server1 ~]$ sudo find / -name file10 -print /root/file10 Perform a case insensitive search for files and directories in /dev that begin with “usb” followed by any characters. [vagrant@server1 ~]$ find /dev -iname usb* /dev/usbmon0 Find files smaller than 1MB (-1M) in size (-size) in the root user’s home directory (~). [vagrant@server1 etc]$ find ~ -size -1M Search for files larger than 40MB (+40M) in size (-size) in the /usr directory: [vagrant@server1 etc]$ sudo find /usr -size +40M /usr/share/GeoIP/GeoLite2-City.b Find files in the entire root file system (/) with ownership (-user) set to user daemon and owning group (-group) set to any group other than (-not or ! for negation) user1: [vagrant@server1 etc]$ sudo find / -user daemon -not -group user1 Search for directories (-type) by the name “src” (-name) in /usr at a maximum of two subdirectory levels below (-maxdepth): [vagrant@server1 etc]$ sudo find /usr -maxdepth 2 -type d -name src /usr/local/src /usr/src Run the above search but at least three subdirectory levels beneath /usr, substitute -maxdepth 2 with -mindepth 3. [vagrant@server1 etc]$ sudo find /usr -mindepth 3 -type d -name src /usr/src/kernels/4.18.0-425.3.1.el8.x86_64/drivers/gpu/drm//display/dmub/src /usr/src/kernels/4.18.0-425.3.1.el8.x86_64/tools/usb/usbip/src Find files in the /etc directory that were modified (-mtime) more than (the + sign) 2000 days ago: [vagrant@server1 etc]$ sudo find /etc -mtime +2000 /etc/libuser.conf /etc/xattr.conf /etc/whois.conf Run the above search for files that were modified exactly 12 days ago, replace “+2000” with “12”. [vagrant@server1 etc]$ sudo find /etc -mtime 12 To find files in the /var/log directory that have been modified (-mmin) in the past (the - sign) 100 minutes: [vagrant@server1 etc]$ sudo find /var/log -mmin -100 /var/log/rhsm/rhsmcertd.log /var/log/rhsm/rhsm.log /var/log/audit/audit.log /var/log/dnf.librepo.log /var/log/dnf.rpm.log /var/log/sa /var/log/sa/sa16 /var/log/sa/sar15 /var/log/dnf.log /var/log/hawkey.log /var/log/cron /var/log/messages /var/log/secure Run the above search for files that have been modified exactly 25 minutes ago, replace “-100” with “25”. [vagrant@server1 etc]$ sudo find /var/log -mmin 25 To search for block device files (-type) in the /dev directory with permissions (-perm) set to exactly 660: [vagrant@server1 etc]$ sudo find /dev -type b -perm 660 /dev/dm-1 /dev/dm-0 /dev/sda2 /dev/sda1 /dev/sda Search for character device files (-type) in the /dev directory with at least (-222) world writable permissions (this example would ignore checking the write and execute permissions): [vagrant@server1 etc]$ sudo find /dev -type c -perm -222 Find files in the /etc/systemd directory that are executable by at least their owner or group members: [vagrant@server1 etc]$ sudo find /etc/systemd -perm /110 Search for symlinked files (-type) in /usr with permissions (-perm) set to read and write for the owner and owning group: sudo find /usr -type l -perm -ug=rw Search for directories in the entire directory tree (/) by the name “core” (-name) and list them (ls-ld) as they are discovered without prompting for user confirmation (-exec): [vagrant@server1 etc]$ sudo find / -name core -exec ls -ld {} \\; Use the -ok switch to prompt for confirmation before it copies each matched file (-name) in /etc/sysconfig to /tmp: sudo find /etc/sysconfig -name '*.conf' -ok cp {} /tmp \\; Lab: Display ACL and give permissions Create and empty file aclfile1 in /tmp and display ACLs on it: cd /tmp touch aclfile1 getfacl aclfile1 Give rw permission to user 1 but with a mask of read only and view the results. setfacl -m u:user1:rw,m:r aclfile1 Promote the mask value to include write bit and verify: setfacl -m m:rw aclfile1 getfacl -c aclfile1 Lab: Identify, Apply, and Erase Access ACLs Switch to user1 and create file acluser1 in /tmp: su - user1 cd /tmp touch acluser1 Use ls and getfacl to check existing acl entries: ls -l acluser1 getfacl acluser1 -c Allocate rw permissions to user100 with setfacl in octal form: setfacl -m u:user100:6 acluser1 Run ls (+) and getfacl to verify: ls -l acluser1 getfacl -c acluser1 Open another terminal as user100 and open the file and edit it.\nAdd user200 with full rwx permissions to acluser1 using the symbolic notation and then show the updated ACL settings:\nsetfacl -m u:user200:rwx acluser1 getfacl -c acluser1 Delete the ACL entries set for user200 and validate: setfacl -x u:user200 acluser1 getfacl acluser1 -c Delete the rest of the ACLs: setfacl -b acluser1 Use the ls and getfacl commands and confirm for the ACLs removal: ls -l acluser1 getfacl acluser1 -c create group aclgroup1 groupadd -g 8000 aclgroup1 add this group as a named group along with the two named users (user100 and user200). Lab: Apply, Identify, and erase default ACLs Switch or log in as user1 and create a directory projects in /tmp: su - user1 cd /tmp mkdir projects Use the getfacl command for an initial look at the permissions on the directory: getfacl -c projects Allocate default read, write, and execute permissions to user100 and user200 on the directory. Use both octal and symbolic notations and the -d (default) option with the setfacl command. setfacl -dm u:user100:7,u:user200:rwx projects/ getfacl -c projects/ Create a subdirectory prjdir1 under projects and observe the ACL inheritance: mkdir prjdir1 getfacl -c prjdir1 Create a file prjfile1 under projects and observe the ACL inheritance: touch prjfile1 getfacl -c prjfilel log in as one of the named users, change directory into /tmp/projects, and edit prjfile1 (add some random text). Then change into the prjdir1 and create file file100. su - user100 cd /tmp/projects vim prjfile1 ls -l prjfile1 cd prjdir1 touch file100 pwd Delete all the default ACLs from the projects directory as user1 and confirm: exit su - user1 cd /tmp setfacl -k projects getfacl -c projects create a group such as aclgroup2 by running groupadd -g 9000 aclgroup2 as the root user and repeat this exercise by adding this group as a named group along with the two named users (user100 and user200). Lab: Modify Permission Bits Using Symbolic Form Add an execute bit for the owner and a write bit for group and public [vagrant@server1 ~]$ chmod u+x permfile1 -v mode of 'permfile1' changed from 0444 (r--r--r--) to 0544 (r-xr--r--) [vagrant@server1 ~]$ chmod -v go+w permfile1 mode of 'permfile1' changed from 0544 (r-xr--r--) to 0566 (r-xrw-rw-) Revoke the write bit from public [vagrant@server1 ~]$ chmod -v o-w permfile1 mode of 'permfile1' changed from 0566 (r-xrw-rw-) to 0564 (r-xrw-r--) [vagrant@server1 ~]$ chmod -v a=rwx permfile1 mode of 'permfile1' changed from 0564 (r-xrw-r--) to 0777 (rwxrwxrwx) Revoke write from the owning group and write and execute bits from public. [vagrant@server1 ~]$ chmod g-w,o-wx permfile1 -v mode of 'permfile1' changed from 0777 (rwxrwxrwx) to 0754 (rwxr-xr--) Lab: Modify Permission Bits Using Octal Form Read only for user, group, and other: [vagrant@server1 ~]$ touch permfile2 [vagrant@server1 ~]$ chmod 444 permfile2 [vagrant@server1 ~]$ ls -l permfile2 -r--r--r--. 1 vagrant vagrant 0 Feb 4 12:22 permfile2 Add an execute bit for the owner: [vagrant@server1 ~]$ chmod -v 544 permfile2 mode of 'permfile2' changed from 0444 (r--r--r--) to 0544 (r-xr--r--) Add a write permission bit for group and public: [vagrant@server1 ~]$ chmod -v 566 permfile2 mode of 'permfile2' changed from 0544 (r-xr--r--) to 0566 (r-xrw-rw-) Revoke the write bit for public: [vagrant@server1 ~]$ chmod -v 564 permfile2 mode of 'permfile2' changed from 0566 (r-xrw-rw-) to 0564 (r-xrw-r--) Assign read, write, and execute permission bits to all three user categories: [vagrant@server1 ~]$ chmod -v 777 permfile2 mode of 'permfile2' changed from 0564 (r-xrw-r--) to 0777 (rwxrwxrwx) Run the umask command without any options and it will display the current umask value in octal notation: [vagrant@server1 ~]$ umask 0002 Symbolic form [vagrant@server1 ~]$ umask -S u=rwx,g=rwx,o=rx Set all new files and directories to get 640 and 750 permissions, umask 027 umask u=rwx,g=rx,o= Test new umask (666-027=640) (777-027=750) [vagrant@server1 ~]$ touch tempfile1 [vagrant@server1 ~]$ ls -l tempfile1 -rw-r-----. 1 vagrant vagrant 0 Feb 5 12:09 tempfile1 [vagrant@server1 ~]$ mkdir tempdir1 [vagrant@server1 ~]$ ls -ld tempdir1 drwxr-x---. 2 vagrant vagrant 6 Feb 5 12:10 tempdir1 Lab: View suid bit on su command [vagrant@server1 ~]$ ls -l /usr/bin/su -rwsr-xr-x. 1 root root 50152 Aug 22 10:08 /usr/bin/su Lab: Test the Effect of setuid Bit on Executable Files Open 2 terminal windows. Switch to user1 in terminal1 [vagrant@server1 ~]$ su - user1 Password: Last login: Sun Feb 5 12:37:12 UTC 2023 on pts/1 Switch to root on terminal2 sudo su - root T1 Revoke the setuid bit from /usr/bin/su chmod -v u-s /usr/bin/su T2 log off as root ctrl+d Try to log in has root from both terminals [user1@server1 ~]$ su - root Password: su: Authentication failure T1 restore the setuid bit [vagrant@server1 ~]$ sudo chmod -v +4000 /usr/bin/su mode of '/usr/bin/su' changed from 0755 (rwxr-xr-x) to 4755 (rwsr-xr-x) Lab: Test the Effect of setgid Bit on Executable Files Log into two terminals T1 root T2 user1 Opened with ssh\nT2 list users currently logged in\nwho T2 send a message to root write root T1 revoke setgid from /usr/bin/write chmod g-s /usr/bin/write -v Try to write root [user1@server1 ~]$ write root write: effective gid does not match group of /dev/pts/0 Restore the setgid bit on /usr/bin/write: [root@server1 ~]# sudo chmod -v +2000 /usr/bin/write mode of '/usr/bin/write' changed from 0755 (rwxr-xr-x) to 2755 (rwxr-sr-x) Test write root Lab: Set up Shared Directory for Group Collaboration set up 2 test users [root@server1 ~]# adduser user100 [root@server1 ~]# adduser user200 Add group sgrp with GID 9999 with the groupadd command: [root@server1 ~]# groupadd -g 9999 sgrp Add user100 and user200 as members to sgrp using the usermod command: [root@server1 ~]# usermod -aG sgrp user100 [root@server1 ~]# usermod -aG sgrp user200 Create /sdir directory [root@server1 ~]# mkdir /sdir Set ownership and owning group on /sdir to root and sgrp, using the chown command: [root@server1 ~]# chown root:sgrp /sdir Set the setgid bit on /sdir using the chmod command: [vagrant@server1 ~]$ sudo chmod g+s /sdir Add write permission to the group members on /sdir and revoke all permissions from public: [root@server1 ~]# chmod g+w,o-rx /sdir Verify [root@server1 ~]# ls -ld /sdir drwxrws---. 2 root sgrp 6 Feb 13 15:49 /sdir Switch or log in as user100 and change to the /sdir directory: [root@server1 ~]# su - user100 [user100@server1 ~]$ cd /sdir Create a file and check the owner and owning group on it: [user100@server1 sdir]$ touch file100 [user100@server1 sdir]$ ls -l file100 -rw-rw-r--. 1 user100 sgrp 0 Feb 10 22:41 file100 Log out as user100, and switch or log in as user200 and change to the /sdir directory: [root@server1 ~]# su - user200 [user200@server1 ~]$ cd /sdir Create a file and check the owner and owning group on it: [user200@server1 sdir]$ touch file200 [user200@server1 sdir]$ ls -l file200 -rw-rw-r--. 1 user200 sgrp 0 Feb 13 16:01 file200 Lab: View “t” in permissions for sticky bit [user200@server1 sdir]$ ls -l /tmp /var/tmp -d drwxrwxrwt. 8 root root 185 Feb 13 16:12 /tmp drwxrwxrwt. 4 root root 113 Feb 13 16:00 /var/tmp Lab: Test the effect of Sticky Bit Switch to user100 and change to the /tmp directory [user100@server1 sdir]$ cd /tmp Create file called stckyfile [user100@server1 tmp]$ touch stickyfile Try to delete the file as user200 [user200@server1 tmp]$ rm stickyfile rm: remove write-protected regular empty file 'stickyfile'? y rm: cannot remove 'stickyfile': Operation not permitted Revoke the /tmp stickybit and confirm [vagrant@server1 ~]$ sudo chmod o-t /tmp [vagrant@server1 ~]$ ls -ld /tmp drwxrwxrwx. 8 root root 4096 Feb 13 22:00 /tmp Retry the removal as user200 rm stickyfile Restore the sticky bit on /tmp sudo chmod -v +1000 /tmp Lab: Manipulate File Permissions (user1) Create file file11 and directory dir11 in the home directory. Make a note of the permissions on them. touch file11 mkdir dir11 Run the umask command to determine the current umask. umask Change the umask value to 0035 using symbolic notation. umask g=r,0=w Create file22 and directory dir22 in the home directory. touch file22 mkdir dir22 Observe the permissions on file22 and dir22, and compare them with the permissions on file11 and dir11. ls -l Use the chmod command and modify the permissions on file11 to match those on file22. chmod g-w,o-r,o+w file11 Use the chmod command and modify the permissions on dir22 to match those on dir11. Do not remove file11, file22, dir11, and dir22 yet. chmod g-wx,o-rx,o+w dir11 Lab: Configure Group Collaboration and Prevent File Deletion (root) create directory /sdir. Create group sgrp and create user1000 and user2000 and add them to the group: mkdir /sdir groupadd sgrp adduser user1000 \u0026\u0026 adduser user2000 usermod -a -G sgrp user1000 usermod -a -G sgrp user2000 Set up appropriate ownership (root), owning group (sgrp), and permissions (rwx for group, — for public, s for group, and t for public) on the directory to support group collaboration and ensure non-owners cannot delete files. chgrp sgrp sdir chmod g=rwx,o=--- sdir chmod o+t sdir chmod g+s sdir Log on as user1000 and create a file under /sdir. su - user1000 cd /sdir touch testfile Log on as user2000 and try to edit that file. You should be able to edit the file successfully. su - user200 cd /sdir vim testfile cat testfile As user2000 try to delete the file. You should not be able to. rm testfile Lab: Find Files (root) Search for all files in the entire directory structure that have been modified in the last 300 minutes and display their type. find /sdir -mtime -300 -exec file {} \\; Search for named pipe and socket files. find / -type p find / -type s Lab: Find Files Using Different Criteria (root) Search for regular files under /usr that were accessed more than 100 days ago, are not bigger than 5MB in size, and are owned by the user root. find /usr -type f -mtime +100 -size -5M -user root Lab: Apply ACL Settings (root) Create file testfile under /tmp. touch /tmp/testfile Create users. adduser user2000 adduser user3000 adduser user4000 Apply ACL settings on the file so that user2000 gets 7, user3000 gets 6, and user4000 gets 4 permissions. setfacl -m u:user2000:7 testfile setfacl -m u:user3000:6 testfile setfacl -m u:user4000:4 testfile Remove the ACLs for user2000, and verify. setfacl -x user2000 testfile getfacl testfile Erase all remaining ACLs at once, and confirm. setfacl -b testfile getfacl testfile",
    "description": "File permissions, ACLs, and finding things",
    "tags": [],
    "title": "Advanced File Management",
    "uri": "/redhat/advanced-file-management/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "Package Groups package group Group of packages that serve a common purpose. Can query, install, and delete as a single unit rather than dealing with packages individually. Two types of package groups: environment groups and package groups. environment groups available in RHEL 9:\nserver, server with GUI, minimal install, workstation, virtualization host, and custom operating system. Listed on the software selection window during RHEL 9 installation. Package groups include:\ncontainer management, smart card support, security tools, system tools, network servers, etc. Individual packages, package groups, and modules: Individual Package Management List, install, query, and remove packages.\nListing Available and Installed Packages dnf lists available packages as well as installed packages. Lab: list all packages available for installation from all enabled repos, sudo dnf repoquery Lab: list of packages that are available only from a specific repo: sudo dnf repoquery --repo \"BaseOS\" Lab: grep for an expression to narrow down your search. For example, to find whether the BaseOS repo includes the zsh package.\nsudo dnf repoquery --repo BaseOS | grep zsh Lab: list all installed packages on the system: sudo dnf list installed Three columns: - package name - package version - repo it was installed from. - @anaconda means the package was installed at the time of RHEL installation.\nList all installed packages and all packages available for installation from all enabled repositories:\nsudo dnf list @ sign identifies the package as installed. List all packages available from all enabled repositories that should be able to update:\nsudo dnf list updates List whether a package (bc, for instance) is installed or available for installation from any enabled repository:\nsudo dnf list bc List all installed packages whose names begin with the string “gnome” followed by any number of characters:\nsudo dnf list installed ^gnome* List recently added packages:\nsudo dnf list recent Refer to the repoquery and list subsections of the dnf command manual pages for more options and examples.\nInstalling and Updating Packages Installing a package:\ncreates the necessary directory structure installs the required files runs any post-installation steps. If already installed, dnf command updates it to the latest available version. Attempt to install a package called ypbind, proceed to update if it detects the presence of an older version:\nsudo dnf install ypbind Install or update a package called dcraw located locally at /mnt/AppStream/Packages/\nsudo dnf localinstall /mnt/AppStream/Packages/dcraw* Update an installed package (autofs, for example) to the latest available version. Dnf will fail if the specified package is not already installed:\nsudo dnf update autofs Update all installed packages to the latest available versions:\nsudo dnf -y update Refer to the install and update subsections of the dnf command manual pages for more options and examples.\nExhibiting Package Information Show:\nrelease size whether it is installed or available for installation repo name it was installed or is available from short and long descriptions license so on dnf info subcommand\nView information about a package called autofs:\ndnf info autofs Determines whether the specified package is installed or not. Refer to the info subsection of the dnf command manual pages.\nRemoving Packages Removing a package:\nuninstalls it and removes all associated files and directory structure. erases any dependencies as part of the deletion process. Remove a package called ypbind:\nsudo dnf remove ypbind Output\nResolved dependencies List of the packages that it would remove. Disk space that their removal would free up. After confirmation, it erased the identified packages and verified their removal. List of the removed packages Refer to the remove subsection of the dnf command manual pages for more options and examples available for removing packages.\nLab: Manipulate Individual Packages Perform management operations on a package called cifs-utils. Determine if this package is already installed and if it is available for installation. Display its information before installing it. Install the package and exhibit its information. Erase the package along with its dependencies and confirm the removal.\nCheck whether the cifs-utils package is already installed: dnf list installed | grep cifs-utils Determine if the cifs-utils package is available for installation: dnf repoquery cifs-utils Display detailed information about the package: dnf info cifs-utils Install the package: dnf install -y cifs-utils Display the package information again: dnf info cifs-utils Remove the package: dnf remove -y cifs-utils Confirm the removal: dnf list installed | grep cif Determining Provider and Searching Package Metadata You can determine what package a specific file belongs to or which package comprises a certain string. Search for packages that contain a specific file such as /etc/passwd/, use the provides or the whatprovides subcommand with dnf:\ndnf provides /etc/passwd Indicates file is part of a package called setup, installed during RHEL installation.\nSecond instance, setup package is part of the BaseOS repository.\nCan also use a wildcard character for filename expansion.\nList all packages that contain filenames beginning with “system-config” followed by any number of characters:\ndnf whatprovides /usr/bin/system-config* To search for all the packages that match the specified string in their name or summary:\ndnf search system-config Package Group Management group subcommand list, install, query, and remove groups of packages. Listing Available and Installed Package Groups group list subcommand:\nlist the package groups available for installation from either or both repos list the package groups that are already installed on the system. List all available and installed package groups from all repositories:\ndnf group list output:\ntwo categories of package groups: Environment group Package groups Environment group:\nLarger collection of RHEL packages that provides all necessary software to build the operating system foundation for a desired purpose. Package group\nSmall bunch of RHEL packages that serve a common purpose. Saves time on the deployment of individual and dependent packages. Output shows installed and available package groups. Display the number of installed and available package groups:\nsudo dnf group summary List all installed and available package groups including those that are hidden:\nsudo dnf group list hidden Try group list with --installed and --available options to narrow down the output list.\nsudo dnf group list --installed List all packages that a specific package group such as Base contains:\nsudo dnf group info Base -v option with the group info subcommand for more information.\nReview group list and group info subsections of the dnf man pages.\nInstalling and Updating Package Groups Creates the necessary directory structure for all the packages included in the group and all dependent packages. Installs the required files. Runs any post-installation steps. Attempts to update all the packages included in the group to the latest available versions. Install a package group called Emacs. Update if it detects an older version.\nsudo dnf -y groupinstall emacs Update the smart card support package group to the latest version:\ndnf groupupdate \"Smart Card Support\" Refer to the group install and group update subsections of the dnf command manual pages for more details.\nRemoving Package Groups Uninstalls all the included packages and deletes all associated files and directory structure. Erases any dependencies Erase the smart card support package group that was installed:\nsudo dnf -y groupremove 'smart card support' Refer to the remove subsection of the dnf command manual pages for more details.\nLab: Manipulate Package Groups Perform management operations on a package group called system tools. Determine if this group is already installed and if it is available for installation. List the packages it contains and install it. Remove the group along with its dependencies and confirm the removal.\nCheck whether the system tools package group is already installed: dnf group list installed Determine if the system tools group is available for installation: dnf group list available The group name is exhibited at the bottom of the list under the available groups.\nDisplay the list of packages this group contains: dnf group info 'system tools' All of the packages will be installed as part of the group installation. Install the group: sudo dnf group install 'system tools' Remove the group: sudo dnf group remove 'system tools' -y Confirm the removal: dnf group list installed Application Streams and Modules Application Streams\nIntroduced in RHEL 8. Employs a modular approach to organize multiple versions of a software application alongside its dependencies to be available for installation from a single repository. module\nLogical set of application packages that includes everything required to install it, including the executables, libraries, documentation, tools, and utilities as well as dependent components. Modularity gives the flexibility to choose the version of software based on need. In older RHEL releases, each version of a package would have to come from a separate repository. (This has changed in RHEL 8.) Now modules of a single application with different versions can be stored and made available for installation from a common repository. The package management tool has also been enhanced to manipulate modules. RHEL 9 is shipped with two core repositories called BaseOS and Application Stream (AppStream). BaseOS repository\nIncludes the core set of RHEL 9 components kernel, modules, bootloader, and other foundational software packages. Lays the foundation to install and run software applications and programs. Available in the traditional rpm format. AppStream repository\nComes standard with core applications, Plus several add-on applications Rpm and modular format Include web server software, development languages, database software, etc. Benefits of Segregation Why separate BaseOS components from other applications?\n(1) Separates application components from the core operating system elements.\n(2) Allows publishers to deliver and administrators to apply application updates more frequently.\nIn previous RHEL versions, an OS update would update all installed components including the kernel, service, and application components to the latest versions by default.\nThis could result in an unstable system or a misbehaving application due to an unwanted upgrade of one or more packages.\nBy detaching the base OS components from the applications, either of the two can be updated independent of the other.\nThis provides enhanced flexibility in tailoring the system components and application workloads without impacting the underlying stability of the system.\nModule Streams Collection of packages organized by version Each module can have multiple streams Each stream receives updates independent of the other streams Stream can be enabled or disabled. enabled stream\nAllows the packages it contains to be queried or installed Only one stream of a specific module can be enabled at a time Each module has a default stream, which provides the latest or the recommended version. Module Profiles List of recommended packages organized for purpose-built, convenient deployments to support a variety of use cases such as: Minimal, development, common, client, server, etc. A profile may also include packages from the BaseOS repository or the dependencies of the stream Each module stream can have zero, one, or more profiles associated with it with only one of them marked as the default. Module Management Modules are special package groups usually representing an application, a language runtime, or a set of tools. They are available in one or multiple streams which usually represent a major version of a piece of software, They are available in one or multiple streams which give you an option to choose what versions of packages you want to consume. https://docs.fedoraproject.org/en-US/modularity/using-modules/\nModules are a way to deliver different versions of software (such as programming languages, databases, or web servers) independently of the base operating system’s release cycle.\nEach module can contain multiple streams, representing different versions or configurations of the software. For example, a module for Python might have streams for Python 2 and Python 3.\nmodule dnf subcommand\nlist, enable, install, query, remove, and disable modules. Listing Available and Installed Modules List all modules along with their stream, profile, and summary information available from all configured repos:\ndnf module list Limit the output to a list of modules available from a specific repo such as AppStream by adding --repo AppStream:\ndnf module list --repo AppStream Output:\ndefault (d) enabled (e) disabled (x) installed (i) List all the streams for a specific module such as ruby and display their status:\ndnf module list ruby Modify the above and list only the specified stream 3.3 for the module ruby\ndnf module list ruby:3.3 List all enabled module streams:\ndnf module list --enabled Similarly, you can use the --installed and --disabled options with dnf module list to output only the installed or the disabled streams.\nRefer to the module list subsection of the dnf command manual pages.\nInstalling and Updating Modules Installing a module\nCreates directory tree for all packages included in the module and all dependent packages. Installs required files for the selected profile. Runs any post-installation steps. If module being loaded or a part of it is already present, the command attempts to update all the packages included in the profile to the latest available versions. Install the perl module using its default stream and default profile:\nsudo dnf -y module install perl Update a module called squid to the latest version:\nsudo dnf module update squid -y Install the profile “common” with stream “rhel9” for the container-tools module: (module:stream/profile)\nsudo dnf module install container-tools:rhel9/common Displaying Module Information Shows Name, stream, version, list of profiles, default profile, repo name module was installed or is available from Summary, description, and artifacts. Can be viewed by supplying module info with dnf. List all profiles available for the module ruby:\ndnf module info --profile ruby Limit the output to a particular stream such as 3.1:\ndnf module info --profile ruby:3.1 Refer to the module info subsection of the dnf command manual pages for more details.\nRemoving Modules Removing a module will:\nUninstall all the included packages and Delete all associated files and directory structure. Erases any dependencies as part of the deletion process. Remove the ruby module with “3.1” stream:\nsudo dnf module remove ruby:3.1 Refer to the module remove subsection of the dnf command manual pages:\nLab: Manipulate Modules Perform management operations on a module called postgresql. Determine if this module is already installed and if it is available for installation. Show its information and install the default profile for stream “10”. Remove the module profile along with any dependencies confirm the removal. Check whether the postgresql module is already installed(i): dnf module list postgresql Display detailed information about the default stream of the module: dnf module info postgresql:15 Install the module with default profile for stream “15”: sudo dnf -y module install --profile postgresql:15 Display the module information again: dnf module info postgresql:15 Erase the module profile for the stream: dnf module remove -y postgresql:15 Confirm the removal (back to (d)): dnf module info postgresql:15 Switching Module Streams Typically performed to upgrade or downgrade the version of an installed module. process:\nuninstall the existing version provided by a stream alongside any dependencies that it has,\nswitch to the other stream\ninstall the desired version.\nInstalling a module from a stream automatically enables the stream if it was previously disabled\nyou can manually enable or disable it with the dnf command.\nOnly one stream of a given module enabled at a time.\nAttempting to enable another one for the same module automatically disables the current enabled stream.\ndnf module list and dnf module info expose the enable/disable status of the module stream.\nLab: Install a Module from an Alternative Stream Downgrade a module to a lower version. Remove the stream ruby 3.3 and Confirm its removal. manually enable the stream perl 5.24 and confirm its new status. install the new version of the module and display its information. Check the current state of all perl streams: dnf module list perl Remove perl 5.26: sudo dnf module remove perl -y Confirm the removal: dnf module list ruby Reset the module so that neither stream is enabled or disabled. This will remove the enabled (e) indication from ruby 3.3 sudo dnf module reset ruby Install the non-default profile “minimal” for ruby stream 3.1. This will auto-enable the stream. –allowerasing\nWill instruct the command to remove installed packages for dependency resolution. sudo dnf module install ruby:3.1 --allowerasing Check the status of the module: dnf module list perl The dnf Command Introduced in RHEL 8 Can use interchangeably with yum in RHEL yum is a soft link to the dnf utility. Requires the system to have access to either: a local or remote software repository a local installable package file. Subscription Management* (RHSM) service\nAvailable in the Red Hat Customer Portal\nOffers access to official Red Hat software repositories.\nOther web-based repositories that host packages are available\nYou can also set up a local, custom repository on your system and add packages of your choice to it.\nPrimary benefit of using dnf over rpm:\nResolve dependencies automatically\nBy identifying and installing any additional required packages With multiple repositories set up, dnf extracts the software from wherever it finds it.\nPerform abundant software administration tasks.\nInvokes the rpm utility in the background\nCan perform a number of operations on individual packages, package groups, and modules:\nlisting querying installing removing enabling and disabling specific module streams. Software handling tasks that dnf can perform on packages:\nClean and repolist are specific to repositories. Refer to the manual pages of dnf for additional subcommands, operators, options, examples, and other details. Subcommand Description check-update Checks if updates are available for installed packages clean Removes cached data history Display previous dnf activities as recorded in /var/lib/dnf/history/ info Show details for a package install Install or update a package list List installed and available packages provides Search for packages that contain the specified file or feature reinstall Reinstall the exact version of an installed package remove Remove a package and its dependencies repolist List enabled repositories repoquery Runs queries on available packages search Searches package metadata for the specified string upgrade Updates each installed package to the latest version dnf subcommands that are intended for operations on package groups and modules:\nSubcommand Description group install Install or updates a package group group info Return details for a package group group list List available package groups group remove Remove a package group module disable Disable a module along with all the streams it contains module enable Enable a module along with all the streams it contains module install Install a module profile including its packages module info Show details for a module module list Lists all available module streams along with their profiles and status module remove Removes a module profile including its packages module reset Resets a module so that it is neither in enable nor in disable state module update Updates packages in a module profile For labs, you’ll need to create a definition file and configure access to the two repositories available on the RHEL 8 ISO image.\nLab: Configure Access to Pre-Built Repositories Set up access to the two dnf repositories that are available on RHEL 9 image. (You should have already configured an automatic mounting of RHEL 9 image on /mnt.) Create a definition file for the repositories and confirm.\nVerify that the image is currently mounted: df -h | grep mnt Create a definition file called local.repo in /etc/yum.repos.d/ using the vim editor and define the following data for both repositories in it: [BaseOS] name=BaseOS baseurl=file:///mnt/BaseOS gpgcheck=0 [AppStream] name=AppStream baseurl=file:///mnt/AppStream gpgcheck=0 Confirm access to the repositories: sudo dnf repolist Ignore lines 1-4 in the output that are related to subscription and system registration. Lines 5 and 6 show the rate at which the command read the repo data. Line 7 displays the timestamp of the last metadata check. last two lines show the repo IDs, repo names, and a count of packages they hold. AppStream repo consists of 4,672 packages BaseOS repo contains 1,658 packages. Both repos are enabled by default and are ready for use. dnf yum Repository dnf repository (yum repository or a repo)\nDigital library for storing software packages\nRepository is accessed for package retrieval, query, update, and installation\nThe two repositories\nBaseOS and AppStream come preconfigured with the RHEL 9 ISO image. Number of other repositories available on the Internet that are maintained by software publishers such as Red Hat and CentOS.\nCan build private custom repositories for internal IT use for stocking and delivering software.\nGood practice for an organization with a large Linux server base, as it manages dependencies automatically and aids in maintaining software consistency across the board. Can also be used to store in-house developed packages.\nIt is important to obtain software packages from authentic and reliable sources such as Red Hat to prevent potential damage to your system and to circumvent possible software corruption.\nThere is a process to create repositories and to access preconfigured repositories.\nThere are two pre-set repositories available on the RHEL 9 image. You will configure access to them via a definition file to support the exercises and lab environment.\nRepository Definition File Repo definition files are located in /etc/yum.repos.d/ Can create local.repo file in this directory to specify local repos See dnf.conf man page Sample repo definition file and key directives:\n[BaseOS_RHEL_9] name= RHEL 9 base operating system components baseurl=file://*mnt*BaseOS enabled=1 gpgcheck=0 EXAM TIP:\nKnowing how to configure a dnf/yum repository using a URL plays an important role in completing some of the RHCSA exam tasks successfully. Use two forward slash characters (//) with the baseurl directive for an FTP, HTTP, or HTTPS source. Five lines from a sample repo file: Line 1 defines an exclusive ID within the square brackets. Line 2 is a brief description of the repo with the “name” directive. Line 3 is the location of the repodata directory with the “baseurl” directive. Line 4 shows whether this repository is active. Line 5 shows if packages are to be GPGchecked for authenticity.\nEach repository definition file must have:\nUnique ID Description Baseurl directive defined Other directives are set as required. The baseurl directive for a local directory path is defined as file:///local_path\nThe first two forward slash characters represent the URL convention, and the third forward slash is for the absolute path to the destination directory) FTP and \\ftp://hostname/network_path HTTP(S) http(s)://hostname/network_path network path must include a resolvable hostname or an IP address. Software Management with dnf Tools are available to work with individual packages as well as package groups and modules. rpm command is limited to managing one package at a time. dnf has an associated configuration file that can define settings to control its behavior. dnf Configuration File Key configuration file: /etc/dnf/dnf.conf “main” section - Sets directives that have a global effect on dnf operations. Can define separate sections for each custom repository that you plan to set up on the system. Preferred location to store configuration for each custom repository in their own definition files is in /etc/yum.repos.d default location created for this purpose. Default content of this configuration file:\ncat /etc/dnf/dnf.conf [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False The above and a few other directives that you may define in the file:\nDirective Description best Whether to install (or upgrade to) the latest available version. clean_requirements_on_remove Whether to remove dependencies during a package removal process that are no longer in use. debuglevel Sets debug from 1 (minimum) and 10 (maximum). Default is 2. A value of 0 disables this feature. gpgcheck Whether to check the GPG signature for package authenticity. Default is 1 (enabled). installonly_limit Count of packages that can be installed concurrently. Default is 3. keepcache Defines whether to store the package and header cache following a successful installation. Default is 0 (disabled). logdir Sets the directory location to store the log files. Default is /var/log/ obsoletes Checks and removes any obsolete dependent packages during installs and updates. Default is 1 (enabled). For other directives: man 5 dnf.conf\nAdvanced Package Management DIY Labs Configure Access to RHEL 8 Repositories (Make sure the RHEL 8 ISO image is attached to the VM and mounted.) Create a definition file under /etc/yum.repos.d/, and define two blocks (one for BaseOS and another for AppStream). vim /etc/yum.repos.d/local.repo [BaseOS] name=BaseOS baseurl=file:///mnt/BaseOS gpgcheck=0 [AppStrean] name=AppStream baseurl=file:///mnt/AppStream gpgcheck=0 Verify the configuration with dnf repolist. You should see numbers in thousands under the Status column for both repositories. dnf repolist -v Lab: Install and Manage Individual Packages List all installed and available packages separately. dnf list --available \u0026\u0026 dnf list --installed Show which package contains the /etc/group file. dnf provides /etc/group Install the package httpd. dnf -y install httpd Review /var/log/yum.log/ for confirmation. (/var/lib/dnf/history) dnf history Perform the following on the httpd package: Show information dnf info httpd List dependencies dnf repoquery --requires httpd Remove it dnf remove httpd Lab Install and Manage Package Groups List all installed and available package groups separately. dnf group list available \u0026\u0026 dnf group list installed Install package groups Security Tools and Scientific Support. dnf group install 'Security Tools' Review /var/log/yum.log for confirmation. dnf history Show the packages included in the Scientific Support package group, and delete this group. dnf group info 'Scientific Support' \u0026\u0026 dnf group remove 'Scientific Support' Lab: Install and Manage Modules List all modules. Identify which modules, streams and profiles are installed, default, disabled, and enabled from the output. dnf module list Install the default stream of the development profile for module php, and verify. dnf module install php \u0026\u0026 dnf module list Remove the module. dnf module remove php Lab Switch Module Streams and Install Software List postgresql module. This will display the streams and profiles, and their status. dnf module list postgresql Reset both streams dnf module reset postgresql enable the stream for the older version, and install its client profile. dnf module install postgresql:15",
    "description": "Managing package groups, application streams, modules, and DNF",
    "tags": [],
    "title": "Advanced Package Management",
    "uri": "/redhat/advanced-package-management/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "Local User Authentication Files Three supported account types: root, normal, service root has full access to all services and administrative functions on the system. created by default during installation. Normal user-level privileges cannot perform any administrative functions can run applications and programs that have been authorized. Service take care of their respective services, which include apache, ftp, mail, and chrony. User account information for local users is stored in four files that are located in the /etc directory. passwd, shadow, group, and gshadow (user authentication files) updated when a user or group account is created, modified, or deleted. referenced to check and validate the credentials for a user at the time of their login attempt, system creates their automatic backups by default as passwd-, shadow-, group-, and gshadow- in the /etc directory. /etc/passwd vital user login data each row hold info for one user 644 permissions by default 7 feilds per row login name up to 255 characters _ and - characters are supported not recommended to include special characters and uppercase letters in login names. password “x” in this field points to /etc/shadow for actual password. “*” identifies disabled account Can also include a hashed password (RHEL uses SHA-512 by default) UID Number between 0 and 4.2 billion UID 0 is reserved for root account UIDs 1-200 are used by Red Hat for core service accounts UIDs 201-999 are reserved for non-core service accounts UIDs 1000 \u003c are for normal user accounts (starts at 1000 by default) GID GID that matches entry in /etc/group (primary group) Group for every user by default that matches UID Comments (GECOS) or (GCOS) general comments about the user Home Directory absolute path to the user home directory. Shell absolute path of the shell file for the user’s primary shell after logging in. (default = (/bin/bash)) /etc/shadow no access permissions for any user (even root) (but owned by root) secure password control (shadow password) user passwords are hashed and stored in a more secure file /etc/shadow limits on user passwords in terms of expiration, warning period, etc. applied on per-user basis limits and other settings are defined in /etc/login.defs user is initially checked in the passwd file for existence and then in the shadow file for authenticity. contains user authentication and password aging information. Each row in the file corresponds to one entry in the passwd file. login names are used as a common key between the shadow and passwd files. nine colon-separated fields per line entry. 1 Login name 2 Encrypted password ! at the beginning of this field shows that the user account is locked if field is empty then user has passwordless entry 3 last change Number of days (lastchg) since the UNIX epoch, (UNIX time (January 01, 1970 00:00:00 UTC) when the password was last modified. Empty field represents the passiveness of password aging features. 0 forces the user to change their password upon next login. 4 minimum number of days (mindays) that must elapse before the user is allowed to change their password can be altered using the chage command with the -m option or the passwd command with the -n option. 0 or null in this field disables this feature. 5 (Maximum) maximum number of days (maxdays) before the user password expires and must be changed. may be altered using the chage command with the -M option or the passwd command with the -x option. null value here disables this feature along with other features such as the maximum password age, warning alerts, and the user inactivity period. 6 Field 6 (Warning) number of days (warndays) the user gets warnings for changing their password before it expires. may be altered using the chage command with the -W option or the passwd command with the -w option. 0 or null in this field disables this feature. 7 Password Expiry) maximum allowable number of days for the user to be able to log in with the expired password. (inactivity period). may be altered using the chage command with the -I option or the passwd command with the -i option. empty field disables this feature. 8 (Account Expiry) number of days since the UNIX time when the user account will expire and no longer be available. may be altered using the chage command with the -E option. empty field disables this feature. 9 (Reserved): Reserved for future use. /etc/group plaintext file and contains critical group information. 644 permissions by default and owned by root. Each row in the file stores information for one group entry. Every user on the system must be a member of at least one group (User Private Group (UPG)). a group name matches the username it is associated with by default four colon-separated fields per line entry. Field 1 (Group Name): Holds a group name that must begin with a letter. Group names with up to 255 characters, including the uppercase, underscore (_) and hyphen (-) characters, are also supported. (not recommended) Field 2 (Encrypted Password): Can be empty or contain an “x” (points to the /etc/gshadow file for the actual password), or a hashed group-level password. can set a password on a group for non-members to be able to change their group identity temporarily using the newgrp command. non-members must enter the correct password in order to do so. Field 3 (GID): Holds a GID, that is also placed in the GID field of the passwd file. By default, groups are created with GIDs starting at 1000 and with the same name as the username. system allows several users to belong to a single group also allows a single user to be a member of multiple groups at the same time. Field 4 (Group Members): Lists the membership for the group. (user’s primary group is always defined in the GID field of the passwd file.) /etc/gshadow no access permissions for any user (even root) group passwords are hashed and stored group names are used as a common key between the gshadow and group files. 000 permissions and owned by root four colon-separated fields Field 1 (Group Name): Consists of a group name as appeared in the group file. Field 2 (Encrypted Password): Can contain a hashed password, which may be set with the gpasswd command for non-group members to access the group temporarily using the newgrp command. single exclamation mark (!) or a null value in this field allows group members password-less access and restricts non-members from switching into this group. Field 3 (Group Administrators): Lists usernames of group administrators that are authorized to add or remove members with the gpasswd command. Field 4 (Members): comma-separated list of members. gpasswd command: add group administrators. add or delete group members. assign or revoke a group-level password. disable the ability of the newgrp command to access a group. picks up the default values from the /etc/login.defs file. useradd and login.defs configuration files useradd command picks up the default values from the /etc/default/useradd and /etc/login.defs files for any options that are not specified at the command line when executing it. login.defs file is also consulted by the usermod, userdel, chage, and passwd commands Both files store several defaults including those that affect the password length and password lifecycle. /etc/default/useradd Default Directives: starting GID (GROUP) (provided the USERGROUPS_ENAB directive in the login.defs file is set to no) home directory location (HOME) number of inactivity days between password expiry and permanent account disablement (INACTIVE) account expiry date (EXPIRE), login shell (SHELL), skeleton directory location to copy user initialization files from (SKEL) whether to create mail spool directory (CREATE_MAIL_SPOOL) /etc/login.defs default directives: MAIL_DIR\nmail directory location PASS_MAX_DAYS, PASS_MIN_DAYS, PASS_MIN_LEN, and PASS_WARN_AGE\npassword aging attributes. UID_MIN, UID_MAX, GID_MIN, and GID_MAX\nranges of UIDs and GIDs to be allocated to new users and groups SYS_UID_MIN, SYS_UID_MAX, SYS_GID_MIN, and SYS_GID_MAX\nranges of UIDs and GIDs to be allocated to new service users and groups CREATE_HOME\nwhether to create a home directory UMASK\npermissions to be set on the user home directory at creation based on this umask value USERGROUPS_ENAB\nwhether to delete a user’s group (at the time of user deletion) if it contains no more members ENCRYPT_METHOD\nencryption method for user passwords Password Aging attributes Can be done for an individual user or applied to all users. Can prevent users from logging in to the system by locking their access for a period of time or permanently. Must be performed by a user with elevated privileges of the root user. Normal users may be allowed access to privileged commands by defining them appropriately in a configuration file. Each file that exists on the system regardless of its type has an owning user and an owning group. every file that a user creates is in the ownership of that user. ownership may be changed and given to another user by a super user. Password Aging and management Setting restrictions on password expiry, account disablement, locking and unlocking users, and password change frequency. Can choose to inactivate it completely for an individual user. Stored in the /etc/shadow file (fields 4 to 8) and its default policies in the /etc/login.defs configuration file. aging management tools—chage and passwd— usermod command can be used to implement two aging attributes (user expiry and password expiry) and lock and unlock user accounts. chage command Set or alter password aging parameters on a user account. Changes various fields in the shadow file Switches -d (–lastday) Specifies an explicit date in the YYYY-MM-DD format, or the number of days since the UNIX time when the password was last modified. With -d 0, the user is forced to change the password at next login. It corresponds to field 3 in the shadow file. -E (–expiredate) Sets an explicit date in the YYYY-MM-DD format, or the number of days since the UNIX time on which the user account is deactivated. This feature can be disabled with -E -1. It corresponds to the eighth field in the shadow file. -I (–inactive) Defines the number of days of inactivity after the password expiry and before the account is locked. The user may be able to log in during this period with their expired password. This feature can be disabled with -I -1. It corresponds to field 7 in the shadow file. -l Lists password aging attributes set on a user account. -m (–mindays) Indicates the minimum number of days that must elapse before the password can be changed. A value of 0 allows the user to change their password at any time. It corresponds to field 4 in the shadow file. -M (–maxdays) Denotes the maximum number of days of password validity before the user password expires and it must be changed. This feature can be disabled with -M -1. It corresponds to field 5 in the shadow file. -W (–warndays) Designates the number of days for which the user gets alerts to change their password before it expires. It corresponds to field 6 in the shadow file. passwd command set or modify a user’s password modify the password aging attributes and lock or unlock account Switches -d (–delete) Deletes a user password does not expire the user account. -e (–expire) Forces a user to change their password upon next logon. sets date to prior to Unix time -i (–inactive) Defines the number of days of inactivity after the password expiry and before the account is locked. (field 7 in shadow file) -l (–lock) Locks a user account. -n (–minimum) Specifies the number of days that must elapse before the password can be changed. (field 4 in shadow file) -S (–status) Displays the status information for a user. -u (–unlock) Unlocks a locked user account. -w (–warning) Designates the number of days for which the user gets alerts to change their password before it actually expires. (field 6 in shadow file) -x (–maximum) Denotes the maximum number of days of password validity before the user password expires and it must be changed. (field 5 in shadow file) usermod command Modify a user’s attribute Lock or unlock their account Switches -L (–lock) Locks a user account by placing a single exclamation mark (!) at the beginning of the password field and before the hashed password string. -U (–unlock) Unlocks a user’s account by removing the exclamation mark (!) from the beginning of the password field. Linux Groups and their Management /etc/group group info /etc/login.defs default policies /etc/gshadow group administrator information and group-level passwords group management tools groupadd, groupmod, and groupdel create, alter, and erase groups groupadd command adds entries to the group and gshadow files for each group added to the system picks up default values from /etc/login.defs Switches -g (–gid) Specifies the GID to be assigned to the group -o (–non-unique) Creates a group with a matching GID of an existing group. When two groups have an identical GID, members of both groups get identical rights on each other’s files. This should only be done in specific situations. -r Creates a system group with a GID below 1000 groupname Specifies a group name groupmod command syntax of this command is very similar to the groupadd with most options identical. Additional flags -n change name of existing group User Management Switching Users su command Ctrl-d - return to previous user su - - switch user with startup scripts -c - issue a command as a user without switching to them.\nroot user can switch into any user account that exists on the system without being prompted for that user’s password. switching into the root account to execute privileged actions is not recommended. whoami command show current user logname command Identity of the user who originally logged in. groupdel command removes entries for the specified group from both group and gshadow files. Doing as Superuser (substitute user) Any normal user that requires privileged access to administrative commands or non-owning files is defined in the sudoers file. File may be edited with a command called visudo Creates a copy of the file as sudoers.tmp and applies the changes there. After the visudo session is over, the updated updated file overwrites the original sudoers file and sudoers.tmp is deleted. syntax user1 ALL=(ALL) ALL %dba ALL=(ALL) ALL group is prefixed by % Make it so members are not prompted for password user1 ALL=(ALL) NOPASSWD:ALL %dba ALL=(ALL) NOPASSWD:ALL Limit access to a single command user1 ALL=/usr/bin/cat %dba ALL=/usr/bin/cat too many entries can clutter sudoers file. Use aliases instead: User_Alias you can define a User_Alias called PKGADM for user1, user100, and user200. These users may or may not belong to the same Linux group. Cmnd_Alias you can define a Cmnd_Alias called PKGCMD containing yum and rpm package management commands sudo command /etc/sudoers /etc/sudoers.d/ drop-in directory /var/log/secure Sudo logs successful authentication and command data to here under the name of the user using the command. Owning User and Owning Group Every file and directory has an owner. Creator assumes ownership by default. Every user is a member of one or more groups. Owners group is also assigned to file or directory by default. chown command alter the ownership for files and directories Must have root privileges. Can also change owning group. chgrp command alter the owning group for files and directories Must have root privileges. Advanced User Management Labs Lab: Set and Confirm Password Aging with chage (root) Set password aging parameters for user100 to mindays (-m) 7, maxdays (-M) 28, and warndays (-W) 5: chage -m 7 -M 28 -W 5 user100 Confirm chage -l user100 Set the account expiry to January 31, 2020 chage -E 2020-01-31 user100 Verify the new account expiry setting chage -l user100 Lab: Set and Confirm Password Aging with passwd (root) Set password aging attributes for user200 to mindays 10, maxdays 90, and warndays 14: passwd -n 10 -x 90 -w 14 user200 Confirm: passwd -S user200 Set the number of inactivity days to 5: passwd -i 5 user200 Confirm: passwd -S user200 Ensure that the user is forced to change their password at next login: passwd -e user200 Confirm: passwd -S user200 Lab: Lock and Unlock a User Account with usermod and passwd (root) Obtain the current password information for user200 from the shadow file: grep user200 /etc/shadow Lock the account for user200: usermod -L user200 Confirm: grep user200 /etc/shadow Unlock the account with either of the following: usermod -U user200 or passwd -u user200 confirm grep user200 /etc/shadow Lab: Create a Group and Add Members (root) Create the group linuxadm with GID 5000: groupadd -g 5000 linuxadm Create a group called dba with the same GID as that of group linuxadm: groupadd -o -g 5000 dba Confirm: grep linuxadm /etc/group grep dba /etc/group Add user1 as a secondary member of group dba using the usermod command. The existing membership for the user must remain intact. usermod -aG dba user1 Verify the updated group membership information for user1 by extracting the relevant entry from the group file, and running the id and groups command for user1: grep dba /etc/group id user1 groups user1 Lab: Modify and Delete a Group Account (root) Alter the name of linuxadm to sysadm: groupmod -n sysadm linuxadm Change the GID of sysadm to 6000: groupmod -g 6000 sysadm Confirm: grep sysadm /etc/group grep linuxadm /etc/group Delete sysadm group and confirm: groupdel sysadm grep sysadm /etc/group Lab: To switch from user1 (assuming you are logged in as user1) into root without executing the startup scripts su switch to user100 su - user100 See what whoami and logname reports now: whoami logname use su as follows and execute this privileged command to obtain desired results: su -c 'firewall-cmd --list-services' Lab: Add user1 to sudo file but only for the cat command. Open up /etc/sudoers and add the following: user1 ALL=/usr/bin/cat run cat as user1 with and without sudo: cat /etc/sudoers sudo cat /etc/sudoers Lab: Add user and command aliases to the sudoer file. Add the following to the bottom of the sudoers file: Cmnd_Alias PKGCMD = /usr/bin/yum, /usr/bin/rpm User_Alias PKGADM = user1, user100, user200 PKGADM ALL=PKGCMD Run rpm or yum with sudo as one of the users. sudo yum Lab: Take a look at examples in the sudoers file. cat /etc/sudoers Lab: Viewing owner and group information Create a file file1 as user1 in their home directory and exhibit the file’s long listing: touch file1 ls -l file1 View the corresponding UID and GID instead, you can specify the -n option with the command: ls -ln file1 Lab: Modify File Owner and Owning Group Change into the /tmp directory and create file10 and dir10: cd /tmp touch file10 mkdir dir10 Check and validate that both attributes are set to user1: ls -l file10 ls -ld dir10 Set the ownership of file10 to user100 and confirm: sudo chown user100 file10 ls -l file10 Alter the owning group to dba and verify: sudo chgrp dba file10 ls -l file10 Change the ownership to user200 and owning group to user100 and confirm: sudo chown user200:user100 file10 Modify the ownership to user200 and owning group to dba recursively on dir10 and validate: sudo chown -R user200:dba dir10 ls -ld dir10 Lab: Create User and Configure Password Aging (root) Create group lnxgrp with GID 6000. groupadd lnxgrp -g 6000 Create user user5000 with UID 5000 and GID 6000. Assign this user a password. useradd -u 5000 -g 6000 user5000 Establish password aging attributes so that this user cannot change their password within 4 days after setting it and with a password validity of 30 days. This user should start getting warning messages for changing password 10 days prior to account lock down. chage -m 4 -M 30 -W 10 user5000 This user account needs to expire on the 20th of December, 2021. chage -E 2021-12-20 user5000 Lab 6-2: Lock and Unlock User (root) Lock the user account for user5000 using the passwd command, and passwd -l user5000 confirm by examining the change in the /etc/shadow file. cat /etc/shadow Try to log in with user5000 and observe what happens. su - user1 su - user5000 Use the usermod command and unlock",
    "description": "Password aging, group and user manament",
    "tags": [],
    "title": "Advanced User Management",
    "uri": "/redhat/advanced-user-management/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Ansible",
    "content": "ansible-navigator Was advised to start using this tools for Ansible because it is available during the RHCE exam. https://ansible.readthedocs.io/projects/navigator/\nAnsible Docs https://docs.ansible.com/\nansible-doc https://docs.ansible.com/ansible/latest/cli/ansible-doc.html",
    "description": "Ansible Documentation resources",
    "tags": [],
    "title": "Ansible Documentation",
    "uri": "/ansible/ansible-documentation/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Ansible",
    "content": "Ansible projects For small companies, you can use a single Ansible configuration. But for larger ones, it’s a good idea to use different project directories. A project directory contains everything you need to work on a single project. Including:\nplaybooks variable files task files inventory files ansible.cfg playbook An Ansible script written in YAML that enforce the desired configuration on manage hosts.\nInventory A file that Identifies hosts that Ansible has to manage. You can also use this to list and group hosts and specify host variables. Each project should have it’s own inventory file. /etc/ansible/hosts can be used for system wide inventory. Which is the default if no inventory file is specified. (That file also has some basic inventory formatting info if you forget) Ansible will also target localhosts if no hosts are found in the inventory file. It’s a good idea to store inventory files in large environments in their own project folders.\nlocalhost is not defined in inventory. It is an implicit hosts that is usable and refers to the Ansible control machine. Using localhost can be a good way to verify the accessibility of services on managed hosts.\nListing hosts List hosts by IP address or hostname. You can list a range of hosts in an inventory file as well such as web-server[1:10].example.com\nansible1:2222 \u003c specify ssh port if the host is not using the default port 22 ansible2 10.0.10.55 web-server[1:10].example.com Listing groups You can list groups and groups of groups. See the groups web and db are included in the group “servers:children”\nansible1 ansible2 10.0.10.55 web-server[1:10].example.com [web] web-server[1:10].example.com [db] db1 db2 [servers:children] \u003c-- servers is the group of groups and children is the parameter that specifies child groups web db There are 3 general approaches to using groups:\nFunctional groups Address a specific group of hosts according to use. Such as web servers or database servers.\nRegional host groups Used when working with region oriented infrastructure. Such as USA, Canada.\nStaging host groups Used to address different hosts according to the staging phase that the current environment is in. Such as testing, development, production.\nUndefined host groups are called implicit host groups. These are all, ungrouped, and localhost. Names making the meaning obvious.\nInventory commands: To view the inventory, specify the inventory file such as ~/base/inventory in the command line. You can name the inventory file anything you want. You can also set the default in the ansible.cfg file.\nView the current inventory: ansible -i inventory \u003cpattern\u003e --list-hosts\nList inventory hosts in JSON format: ansible-inventory -i inventory --list\nDisplay overview of hosts as a graph: ansible-inventory -i inventory --graph\nIn our lab example:\n[ansible@control base]$ pwd /home/ansible/base [ansible@control base]$ ls inventory [ansible@control base]$ cat inventory ansible1 ansible2 [web] web1 web2 [ansible@control base]$ ansible-inventory -i inventory --graph @all: |--@ungrouped: | |--ansible1 | |--ansible2 |--@web: | |--web1 | |--web2 [ansible@control base]$ ansible-inventory -i inventory --list { \"_meta\": { \"hostvars\": {} }, \"all\": { \"children\": [ \"ungrouped\", \"web\" ] }, \"ungrouped\": { \"hosts\": [ \"ansible1\", \"ansible2\" ] }, \"web\": { \"hosts\": [ \"web1\", \"web2\" ] } } [ansible@control base]$ ansible -i inventory all --list-hosts hosts (4): ansible1 ansible2 web1 web2 [ansible@control base]$ ansible -i inventory ungrouped --list-hosts hosts (2): ansible1 ansible2 Host variables In older versions of Ansible you could define variables for hosts. This is no longer used. Example:\n[groupname:vars] ansible=ansible_user Variables are now set using host_vars and group_vars directories instead.\nDynamic inventory scripts A script is used to detect inventory hosts so that you do not have to manually enter them. This is good for larger environments. You can find community provided dynamic inventory scripts that come with an .ini file that provides information on how to connect to a resource.\nInventory scripts must include –list and –host options and output must be JSON formatted. Here is an example from sandervanvught that generates an inventory script using /etc/hosts:\n[ansible@control base]$ cat inventory-helper.py #!/usr/bin/python from subprocess import Popen,PIPE import sys try: import json except ImportError: import simplejson as json result = {} result['all'] = {} pipe = Popen(['getent', 'hosts'], stdout=PIPE, universal_newlines=True) result['all']['hosts'] = [] for line in pipe.stdout.readlines(): s = line.split() result['all']['hosts']=result['all']['hosts']+s result['all']['vars'] = {} if len(sys.argv) == 2 and sys.argv[1] == '--list': print(json.dumps(result)) elif len(sys.argv) == 3 and sys.argv[1] == '--host': print(json.dumps({})) else: print(\"Requires an argument, please use --list or --host \u003chost\u003e\") When ran on our sample lab:\n[ansible@control base]$sudo python3 ./inventory-helper.py Requires an argument, please use --list or --host \u003chost\u003e [ansible@control base]$ sudo python3 ./inventory-helper.py --list {\"all\": {\"hosts\": [\"127.0.0.1\", \"localhost\", \"localhost.localdomain\", \"localhost4\", \"localhost4.localdomain4\", \"127.0.0.1\", \"localhost\", \"localhost.localdomain\", \"localhost6\", \"localhost6.localdomain6\", \"192.168.124.201\", \"ansible1\", \"192.168.124.202\", \"ansible2\"], \"vars\": {}}} To use a dynamic inventory script:\n[ansible@control base]$ chmod u+x inventory-helper.py [ansible@control base]$ sudo ansible -i inventory-helper.py all --list-hosts [WARNING]: A duplicate localhost-like entry was found (localhost). First found localhost was 127.0.0.1 hosts (11): 127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 localhost6 localhost6.localdomain6 192.168.124.201 ansible1 192.168.124.202 ansible2 Multiple inventory files Put all inventory files in a directory and specify the directory as the inventory to be used. For dynamic directories you also need to set the execution bit on the inventory file.\nansible.cfg You can store this in a project’s directory or a user’s home directory, in the case that multiple user’s want to have their own Ansible configuration. Or in /etc/ansible if the configuration will be the same for every user and every project. You can also specify these settings in Ansible playbooks. The settings in a playbook take precedence over the .cfg file.\nansible.cfg precedence (Ansible uses the first one it finds and ignores the rest.)\nANSIBLE_CONFIG environment variable ansible.cfg in current directory ~/.ansible.cfg /etc/ansible/ansible.cfg Generate an example config file in the current directory. All directive are commented out by default: [ansible@control base]$ ansible-config init --disabled \u003e ansible.cfg\nInclude existing plugin to the file: ansible-config init --disabled -t all \u003e ansible.cfg\nThis generates an extremely large file. So I’ll just show Van Vugt’s example in .ini format:\n[defaults] \u003c-- General information remote_user = ansible \u003c--Required host_key_checking = false \u003c-- Disable SSH host key validity check inventory = inventory [privilege_escalation] \u003c-- Define how ansible user requires admin rights to connect to hosts become = True \u003c-- Escalation required become_method = sudo become_user = root \u003c-- Escalated user become_ask_pass = False \u003c-- Do not ask for escalation password Privilege escalation parameters can be specified in ansible.cfg, playbooks, and on the command line.",
    "description": "Setting up and Ansible environment",
    "tags": [],
    "title": "Ansible Inventory and Ansible.cfg",
    "uri": "/ansible/3-ansible-inventory-and-ansible.cfg/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Ansible",
    "content": "Exploring playbooks YAML Managing Multiplay Playbooks Lets create our first playbook:\n[ansible@control base]$ vim playbook.yaml\n--- - name: install start and enable httpd \u003c-- play is at the highest level hosts: all tasks: \u003c-- play has a list of tasks - name: install package \u003c-- name of task 1 yum: \u003c-- module name: httpd \u003c-- argument 1 state: installed \u003c-- argument 2 - name: start and enable service \u003c-- task 2 service: name: httpd state: started enabled: yes There are thee dashes at the top of the playbook. And sometimes you’ll find three dots at the end of a playbook. These make it easy to isolate the playbook and embed the playbook code into other projects.\nPlaybooks are written in YAML format and saved as either .yml or .yaml. YAML specifies objects as key-value pairs (dictionaries). Key value pairs can be listed in either key: value (preferred) or key=value. And dashes specify lists of embedded objects.\nThere is a collection of one or more plays in a playbook. Each play targets specific hosts and lists tasks to perform on those hosts. There is one play here with the name “install start and enable httpd”. You target the host names to target at the top of the play, not in the individual tasks performed.\nEach task is identified by “- name” (not required but recommended for troubleshooting and identifying tasks). Then the module is listed with arguments and their values under that.\nIndentation is important here. It identifies the relationships between different elements. Data elements at the same level must have the same indentation. And items that are children or properties of another element must be indented more than their parent elements.\nIndentation is created using spaces. Usually two spaces is used, but not required. You cannot use tabs for indentation.\nYou can also edit your .vimrc file to help with indentation when it detects that you are working with a YAML file: vim ~/.vimrc\nautocmd FileType yaml setlocal ai ts=2 sw=2 et Required elements:\nhosts - name of host(s) to perform play on name - name of the play tasks - one or more tasks to execute for this play To run a playbook:\n[ansible@control base]$ ansible-playbook playbook.yaml # Name of the play PLAY [install start and enable http+userd] *********************************************** # Overview of tasks and the hosts it was successful on TASK [Gathering Facts] ************************************************************** fatal: [web1]: UNREACHABLE! =\u003e {\"changed\": false, \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web1: Name or service not known\", \"unreachable\": true} fatal: [web2]: UNREACHABLE! =\u003e {\"changed\": false, \"msg\": \"Failed to connect to the host via ssh: ssh: Could not resolve hostname web2: Name or service not known\", \"unreachable\": true} ok: [ansible1] ok: [ansible2] TASK [install package] ************************************************************** ok: [ansible1] ok: [ansible2] TASK [start and enable service] ***************************************************** ok: [ansible2] ok: [ansible1] # overview of the status of each task PLAY RECAP ************************************************************************** ansible1 : ok=3 (no changes required) changed=0 (indicates the task was successful and target node was modified.) unreachable=0 failed=0 skipped=0 rescued=0 ignored=0 ansible2 : ok=3 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0 web1 : ok=0 changed=0 unreachable=1 failed=0 skipped=0 rescued=0 ignored=0 web2 : ok=0 changed=0 unreachable=1 failed=0 skipped=0 rescued=0 ignored=0 Before running tasks, the ansible-playbook command gathers facts (current configuration and settings) about managed nodes.\nHow to undo playbook modifications Ansible does not have a built in feature to undo a playbook that you ran. So to undo changes, you need to make another playbook that defines the new desired state of the host.\nWorking with YAML Key value pairs can also be listed as:\ntasks: - name: install vsftpd yum: name=vsftpd - name: enable vsftpd service: name=vsftpd enabled=true - name: create readme file But better to list them as such for better readability:\ncopy: content: \"welcome to the FTP server\\n\" dest: /var/ftp/pub/README force: no mode: 0444 Some modules support multiple values for a single key:\n--- - name: install multiple packages hosts: all tasks: - name: install packages yum: name: \u003c-- key with multiple values - nmap - httpd - vsftpd state: latest \u003c-- will install and/or update to latest version YAML Strings Valid fomats for a string in YAML:\nsuper string \"super string\" 'super string' When inserting text into a file, you may have to deal with spacing. You can either preserve newline characters with a pipe | such as:\n- name: Using | to preserve newlines copy: dest: /tmp/rendezvous-with-death.txt content: | I have a rendezvous with Death At some disputed barricade, When Spring comes back with rustling shade And apple-blossoms fill the air— Output:\nI have a rendezvous with Death At some disputed barricade, When Spring comes back with rustling shade And apple-blossoms fill the air— Or chose not to with a carrot \u003e\n- name: Using \u003e to fold lines into one copy: dest: /tmp/rendezvous-with-death.txt content: \u003e I have a rendezvous with Death At some disputed barricade, When Spring comes back with rustling shade And apple-blossoms fill the air— Output:\nI have a rendezvous with Death At some disputed barricade, When Spring comes back with rustling shade And apple-blossoms fill the air— Checking syntax with --syntax-check You can use the --syntax-check flag to check a playbook for errors. The ansible-aplaybook command does check syntax by default though, and will throw the same error messages. The syntax check stops after detecting a single error. So you will need to fix the first errors in order to see errors further in the file. I’ve added a tab in front of the host key to demonstrate:\n[ansible@control base]$ cat playbook.yaml --- - name: install start and enable httpd hosts: all tasks: - name: install package yum: name: httpd state: installed - name: start and enable service service: name: httpd state: started enabled: yes [ansible@control base]$ ansible-playbook --syntax-check playbook.yaml ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each: JSON: Expecting value: line 1 column 1 (char 0) Syntax Error while loading YAML. mapping values are not allowed in this context The error appears to be in '/home/ansible/base/playbook.yaml': line 3, column 10, but may be elsewhere in the file depending on the exact syntax problem. The offending line appears to be: - name: install start and enable httpd hosts: all ^ here And here it is again, after fixing the syntax error:\n[ansible@control base]$ vim playbook.yaml [ansible@control base]$ cat playbook.yaml --- - name: install start and enable httpd hosts: all tasks: - name: install package yum: name: httpd state: installed - name: start and enable service service: name: httpd state: started enabled: yes [ansible@control base]$ ansible-playbook --syntax-check playbook.yaml playbook: playbook.yaml Doing a dry run Use the -C flag to perform a dry run. This will check the success status of all of the tasks without actually making any changes. ansible-playbook -C playbook.yaml\nMultiple play playbooks Using multiple plays in a playbook lets you set up one group of servers with one configuration and another group with a different configuration. Each play has it’s own list of hosts to address.\nYou can also specify different parameters in each play such as become: or the remote_user: parameters.\nTry to keep playbooks small. As bigger playbooks will be harder to troubleshoot. You can use include: to include other playbooks. Other than troubleshooting, using smaller playbooks lets you use your playbooks in a flexible way to perform a wider range of tasks.\nHere is an example of a playbook with two plays:\n--- - name: install start and enable httpd \u003c--- play 1 hosts: all tasks: - name: install package yum: name: httpd state: installed - name: start and enable service service: name: httpd state: started enabled: yes - name: test httpd accessibility \u003c-- play 2 hosts: localhost tasks: - name: test httpd access uri: url: http://ansible1 Verbose output options You can increase the output of verbosity to an amount hitherto undreamt of. This can be useful for troubleshooting.\nVerbose output of the playbook above showing task results: [ansible@control base]$ ansible-playbook -v playbook.yaml Verbose output of the playbook above showing task results and task configuration: [ansible@control base]$ ansible-playbook -vv playbook.yaml Verbose output of the playbook above showing task results, task configuration, and info about connections to managed hosts: [ansible@control base]$ ansible-playbook -vvv playbook.yaml Verbose output of the playbook above showing task results, task configuration, and info about connections to managed hosts, plug-ins, user accounts, and executed scripts: [ansible@control base]$ ansible-playbook -vvvv playbook.yaml Lab playbook Now we know enough to create and enable a simple webserver. Here is a playbook example. Just make sure to download the posix collection or you won’t be able to use the firewalld module: [ansible@control base]$ ansible-galaxy collection install ansible.posix\n[ansible@control base]$ cat playbook.yaml --- - name: Enable web server hosts: ansible1 tasks: - name: install package yum: name: - httpd - firewalld state: installed - name: Create welcome page copy: content: \"Welcome to the webserver!\\n\" dest: /var/www/html/index.html - name: start and enable service service: name: httpd state: started enabled: yes - name: enable firewall service: name: firewalld state: started enabled: true - name: Open service in firewall firewalld: service: http permanent: true state: enabled immediate: yes - name: test webserver accessibility hosts: localhost become: no tasks: - name: test webserver access uri: url: http://ansible1 return_content: yes \u003c-- Return the body of the response as a content key in the dictionary result status_code: 200 \u003c-- After running this playbook, you should be able to reach the webserver at http://ansible1\nWith return content and status code\nok: [localhost] =\u003e {\"accept_ranges\": \"bytes\", \"changed\": false, \"connection\": \"close\", \"content\": \"Welcome to the webserver!\\n\", \"content_length\": \"26\", \"content_type\": \"text/html; charset=UTF-8\", \"cookies\": {}, \"cookies_string\": \"\", \"date\": \"Thu, 10 Apr 2025 12:12:37 GMT\", \"elapsed\": 0, \"etag\": \"\\\"1a-6326b4cfb4042\\\"\", \"last_modified\": \"Thu, 10 Apr 2025 11:58:14 GMT\", \"msg\": \"OK (26 bytes)\", \"redirected\": false, \"server\": \"Apache/2.4.62 (Red Hat Enterprise Linux)\", \"status\": 200, \"url\": \"http://ansible1\"} Adds this: \"content\": \"Welcome to the webserver!\\n\" and this: \"status\": 200, \"url\": \"http://ansible1\"} to verbose output for that task.",
    "description": "Getting started with Ansible Playbooks",
    "tags": [],
    "title": "Ansible Playbooks",
    "uri": "/ansible/5-ansible-playbooks/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "Quick read about creating the business (and life) that you want. These lessons spill over into other areas of life, maybe accidentally. Life isn’t all about maximizing profits and accelerated growth. Do what makes you happy. Treat your customers like rock stars and they will tell everyone.\nSummary and Highlights A business plan should never take more than a few hours of work. Hopefully no more than a few minutes. The best plans start simple. A quick glance and common sense should tell you if the numbers will work. The rest are details.\nSuccess comes from persistently improving and inventing, not from persistently doing what’s not working.\nNo plan survives first contact with the customer.\nBy not having any money to waste, you never waste money.\nNever forget that absolutely everything you do is for your customers.\nMake every decision — even decisions about whether to expand the business, raise money, or promote someone — according to what’s best for your customers.\nThe way to grow your business is to focus entirely on your existing customers. Just thrill them, and they’ll tell everyone.\nYou need to confidently exclude people, and proudly say what you’re not. By doing so, you will win the hearts of the people you want.\nYou can’t pretend there’s only one way to do it. Your first idea is just one of many options.\nNo business goes as planned, so make ten radically different plans. Realizing the initial choice you made was just one of many.\nYou don’t need a plan or a vision.\nJournalists would ask, “What’s your long-term goal?”\nI’d say, “I don’t have one. I surpassed my goals long ago. I’m just trying to help musicians with whatever they need today.”\nSo please don’t think you need a huge vision. Just stay focused on helping people today.\nHow do you grade yourself?\nIt’s important to know in advance, to make sure you’re staying focused on what’s honestly important to you, instead of doing what others think you should.\nNever forget why you’re really doing what you’re doing.\nAre you helping people?\nAre they happy?\nAre you happy?\nAre you profitable?\nIsn’t that enough?\nAll bad service comes from a mindset of scarcity. They act like they’ll go out of business if they don’t fiercely guard their bottom line. The short-term thinking of desperate survival blocks the long-term thinking of smart strategy.\nIf you really feel secure and abundant — that you have plenty to share — then this feeling of generosity will flow down into all of your interactions with customers.\nGive refunds. Give them attention. Take a little loss. You can afford it.\nLosing 25 cents on extra sauce can mean winning the loyalty of a customer who will spend $1000 with you over the next ten years, and tell twenty friends that you’re awesome.\nIt’s all about them, not you.\nThe Tao of business: Care about your customers more than about yourself, and you’ll do well.\nIf you set up your business like you don’t need the money, people are happier to pay you.\nWhen someone’s doing something for the money, people can sense it, like a desperate lover. It’s a turn-off.\nWe want to give to those who give.\nPeople will choose one company over another just because they like the customer service.\nCustomer service is not an expense to be minimized. It’s a core profit center, like sales. It’s where you should put your best people.\nIt’s much harder to get a new customer than it is to get more business from an existing customer.\nTake a few inefficient minutes to get to know anyone who contacts you.\nImagine what you’d do if your favorite rock star called. You’d drop everything, and give them all the time in the world. So that’s how you should treat everyone that contacts your company.\nWhy not? You don’t have time? Make time. It’s how everyone deserves to be treated.\nIt makes life better. It makes work more fun. And it’s the right thing to do.\nBut the best thing to do is to lose the fight. Let them know that they were right, and the company was wrong. Tell them you’re prepared to do whatever it takes to make them happy again.\nLoud people are loud people, whether complaining or praising. So when you get some loud complaint, use that opportunity to make them so happy that they become a loud evangelist.\nWhen one customer wrongs you, remember the thousands that did not.\nIt’s often the tiny details that really thrill people enough to make them tell all their friends about you.\nIn the end, it’s about what you want to be, not what you want to have.\nDoesn’t every business want to be as big as possible?\nNo. Make sure you know what makes you happy, and don’t forget it.\nTrust, but verify.\nRemember it when delegating. You have to do both.\nAbdicate means to surrender or relinquish power or responsibility.\nThis word is usually used when a king abdicates the throne or crown.\nDelegate, but don’t abdicate.\nEntrepreneurs, “How do you know when it’s time to sell?”.\nMy answer is, “You’ll know\".\nI live simply. I don’t own a house, a car, or even a TV. The less I own, the happier I am. The lack of stuff gives me the priceless freedom to live anywhere anytime.\nWhy you need your own company:\nWe all need a place to play.\nThose of us with business ideas? We need a company.\nNot for the money, but because it’s our place to experiment, create, and turn thoughts into reality. We need to pursue our intrinsic motivation.\nWe have so many interesting ideas and theories. We need to try them!\nThe happiest people are not lounging on beaches. They’re engaged in interesting work!\nSome want to be famous in Silicon Valley. Some want to be anonymous.\nNo matter which goal you choose, there will be lots of people telling you you’re wrong.\nJust pay close attention to what excites you and what drains you. Pay close attention to when you’re being the real you and when you’re trying to impress an invisible jury.\nEven if what you’re doing is slowing the growth of your business — if it makes you happy, that’s OK. It’s your choice to remain small.",
    "description": "Quick read about creating the business (and life) that you want. These lessons spill over into other areas of life, maybe accidentally. Life isn’t all about maximizing profits and accelerated growth. Do what makes you happy. Treat your customers like rock stars and they will tell everyone.\nSummary and Highlights A business plan should never take more than a few hours of work. Hopefully no more than a few minutes. The best plans start simple. A quick glance and common sense should tell you if the numbers will work. The rest are details.",
    "tags": [],
    "title": "Anything You Want (8/10)",
    "uri": "/booknotes/anything-you-want/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Bash Scripting",
    "content": "My name is Marcel and I’m partially a shell.. A shell is a program that takes commands and passes them to the operating system.^1^ This is done via terminal emulator with keyboard commands or by using scripts ran on the system. There are many shell programs that you can use on Linux. Almost all Linux distributions come with a shell called Bash. Some others include zsh, fsh, ksh, and Tcsh. (But not limited to)\nShells have different features such as built in commands, job control, alias definitions, history substitution, PATH searching, command completion, and more. Each shell has it’s own syntax, hotkeys, way of doing things. Most of them follow a standard called “POSIX” that help with script portability between shells.\nYou can see a list of more shells and a comparison of their features on this Wikipedia page.\nTerminator emulators.. I meant Terminal Emulators! Silly me..\nThe Current shell\nWhere a program is executed. Sub-shell (child shell)\ncreated within a shell to run a program. There are two types of variables. Local variables are private variables to the shell that creates it. And they are only used by programs started in the shell that created them. Environment variables are passed to any sub-shells created by the current shell. As well as any programs ran in the current and sub shells.\n- Value stored in an environment variable is accessible to the program, as well as any sub-programs that it spawns during its lifecycle. - Any environment variable set in a sub-shell is lost when the sub-shell terminates. - `env` or the `printenv` command to view predefined environment variables. - Common predefined environment variables: - **DISPLAY** - Stores the hostname or IP address for graphical terminal sessions - **HISTFILE** - Defines the file for storing the history of executed commands - **HISTSIZE** - Defines the maximum size for the HISTFILE - **HOME** - Sets the home directory path LOGNAME Retains the login name - **MAIL** - Contains the path to the user mail directory - **PATH** - Directories to be searched when executing a command. Eliminates the need to specify the absolute path of a command to run it. - **PPID** - Holds the identifier number for the parent program - **PS1** - Defines the primary command prompt PS2 Defines the secondary command prompt - **PWD** - Stores the current directory location - **SHELL** - Holds the absolute path to the primary primary shell file - **TERM** - Holds the terminal type value - **UID** - Holds the logged-in user’s UID - **USER** - Retains the name of the logged-in user Setting and unsetting variables export, unset, and echo to define and undefine environment variables Use uppercase for variables echo command Restricted to showing the value of a specific variable env command Displays the environment variables only. [root@localhost ~]# env SHELL=/bin/bash HISTCONTROL=ignoredups HISTSIZE=1000 HOSTNAME=localhost PWD=/root LOGNAME=root XDG_SESSION_TYPE=tty MOTD_SHOWN=pam HOME=/root LANG=en_US.UTF-8 LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.m4a=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.oga=01;36:*.opus=01;36:*.spx=01;36:*.xspf=01;36: SSH_CONNECTION=192.168.0.233 56990 192.168.0.169 22 XDG_SESSION_CLASS=user SELINUX_ROLE_REQUESTED= TERM=xterm-256color LESSOPEN=||/usr/bin/lesspipe.sh %s USER=root SELINUX_USE_CURRENT_RANGE= SHLVL=1 XDG_SESSION_ID=1 XDG_RUNTIME_DIR=/run/user/0 SSH_CLIENT=192.168.0.233 56990 22 which_declare=declare -f PATH=/root/.local/bin:/root/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin SELINUX_LEVEL_REQUESTED= DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/0/bus MAIL=/var/spool/mail/root SSH_TTY=/dev/pts/0 BASH_FUNC_which%%=() { ( alias; eval ${which_declare} ) | /usr/bin/which --tty-only --read-alias --read-functions --show-tilde --show-dot $@ } _=/usr/bin/env OLDPWD=/dev/vg200 printenv command Displays the environment variables only. set command View both local and environment variables. Command and Variable substitutions PS1 Environment variable sets what the prompt looks like. Default value is \\u@\\h \\W\\$ \\u logged-in user name \\h System hostname \\W Working directory \\$ End of command prompt Command whose output you want assigned to a variable must be encapsulated within either backticks hostname or parentheses $(hostname). Input, Output, and Error Redirections Input, output, and error character streams: standard input (or stdin) Input redirection \u003c standard output (or stdout) Append instead of overwrite \u0026\u003e Redirect standard error and output standard error (or stderr) 2\u003e File descriptors: 0, 1, and 2 1 Represents standard output location Can use these to represent character streams instead of \u003c, and \u003e noclobber feature prevent overwriting of the output file set -o noclobber activates the feature set +o noclobber deactivate the feature [root@localhost ~]# vim test.txt [root@localhost ~]# set -o noclobber [root@localhost ~]# echo \"Hello\" \u003e test.txt -bash: test.txt: cannot overwrite existing file [root@localhost ~]# set +o noclobber [root@localhost ~]# echo \"Hello\" \u003e test.txt [root@localhost ~]# cat test.txt Hello History Substitution Command history or history expansion. Can disable and re-enable if required. Values may be altered for individual users by editing .bashrc or .bash_profile in the user’s home directory. Three variables HISTFILE Defines the name and location of the history file to be used to store command history, Default is .bash_history in the user’s home directory. HISTSIZE Size of the history buffer for the current shell. HISTFILESIZE Sets the maximum number of commands allowed for storage in the history file at the beginning of the current session and are written to the HISTFILE from memory at the end of the current terminal session. Usually, HISTSIZE and HISTFILESIZE are set to a common value. history command Displays or reruns previously executed commands. Gets the history data from the system memory as well as from the .bash_history file. Shows all entries by default. set +o history disable history expansion set -o history re-enable history expansion [root@localhost ~]# set +o history [root@localhost ~]# history | tail 126 ls 127 vim test.txt 128 set -o noclobber 129 echo \"Hello\" \u003e test.txt 130 set +o noclobber 131 echo \"Hello\" \u003e test.txt 132 cat test.txt 133 history | tail 134 set +0 history 135 set +o history [root@localhost ~]# vim test2.txt [root@localhost ~]# history | tail 126 ls 127 vim test.txt 128 set -o noclobber 129 echo \"Hello\" \u003e test.txt 130 set +o noclobber 131 echo \"Hello\" \u003e test.txt 132 cat test.txt 133 history | tail 134 set +0 history 135 set +o history [root@localhost ~]# set -o history [root@localhost ~]# vim test2.txt [root@localhost ~]# history | tail 128 set -o noclobber 129 echo \"Hello\" \u003e test.txt 130 set +o noclobber 131 echo \"Hello\" \u003e test.txt 132 cat test.txt 133 history | tail 134 set +0 history 135 set +o history 136 vim test2.txt 137 history | tail Add timestamps to history output system wide: echo \"export HISTTIMEFORMAT='%F %T '\" \u003e\u003e /etc/profile \u0026\u0026 source /etc/profile\nEditing at the Command line Common key combinations: Ctrl+a / Home Moves the cursor to the beginning of the command line Ctrl+e / End Moves the cursor to the end of the command line Ctrl+u Erase everything at and before cursor Ctrl+k Erase Everything at cursor and after Alt+f Moves the cursor to the right one word at a time Alt+b Moves the cursor to the left one word at a time Ctrl+f / Right arrow Moves the cursor to the right one character at a time Ctrl+b / Left arrow Moves the cursor to the left one character at a time Tab completion Hitting the Tab key twice automatically completes the entire name. In case of multiple possibilities matching the entered characters, it completes up to the point they have in common and prints the rest of the possibilities on the screen. Tilde Substitution (tilde expansion) Performed on words that begin with the tilde character (~). ~ refers to user’s home directory. ~+ - refers to current directory\n~- - Refers to previous working directory.\n~USER - Refers to specific user’s home directory.\nAlias Substitution (command aliasing or alias) Define shortcuts for commands. Bash shell includes several predefined aliases that are set during user login. Shell gives precedent to an alias if an alias matches a command or program. can still run the command without using the alias but preceding command with a backslash. \\ alias command Set an alias. Internal shell command. [root@localhost ~]# alias alias cp='cp -i' alias egrep='egrep --color=auto' alias fgrep='fgrep --color=auto' alias grep='grep --color=auto' alias l.='ls -d .* --color=auto' alias ll='ls -l --color=auto' alias ls='ls --color=auto' alias mv='mv -i' alias rm='rm -i' alias xzegrep='xzegrep --color=auto' alias xzfgrep='xzfgrep --color=auto' alias xzgrep='xzgrep --color=auto' alias zegrep='zegrep --color=auto' alias zfgrep='zfgrep --color=auto' alias zgrep='zgrep --color=auto' [root@localhost ~]# alias frog='pwd' [root@localhost ~]# frog /root unalias command Unset an alias. Internal shell command. [root@localhost ~]# unalias frog [root@localhost ~]# frog -bash: frog: command not found Metacharacters and Wildcard Metacharacters Special characters that possess special meaning to the shell. Used in pattern matching (a.k.a. filename expansion or file globbing) and regular expressions. dollar sign ($) mark the end of a line Used in regular expressions caret (^)\nmark the beginning of a line Used in regular expressions period (.)\nMatch a single position Used in regular expressions asterisk (*)\nused in pattern matching wildcard character Matches zero to an unlimited number of characters except for the leading period (.) in a hidden filename. Used in regular expressions question mark (?)\nUsed in pattern matching Wildcard character Matches exactly one character except for the leading period in a hidden filename. Used in regular expressions pipe (|)\nSend the output of one command as input to the next. Also used to define alternations in regular expressions. Can use as many times in a command as you need. (pipeline)\t- Can be used as an OR operator (alternation) this|that|other angle brackets (\u003c \u003e)\nRedirections curly brackets ({})\nUsed in regular expressions Match an element a specific number of times square brackets ([])\nUsed in pattern matching Wildcard character Match either a set of characters or a range of characters for a single character position. Order in which they are listed has no importance. Range of characters must be specified in a proper sequence such as [a-z] or [0-9]. Used in regular expressions parentheses (())\nCreate a sub shell plus (+)\nMatch a character one or more time exclamation mark (!)\ninverse matches semicolon (;)\nRun a second command after the ; Quoting Mechanisms Disable special meaning of metacharacters Backslash (\\)\nEscape character Cancel out a special character’s meaning. single quotation (‘’)\nMask the meaning of all encapsulated special characters. double quotation (“”)\nMask the meaning of all but the backslash (), dollar sign ($), and single quotes (‘’). Regular expressions (regexp or regex) Text pattern or an expression that is matched against a string of characters in a file or supplied input in a search operation. Pattern may include a single character, multiple random characters, a range of characters, word, phrase, or an entire sentence. Any pattern containing one or more white spaces must be surrounded by quotation marks. grep command Searches the contents of one or more text files or input supplied for a match. Flags -i\ncase insensitive search -n\nnumber the lines -v\nexclude these lines -w\nfind an exact match for a word -E\nmatch one or the other -e\n-Use patterns for matching Jobs job Process that is started in the background and controlled by the terminal where it is spawned. Assigned a PID (process identifier) by the kernel and, additionally, a job ID by the shell. Does not hold the terminal window where it is initiated. Can run multiple job simultaneously. Can be brought to foreground, returned to the background, suspended, or stopped. job control management of multiple jobs within a shell environment commands and control sequences for administering the jobs.\njobs Shell built-in command display jobs. bg Shell built-in command Move a job to the background or restart a job in the background that was suspended with Ctrl+z. fg Shell built-in command Move a job to the foreground Ctrl+z Suspends a foreground job and allows the terminal window to be used for other purposes jobs command output plus sign (+) - indicates the current background job minus sign (-) - signifies the previous job. Stopped - currently suspended - can be signaled to continue their execution with bg or fg\nShell Startup Files Sourced by the shell following user authentication at the time of logging in and before the command prompt appears. Aliases, functions, and scripts can be added to these files as well. two types of startup files: system-wide Set the general environment for all users at the time of their login to the system. Located in the /etc directory Maintained by the Linux admin. System-wide startup files for bash shell users: /etc/bashrc Defines functions and aliases, sets umask for user accounts with a non-login shell, establishes the command prompt, etc. May include settings from the shell scripts located in the /etc/profile.d directory. /etc/profile Sets common environment variables such as PATH, USER, LOGNAME, MAIL, HOSTNAME, HISTSIZE, and HISTCONTROL for all users, establishes umask for user accounts with a login shell, processes the shell scripts located in the /etc/profile.d directory, and so on. /etc/profile.d Contains scripts for bash shell users that are executed by the /etc/profile file. Files can be edited and updated. per-user Override or modify system default definitions set by the system-wide startup files. By default, two files, in addition to the .bash_logout file, are located in the skeleton directory /etc/skel and are copied into user home directories at the time of user creation. .bashrc Defines functions and aliases. This file sources global definitions from the /etc/bashrc file. .bash_profile Sets environment variables and sources the .bashrc file to set functions and aliases. .gnome2/ Directory that holds environment settings when GNOME desktop is started. Only available if GNOME is installed. .bash_logout Executed when the user leaves the shell or logs off. May be customized Startup file order: /etc/profile \u003e .bash_profile \u003e .bashrc \u003e /etc/bashrc Per user settings must be added to the appropriate file for persistence. Bash Labs Lab: View environment variables env printenv Lab: Viewing Environment variable values View the value for the PATH variable echo $PATH View the value for the HOME variable echo $HOME View the value for the SHELL variable echo $SHELL View the value for the TERM variable echo $TERM View the value for the PPID variable echo $PPID View the value for the PS1 variable echo $PS1 View the value for the USER variable echo $USER Lab: Setting and Unsetting Variables Define a local variable called VR1: VR1=RHEL9 View the value of VR1: echo $VR1 Type bash at the command prompt to enter a sub-shell and then run echo $VR1 to check whether the variable is visible in the sub-shell. echo $VR1 Exit out of the subshell: exit Turn VR1 into an environment variable: export VR1 Type bash at the command prompt to enter a sub-shell and then run echo $VR1 to check whether the variable is visible in the sub-shell. echo $VR1 Undefine this variable and erase it from the shell environment: unset VR1 Define a local variable that contains a value with one or more white spaces: VR2=\"I love RHEL 9\" Define and make the variable an environment variable at the same time: export VR3=\"I love RHEL 9\" View local and environment variables: set Lab: Modify Primary Command Prompt Change the value of the variable PS1 to reflect the desired information: export PS1=\"\u003c $LOGNAME on $HOSTNAME in \\$PWD \u003e \" Edit the .bash_profile file for user1 and define the value exactly as it was run in Step 1. vim .bash_profile Test by logging off as user1 and logging back in. The new command prompt will be displayed. Lab: Redirecting Standard Input Have the cat command read the /etc/redhat-release file and display its content on the standard output (terminal screen): cat \u003c /etc/redhat-release Lab: Redirecting Standard Output Direct the ls command output to a file called ls.out: ls \u003e ls.out Do the same thing but using file descriptors: ls 1\u003e ls.out Activate the noclobber feature then try the redirect feature again: set -o noclobber ls \u003e ls.out Deactivate noclobber set +o noclobber Direct the ls command to append the output to the ls.out file instead of overwriting it: ls \u003e\u003e ls.out or ls 1\u003e\u003e ls.out Lab: Redirecting Standard Error Direct the find command issued as a normal user to search for all occurrences of files by the name core in the entire directory tree and sends any error messages produced to /dev/null find / -name core -print 2\u003e /dev/null Redirect both standard output and error: ls /usr /cdr \u0026\u003e outerr.out or ls /usr /cdr 1\u003e outerr.out 2\u003e\u00261 \\# means to redirect file descriptor 1 to file outerr.out as well as to file descriptor 2. Same as above but append to file: ls /usr/cdr \u0026\u003e\u003e outerr.out Lab: Show History Variables View HISTFILE Variable: echo $HISTFILE View HISTSIZE variable: echo $HISTSIZE View HISTFILESIZE variable: echo $HISTFILESIZE Lab: History command Rune history without any options: history Display 10 entries: history 10 Run the 15th command in history: !15 re-execute the most recent occurrence of a command that started with a particular letter or series of letters (ch for example): !ch Issue the most recent command that contained “grep”: !?grep? Remove entry 24 from history: history -d 24 Repeat the last command executed: !! Lab: Tilde expansion Display user’s home directory: echo ~ Display the current directory: echo ~+ Display the previous working directory: echo ~- Display user1’s home directory: echo ~user1 cd into the home directory of user1 and confirm: cd ~user1 pwd cd into a subdirectory: cd ~/Documents/ View directory information of the root user’s desktop: ls -ld ~root/Desktop Lab: Command Aliasing shows all aliases that are currently set for user1: su - user1 alias Run alias as root: alias Create an alias “search” to abbreviate the find command with several switches and arguments. Enclose the entire command within single quotation marks (‘’) to ensure white spaces are taken care of. Do not leave any spaces before and after the equal sign (=). alias search='find / -name core -exec ls -l {} \\;' Search with the new alias: search Create and alias by the same name as rm command but adding the -i flag: alias rm='rm -i' Run rm without using the alias: rm file1 Remove the two aliases we just created: unalias search rm Lab: Wildcards and Metacharacters List all files in the /etc directory that begin with letters “ma” and followed by any characters: ls /etc/ma* List all hidden files and directories in /home/user1: ls -d .* List all files in the /var/log directory that end in “.log”: ls /var/log/*.log List all files and directories under /var/log with exactly four characters in their names: ls -d /var/log/???? Include all files and directories that begin with either of the two characters and followed by any number of characters. ls /usr/bin/[yw]* Match all directory names that begin with any letter between “m” and “o” in the /etc/systemd/system directory: ls -d /etc/systemd/system/[m-o]* Inverse results of the previous: ls -d /etc/systemd/system/[!m-o]* Lab: Piping Pipe the output to the less command in order to view the directory listing one screenful at a time: ls -l /etc | less Run the last command and pipe the output to nl to number each line: last | nl Send the output of ls to grep for the lines that do not contain the pattern “root”. Piped again for a case-insensitive selection of all lines that exclude the pattern “dec”. Number the output, and show the last four lines on the display: ls -l /proc | grep -v root | grep -iv dec | nl | tail -4 Lab: Quoting Mechanisms Remove a file called * without deleting everything in the directory: rm \\* Display $LOGNAME without expanding the LOGNAME variable: echo '$LOGNAME' Run the following with double quotes and without: echo \"$SHELL\" echo \"\\$PWD\" echo \"'\\'\" Lab: grep and regex Search for the pattern “operator” in the /etc/passwd file: grep operator /etc/passwd Search for the space-separated pattern “aliases and functions” in the $HOME/.bashrc file: grep 'aliases and functions' .bashrc Search for the pattern “nologin” in the passwd file and exclude (-v) the lines in the output that contain this pattern. Add the -n switch to show the line numbers associated with the matched lines. grep -nv nologin /etc/passwd Find any duplicate entries for the root user in the passwd file. Prepend the caret sign (^) to the pattern “root” to mark the beginning of a line. grep ^root /etc/passwd Identify all users in the passwd file with bash as their primary shell. grep bash$ /etc/passwd Show the entire login.defs file but exclude all the empty lines: grep -v ^$ /etc/login.defs Perform a case-insensitive search (-i) for all the lines in the /etc/bashrc file that match the pattern “path.” grep -i path /etc/bashrc Print all the lines from the /etc/lvm/lvm.conf file that contain an exact match for a word (-w) “acce” followed by exactly two characters: grep -w acce.. /etc/lvm/lvm.conf Print all the lines from the ls command output that include either (-E) the pattern “cron” or “ly”. ls -l /etc | grep -E 'cron|ly' Show all the lines from the /etc/ssh/sshd_config file but exclude (-v) the empty lines and commented lines. Use the -e flag multiple times instead of | for either or. sudo grep -ve ^$ -ve ^# /etc/ssh/sshd_config Learn more about regex: man 7 regex Consult the grep man pages: man grep Lab: Managing jobs Issue the jobs command with the -l switch to view all the jobs running in the background: jobs -l bring job ID 1 to the foreground and start running it: fg %1 Suspend job 1 with ctrl+z and then let it run in the background: bg %1 Terminate job ID 1, supply its PID (31726) to the kill command: kill 31726 Lab: Shell Startup Files View the first 10 lines of /etc/bashrc: head /etc/bashrc View the first 10 lines of /etc/profile: head /etc/profile View the directory /etc/profile.d ls -l /etc/profile.d/ View .bashrc cat ~/.bashrc View .bash_profile cat ~/.bash_profile Lab: Customize the Command Prompt (user1) Permanently customize the primary shell prompt to display “\u003cuser1@server1 in /etc \u003e:” when this user switches into the /etc directory. The prompt should always reflect the current directory directory path. vim ~/.bash_profile export PS1='$USERNAME $PWD' Lab 7-2: Redirect the Standard Input, Output, and Error (user1) Run the ls command on /etc, /dvd, and /var. Have the output printed on the screen and the errors forwarded to file /tmp/ioerror. ls /etc /dvd /var 2\u003e /tmp/ioerror Check the file after the command execution and analyze the results: cat /tmp/ioerror Notes It is NOT, a hard, protective outer layer usually created by an animal or organism that lives in the sea.",
    "description": "Bash variables, redirections, history substitution, metacharacters, startup files, etc.",
    "tags": [],
    "title": "Bash",
    "uri": "/bash-scripting/bash-shell/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "Chapter 3 RHCSA Notes - File Management 7 File types regular directory block special device character special device symbolic link named pipe socket Commands\nls stat file Regular files Text or binary data. Represented by hyphen (-). Directory Files Identified by the letter “d” in the beginning of ls output. Block and Character (raw) Special Device Files All hardware has device file in /dev/. Used by system to communicate with device. Identified by “c” or “b” in ls listing. Each device driver is assigned a unique number called the major number Character device Reads and writes 8 bits at a time. Serial Block device Receives data in fixed block size determined by drivers 512 or 4096 bytes Major Number Used by kernel to recognize device driver type. Column 5 of ls listing. ls -l /dev/sda Minor Number Each device controlled by the same device driver gets a Minor Number Applies to disk partitions as well. The same driver can control multiple devices of the same type. Column 6 of ls listing ls -l /dev/sda Symbolic Links Shortcut to another file or directory. Begins with “l” in ls listing. ls -l /usr/sbin/vigr lrwxrwxrwx. 1 root root 4 Jul 21 14:36 /usr/sbin/vigr -\u003e vipw Compression and Archiving Archiving Preserves file attributes such as ownership, owning group, and timestamp. Preserves extended file attributes such as ACLs and SELinux contexts. Syntax of tar and star are identical. star command tar (tape archive) command Create, append, update, list, and extract files/directory tree to/from a file called a tarball(tarfile) Can compress a tarball after it’s been created. Automatically removes “/” so you do not have to specify the full pathname when restoring files at any location. flags tar -c :: Create tarball. tar -f :: Specify tarball name. tar -p :: Preserve file permissions. Default for the root user. Specify this if you create an archive as a normal user. tar -r :: Append files to the end of an existing uncompressed tarball. tar -t :: List contents of a tarball. tar -u :: Append files to the end of an existing uncompressed tarball provided the specified files being added are newer. -z -j -C\nArchive entire home directory: tar -cvf /tmp/home.tar /home Archive two specific files: tar -cvf /tmp/files.tar /etc/passwd /etc/yum.conf Append files in a directory to existing tarball: tar -rvf /tmp/files.tar /etc/yum.repos.d List what is included in home.tar tarball: tar -tvf /tmp/files.tar Restore single file and confirm: tar -xf /tmp/files.tar etc/yum.conf ls -l etc/yum.conf Restore all files and confirm: tar -xf /tmp/files.tar ls Create a gzip-compressed tarball under /tmp for /home: tar -czf /tmp/home.tar.gz /home Create bzip2-compressed tarball under /tmp for /home: sudo tar -cjf /tmp/home.tar.bz2 /home List content of gzip-compressed archive without uncompressing it: tar -tf /tmp/home.tar.gz Extract files from gzip-compressed tarball in the current directory: tar -xf /tmp/home.tar.gz Extract files from the bzip2-compressed tarball under /tmp: tar -xf /tmp/home.tar.bz2 -C /tmp Compression tools gzip (gunzip) command Create a compressed file for each of the specified files. Adds .gz extension. Flags\nCopy /etc/fstab to the current directory and display filename when uncompressed: cp /etc/fstab . ls -l fstab gzip fstab and view details: gzip fstab ls -l fstab.gz Display compression info: gzip -l fstab.gz Uncompress fstab.gz: gunzip fstab.gz ls -l fstab bzip2 (bunzip2) command Adds .bz2 extension. Better compression/ decompression ratio but is slower than gzip. Compress fstab using bzip and view details: bzip2 fstab ls -l fstab.bz2 Unzip fstab.bz2 and view details: bunzip2 fstab.bz2 ls -l fstab File Editing Vim vimguide\nFile and Directory Operations touch command File is created with 0 bytes in size. Run touch on it and it will get a new timestamp Flags\nSet date on file1 to 2019-09-20: touch -d 2019-09-20 file1 Change modification time on file1 to current system time: touch -m file1 mkdir command Create a new directory. flags\nCreate dir1 verbosely: mkdir dir1 -v Create dir2/perl/perl5: mkdir -vp dir2/perl/perl5 Commands for displaying file contents cat more less head tail cat command Concatenate and print files to standard output. Flags\nRedirect output to specified file: cat \u003e catfile1 tac command Display file contents in reverse more command Display files on page-by-page basis. Forward text searching only. Navigation less command Display files on page-by-page basis. Forward and backwards searching. less /usr/bin/znew Navigation head command Displays first 10 lines of a file. head /etc/profile View top 3 lines of a file: head -3 /etc/profile tail command Display last 10 lines of a file. Flags\ntail /etc/profile View last 3 lines of /etc/profile: tail -3 /etc/profile View updates to the system log file /varlog/messages in real time: sudo tail -f /var/log/messages Counting Words, Lines, and Characters in Text Files wc (word count) command Display the number of lines, words, and characters (or bytes) contained in a text file or input supplied. Flags\nwc /etc/profile 85 294 2123 /etc/profile Display count of characters on /etc/profile: wc -m /etc/profile Copying Files and Directories cp command Copy files or directories. Overwrites destination without warning. root has a custom alias in their .bashrc file that automatically adds the -i option. alias cp='cp -i' Flags\ncp file1 newfile1 Copy file to new directory: cp file1 dir1 Get confirmation before overwriting: cp file1 dir1 -i cp: overwrite 'dir1/file1'? y Copy a directory and view hierarchy: cp -r dir1 dir2 ls -l dir2 -R Copy file while preserving attributes: cp -p file1 /tmp Moving and renaming Files and Directories mv command Move or rename files and directories. Can move a directory into another directory. Target directory must exist otherwise you are just renaming the directory. Alias exists in root’s home directory for -i in the .bashrc file. alias—“alias mv=’mv -i’\"\" Flags\nmv -i file1 dir1 mv newfile1 newfile2 Move a dir into another dir (target exists): mv dir1 dir2 Rename a directory (Target does not exist): mv dir2 dir20 Removing files rm command Delete one or more specified files or directories. Alias—“alias rm=’rm -i’”— in the .bashrc file in the root user’s home directory. Remember to backslash “\" any wildcard characters in filenames. Flags\nErase newfile2: rm -i newfile2 rm a directory: rm -dv emptydir rm a directory recursively: rm -r dir20 rmdir command Remove empty directories. Flags\nrmdir emptydir -v File Linking inode (index node) Contains metadata about a file (128 bytes) File type, Size, permissions, owner name, owning group, access times, link count, etc. Also shows number of allocated blocks and pointers to the data storage location. Assigned a unique numeric identifier that is used by the kernel for accessing, tracking, and managing the file. Does not store the filename. Filename and corresponding inode number mapping is maintained in the directory’s metadata where the file resides. Links are not created between files and directories Hard links Mapping between one or more filenames and an inode number. Hard-linked files are indistinguishable from one another. All hard-linked files will have identical metadata. Changes to the file metadata and content can be made by accessing any of the filenames. Cannot cross file system boundaries. Cannot link directories. ls -li output Column 1 inode number. Column 3 link count. Soft Links Symbolic (symlink). Like a Windows shortcut. Unique inode number for each symlink. Link count does not increase or decrease. Size of soft link is the number of character in pathname to target. Can cross file system boundaries. Can link directories. ls-l shows l at the beginning of the permissions for soft link if you remove the original file, the softlink will point to a file that doesn’t exist. RHEL 8 has four soft-linked directories under /. bin -\u003e usr/bin lib -\u003e usr/lib lib64 -\u003eusr/lib64 sbin -\u003e usr/sbin Same syntax for creating linked directories ln command Create links between files. Creates hard link by default. Hard link file10 and file20 and verify the inode number: touch file10 ln file10 file20 ls -li Create a soft link to file10 called soft10: ln -s file10 soft10 Copying vs linking Copying\nDuplicates source file. Each copy stores data at a unique location. Each copied file has a unique inode number and unique metadata. If a copy is moved, erased, or renamed, the source file will have no impact, and vice versa. Copy is used when the data needs to be edited independent of the other. Permissions on the source and the copy are managed independent of each other. Linking\nCreates a shortcut that points to the source file. Source can be accessed or modified using either the source file or the link. All linked files point to the same data. Hard Link: All hard-linked files share the same inode number, and hence the metadata. Symlink: Each symlinked file has a unique inode number, but the inode number stores only the pathname to the source. Hard Link: If the hard link is weeded out, the other file and the data will remain untouched. Symlink: If the source is deleted, the soft link will be broken and become meaningless. If the soft link is removed, the source will have no impact. Links are used when access to the same source is required from multiple locations. Permissions are managed on the source file. Labs Lab: Viewing regular file information: touch file1 ls -l file file1 stat file1 Lab Create and Manage Hard Links Create an empty file /tmp/hard1, and display the long file listing including the inode number: touch /tmp/hard1 ls -li /tmp/hard1 Create two hard links called hard2 and hard3 under /tmp, and display the long listing: ln /tmp/hard1 /tmp/hard2 ln /tmp/hard1 /tmp/hard3 ls -li /tmp/hard* Edit file hard2 and add some random text. Display the long listing for all three files again: vim /tmp/hard2 ls -li /tmp/hard* Erase file hard1 and hard3, and display the long listing for the remaining file: rm -f /tmp/hard1 /tmp/hard3 ls -li /tmp/hard* Lab: Create and Manage Soft Links Create soft link /root/soft1 pointing to /tmp/hard2, and display the long file listing for both: sudo ln -s /tmp/hard2 /root/soft1 ls -li /tmp/hard2 /root/soft1 sudo ls -li /tmp/hard2 /root/soft1 2.Edit soft1 and display the long listing again:\nsudo vim /root/soft1 sudo ls -li /tmp/hard2 /root/soft1 3.Remove hard2 and display the long listing:\nsudo ls -li /tmp/hard2 /root/soft1 remove the soft link\nrm -f /root/soft1. Lab: Archive, List, and Restore Files Create a gzip-compressed archive of the /etc directory.\ntar -czf etc.tar.gz /etc Create a bzip2-compressed archive of the /etc directory.\nsudo tar -cjf etc.tar.bz2 /etc Compare the file sizes of the two archives.\nls -l etc* Run the tar command and uncompress and restore both archives without specifying the compression tool used.\nsudo tar -xf etc.tar.bz2 ; sudo tar -xf etc.tar.gz Lab: Practice the vim Editor As user1 on server1, create a file called vipractice in the home directory using vim. Type (do not copy and paste) each sentence from Lab 3-1 on a separate line (do not worry about line wrapping). Save the file and quit the editor.\nOpen vipractice in vim again and reveal line numbering. Copy lines 2 and 3 to the end of the file to make the total number of lines in the file to 6. :set number! #then yy and p Move line 3 to make it line 1. 3m0 Go to the last line and append the contents of the .bash_profile. :r ~/.bashrc Substitute all occurrences of the string “Profile” with “Pro File”, and all occurrences of the string “profile” with “pro file”. :%s/profile/pro file/gi Erase lines 5 to 8. :5,8d Provide a count of lines, words, and characters in the vipractice file using the wc command.\nwc vipractice Lab: File and Directory Operations As user1 on server1, create one file and one directory in the home directory.\ntouch file3 mkdir dir5 List the file and directory and observe the permissions, ownership, and owning group.\nls -l file3 ls -l dir5 ls -ld dir5 Try to move the file and the directory to the /var/log directory and notice what happens.\nmv dir5 /var/log mv file3 /var/log Try again to move them to the /tmp directory.\nmv dir5 /tmp ls /tmp Duplicate the file with the cp command, and then rename the duplicated file using any name.\ncp /tmp/file3 file4 ls /tmp ls Erase the file and directory created for this lab.\nrm -d /tmp/dir5; rm file4",
    "description": "File types, linking, viewing, and archiving files.",
    "tags": [],
    "title": "Basic File Managment",
    "uri": "/redhat/file-management/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "RPM (Redhat Package Manager) Specially formatted File(s) packaged together with the .rpm extension. Packages included or available for RHEL are in rpm format. Metadata info gets updated whenever a package is updated. rpm command Install, Upgrade, remove, query, freshen, or decompress packages. Validate package authenticity and integrity. Packages Two types of packages binary (or installable) and source. Binary packages\nInstallation ready Bundled for distribution. Have .rpm extension. Contain: install scripts (pre and post) Executables Configuration files Library files Dependency information Where to install files Documentation How to install/uninstall Man pages for config files/commands Other install and usage info Metadata Stored in central location Includes: Package version Install location Checksum values List of included files and their attributes Package intelligence Used by package administration toolset for successful completion of the package installation process. May include info on: prerequisites User account setup Needed directories/ soft links Includes reverse process for uninstall Package Naming 5 parts to a package name: 1. Name 2. Version 3. release (revision or build) 4. Linux version 5. Processor Architecture - noarch - platform independant - src - Source code packages\nAlways has .rpm extension .rpm is removed after install Example: openssl-1.1.1-8.el8.x86_64.rpm, Package Dependency Dependency info is in the metadata Read by package handling utilities Package Database Metadata for installed packages and package files is stored in /var/lib/rpm/ Package database Referenced by package manipulation utilities to obtain: package name and version data Info about owerships, permissions, timestamps, and file sizes that are part of the package. Contain info on dependencies. Aids management commands in: listing and querying packages Verifying dependencies and file attributes. Installing new packages. Upgrading and uninstalling packages. Removes and replaces metadata when a package is replaced. Can maintain multiple version of a single package. Package Management Tools rpm (redhat package manager) Does not automatically resolve dependencies. yum (yellowdog update, modified) Find, get, and install dependencies automatically. softlink to dnf now. dnf (dandified yum) Package management with rpm rpm package management tasks: - query - install - upgrade - freshen - overwrite - remove - extract - validate - verify\nWorks with installed and installable packages. rpm command Query options Query and display packages\n-q (--query) List all installed packages\n-qa (--query --all)\nList config files in a package\n-qc (--query --config-files)\nList documentation files in a package\n-qd (--query --docfiles) Exhibit what package a file comes from\n-qf (--query --file) Show installed package info (Version, Size, Installation status, Date, Signature, Description, etc.) -qi (--query --info)\nShow installable package info (Version, Size, Installation status, Date, Signature, Description, etc.) -qip (--query --info --package)\nList all files in a package.\n-ql (--query --list)\nList files and packages a package depends on. -qR (--query --requires)\nList packages that provide the specified package or file.\n-q --whatprovides\nList packages that require the specified package or file.\n-q --whatrequires\nPackage installation options Remove a package\n-e (--erase)\nUpgrades installed package. Or loads if not installed.\n-U (--upgrade)\nDisplay detailed information\n-v (--verbose or -vv)\nVerify integrity of a package or package files\n-V (--verify)\nQuerying packages Query packages in the package database or at a specified location.\nInstalling a package Creates directory structure needed Installs files Runs needed post installation steps Installing package will fail if missing dependencies. Error message will show missing dependencies. Upgrading a package Installs the package if previous version does not exist. (-U) Makes backup of effected configuration files and adds .rpmsave extension. Freshening a package Older version must exist. -F option Will only work if a newer version of a package is available. Overwriting a Package Replaces existing files of a package with the same version. –replacepkgs option. Useful when you suspect corruption. Removing a Package Uninstalls package and associated files/ directories -e Option Checks to see if this package is a dependency for another program and fails if it is. Extracting Files from an Installable Package rpm2cpio command -i (extract) -d create directory structure. Useful for: Examining package contents. Replacing corrupt or lost command. Replace critical configuration file to it’s original state Package Integrity and Credibility MD5 Checksum for verifying package integrity GNU Privacy Guard Public Key (GNU Privacy Guard or GPG) for ensuring credibility of publisher. PGP (Pretty Good Privacy) - commercial version of GPG. --nosignature Don’t verify package or header signatures when reading. -K keep package files after installation rpmkeys command check credibility, import GPG key, and verify packages Redhat signs their products and updates with a GPG key. Files in installation media include public keys in the products for verification. Copied to /etc/pki/rpm-gpg during OS installation. RPM-GPG-KEY-redhat-release Used for packages shipped after November 2009 and their updates. RPM-GPG-KEY-redhat-beta For Beta products shipped after November 2009. Import the relevant GPG key and the verify the package to check the credibility of a package. Viewing GPG Keys view with rpm command rpm -q gpg-pubkey -i option show info about a key. Verifying Package Attributes Compare package file attributes with originals stored in package database at the time of installation. -V option compare owner, group, permission mode, size, modification time, digest, type, etc. Returns to prompt if no changes are detected -v or vv for verbose -Vf run the check directly on the file Three columns of output: Column 1 9 fields S = Different file size. M = Mode or permission or file type change. 5 = MD5 Checksum does not match. D = Device file and its major and minor number have changed. L = File is a symlink and it’s path has been altered. U = Ownership has changed. G = Group membership has been modified. T = Timestamp changed. P = Capabilities are altered. . = No modifications detected. Column 2 File type c = Configuration file d = Documentation File g = Ghost FIle l = License file r = Readme file Column 3 Full path of file Basic Package Management Labs Lab: Mount RHEL 9 ISO Persistently Go to the VirtualBox VM Manager and make sure that the RHEL 8 image is attached to RHEL9-VM1 as depicted below: Open the /etc/fstab file in the vim editor (or another editor of your choice) and add the following line entry at the end of the file to mount the DVD image (/dev/sr0) in read-only (ro) mode on the /mnt directory.\n/dev/sr0 /mnt iso9660 ro 0 0 Note: sr0 represents the first instance of the optical device and iso9660 is the standard format for optical file systems.\nMount the file system as per the configuration defined in the /etc/fstab file using the mount command with the -a (all) option:\nsudo mount -a Verify the mount using the df command:\ndf -h | grep mnt Note: The image and the packages therein can now be accessed via the /mnt directory just like any other local directory on the system.\nList the two directories—/mnt/BaseOS/Packages and /mnt/AppStream/Packages—that contain all the software packages (directory names are case sensitive):\nls -l /mnt/BaseOS/Packages | more Lab: Query Packages (RPM) query all installed packages: rpm -qa\nquery whether the perl package is installed: rpm -q perl\nlist all files in a package: rpm -ql iproute\nlist only the documentation files in a package: rpm -qd audit\nlist only the configuration files in a package: rpm -qc cups\nidentify which package owns the specified file: rpm -qf /etc/passwd\ndisplay information about an installed package including version, release, installation status, installation date, size, signatures, description, and so on: rpm -qi setup\nlist all file and package dependencies for a given package: rpm -qR chrony\nquery an installable package for metadata information (version, release, architecture, description, size, signatures, etc.): rpm -qip /mnt/BaseOS/Packages/zsh-5.5.1-6.el8.x86_64.rpm\ndetermine what packages require the specified package in order to operate properly: rpm -q --whatrequires lvm2\nLab: Installing a Package (RPM) Install zsh-5.5.1-6.el8.x86_64.rpm sudo rpm -ivh /mnt/BaseOS/Packages/zsh-5.5.1-6.el8.x86_64.rpm Lab: Upgrading a Package (RPM) Upgrade sushi with the -U option: sudo rpm -Uvh /mnt/AppStream/Packages/sushi-3.28.3-1.el8.x86_64.rpm Lab: Freshening a Package Freshen the sushi package: sudo rpm -Fvh /mnt/AppStream/Packages/sushi-3.28.3-1.el8.x86_64.rpm Lab: Overwriting a Package Overwrite zsh-5.5.1-6.el8.x86_64 sudo rpm -ivh --replacepkgs /mnt/BaseOS/Packages/zsh-5.5.1-6.el8.x86_64 Lab: Removing a Package Remove sushi sudo rpm sushi -ve Lab: Extracting Files from an Installable Package You have lost /etc/crony.conf. Determine what package this file comes from: rpm -qf /etc/chrony.conf\nExtract all files from the crony package to /tmp and create the directory structure:\n[root@server30 mnt]# cd /tmp [sudo rpm2cpio /mnt/BaseOS/Packages/chrony-3.3-3.el8.x86_64.rpm | cpio -imd 1066 blocks](\u003c[root@server30 tmp]# rpm2cpio /mnt/BaseOS/Packages/chrony-4.3-1.el9.x86_64.rpm | cpio -imd 1253 blocks\u003e) Use find to locate the crony.conf file: sudo find . -name chrony.conf\nCopy the file to /etc:\nLab: Validating Package Integrity and Credibility Check the integrity of zsh-5.5.1-6.el8.x86_64.rpm located in /mnt/BaseOS/Packages: rpm -K /mnt/BaseOS/Packages/zsh-5.5.1-6.el8.x86_64.rpm --nosignature Import the GPG key from the proper file and verify the signature for the zsh-5.5.1-6.el8.x86_64.rpm package. sudo rpmkeys --import /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release sudo rpmkeys -K /mnt/BaseOS/Packages/zsh-5.5.1-6.el8.x86_64.rpm Lab: Viewing GPG Keys List the imported key: rpm -q gpg-pubkey View details for the first key: rpm -qi gpg-pubkey-fd431d51-4ae0493b Lab: Verifying Package Attributes Run a check on the at program: sudo rpm -V at\nChange permissions of one of the files and run the check again:\nls -l /etc/sysconfig/atd sudo chmod -v 770 /etc/sysconfig/atd sudo rpm -V at Run the check directly on the file: sudo rpm -Vf /etc/sysconfig/atd\nReset the value and check the file again:\nsudo chmod -v 644 /etc/sysconfig/atd sudo rpm -V at Lab: Perform Package Management Using rpm Run the ls command on the /mnt/AppStream/Packages directory to confirm that the rmt package is available: [root@server30 tmp]# ls -l /mnt/BaseOS/Packages/rmt* -r--r--r--. 1 root root 49582 Nov 20 2021 /mnt/BaseOS/Packages/rmt-1.6-6.el9.x86_64.rpm Run the rpm command and verify the integrity and credibility of the package: [root@server30 tmp]# rpmkeys -K /mnt/BaseOS/Packages/rmt-1.6-6.el9.x86_64.rpm /mnt/BaseOS/Packages/rmt-1.6-6.el9.x86_64.rpm: digests signatures OK Install the Package: [root@server30 tmp]# rpmkeys -K /mnt/BaseOS/Packages/rmt-1.6-6.el9.x86_64.rpm /mnt/BaseOS/Packages/rmt-1.6-6.el9.x86_64.rpm: digests signatures OK [root@server30 tmp]# rpm -ivh /mnt/BaseOS/Packages/rmt-1.6-6.el9.x86_64.rpm Verifying... ################################# [100%]) Preparing... ################################# [100%]) Updating / installing... 1:rmt-2:1.6-6.el9 ################################# [100%]) Show basic information about the package: [root@server30 tmp]# rpm -qi rmt Name : rmt Epoch : 2 Version : 1.6 Release : 6.el9 Architecture: x86_64 Install Date: Sat 13 Jul 2024 09:02:08 PM MST Group : Unspecified Size : 88810 License : CDDL Signature : RSA/SHA256, Sat 20 Nov 2021 08:46:44 AM MST, Key ID 199e2f91fd431d51 Source RPM : star-1.6-6.el9.src.rpm Build Date : Tue 10 Aug 2021 03:13:47 PM MST Build Host : x86-vm-55.build.eng.bos.redhat.com Packager : Red Hat, Inc. \u003chttp://bugzilla.redhat.com/bugzilla\u003e Vendor : Red Hat, Inc. URL : http://freecode.com/projects/star Summary : Provides certain programs with access to remote tape devices Description : The rmt utility provides remote access to tape devices for programs like dump (a filesystem backup program), restore (a program for restoring files from a backup), and tar (an archiving program). Show all the files the package contains: [root@server30 tmp]# rpm -ql rmt /etc/default/rmt /etc/rmt /usr/lib/.build-id /usr/lib/.build-id/c2 /usr/lib/.build-id/c2/6a51ea96fc4b4367afe7d44d16f1405c3c7ec9 /usr/sbin/rmt /usr/share/doc/star /usr/share/doc/star/CDDL.Schily.txt /usr/share/doc/star/COPYING /usr/share/man/man1/rmt.1.gz List the documentation files the package has: [root@server30 tmp]# rpm -qd rmt /usr/share/doc/star/CDDL.Schily.txt /usr/share/doc/star/COPYING /usr/share/man/man1/rmt.1.gz Verify the attributes of each file in the package. Use verbose mode. [root@server30 tmp]# rpm -vV rmt ......... c /etc/default/rmt ......... /etc/rmt ......... a /usr/lib/.build-id ......... a /usr/lib/.build-id/c2 ......... a /usr/lib/.build-id/c2/6a51ea96fc4b4367afe7d44d16f1405c3c7ec9 ......... /usr/sbin/rmt ......... /usr/share/doc/star ......... d /usr/share/doc/star/CDDL.Schily.txt ......... d /usr/share/doc/star/COPYING ......... d /usr/share/man/man1/rmt.1.gz Remove the package: [root@server30 tmp]# rpm -ve rmt Preparing packages... rmt-2:1.6-6.el9.x86_64 Lab 9-1: Install and Verify Packages As user1 with sudo on server3,\nmake sure the RHEL 9 ISO image is attached to the VM and mounted. Use the rpm command and install the zsh package by specifying its full path. [root@server30 Packages]# rpm -ivh /mnt/BaseOS/Packages/zsh-5.8-9.el9.x86_64.rpm Verifying... ################################# [100%]) Preparing... ################################# [100%]) package zsh-5.8-9.el9.x86_64 is already installed Run the rpm command again and perform the following on the zsh package: (1) show information [root@server30 Packages]# rpm -qi zsh Name : zsh Version : 5.8 Release : 9.el9 Architecture: x86_64 Install Date: Sat 13 Jul 2024 06:49:40 PM MST Group : Unspecified Size : 8018363 License : MIT Signature : RSA/SHA256, Thu 24 Feb 2022 08:59:15 AM MST, Key ID 199e2f91fd431d51 Source RPM : zsh-5.8-9.el9.src.rpm Build Date : Wed 23 Feb 2022 07:10:14 AM MST Build Host : x86-vm-56.build.eng.bos.redhat.com Packager : Red Hat, Inc. \u003chttp://bugzilla.redhat.com/bugzilla\u003e Vendor : Red Hat, Inc. URL : http://zsh.sourceforge.net/ Summary : Powerful interactive shell Description : The zsh shell is a command interpreter usable as an interactive login shell and as a shell script command processor. Zsh resembles the ksh shell (the Korn shell), but includes many enhancements. Zsh supports command line editing, built-in spelling correction, programmable command completion, shell functions (with autoloading), a history mechanism, and more. (2) validate integrity [root@server30 Packages]# rpm -K zsh-5.8-9.el9.x86_64.rpm zsh-5.8-9.el9.x86_64.rpm: digests signatures OK (3) display attributes [root@server30 Packages]# rpm -V zsh Lab 9-2: Query and Erase Packages As user1 with sudo on server3,\nmake sure the RHEL 9 ISO image is attached to the VM and mounted. Use the rpm command to perform the following: (1) check whether the setup package is installed [root@server30 Packages]# rpm -q setup setup-2.13.7-10.el9.noarch (2) display the list of configuration files in the setup package [root@server30 Packages]# rpm -qc setup /etc/aliases /etc/bashrc /etc/csh.cshrc /etc/csh.login /etc/environment /etc/ethertypes /etc/exports /etc/filesystems /etc/fstab /etc/group /etc/gshadow /etc/host.conf /etc/hosts /etc/inputrc /etc/motd /etc/networks /etc/passwd /etc/printcap /etc/profile /etc/profile.d/csh.local /etc/profile.d/sh.local /etc/protocols /etc/services /etc/shadow /etc/shells /etc/subgid /etc/subuid /run/motd /usr/lib/motd (3) show information for the zlib-devel package on the ISO image [root@server30 Packages]# rpm -qi ./zlib-devel-1.2.11-40.el9.x86_64.rpm Name : zlib-devel Version : 1.2.11 Release : 40.el9 Architecture: x86_64 Install Date: (not installed) Group : Unspecified Size : 141092 License : zlib and Boost Signature : RSA/SHA256, Tue 09 May 2023 05:31:02 AM MST, Key ID 199e2f91fd431d51 Source RPM : zlib-1.2.11-40.el9.src.rpm Build Date : Tue 09 May 2023 03:51:20 AM MST Build Host : x86-64-03.build.eng.rdu2.redhat.com Packager : Red Hat, Inc. \u003chttp://bugzilla.redhat.com/bugzilla\u003e Vendor : Red Hat, Inc. URL : https://www.zlib.net/ Summary : Header files and libraries for Zlib development Description : The zlib-devel package contains the header files and libraries needed to develop programs that use the zlib compression and decompression library. (4) reinstall the zsh package (–reinstall -vh), [root@server30 Packages]# rpm -hv --reinstall ./zsh-5.8-9.el9.x86_64.rpm Verifying... ################################# [100%]) Preparing... ################################# [100%]) Updating / installing... 1:zsh-5.8-9.el9 ################################# [ 50%]) Cleaning up / removing... 2:zsh-5.8-9.el9 ################################# [100%]) (5) remove the zsh package. [root@server30 Packages]# rpm -e zsh",
    "description": "RPM and package integrity and credibility",
    "tags": [],
    "title": "Basic Package Management",
    "uri": "/redhat/basic-package-management/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "Listing Logged-In Users A list of the users who have successfully signed on to the system with valid credentials can be printed using who and w\nwho command references the /run/utmp file and displays the information. displays login name of user shows terminal session device filename pts stands for pseudo terminal session shows data and time of user login Shows if terminal session is graphical(:0), remote(IP address), or textual on the console what command (w) Shows length of time the user has been idle CPU time used by all processes including any existing background jobs attached to this terminal (JCPU), CPU time used by the current process (PCPU), current activity (WHAT). current system time system up duration number of users logged in cpu averages over last 1, 5, and 15 minutes load average (CPU load): 0.00 and 1.00 correspond to no load and full load, and a number greater than 1.00 signifies excess load (over 100%). last command Reports the history of successful user login attempts and system boots Consults the wtmp file located in the /var/log directory. wtmp keeps a record of login/logout activities login time duration a user stayed logged in tty Output Login name Terminal name Terminal name or IP from where connection was established Day, Month, date, and time when the connection was established Log out time or (still logged in) Duration of session Action name (system reboots section) Activity name (system reboots section) Linux kernel version (system reboots section) Day, Month, date, and time when the reboot command was issued (system reboots section) System restart time (system reboots section) Duration the system remained down or (still running) (system reboots section) log filename (wtmp) (last line) lastb command reports failed login attempts Consults /var/log/btmp record of failed login attempts login name time tty Must be root to run this command Columns name of user protocol used terminal name or ip address Day, Month, Date, and time of the attempt Duration the attempt was tried Duration the attempt last for log filename (btmp) (last line) lastlog command most recent login evidence info for every user account that exists on the system Consults /var/log/lastlog record of most recent user attempts login name time port (or tty) Columns: Login name of user Terminal name assigned upon Logging in Terminal name or Ip address from where the session was initiated Timestamp for the latest login or “Never logged in” service accounts are used by their respective services, and they are not meant for logging. id (identifier) Command displays the calling user’s: UID (User IDentifier) username GID (Group IDentifier) group name all secondary groups the user is a member of SELinux security context groups Command: lists all groups the calling user is a member of: first group listed is the primary group for the user who executed this command other groups are secondary (or supplementary). can also view group membership information for a different user. User Account Management useradd Command add a new user to the system adds entries to the four user authentication files for each account added to the system creates a home directory for the user and copies the default user startup files from the skeleton directory /etc/skel into the user’s home directory used to update the default settings that are used at the time of new user creation for unspecified settings Options -b (–base-dir) Defines the absolute path to the base directory for placing user home directories. The default is /home. -c (–comment) Describes useful information about the user. -d (–home-dir) Defines the absolute path to the user home directory. -D (–defaults) Displays the default settings from the /etc/default/useradd file and modifies them. -e (–expiredate) Specifies a date on which a user account is automatically disabled. The format for the date specification is YYYY-MM-DD. -f (–inactive) Denotes maximum days of inactivity between password expiry and permanent account disablement. -g (–gid) Specifies the primary GID. Without this option, a group account matching the username is created with the GID matching the UID. -G (–groups) Specifies the membership to supplementary groups. -k (–skel) location of the skeleton directory (default is /etc/skel) (stores default user startup files) These files are copied to the user’s home directory at the time of account creation. Three hidden bash shell files: (default) .bash_profile, .bashrc, and .bash_logout You can customize these files or add your own to be used for accounts created thereafter. -m (–create-home) Creates a home directory if it does not already exist. -o (–non-unique) Creates a user account sharing the UID of an existing user. When two users share a UID, both get identical rights on each other’s files. Should only be done in specific situations. -r (–system) Creates a service account with a UID below 1000 and a never-expiring password. -s (–shell) Defines the absolute path to the shell file. The default is /bin/bash. -u (–uid) Indicates a unique UID. Without this option, the next available UID from the /etc/passwd file is used. login Specifies a login name to be assigned to the user account. usermod Command modify the attributes of an existing user similar syntax to useradd and most switches identical. Options unique to usermod: -a (–append) Adds a user to one or more supplementary groups -l (–login) Specifies a new login name -m (–move-home) Creates a home directory and moves the content over from the old location -G Add a list of groups a user is a member of. userdel Command to remove a user from the system passwd Command set or modify a user’s password No-Login (Non-Interactive) User Account nologin command /sbin/nologin special purpose program that can be employed for user accounts that do not require login access to the system. located in the /usr/sbin (or /sbin) directory user is refused with the message, “This account is currently not available.” If a custom message is required, you can create a file called nologin.txt in the /etc directory and add the desired text to it. If a no-login user is able to log in with their credentials, there is a problem. Use the grep command against the /etc/passwd file to ensure ‘/sbin/nologin’ is there in the shell field for that user. examples of user accounts that do not require login access are the service accounts such as ftp, apache, and sshd. Basic User Management Labs Lab: who who Lab: what w Lab: last List all user login, logout, and system reboot occurrences: last List system reboot info only: last reboot Lab: lastb lastb Lab: lastlog lastlog Lab: id View info about currently active user: id View info about another user: id user1 Lab: groups View current user’s groups: groups View groups of another user: groups user1 Lab: user authentication files list of the four files and their backups from the /etc directory: ls -l /etc/passwd* /etc/group* /etc/shadow* /etc/gshadow* View first and last 3 lines of the passwd file head -3 /etc/passwd ; tail -3 /etc/passwd verify the permissions and ownership on the passwd file: ls -l /etc/passwd View first and last 3 lines of the shadow file: head -3 /etc/shadow ; tail -3 /etc/shadow verify the permissions and ownership on the shadow file: ls -l /etc/shadow View first and last 3 lines of the group file: head -3 /etc/group ; tail -3 /etc/group Verify the permissions and ownership on the group file: ls -l /etc/group View first and last 3 lines of the gshadow file: head -3 /etc/gshadow ; tail -3 /etc/gshadow Verify the permissions and ownership on the gshadow file: ls -l /etc/gshadow Lab: useradd and login.defs use the cat or less command to view the useradd file content or display the settings with the useradd command: useradd -D grep on the/etc/login.defs with uncommented and non-empty lines: grep -v ^# /etc/login.defs | grep -v ^$ Lab: Create a User Account with Default Attributes (root) Create user2 with all the default directives: useradd user2 Assign this user a password and enter it twice when prompted: passwd user2 grep for user2: on the authentication files to examine what the useradd command has added: cd /etc ; grep user2: passwd shadow group gshadow Test this new account by logging in as user2 and then run the id and groups commands to verify the UID, GID, and group membership information: su - user2 id groups Lab: Create a User Account with Custom Values Create user3 with UID 1010, home directory /usr/user3a, and shell /bin/sh: useradd -u 1010 -d /usr/user3a -s /bin/sh user3 Assign user1234 as password (passwords assigned in the following way is not recommended; however, it is okay in a lab environment): echo user1234 | passwd --stdin user3 grep for user3: on the four authentication files to see what was added for this user: cd /etc ; grep user3: passwd shadow group gshadow Test this account by switching to or logging in as user3 and entering user1234 as the password. Run the id and groups commands for further verification. su - user3 id groups Lab: Modify and Delete a User Account Modify the login name for user2 to user2new, UID to 2000, home directory to /home/user2new, and login shell to /sbin/nologin. usermod -l user2new -m -d /home/user2new -s /sbin/nologin -u 2000 user2 Obtain the information for user2new from the passwd file for confirmation: grep user2new /etc/passwd Remove user2new along with their home and mail spool directories: userdel -r user2new Confirm the user deletion: grep user2new /etc/passwd Lab: Create a User Account with No-Login Access (root) Look at the current nologin users: grep nologin /etc/passwd Create user4 with non-interactive shell file /sbin/nologin: useradd -s /sbin/nologin user4 Assign user1234 as password: echo user1234 | passwd --stdin user4 grep for user4 on the passwd file and verify the shell field containing the nologin shell: grep user4 /etc/passwd Test this account by attempting to log in or switch: su - user4 Lab: Check User Login Attempts (root) execute the last, lastb, and lastlog commands, and observe the outputs. last lastb lastlog List the timestamps when the system was last rebooted. last | grep reboot Lab 5-2: Verify User and Group Identity (user1) run the who and w commands one at a time, and compare the outputs. who w Execute the id and groups commands, and compare the outcomes. Examine the extra information that the id command shows, but not the groups command. id groups Lab 5-3: Create Users (root) create user account user4100 with UID 4100 and home directory under /usr. useradd -m -d /usr/user4100 -u 4100 user4100 Create another user account user4200 with default attributes. useradd user4200 Assign both users a password. passwd user4100 passwd user4200 View the contents of the passwd, shadow, group, and gshadow files, and observe what has been added for the two new users. cat /etc/passwd cat /etc/shadow cat /etc/group cat /etc/gshadow Lab: Create User with Non-Interactive Shell (root) Create user account user4300 with the disability of logging in. useradd -s /sbin/nologin user4300 Assign this user a password. passwd user4300 Try to log on with this user and see is displayed on the screen. su - user4300 View the content of the passwd file, and see what is there that prevents this user from logging in. cat /etc/passwd",
    "description": "Manage users and groups",
    "tags": [],
    "title": "Basic User Management",
    "uri": "/redhat/basic-user-management/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "I started keeping a list of all of the books I did not finish. These aren’t necessarily bad books. A lot of them I’ve read 3/4 of the way through and just never finished because other priorities got in the way. Some of them I probably won’t pick up again. And some were just plain awful.\nAntifragile 12 Rules for Life: An Antidote to Chaos The Four Agreements: A Practical Guide to Personal Freedom (A Toltec Wisdom Book) Crush It!: Why NOW Is the Time to Cash In on Your Passion Ninja Selling: Subtle Skills. Big Results. The Royal Road to Card Magic The Book Of Pook Bang: The Most Infamous Pickup Book In The World New World Ronin: Strategies for Artists, Entrepreneurs, Rebels, Warriors and Outcasts The Book of Mormon: Another Testament of Jesus Christ The Bible A Byte of Python Bachelor Pad Economics What Color Is Your Parachute? 2019: A Practical Manual for Job-Hunters and Career-Changers The Cheater’s Guide to Writing Erotic Romance Let’s Play Chess: A Step by Step Guide for New Players (The Pandolfini Chess Library): A Step-By-Step Guide for New Players Chess Fundamentals Stick Control: For the Snare Drummer The Ethical Slut, Third Edition: A Practical Guide to Polyamory, Open Relationships, and Other Freedoms in Sex and Love Jiu-Jitsu University CCNP and CCIE Enterprise Core ENCOR 350-401 Official Cert Guidee The Miracle Morning for Addiction Recovery: Letting Go of Who You’ve Been for Who You Can Become Reset Your Child’s Brain: A Four-Week Plan to End Meltdowns, Raise Grades, and Boost Social Skills by Reversing the Effects of Electronic Screen-Time How to Talk so Little Kids Will Listen: A Survival Guide to Life with Children Ages 2-7 (The How To Talk Series The Neverending Story How to Talk When Kids Won’t Listen: Whining, Fighting, Meltdowns, Defiance, and Other Challenges of Childhood (The How To Talk Series) Ten Arguments for Deleting Your Social Media Accounts Right Now Digital Minimalism: Choosing a Focused Life in a Noisy World Essentialism: The Disciplined Pursuit of Less Deep Work: Rules for Focused Success in a Distracted World How To Bullet Journal For Beginners: The Ultimate Bullet Journal Guide To Effectively Master Your Life, Reach Your Goals, \u0026 Manifest Your Dreams (BONUS: Mastery Journal Template Included!) Glow Kids: How Screen Addiction Is Hijacking Our Kids – And How to Break the Trance The DHEA Breakthrough: Look Younger, Live Longer, Feel Better Zen and the Art of Motorcycle Maintenance: An Inquiry Into Values Feelings Buried Alive Never Die The Healing Nutrients Within Myofascial Pain and Dysfunction: The Trigger Point Manual; Vol. 1. The Upper Half of Body Fretboard Logic SE - Special Edition The Reasoning Behind the Guitar’s Unique Tuning + Chords Scales and Arpeggios Complete (Volumes I and II Combined The E-Myth Revisited: Why Most Small Businesses Don’t Work and What to Do About It The 48 Laws of Power Fifty Shades of Grey: Book One of the Fifty Shades Trilogy Introducing Neuro-linguistic Programming: The New Psychology of Personal Excellence NLP: The New Technology of Achievement The Selfish Gene: 30th Anniversary Edition–with a new Introduction by the Author Unlimited Power : The New Science Of Personal Achievement Awaken the Giant Within : How to Take Immediate Control of Your Mental, Emotional, Physical and Financial Destiny Testosterone: A Man’s Guide- Second Edition To Be a Man: A Guide to True Masculine Power Medicinal Mushrooms: The Essential Guide Blood Meridian: Or the Evening Redness in the West About Face: The Odyssey of an American Warrior Tantric Sex for Men: Making Love a Meditation The Karezza Method: Magnetation, The Art of Connubial Love (Forgotten Books NLP: The Essential Guide to Neuro-Linguistic Programming The Backyard Blacksmith: Traditional Techniques for the Modern Smith Breakthrough Advertising: How to Write Ads that Shatter Traditions and Sales Records How to Write a Good Advertisement Coaching Questions: A Coach’s Guide to Powerful Asking Skills Do You Talk Funny?: 7 Comedy Habits to Become a Better (and Funnier) Public Speaker The Frozen Shoulder Workbook: Trigger Point Therapy for Overcoming Pain and Regaining Range of Motion (A New Harbinger Self-Help Workbook Silver Surfer: Rebirth of Thanos (Silver Surfer (Paperback) The Creative Cure: How Finding and Freeing Your Inner Artist Can Heal Your Life The Slight Edge The Coiled Serpent Unconditional Parenting The Other End of the Leash The Oxygen Advantage UNIX and Linux System Administration Handbook The Linux Command Line, 2nd Edition: A Complete Introduction The 80/20 Principle: The Secret to Achieving More with Less The Rape Of Nanking: The Forgotten Holocaust Of World War II",
    "description": "I started keeping a list of all of the books I did not finish. These aren’t necessarily bad books. A lot of them I’ve read 3/4 of the way through and just never finished because other priorities got in the way. Some of them I probably won’t pick up again. And some were just plain awful.\nAntifragile 12 Rules for Life: An Antidote to Chaos The Four Agreements: A Practical Guide to Personal Freedom (A Toltec Wisdom Book) Crush It!: Why NOW Is the Time to Cash In on Your Passion Ninja Selling: Subtle Skills. Big Results. The Royal Road to Card Magic The Book Of Pook Bang: The Most Infamous Pickup Book In The World New World Ronin: Strategies for Artists, Entrepreneurs, Rebels, Warriors and Outcasts The Book of Mormon: Another Testament of Jesus Christ The Bible A Byte of Python Bachelor Pad Economics What Color Is Your Parachute? 2019: A Practical Manual for Job-Hunters and Career-Changers The Cheater’s Guide to Writing Erotic Romance Let’s Play Chess: A Step by Step Guide for New Players (The Pandolfini Chess Library): A Step-By-Step Guide for New Players Chess Fundamentals Stick Control: For the Snare Drummer The Ethical Slut, Third Edition: A Practical Guide to Polyamory, Open Relationships, and Other Freedoms in Sex and Love Jiu-Jitsu University CCNP and CCIE Enterprise Core ENCOR 350-401 Official Cert Guidee The Miracle Morning for Addiction Recovery: Letting Go of Who You’ve Been for Who You Can Become Reset Your Child’s Brain: A Four-Week Plan to End Meltdowns, Raise Grades, and Boost Social Skills by Reversing the Effects of Electronic Screen-Time How to Talk so Little Kids Will Listen: A Survival Guide to Life with Children Ages 2-7 (The How To Talk Series The Neverending Story How to Talk When Kids Won’t Listen: Whining, Fighting, Meltdowns, Defiance, and Other Challenges of Childhood (The How To Talk Series) Ten Arguments for Deleting Your Social Media Accounts Right Now Digital Minimalism: Choosing a Focused Life in a Noisy World Essentialism: The Disciplined Pursuit of Less Deep Work: Rules for Focused Success in a Distracted World How To Bullet Journal For Beginners: The Ultimate Bullet Journal Guide To Effectively Master Your Life, Reach Your Goals, \u0026 Manifest Your Dreams (BONUS: Mastery Journal Template Included!) Glow Kids: How Screen Addiction Is Hijacking Our Kids – And How to Break the Trance The DHEA Breakthrough: Look Younger, Live Longer, Feel Better Zen and the Art of Motorcycle Maintenance: An Inquiry Into Values Feelings Buried Alive Never Die The Healing Nutrients Within Myofascial Pain and Dysfunction: The Trigger Point Manual; Vol. 1. The Upper Half of Body Fretboard Logic SE - Special Edition The Reasoning Behind the Guitar’s Unique Tuning + Chords Scales and Arpeggios Complete (Volumes I and II Combined The E-Myth Revisited: Why Most Small Businesses Don’t Work and What to Do About It The 48 Laws of Power Fifty Shades of Grey: Book One of the Fifty Shades Trilogy Introducing Neuro-linguistic Programming: The New Psychology of Personal Excellence NLP: The New Technology of Achievement The Selfish Gene: 30th Anniversary Edition–with a new Introduction by the Author Unlimited Power : The New Science Of Personal Achievement Awaken the Giant Within : How to Take Immediate Control of Your Mental, Emotional, Physical and Financial Destiny Testosterone: A Man’s Guide- Second Edition To Be a Man: A Guide to True Masculine Power Medicinal Mushrooms: The Essential Guide Blood Meridian: Or the Evening Redness in the West About Face: The Odyssey of an American Warrior Tantric Sex for Men: Making Love a Meditation The Karezza Method: Magnetation, The Art of Connubial Love (Forgotten Books NLP: The Essential Guide to Neuro-Linguistic Programming The Backyard Blacksmith: Traditional Techniques for the Modern Smith Breakthrough Advertising: How to Write Ads that Shatter Traditions and Sales Records How to Write a Good Advertisement Coaching Questions: A Coach’s Guide to Powerful Asking Skills Do You Talk Funny?: 7 Comedy Habits to Become a Better (and Funnier) Public Speaker The Frozen Shoulder Workbook: Trigger Point Therapy for Overcoming Pain and Regaining Range of Motion (A New Harbinger Self-Help Workbook Silver Surfer: Rebirth of Thanos (Silver Surfer (Paperback) The Creative Cure: How Finding and Freeing Your Inner Artist Can Heal Your Life The Slight Edge The Coiled Serpent Unconditional Parenting The Other End of the Leash The Oxygen Advantage UNIX and Linux System Administration Handbook The Linux Command Line, 2nd Edition: A Complete Introduction The 80/20 Principle: The Secret to Achieving More with Less The Rape Of Nanking: The Forgotten Holocaust Of World War II",
    "tags": [],
    "title": "Book Graveyard",
    "uri": "/booknotes/book-graveyard/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "Linux Kernel controls everything on the system. hardware enforces security and access controls runs, schedules, and manages processes and service daemons. comprised of several modules. new kernel must be installed or an existing kernel must be upgraded when the need arises from an application or functionality standpoint. core of the Linux system. manages hardware enforces security regulates access to the system handles\nprocesses\nservices\napplication workloads.\ncollection of software components called modules\nModules device drivers that control hardware devices processor memory storage controller cards peripheral equipment interact with software subsystems storage partitioning file systems networking virtualization Some modules are static to the kernel and are integral to system functionality,\nSome modules are loaded dynamically as needed\nRHEL 8.0 and RHEL 8.2 are shipped with kernel version 4.18.0 (4.18.0-80 and 4.18.0-193 to be specific) for the 64-bit Intel/AMD processor architecture computers with single, multi-core, and multi-processor configurations.\nuname -m shows the architecture of the system.\nKernel requires a rebuild when a new functionality is added or removed.\nfunctionality may be introduced by:\ninstalling a new kernel upgrading an existing one installing a new hardware device, or changing a critical system component. existing functionality that is no longer needed may be removed to make the overall footprint of the kernel smaller for improved performance and reduced memory utilization.\ntunable parameters are set that define a baseline for kernel functionality.\nSome parameters must be tuned for some applications and database software to be installed smoothly and operate properly.\nYou can generate and store several custom kernels with varied configuration and required modules\nonly one of them can be active at a time.\ndifferent kernel may be loaded by interacting with GRUB2.\nKernel Packages set of core kernel packages that must be installed on the system at a minimum to make it work. Additional packages providing supplementary kernel support are also available. Core and some add-on kernel packages.\nKernel Package Description kernel Contains no files, but ensures other kernel packages are accurately installed kernel-core Includes a minimal number of modules to provide core functionality kernel-devel Includes support for building kernel modules kernel-modules Contains modules for common hardware devices kernel-modules-extra Contains modules for not-so-common hardware devices kernel-headers Includes files to support the interface between the kernel and userspace kernel-tools-libs Includes the libraries to support the kernel tools libraries and programs kernel-tools Includes tools to manipulate the kernel Kernel Packages Packages containing the source code for RHEL 8 are also available for those who wish to customize and recompile the code List kernel packages installed on the system:\ndnf list installed kernel* Shows six kernel packages that were loaded during the OS installation. Analyzing Kernel Version Check the version of the kernel running on the system to check for compatibility with an application or database:\nuname -r 5.14.0-362.24.1.el9_3.x86_64 5 - Major version 14 - Major revision 0 - Kernel patch version 362 - Red Hat version el9 - Enterprise Linux 9 x86_64 - Processor architecture\nKernel Directory Structure Kernel and its support files (noteworthy locations)\n/boot /proc /usr/lib/modules /boot Created at system installation. Linux kernel GRUB2 configuration other kernel and boot support files. View the /boot filesystem: ls -l /boot\nfour files are for the kernel and vmlinuz - main kernel file initramfs - main kernel’s boot image config - configuration System.map - mapping two files for kernel rescue version Have the current kernel version appended to their names. have the string “rescue” embedded within their names /boot/efi/ and /boot/grub2/\nhold bootloader information specific to firmware type used on the system: UEFI or BIOS. List /boot/Grub2:\n[root@localhost ~]# ls -l /boot/grub2 total 32 -rw-r--r--. 1 root root 64 Feb 25 05:13 device.map drwxr-xr-x. 2 root root 25 Feb 25 05:13 fonts -rw-------. 1 root root 7049 Mar 21 04:47 grub.cfg -rw-------. 1 root root 1024 Mar 21 05:12 grubenv drwxr-xr-x. 2 root root 8192 Feb 25 05:13 i386-pc drwxr-xr-x. 2 root root 4096 Feb 25 05:13 locale grub.cfg bootable kernel information grub.env environment information that the kernel uses. /boot/loader\nstorage location for configuration of the running and rescue kernels. Configuration is stored in files under the /boot/loader/entries/ [root@localhost ~]# ls -l /boot/loader/entries/ total 12 -rw-r--r--. 1 root root 484 Feb 25 05:13 8215ac7e45d34823b4dce2e258c3cc47-0-rescue.conf -rw-r--r--. 1 root root 460 Mar 16 06:17 8215ac7e45d34823b4dce2e258c3cc47-5.14.0-362.18.1.el9_3.x86_64.conf -rw-r--r--. 1 root root 459 Mar 16 06:17 8215ac7e45d34823b4dce2e258c3cc47-5.14.0-362.24.1.el9_3.x86_64.conf The files are named using the machine id of the system as stored in /etc/machine-id/ and the kernel version they are for. content of the kernel file:\n[root@localhost entries]# cat /boot/loader/entries/8215ac7e45d34823b4dce2e258c3cc47-5.14.0- 362.18.1.el9_3.x86_64.conf title Red Hat Enterprise Linux (5.14.0-362.18.1.el9_3.x86_64) 9.3 (Plow) version 5.14.0-362.18.1.el9_3.x86_64 linux /vmlinuz-5.14.0-362.18.1.el9_3.x86_64 initrd /initramfs-5.14.0-362.18.1.el9_3.x86_64.img $tuned_initrd options root=/dev/mapper/rhel-root ro crashkernel=1G-4G:192M,4G- 64G:256M,64G-:512M resume=/dev/mapper/rhel-swap rd.lvm.lv=rhel/root rd.lvm.lv=rhel/swap rhgb quiet $tuned_params grub_users $grub_users grub_arg --unrestricted grub_class rhel “title” is displayed on the bootloader screen “kernelopts” and “tuned_params” supply values to the booting kernel to control its behavior. /proc Virtual, memory-based file system contents are created and updated in memory at system boot and during runtime destroyed at system shutdown current state of the kernel, which includes hardware configuration status information processor memory storage file systems swap processes network interfaces connections routing etc. Data kept in tens of thousands of zero-byte files organized in a hierarchy. List /proc: ls -l /proc\nnumerical subdirectories contain information about a specific process process ID matches the subdirectory name. other files and subdirectories contain information, such as memory segments for processes and configuration data for system components. can view the configuration in vim Show selections from the cpuinfo and meminfo files that hold processor and memory information: cat/proc/cpuinfo \u0026\u0026 cat /proc/meminfo\ndata used by top, ps, uname, free, uptime and w, to display information. /usr/lib/modules/ holds information about kernel modules. subdirectories are specific to the kernels installed on the system. Long listing of /usr/lib/modules/ shows two installed kernels:\n[root@localhost entries]# ls -l /usr/lib/modules total 8 drwxr-xr-x. 7 root root 4096 Mar 16 06:18 5.14.0-362.18.1.el9_3.x86_64 drwxr-xr-x. 8 root root 4096 Mar 16 06:18 5.14.0-362.24.1.el9_3.x86_64 View /usr/lib/modules/5.14.0-362.18.1.el9_3.x86_64/:\nls -l /usr/lib/modules/5.14.0-362.18.1.el9_3.x86_64 Subdirectories hold module-specific information for the kernel version. /lib/modules/4.18.0-80.el8.x86_64/kernel/drivers/\nstores modules for a variety of hardware and software components in various subdirectories: ls -l /usr/lib/modules/5.14.0-362.18.1.el9_3.x86_64/kernel/drivers Additional modules may be installed on the system to support more components. Installing the Kernel requires extra care\ncould leave your system in an unbootable or undesirable state.\nhave the bootable medium handy prior to starting the kernel install process.\nBy default, the dnf command adds a new kernel to the system, leaving the existing kernel(s) intact. It does not replace or overwrite existing kernel files.\nAlways install a new version of the kernel instead of upgrading it.\nThe upgrade process removes any existing kernel and replaces it with a new one.\nIn case of a post-installation issue, you will not be able to revert to the old working kernel.\nNewer version of the kernel is typically required:\nif an application needs to be deployed on the system that requires a different kernel to operate. When deficiencies or bugs are identified in the existing kernel, it can hamper the kernel’s smooth operation. new kernel\naddresses existing issues adds bug fixes security updates new features improved support for hardware devices. dnf is the preferred tool to install a kernel\nit resolves and installs any required dependencies automatically.\nrpm may be used but you must install any dependencies manually.\nKernel packages for RHEL are available to subscribers on Red Hat’s Customer Portal.\nLinux Boot Process Multiple phases during the boot process.\nStarts selective services during its transition from one phase into another. Presents the administrator an opportunity to interact with a preboot program to boot the system into a non-default target. Pass an option to the kernel. Reset the lost or forgotten root user password. Launches a number of services during its transition to the default or specified target. boot process after the system has been powered up or restarted. lasts until all enabled services are started. login prompt will appear on the screen boot process is automatic, but you may need to interact with it to take a non-default action, such as booting an alternative kernel booting into a non-default operational state repairing the system recovering from an unbootable state boot process on an x86 computer may be split into four major phases: (1) the firmware phase (2) the bootloader phase (3) the kernel phase (4) the initialization phase. The system accomplishes these phases one after the other while performing and attempting to complete the tasks identified in each phase.\nThe Firmware Phase (BIOS and UEFI) firmware:\nBIOS (Basic Input/Output System) or the UEFI (Unified Extensible Firmware Interface) code that is stored in flash memory on the x86-based system board. runs the Power-On-Self-Test (POST) to detect, test, and initialize the system hardware components. Installs appropriate drivers for the video hardware exhibits system messages on the screen. scans available storage devices to locate a boot device, starting with a 512-byte image that contains 446 bytes of the bootloader program, 64 bytes for the partition table last two bytes with the boot signature. referred to as the Master Boot Record (MBR) located on the first sector of the boot disk. As soon as it discovers a usable boot device, it loads the bootloader into memory and passes control over to it. BIOS\nsmall memory chip in the computer that stores system date and time, list and sequence of boot devices, I/O configuration, etc. configuration is customizable. hardware initialization phase detecting and diagnosing peripheral devices. runs the POST on the devices as it finds them installs drivers for the graphics card and the attached monitor begins exhibiting system messages on the video hardware. discovers a usable boot device loads the bootloader program into memory, and passes control over to it. UEFI\nnew 32/64-bit architecture-independent specification replacing BIOS. delivers enhanced boot and runtime services superior features such as speed over the legacy 16-bit BIOS. has its own device drivers able to mount and read extended file systems includes UEFI-compliant application tools supports one or more bootloader programs. comes with a boot manager that allows you to choose an alternative boot source. Bootloader Phase Once the firmware phase is over and a boot device is detected, system loads a piece of software called bootloader that is located in the boot sector of the boot device. RHEL uses GRUB2 (GRand Unified Bootloader) version 2 as the bootloader program. GRUB2 supports both BIOS and UEFI firmware. The primary job of the bootloader program is to\nspot the Linux kernel code in the /boot file system decompress it load it into memory based on the configuration defined in the /boot/grub2/grub.cfg file transfer control over to it to further the boot process. UEFI-based systems,\nGRUB2 looks for the EFI system partition /boot/efi instead Runs the kernel based on the configuration defined in the /boot/efi/EFI/redhat/grub.efi file. Kernel Phase kernel is the central program of the operating system, providing access to hardware and system services. After getting control from the bootloader, the kernel: extracts the initial RAM disk (initrd) file system image found in the /boot file system into memory,\ndecompresses it\nmounts it as read-only on /sysroot to serve as the temporary root file system\nloads necessary modules from the initrd image to allow access to the physical disks and the partitions and file systems therein.\nloads any required drivers to support the boot process.\nLater, it unmounts the initrd image and mounts the actual physical root file system on / in read/write mode.\nAt this point, the necessary foundation has been built for the boot process to carry on and to start loading the enabled services.\nkernel executes the systemd process with PID 1 and passes the control over to it.\nInitialization Phase fourth and the last phase in the boot process.\nSystemd:\ntakes control from the kernel and continues the boot process.\nis the default system initialization scheme used in RHEL 9.\nstarts all enabled userspace system and network services\nBrings the system up to the preset boot target.\nA boot target is an operational level that is achieved after a series of services have been started to get to that state.\nsystem boot process is considered complete when all enabled services are operational for the boot target and users are able to log in to the system\nGRUB2 Bootloader After the firmware phase has concluded: Bootloader presents a menu with a list of bootable kernels available on the system Waits for a predefined amount of time before it times out and boots the default kernel. You may want to interact with GRUB2 before the autoboot times out to boot with a non-default kernel boot to a different target, or customize the kernel boot string. Press a key before the timeout expires to interrupt the autoboot process and interact with GRUB2. autoboot countdown default value is 5 seconds. Interacting with GRUB2 GRUB2 main menu shows a list of bootable kernels at the top. Edit a selected kernel menu entry by pressing an e or go to the grub\u003e command prompt by pressing a c. edit mode,\nGRUB2 loads the configuration for the selected kernel entry from the /boot/grub2/grub.cfg file in an editor enables you to make a desired modification before booting the system. you can boot the system into a less capable operating target by adding “rescue”, “emergency”, or “3” to the end of the line that begins with the keyword “linux”, Press Ctrl+x when done to boot. one-time temporary change and it won’t touch the grub.cfg file. press ESC to discard the changes and return to the main menu. grub\u003e command prompt appears when you press Ctrl+c while in the edit window or a c from the main menu. command mode: execute debugging, recovery, etc. view available commands by pressing the TAB key. GRUB2 Commands Understanding GRUB2 Configuration Files /boot/grub2/grub.cfg\nReferenced at boot time. Generated automatically when a new kernel is installed or upgraded not advisable to modify it directly, as your changes will be overwritten. : /etc/default/grub\nprimary source file that is used to regenerate grub.cfg. Defines the directives that govern how GRUB2 should behave at boot time. Any changes made to the grub file will only take effect after the grub2-mkconfig utility has been executed Defines the directives that control the behavior of GRUB2 at boot time. Any changes in this file must be followed by the execution of the grub2-mkconfig command in order to be reflected in grub.cfg. Default settings:\n[root@localhost default]# nl /etc/default/grub 1\tGRUB_TIMEOUT=5 2\tGRUB_DISTRIBUTOR=\"$(sed 's, release .*$,,g' /etc/system-release)\" 3\tGRUB_DEFAULT=saved 4\tGRUB_DISABLE_SUBMENU=true 5\tGRUB_TERMINAL_OUTPUT=\"console\" 6\tGRUB_CMDLINE_LINUX=\"crashkernel=1G-4G:192M,4G-64G:256M,64G-:512M resume=/dev/mapper/rhel-swap rd.lvm.lv=rhel/root rd.lvm.lv=rhel/swap rhgb quiet\" 7\tGRUB_DISABLE_RECOVERY=\"true\" 8\tGRUB_ENABLE_BLSCFG=true Directive Description GRUB_TIMEOUT Wait time, in seconds, before booting off the default kernel. Default is 5. GRUB_DISTRIBUTOR Name of the Linux distribution GRUB_DEFAULT Boots the selected option from the previous system boot GRUB_DISABLE_SUBMENU Enables/disables the appearance of GRUB2 submenu GRUB_TERMINAL_OUTPUT Sets the default terminal GRUB_CMDLINE_LINUX Specifies the command line options to pass to the kernel at boot time GRUB_DISABLE_RECOVERY Lists/hides system recovery entries in the GRUB2 menu GRUB_ENABLE_BLSCFG Defines whether to use the new bootloader specification to manage bootloader configuration Default settings are good enough for normal system operation. /boot/grub2/grub.cfg - /boot/efi/EFI/redhat/grub.cfg Main GRUB2 configuration file that supplies boot-time configuration information. located in the /boot/grub2/ on BIOS-based systems /boot/efi/EFI/redhat/ on UEFI-based systems. can be recreated manually with the grub2-mkconfig utility automatically regenerated when a new kernel is installed or upgraded. file will lose any previous manual changes made to it. grub2-mkconfig command\nUses the settings defined in helper scripts located in the /etc/grub.d directory. [root@localhost default]# ls -l /etc/grub.d total 104 -rwxr-xr-x. 1 root root 9346 Jan 9 09:51 00_header -rwxr-xr-x. 1 root root 1046 Aug 29 2023 00_tuned -rwxr-xr-x. 1 root root 236 Jan 9 09:51 01_users -rwxr-xr-x. 1 root root 835 Jan 9 09:51 08_fallback_counting -rwxr-xr-x. 1 root root 19665 Jan 9 09:51 10_linux -rwxr-xr-x. 1 root root 833 Jan 9 09:51 10_reset_boot_success -rwxr-xr-x. 1 root root 892 Jan 9 09:51 12_menu_auto_hide -rwxr-xr-x. 1 root root 410 Jan 9 09:51 14_menu_show_once -rwxr-xr-x. 1 root root 13613 Jan 9 09:51 20_linux_xen -rwxr-xr-x. 1 root root 2562 Jan 9 09:51 20_ppc_terminfo -rwxr-xr-x. 1 root root 10869 Jan 9 09:51 30_os- prober -rwxr-xr-x. 1 root root 1122 Jan 9 09:51 30_uefi- firmware -rwxr-xr-x. 1 root root 218 Jan 9 09:51 40_custom -rwxr-xr-x. 1 root root 219 Jan 9 09:51 41_custom -rw-r--r--. 1 root root 483 Jan 9 09:51 README 00_header\nsets the GRUB2 environment 10_linux searches for all installed kernels on the same disk partition 30_os-prober searches for the presence of other operating systems 40_custom and 41_custom are to introduce any customization. like add custom entries to the boot menu. grub.cfg file\nSources /boot/grub2/grubenv for kernel options and other settings. [root@localhost grub2]# cat grubenv # GRUB Environment Block # WARNING: Do not edit this file by tools other than grub-editenv!!! saved_entry=8215ac7e45d34823b4dce2e258c3cc47-5.14.0- 362.24.1.el9_3.x86_64 menu_auto_hide=1 boot_success=0 boot_indeterminate=0 ############################################################################ ##################################################### ####################### If a new kernel is installed:\nthe existing kernel entries remain intact. All bootable kernels are listed in the GRUB2 menu any of the kernel entries can be selected to boot. Lab: Change Default System Boot Timeout change the default system boot timeout value to 8 seconds persistently, and validate. Edit the /etc/default/grub file and change the setting as follows: `GRUB_TIMEOUT=8\nExecute the grub2-mkconfig command to reproduce grub.cfg:\ngrub2-mkconfig -o /boot/grub2/grub.cfg 3.Restart the system with sudo reboot and confirm the new timeout value when GRUB2 menu appears.\nBooting into Specific Targets RHEL\nboots into graphical target state by default if the Server with GUI software selection is made during installation.\ncan also be directed to boot into non-default but less capable operating targets from the GRUB2 menu.\noffers emergency and rescue boot targets.\nspecial target levels can be launched from the GRUB2 interface by selecting a kernel pressing e to enter the edit mode appending the desired target name to the line that begins with the keyword “linux”. Press ctrl+x to boot into the supplied target Enter root password reboot when you are done You must know how to boot a RHEL 9 system into a specific target from the GRUB2 menu to modify the fstab file or reset an unknown root user password.\nAppend “emergency” to the kernel line entry:\nOther options:\n“rescue” “1” “s” “single” Reset the root User Password Terminate the boot process at an early stage to be placed in a special debug shell in order to reset the root password. Reboot or reset server1, and interact with GRUB2 by pressing a key before the autoboot times out. Highlight the default kernel entry in the GRUB2 menu and press e to enter the edit mode. Scroll down to the line entry that begins with the keyword “linux” and press the End key to go to the end of that line:\nModify this kernel string and append “rd.break” to the end of the line. Press Ctrl+x when done to boot to the special shell. The system mounts the root file system read-only on the /sysroot directory. Make /sysroot appear as mounted on / using the chroot command:\nchroot sysroot 3. Remount the root file system in read/write mode for the passwd command to be able to modify the shadow file with a new password:\nmount -o remount,rw / Enter a new password for root by invoking the passwd command: passwd Create a hidden file called .autorelabel to instruct the operating system to run SELinux relabeling on all files, including the shadow file that was updated with the new root password, on the next reboot: touch .autorelabel Issue the exit command to quit the chroot shell and then the reboot command to restart the system and boot it to the default target. exit reboot Second method Look into using init=/bin/bash for password recovery as a second method.\nBoot Grub2 Kernel Labs Lab: Enable Verbose System Boot Remove “quiet” from the end of the value of the variable GRUB_CMDLINE_LINUX in the /etc/default/grub file Run grub2-mkconfig to apply the update. Reboot the system and observe that the system now displays verbose information during the boot process. Lab: Reset root User Password Reset the root user password by booting the system into emergency mode with SELinux disabled. Try to log in with root and enter the new password after the reboot. Lab: Install New Kernel Check the current version of the kernel using the uname or rpm command. Download a higher version from the Red Hat Customer Portal or rpmfind.net and install it. Reboot the system and ensure the new kernel is listed on the bootloader menu. 5.14.0-427.35.1.el9_4.x86_64 Lab: Download and Install a New Kernel download the latest available kernel packages from the Red Hat Customer Portal install them using the dnf command. ensure that the existing kernel and its configuration remain intact. As an alternative (preferred) to downloading kernel packages individually and then installing them, you can follow the instructions provided in “Containers” chapter to register server1 with RHSM and run sudo dnf install kernel to install the latest kernel and all the dependencies collectively. Check the version of the running kernel: uname -r\nList the kernel packages currently installed: rpm -qa | grep kernel\nSign in to the Red Hat Customer Portaland click downloads.\nClick “Red Hat Enterprise Linux 8” under “By Category”:\nClick Packages and enter “kernel” in the Search bar to narrow the list of available packages:\nClick “Download Latest” against the packages kernel, kernel-core, kernel-headers, kernel-modules, kernel-tools, and kernel-tools-libs to download them.\nOnce downloaded, move the packages to the /tmp directory using the mv command.\nList the packages after moving them:\nInstall all the six packages at once using the dnf command: dnf install /tmp/kernel* -y\nConfirm the installation alongside the previous version: sudo dnf list installed kernel*\nThe /boot/grub2/grubenv/ file now has the directive “saved_entry” set to the new kernel, which implies that this new kernel will boot up on the next system restart: sudo cat /boot/grub2/grubenv\nReboot the system. You will see the new kernel entry in the GRUB2 boot list at the top. The system will autoboot this new default kernel.\nRun the uname command once the system has been booted up to confirm the loading of the new kernel: uname -r\nView the contents of the version and cmdline files under /proc to verify the active kernel: `cat /proc/version\nOr just dnf install kernel",
    "description": "Linux kernel, boot process, and password recovery",
    "tags": [],
    "title": "Boot Process, Grub2, and Kernel",
    "uri": "/redhat/boot-process-grub2-and-kernel/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Ansible",
    "content": "When I started studying for RHCE, the study guide had me manually set up virtual machines for the Ansible lab environment. I thought.. Why not start my automation journey right, and automate them using Vagrant.\nI use Libvirt to manage KVM/QEMU Virtual Machines and the Virt-Manager app to set them up. I figured I could use Vagrant to automatically build this lab from a file. And I got part of the way. I ended up with this Vagrant file:\nVagrant.configure(\"2\") do |config| config.vm.box = \"almalinux/9\" config.vm.provider :libvirt do |libvirt| libvirt.uri = \"qemu:///system\" libvirt.cpus = 2 libvirt.memory = 2048 end config.vm.define \"control\" do |control| control.vm.network \"private_network\", ip: \"192.168.124.200\" control.vm.hostname = \"control.example.com\" end config.vm.define \"ansible1\" do |ansible1| ansible1.vm.network \"private_network\", ip: \"192.168.124.201\" ansible1.vm.hostname = \"ansible1.example.com\" end config.vm.define \"ansible2\" do |ansible2| ansible2.vm.network \"private_network\", ip: \"192.168.124.202\" ansible2.vm.hostname = \"ansible2.example.com\" end end I could run this Vagrant file and Build and destroy the lab in seconds. But there was a problem. The Libvirt plugin, or Vagrant itself, I’m not sure which, kept me from doing a couple important things.\nFirst, I could not specify the initial disk creation size. I could add additional disks of varying sizes but, if I wanted to change the size of the first disk, I would have to go back in after the fact and expand it manually…\nSecond, the Libvirt plugin networking settings were a bit confusing. When you add the private network option as seen in the Vagrant file, it would add this as a secondary connection, and route everything through a different public connection.\nNow I couldn’t get the VMs to run using the public connection for whatever reason, and it seems the only workaround was to make DHCP reservations for the guests Mac addresses which gave me even more problems to solve. But I won’t go there..\nSo why not get my feet wet and learn how to deploy VMs with Ansible? This way, I would get the granularity and control that Ansible gives me, some extra practice with Ansible, and not having to use software that has just enough abstraction to get in the way.\nThe guide I followed to set this up can be found on Redhat’s blog here. And it was pretty easy to set up all things considered.\nI’ll rehash the steps here:\nDownload a cloud image Customize the image Install and start a VM Access the VM Creating the role Create the project directory mkdir -p kvmlab/roles \u0026\u0026 cd kvmlab/roles\nInitialize the role ansible-galaxy role init kvm_provision\nSwitch into the role directory cd kvm_provision/\nRemove unused directories rm -r files handlers vars\nDefine variables Add default variables to main.yml cd defaults/ \u0026\u0026 vim main.yml\n--- # defaults file for kvm_provision base_image_name: AlmaLinux-9-GenericCloud-9.5-20241120.x86_64.qcow2 base_image_url: https://repo.almalinux.org/almalinux/9/cloud/x86_64/images/{{ base_image_name }} base_image_sha: abddf01589d46c841f718cec239392924a03b34c4fe84929af5d543c50e37e37 libvirt_pool_dir: \"/var/lib/libvirt/images\" vm_name: f34-dev vm_vcpus: 2 vm_ram_mb: 2048 vm_net: default vm_root_pass: test123 cleanup_tmp: no ssh_key: /root/.ssh/id_rsa.pub # Added option to configure ip address ip_addr: 192.168.124.250 gw_addr: 192.168.124.1 # Added option to configure disk size vm_disksize: 20 Defining a VM template The community.libvirt.virt module is used to provision a KVM VM. This module uses a VM definition in XML format with libvirt syntax. You can dump a VM definition of a current VM and then convert it to a template from there. Or you can just use this:\ncd templates/ \u0026\u0026 vim vm-template.xml.j2\n\u003cdomain type='kvm'\u003e \u003cname\u003e{{ vm_name }}\u003c/name\u003e \u003cmemory unit='MiB'\u003e{{ vm_ram_mb }}\u003c/memory\u003e \u003cvcpu placement='static'\u003e{{ vm_vcpus }}\u003c/vcpu\u003e \u003cos\u003e \u003ctype arch='x86_64' machine='pc-q35-5.2'\u003ehvm\u003c/type\u003e \u003cboot dev='hd'/\u003e \u003c/os\u003e \u003ccpu mode='host-model' check='none'/\u003e \u003cdevices\u003e \u003cemulator\u003e/usr/bin/qemu-system-x86_64\u003c/emulator\u003e \u003cdisk type='file' device='disk'\u003e \u003cdriver name='qemu' type='qcow2'/\u003e \u003csource file='{{ libvirt_pool_dir }}/{{ vm_name }}.qcow2'/\u003e \u003ctarget dev='vda' bus='virtio'/\u003e \u003caddress type='pci' domain='0x0000' bus='0x05' slot='0x00' function='0x0'/\u003e \u003c!-- Added: Specify the disk size using a variable --\u003e \u003csize unit='GiB'\u003e{{ disk_size }}\u003c/size\u003e \u003c/disk\u003e \u003cinterface type='network'\u003e \u003csource network='{{ vm_net }}'/\u003e \u003cmodel type='virtio'/\u003e \u003caddress type='pci' domain='0x0000' bus='0x01' slot='0x00' function='0x0'/\u003e \u003c/interface\u003e \u003cchannel type='unix'\u003e \u003ctarget type='virtio' name='org.qemu.guest_agent.0'/\u003e \u003caddress type='virtio-serial' controller='0' bus='0' port='1'/\u003e \u003c/channel\u003e \u003cchannel type='spicevmc'\u003e \u003ctarget type='virtio' name='com.redhat.spice.0'/\u003e \u003caddress type='virtio-serial' controller='0' bus='0' port='2'/\u003e \u003c/channel\u003e \u003cinput type='tablet' bus='usb'\u003e \u003caddress type='usb' bus='0' port='1'/\u003e \u003c/input\u003e \u003cinput type='mouse' bus='ps2'/\u003e \u003cinput type='keyboard' bus='ps2'/\u003e \u003cgraphics type='spice' autoport='yes'\u003e \u003clisten type='address'/\u003e \u003cimage compression='off'/\u003e \u003c/graphics\u003e \u003cvideo\u003e \u003cmodel type='qxl' ram='65536' vram='65536' vgamem='16384' heads='1' primary='yes'/\u003e \u003caddress type='pci' domain='0x0000' bus='0x00' slot='0x01' function='0x0'/\u003e \u003c/video\u003e \u003cmemballoon model='virtio'\u003e \u003caddress type='pci' domain='0x0000' bus='0x06' slot='0x00' function='0x0'/\u003e \u003c/memballoon\u003e \u003crng model='virtio'\u003e \u003cbackend model='random'\u003e/dev/urandom\u003c/backend\u003e \u003caddress type='pci' domain='0x0000' bus='0x07' slot='0x00' function='0x0'/\u003e \u003c/rng\u003e \u003c/devices\u003e \u003c/domain\u003e The template uses some of the variables from earlier. This allows flexibility to changes things by just changing the variables.\nDefine tasks for the role to perform cd ../tasks/ \u0026\u0026 vim main.yml\n--- # tasks file for kvm_provision # ensure the required package dependencies `guestfs-tools` and `python3-libvirt` are installed. This role requires these packages to connect to `libvirt` and to customize the virtual image in a later step. These package names work on Fedora Linux. If you're using RHEL 8 or CentOS, use `libguestfs-tools` instead of `guestfs-tools`. For other distributions, adjust accordingly. - name: Ensure requirements in place package: name: - guestfs-tools - python3-libvirt state: present become: yes # obtain a list of existing VMs so that you don't overwrite an existing VM on accident. uses the `virt` module from the collection `community.libvirt`, which interacts with a running instance of KVM with `libvirt`. It obtains the list of VMs by specifying the parameter `command: list_vms` and saves the results in a variable `existing_vms`. `changed_when: no` for this task to ensure that it's not marked as changed in the playbook results. This task doesn't make any change in the machine; it only checks the existing VMs. This is a good practice when developing Ansible automation to prevent false reports of changes. - name: Get VMs list community.libvirt.virt: command: list_vms register: existing_vms changed_when: no #execute only when the VM name the user provides doesn't exist. And uses the module `get_url` to download the base cloud image into the `/tmp` directory - name: Create VM if not exists block: - name: Download base image get_url: url: \"{{ base_image_url }}\" dest: \"/tmp/{{ base_image_name }}\" checksum: \"sha256:{{ base_image_sha }}\" # copy the file to libvirt's pool directory so we don't edit the original, which can be used to provision other VMS later - name: Copy base image to libvirt directory copy: dest: \"{{ libvirt_pool_dir }}/{{ vm_name }}.qcow2\" src: \"/tmp/{{ base_image_name }}\" force: no remote_src: yes mode: 0660 register: copy_results - # Resize the VM disk - name: Resize VM disk command: qemu-img resize \"{{ libvirt_pool_dir }}/{{ vm_name }}.qcow2\" \"{{ disk_size }}G\" when: copy_results is changed # uses command module to run virt-customize to customize the image - name: Configure the image command: | virt-customize -a {{ libvirt_pool_dir }}/{{ vm_name }}.qcow2 \\ --hostname {{ vm_name }} \\ --root-password password:{{ vm_root_pass }} \\ --ssh-inject 'root:file:{{ ssh_key }}' \\ --uninstall cloud-init --selinux-relabel # Added option to configure an IP address --firstboot-command \"nmcli c m eth0 con-name eth0 ip4 {{ ip_addr }}/24 gw4 {{ gw_addr }} ipv4.method manual \u0026\u0026 nmcli c d eth0 \u0026\u0026 nmcli c u eth0\" when: copy_results is changed - name: Define vm community.libvirt.virt: command: define xml: \"{{ lookup('template', 'vm-template.xml.j2') }}\" when: \"vm_name not in existing_vms.list_vms\" - name: Ensure VM is started community.libvirt.virt: name: \"{{ vm_name }}\" state: running register: vm_start_results until: \"vm_start_results is success\" retries: 15 delay: 2 - name: Ensure temporary file is deleted file: path: \"/tmp/{{ base_image_name }}\" state: absent when: cleanup_tmp | bool Changed my user to own the libvirt directory: chown -R david:david /var/lib/libvirt/images\nCreate a VM with a new name ansible-playbook -K kvm_provision.yaml -e vm=ansible1\n–run-command ’nmcli c a type Ethernet ifname eth0 con-name eth0 ip4 192.168.124.200 gw4 192.168.124.1'\nparted /dev/vda resizepart 4 100% Warning: Partition /dev/vda4 is being used. Are you sure you want to continue? Yes/No? y Information: You may need to update /etc/fstab.\nlsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS vda 252:0 0 20G 0 disk ├─vda2 252:2 0 200M 0 part /boot/efi ├─vda3 252:3 0 1G 0 part /boot └─vda4 252:4 0 8.8G 0 part /",
    "description": "Building an Ansible lab with Ansible using Ansible and Libvirt",
    "tags": [],
    "title": "Building an Ansible lab with Ansible",
    "uri": "/ansible/building-an-ansible-lab-with-ansible/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "Everyone should read this book. Caffeine does more than just block adenosine receptors so you don’t feel tired. Caffeine = Stress. Would have given it a 10/10 but there is some stuff about supplements that I do not agree with. I tried all of the supplements and they had their own side effects. I am also not able to look at the studies listed so a more modern approach with links would be nice. I have read this 4 times.\nSummary and Highlights Introduction Caffeine can’t provide energy, only chemical stimulation, an induced emergency state that can lead to irritability, mood swings, and panic attacks.\nCaffeine’s ultimate mood effect can be letdown, which can lead to depression and chronic fatigue.\nCaffeine gives the illusion of heightened alertness by dilating pupils, quickening heart rate, and raising blood pressure. In fact, caffeine does not increase overall mental activity.\nThe drug contributes to palpitations, panic attacks, hypoglycemia, gastritis, fatigue, insomnia, and PMS, to name a few.\nContributes to adrenal exhaustion.\nRaises blood cholesterol levels.\nCaffeine also raises blood pressure, increases homocysteine (a biochemical that damages artery walls), promotes arrhythmias, and constricts blood vessels leading to the heart.\nCaffeine gives you energy. Wrong. Caffeine does not provide energy—only chemical stimulation. The perceived “energy” comes from the body’s struggle to adapt to increased blood levels of stress hormones.\nRole in depression and anxiety\nPositively linked to panic attacks,\nUsers may feel more alert, the experience is simply one of increased sensory and motor activity (dilated pupils, increased heart rate, and higher blood pressure). The quality of thought and recall is improved no more than the quality of music is improved when played at a higher volume or speed.\nCaffeine actually decreases overall mental acuity.\nWomen are at higher risk than men, and children are the most vulnerable to caffeine because of their limited ability to detoxify the drug.\nPeak consumption periods at three, thirteen, and seventeen. These children are set up for a lifetime addiction with serious health consequences.\nCaffeine’s connection to hyperactivity, learning and behavior disorders, fatigue, cancer, heart disease, ulcers, headache, allergy, PMS, birth defects, and more.\nMany of our physical experiences of tension and pain are directly related to the level of stress hormones in our bodies.\nCaffeine acts as a pain trigger because it elevates blood levels of these biochemicals.\nNo scientist can tell you how much caffeine is safe for you to ingest because the effects of caffeine differ significantly from person to person.\nWhat is tolerable for one person may be excessive for another. Moreover, what is tolerable caffeine intake at one point in your life may actually cause health problems just a few years later.\nI suggest that you try kicking the habit for sixty days—the minimum amount of time you’ll need to evaluate the benefits of a caffeine-free body and mind.\nCoffee and Caffeine: A Dose of Reality “We have seen several well-marked cases of coffee excess. … The sufferer is tremulous, and loses his self-command; he is subject to fits of agitation and depression; he loses color and has a haggard appearance. The apatite falls off, and symptoms of gastric catarrh may be manifested. The heart also suffers; it palpitates, or it intermits. As with other such agents, a renewed dose of the poison gives temporary relief, but at the cost of future misery. … By miseries such as these, the best years of life may be spoilt.”\n—SIR T. CLIFFORD ALLBUTT and DR. WALTER ERNEST DIXON in A System of Medicine, vol. II, London, 1909\nRobusta beans contain nearly twice the caffeine of arabica and are also more acidic. Mass-marketed brands of coffee contain primarily robusta, whereas specialty coffees tend to be made primarily from arabica beans.\nSupplying worldwide demand requires an incredible amount of space.\nIf predators persist in eating a caffeine-containing plant, the caffeine can cause central nervous system disruptions and even lethal side effects. Most pests soon learn to leave the plant alone.\nEvidence suggests that it may take up to seven days to decaffeinate the blood of habitual coffee drinkers.4 Plus, it can take three weeks or more for the body’s levels of stress hormones to return to normal. If that’s not accumulation, what is?\nIt is also important to look at the chain of biochemical and behavioral events that caffeine creates, not just the immediate effects.\nAre You Addicted? Of all my recommendations—including weight loss, dietary change, exercise, and stress management—no single factor matched the impact of caffeine reduction.\n“Caffeinism” is a state of chronic toxicity resulting from excess caffeine consumption. Caffeinism usually combines physical addiction with a wide range of debilitating effects, most notably anxiety, irritability, mood swings, sleep disturbance, depression, and fatigue.\nIf your total is between 100 and 300 milligrams per day, you’re in the “danger zone.” Disruption of sleep patterns begins at this level, and certain heart disease risk factors may be increased.\n• If your total is 300 to 600 milligrams per day, you are undoubtedly experiencing some degree of mental and physical addiction to caffeine. Research shows an almost 200 percent increase of risk for ulcers and fibrocystic disease at this level.\n• Intake of 600 to 900 milligrams per day indicates almost certain addiction. At this level, your mood and energy levels are severely affected. Research suggests that your risk of heart attack may be twice that of non-caffeine users. If you are a pre-menopausal woman, your chance of maintaining optimal iron levels is slim.\n• At 900 milligrams or more per day, you’re a caffeine addict—hook, line, and sinker. At this level of dependency, all heart disease risk factors are significantly increased, as are the risks for stroke, psychological disorders, and gastrointestinal disease. You may need medical help to kick the habit.\n1. Energy swings or periods of fatigue during the day 2. Mood swings or periods of depression during the day 3. Headaches 4. Gastrointestinal distress; cramping, diarrhea 5. Constipation and/or dependence on caffeine for bowel movement 6. Stifness in your neck, shoulders, jaw, hands, legs, or stomach 7. Premenstrual syndrome; menstrual irregularity, cramps, sore breasts 8. Painful/sensitive lumps in the breast 9. Insomnia 10. Clenching the jaw or grinding teeth during sleep 11. Anxiety 12. Irritability, including inappropriate fits” of anger 13. Involuntary movement in the leg (restless leg syndrome) 14. Irregular or rapid heartbeat 15. Light-headedness/dizziness 16.Wake up feeling tired 17. Generalized pain (back pain, stomach pain, muscle aches) 18. High blood pressure 19. Ulcers 20. Anemia 21. Shortness of breath 22. Difficulty concentrating and/or memory loss 23. Ringing in the ears 24. Coldness in the extremities, especially fingertips 25. Hand tremor\nCaffeine has been found to impair motor steadiness in neuropsychological tests.\nTMJD affects millions of Americans, contributes to headache and a raft of other disorders, and is positively associated with stress and caffeine intake.\nTeeth clenching and grinding (bruxism) at night are also related to stress and caffeine.\nWITHDRAWAL Reducing the dose or stopping the drug altogether produces well-defined symptoms, which may include:\n• Headache • Depression • Profound fatigue • Irritability • Disorientation • Increased muscle tension • Nausea • Vomiting\nDEPENDENCE Despite knowledge of a persistent or recurrent physical or psychological problem that is likely to have been caused or exacerbated by caffeine.\nINABILITY TO QUIT This was defined as a “persistent desire or unsuccessful efforts to cut down or control use”.\nCaffeine doesn’t give you energy—it creates tension, and the ultimate result of tension is always fatigue.\nTotal health also requires emotional stability, peace of mind, and an optimistic attitude. The effects of caffeine diminish these qualities. Relationships with friends, partners, and co-workers depend on harmony, which is destroyed by anxiety, irritability, and tension.\nCaffeine not only intensifies the stress in our lives, but makes us less able to cope.\nCaffeine and Your Body Nearly 90 percent of American adults drink caffeinated beverages. This includes the scientists who explore caffeine’s effects and the journalists who report the scientists’ findings.\nIncreasing their risk for heart disease, osteoporosis, anemia, PMS, panic attacks, and fibro-cystic breast disease.\nThe half-life of a single dose of caffeine can range from three to twelve hours.\nDamage being done to your adrenals, blood vessels, breasts, brain, gastrointestinal tract, DNA, immune system, and bones.\nCaffeine is rapidly absorbed by every organ and tissue in the body and diffuses into body fluids, including saliva, semen, breast milk, and amniotic fluid. Caffeine goes everywhere and easily crosses the blood-brain barrier. Only then does the liver begin the task of reducing this troublesome toxin, and it’s not easy.\nUsually, drug detoxification is a job shared by the liver and kidneys. The kidneys remove what they can and excrete it in the urine. Not so with caffeine. The kidneys try to get rid of the molecule, but it is reabsorbed into the bloodstream before it reaches the urinary tract. Thus, the burden falls entirely on the liver.\nCaffeine alone is broken down into more than twenty-five by-products or metabolites, the primary ones being paraxanthine, theobromine, and theophylline. Interestingly, each of these metabolites has its own biochemistry and effect on the body.\nCaffeine and its breakdown products (collectively called methylxanthines) have a number of effects on the body.\nFirst, they disrupt the normal function of adenosine receptors.\nAdenosine dampens or slows down neuron firing. It acts like a fuse box to prevent your circuits from getting overloaded. When caffeine inactivates this control mechanism, your neuron circuits keep firing, and you feel alert. The problem is, your circuits keep firing, and firing, and firing.…\nUncontrolled neuron firing creates an emergency situation, which triggers the pituitary gland in the brain to secrete ACTH (adrenocorticotrophic hormone). ACTH tells the adrenal glands to pump out stress hormones—the next major side effect of caffeine. A single 250-milligram dose of caffeine (the equivalent of about 21/2 six-ounce cups of coffee) has been shown to increase levels of the stress hormone epi-nephrine (commonly known as adrenaline) by more than 200 percent.\nCaffeine also stimulates the production of norepinephrine, another stress hormone that acts directly on the brain and nervous system. Epinephrine and norepinephrine are responsible for increased heart rate, increased blood pressure, and that “emergency” feeling. In fact, the emergency is quite real.\nCaffeine can trigger a classic fight-or-flight stress reaction.\nThere is one factor that tips the balance toward panic, and that is caffeine. It lowers the stress threshold so that events we would normally handle suddenly become insurmountable. Not only that, you will soon see that caffeine reduces the brain’s problem-solving ability.\nAs part of the ancient survival response, stress stimulates neuron activity in the primitive part of the brain known as the limbic system. However, the vast majority of problems we face today require reason, imagination, and creativity: all functions of the “higher brain” or cerebrum.\nThe sugar and fat that are dumped into your bloodstream go unused. The sugar creates additional metabolic stress, and the fat clogs your arteries.\nAnd since blood flow has been diverted from the gastrointestinal tract, the food you just ate is converted to a fermenting and putrefying mass.\nCaffeine is a major contributor to the bloating, pain, and gas that roughly 50 percent of American adults experience after they eat.\nUnseen are the harmful by-products of fermentation and putrefaction.\nSome of these by-products are absorbed back into the bloodstream, and the toxins that stay in the gut increase your risk of gastrointestinal disease.\nThere’s no reason to digest your breakfast if you are about to become lunch.… [Under stress] a whole series of maintenance and repair activities just stop.\nAnother part of the stress response known as vascular resistance, in which peripheral blood vessels constrict.\nThis response is great if you’re fighting for your life—if you’re cut, you’ll lose less blood and your blood will clot faster. But if you’re sitting at breakfast reading the morning paper, vascular resistance will only raise your blood pressure and significantly increase your chances of having a heart attack or stroke.\nVascular resistance affects blood vessels throughout the body, not just in your fingertips. The coldness in your hands and feet indicates that billions of cells are suffering from reduced metabolic efficiency. That means less oxygen is getting to those cells and less carbon dioxide and other wastes are being removed. It means that fine blood vessels in the brain are constricting and cerebral blood flow is reduced. And because caffeine increases brain activity at the same time, a situation known as relative brain hypoperfusion results.\nIn this condition, the brain is deprived of oxygen, and the consequences, when repeated day after day, can be quite serious.\nWith daily caffeine use, another stress hormone known as cortisol becomes elevated.\nCortisol is that it tends to remain in the bloodstream much longer than epinephrine or norepinephrine.\nPeople who consume more than 300 milligrams of caffeine per day may have elevated serum cortisol for eighteen out of every twenty-four hours.\nQuality of their sleep is diminished, their immune system is adversely affected, age-related deterioration is accelerated, and there is a gradual but significant change in mind, mood, and behavior.\nNot only is caffeine addictive, but it also encourages other addictions to substances like nicotine. The key factor in this interaction appears to be a brain chemical known as dopamine.\nThe center of the adrenal gland, called the medulla produces two major biochemicals: epinephrine and nor-epinephrine.\nWe need these hormones for more than the occasional emergency.\nEpinephrine and norepinephrine are also required for any stressful activity, including sports and recreation.\nSurrounding the medulla is the adrenal cortex, which produces a variety of other hormones that help regulate blood pressure, blood sugar, mineral levels, immune activity, inflammation, and cell growth and repair.\nIn all, more than 150 hormones are produced by the adrenals or metabolized from adrenal hormones.\nOne group, known as glucocorticoids (including corti-sol), act as a brake on the immune system. This is an essential function that prevents overenthusiastic immune cells from attacking the body’s own healthy tissues.\nExcess glucocorticoid production (caused by stress and caffeine) can profoundly suppress immunity.\nThere is an intriguing but not fully understood connection between stress, caffeine, and autoimmune disorders such as rheumatoid arthritis, lupus, and MS. Now we know that the onset of autoimmune disease is very frequently preceded by a period of severe stress or depression, but it’s not simply that stress weakens the adrenals and leads to poor immune control.\nDHEA (dehydroepiandrosterone) can accurately be called the vitality hormone.\nThe adrenals produce it in abundance during youth, helping to create the energy, optimism, sex drive, and high level of immunity we enjoy in our twenties.\nDHEA is the precursor to other essential sex and youth hormones such as testosterone and estrogen.\nAt about age twenty-five, DHEA levels start to drop, and this decline continues until at age seventy, most people are only producing about 15 percent of prime peak. The effects of low DHEA are unfortunate and far-reaching: decreased energy, decreased immune competence, and immune dysregulation contributing to autoimmune disease.\nLow DHEA obviously contributes to decreased sex drive, as well as reduced ability to repair and rebuild tissues.\nMuch of the degeneration associated with aging can be avoided by maintaining high levels of DHEA. That, of course, is going to be terribly difficult if you’re drinking a lot of coffee— since caffeine elevates cortisol, which leads to DHEA deficiency stress and caffeine create such a high need for cortisol that the exhausted adrenals simply cannot maintain production of DHEA at optimal levels.\nCaffeine can lower the stress threshold (the point where stress becomes distress).\nYou cannot raise brain levels of GABA by eating it.\nCaffeine, it turns out, disrupts the normal metabolism of GABA.\nBut when there’s caffeine (or its metabolites) in your bloodstream, you are unlikely to experience deep sleep at all.\nCaffeine at any time of the day can cause sleep problems, especially if you are under stress.\nCaffeine contributes to fatigue in at least three other ways. Adrenal exhaustion results in profound tiredness, as can blood sugar abnormalities associated with caffeine use. And we’ve already seen in Chapter 2 that the muscle tension resulting from stress can use up tremendous amounts of energy.\nCaffeine plays a major role because it stimulates the fight-or-flight stress response described earlier. As part of this response, the liver rapidly raises blood sugar levels.\nBody must then deal with the metabolic emergency of hyperglycemia (elevated blood sugar). This is accomplished by the pancreas, which secrets insulin, driving the blood-sugar level down.\nIn some individuals, however, blood sugar may decrease to levels below normal, resulting in hypoglycemia and the all-too-familiar “letdown” feeling a few hours after the coffee lift.\nCauses an increased loss of thiamin and other B vitamins in the urine.\nLoss of calcium and other minerals.\nAs little as 150 milligrams of caffeine caused increased loss of calcium, magnesium, sodium, and chloride in the urine.\nZinc was added to the list of nutrients depleted by caffeine.\nA single cup of coffee can reduce iron absorption from a meal by as much as 75 percent.\nLow iron can seriously affect energy, immunity, and even brain function long before anemia develops.\nCaffeine resulted in significantly lower levels of melatonin.\nWhile the adrenals are busy fighting a phantom enemy, real enemies may go unchecked. The adrenals are responsible for helping mount an immune attack against a wide range of pathogens.\nStudies show that adrenal hormone production may triple during acute infection.\nIf stress is prolonged, adaptive mechanisms may fail, leading to serious and chronic illness.\nAnother gradual effect of caffeinism is that your concentration becomes one-dimensional. You tend to lose the big picture because you can’t step back from what you’re involved in.\nCaffeine and Your Mind Habitual and light caffeine consumers had basically the same increase in stress hormones, proving that people do not develop a tolerance to the anxiety-producing effects of caffeine. Rather, people simply become accustomed to the feelings of stress, irritability, and aggressiveness produced by the drug.\nChronic caffeine ingestion may cause or exacerbate anxiety and may be associated with depression and increased use of anti-anxiety drugs.\nCaffeine may aggravate the symptoms of premenstrual syndrome.\nChronic users who are caffeine-sensitive may have symptoms of caffeinism at relatively low doses\nAs little as 100 milligrams of caffeine (a six-ounce serving) can cause a significant decrease in recall and reasoning.\nNature did not design the stress response to enable us to engage in abstract or global reasoning, such as may be required for complex tasks or final exams. The stress response causes a shift of mental function to a very primitive survival-oriented part of the brain known as the limbic system.\nAdenosine receptor antagonists (such as caffeine) have a depressive effect on other brain biochem-icals, such as acetylcholine.\nAcetylcholine is a neurotransmitter directly involved in memory and learning, this could account for some of the observed negative effects.\nCaffeine causes a remarkable decrease in cerebral blood flow.\nCaffeine, even in small doses, is a potent cerebral vasoconstrictor.\nA dose of 250 milligrams (approximately fifteen ounces of coffee) produced approximately a 30 percent decrease in whole-brain cerebral blood flow.\nAt the same time, caffeine increases blood pressure in the brain, leading to an increased risk for stroke.\nCaffeine reduces the oxygen level of brain tissues.\nStress and caffeine can abolish nearly all of the neurological benefits you might obtain from DHEA.\nIf you want the improvements in brain function that optimal levels of DHEA can provide, you’ll have to cut back on caffeine. That’s because there is a tug-of-war going on in your body between DHEA and stress hormones. When stress hormones predominate, your immune system, emotional state, energy, vitality, and DHEA levels all suffer—and aging is accelerated as a result.\nDiagnostic and Statistical Manual of Mental Disorders (DSM) includes an entire section on caffeinism.\nWhy was it removed?\nIt can take three weeks or longer for stress hormones to return to normal after discontinuing caffeine.\nAlcohol abusers who drink to counteract the anxiety and/or depression produced by excess caffeine intake.\nWhen pregnant women consume caffeine, their babies are often born with a caffeine dependency.\nWell-defined vicious cycle of caffeine intake: anxiety \u003e depression \u003e impaired sleep \u003e increased caffeine use \u003e anxiety \u003e …\nAs sleep improves, you would expect an increase in energy, but the ripple effect of benefits also included decreased pain, better mood, decreased reliance on prescription and over-the-counter drugs, enhanced immune function, and improvements in memory and learning.\nPatients reported “feeling themselves” again. In some cases, where caffeine consumption had been lifelong, they were literally discovering who they were for the first time.\nSpecific Health Disorders: The Caffeine Connection A modest amount of caffeine taken before exercise produced dangerous elevations in blood pressure.\nCaffeine is known to disturb calcium metabolism.\nIntake of less than 300 milligrams per day has been associated with greater incidence of arrhythmias.\nCaffeine can also cause tachycardia (rapid heartbeat) and can exacerbate the symptoms of mitral valve prolapse (MVP), a common heart defect.\nCaffeine can cause a sudden contraction of the aortic muscle, as well as dramatically increased stress hormone release in the heart itself.\nCaffeine can increase the incidence of paroxysmal atrial tachycardia (PAT) and ventricular beats, other types of heart rhythm disturbance.\nModerate caffeine ingestion appears to produce no abnormal HRV in young adults, it has been shown to aggravate abnormal HRV in overweight, middle-aged subjects.\nSpasm of one or more arteries leading to the heart. Known as coronary vasospasm, this event can shut off blood supply as effectively as a clot or atherosclerosis.\nCaffeine contributes to coronary vasospasm in multiple ways. We know that caffeine, by stimulating the release of stress hormones, the stress threshold (review Chapter 3) so that situations that would otherwise have been handled become distressful. With this caffeine-induced stress “magnifier,” the risk of vasospasm is increased.\nCaffeine also contributes to magnesium deficiency, a condition that makes arteries more prone to spasm.\nA strong association between coffee consumption and elevated blood levels of a biochemical known as homocysteine.\nElevated homocysteine is a powerful contributor not only to heart disease, but also to stroke, miscarriage, birth defects, and possibly Alzheimer’s disease.\nThe elimination of homocysteine from the blood requires optimal amounts of folic acid, vitamin B-12, and vitamin B-6.\nCaffeine depletes these vital nutrients. Secondly, caffeine appears to interfere with the normal breakdown of homocysteine. A diet high in meat and dairy products, on the other hand, tends to overload the system.\nWhen measured at rest, caffeine raises blood pressure only a little. But when you add stress (either physical or mental), caffeine can raise blood pressure significantly.\nThe GI tract has five major functions\n1. Microbial Defense:\nCaffeine Reduces Microbial Defense. Caffeine interferes with the secretion and immune activity of secretory IgA. As the stress hormone cortisol rises, slgA tends to fall. Caffeine consumed with food can actually decrease the normal and necessary acid response to a meal. This reduces both the digestive and the decontamination activity of your stomach. 2. Digestion:\nDepending on when it is consumed in relation to food, coffee can either raise or lower production of HCL by the stomach. If acid levels rise too far or too fast, one group of problems is created, including increased risk for ulcer. If HCL secretion is reduced, food will tend to ferment and putrefy, leading to the production of toxic by-products. Coffee has been found to produce a chain reaction of maldigestion throughout the entire GI tract. Coffee may also speed gastric emptying, meaning that the contents of the stomach are passed prematurely into the small intestine, cutting short the important gastric phase of the digestive process. 3. Essential Barrier:\nCaffeine Impairs the Barrier Mechanism of the GI Tract If material from the stomach is released too early, it tends to be excessively acidic, and this may injure sensitive intestinal tissue. Thermal or acid-related injury to this tissue is known to compromise the barrier function of the gut, leading to the absorption of materials that you really don’t want in your bloodstream. 4.Absorption:\nvitamins and minerals that are known to be affected. Thaimin and other B Vitamins Calcium Magnesium Potassium Iron Zinc In animal experiments, coffee and tea were both found to decrease the bioavailability of protein 5.Elimination:\nCaffeine Disturbs Normal Elimination Coffee is a frequent cause of both constipation and diarrhea Can also cause constipation due to its diuretic action Caffeine tends to pull water out of the digestive tract, leading to hard stools that are difficult to pass. Many coffee drinkers become dependent on this laxative action. Without the caffeine stimulation, they experience what is known as “rebound constipation.” The undeniable coffee connection has to do with the effect that coffee (even decaf) has on the valve between the esophagus and the stomach.\nCoffee reduces the pressure on this valve so that the highly acidic contents of the stomach are allowed to pass up into the esophagus.\nHeartburn sufferers have been found to produce less stomach acid when given coffee.\nStop drinking coffee, tea, and soft drinks. Eat slowly and chew well.\nEat smaller, more frequent meals, start an exercise program and make it a regular habit, learn a stress management technique and take some time off, sign up for a yoga class and learn the breathing exercises.\nMake sure to get at least eight hours of sleep a night, and slow down!\nLife’s too short to suffer with internal bleeding from a perforated intestinal tract.\nIndividuals with chronic back pain were found to be consuming an average of nearly 400 milligrams of caffeine per day\nThe drug disrupts calcium ion flow through what are known as calcium-release channels. Smooth muscle lacks these caffeine-sensitive calcium-release channels, so there is no contraction. Skeletal muscle, however, is rich in calcium-release channels, and thus caffeine can cause contraction or spasm.\nA procedure called the caffeine contracture test measures the degree to which a muscle contracts in response to caffeine.\nA syndrome of muscle pain after exertion has also been identified in humans, and once again, the marker appears to be increased sensitivity to caffeine.\nCaffeine is a common trigger for migraine and other types of headache.\nCaffeine increases tension in the jaw, shoulders, back, and neck. It has a powerful vasoconstrictive effect in the brain.\nA caffeine deprivation (withdrawal) headache results from the normal opening (dilation) of blood vessels that are constricted by caffeine.\nOne of the primary markers of aging, of course, is dehydration, and the loss of water from our tissues is accelerated by caffeine.\nCaffeine is a known mutagen. That is, it can cause replication error, either by damaging the DNA blue print or disrupting communication of that information to other “builder” molecules like RNA.\nCaffeine has been shown to inhibit DNA repairs.\nCaffeine magnifies the DNA-damaging effects of other mutagens.\nCaffeine may very well potentiate free-radical damage in a number of ways:\n1.Caffeine directly reduces tissue levels of melatonin, an antioxidant critical to the protection of DNA. 2. In animal experiments, caffeine magnifies the free-radical damage produced by radiation exposure. 3. Caffeine raises stress hormone levels, which are known to accelerate free-radical damage.\nCaffeine = Stress, and that dearly leads to degeneration and aging, not vitality and youthfulness.\nCaffeine raises blood sugar levels and disrupts the blood sugar-regulating effect of insulin.\nHas been shown to produce transient insulin resistance that is very similar to Type II diabetes.\nCaffeine raises fatty acid levels in the blood.\nCaffeine raises homocysteine levels\nCaffeine causes vascular resistance\nPeripheral circulation is already impaired in diabetes, and the added effect of caffeine can prove disastrous.\nCaffeine raises stress hormone levels,\nChronic stress, including feelings of irritability and hostility, has been linked to the development of insulin resistance, leading to the diabetic state.\nHypoglycemic state can be induced and/or exacerbated by caffeine.\nImagine if you had to live in a constant state of “emergency alert.” It would be exhausting. In the same way, the adrenal glands, designed for episodes of stress (emergencies) in which tremendous energy is needed to fight or run away, find themselves in a situation where heightened activity is required all the time. And it’s not just job stress.\nIt’s metabolic stress from poor food choices, pollution, and electromagnetic radiation. It’s the pace of twentieth-century living and the breakdown of family (tribal) support groups and community.\nAnd on top of that, most people add caffeine, a drug that elevates stress hormones and can keep them elevated eighteen hours a day. For the poor adrenals, there’s just no rest.\nAdrenal weakness or adrenal insufficiency\nAfter a certain point, your adrenals are so exhausted that the pendulum swings the other way. And that’s when you become most vulnerable to a whole new group of problems associated with adrenal exhaustion: namely, disorders related to inflammation and autoimmunity, among them allergy, asthma (inflammation of the bronchial airways), and even rheumatoid arthritis.\nMood disorder and the inflammation may both be related to adrenal insufficiency.\nDHEA appears actually to help restore adrenal function.\nCaffeine and Women’s Health Women detoxify coffee much more slowly than men. What’s more, the half-life of caffeine (the time it takes the body to eliminate one-half of a given dose) changes according to a woman’s menstrual cycle.\nIron deficiency, inadequate calcium intake, osteoporosis, and depression are devastating problems for women.\nCaffeine dramatically reduces iron absorption.\nCaffeine increases calcium loss and risk of osteoporosis.\nCaffeine produces short-term mood elevation, but contributes to rebound depression.\nPostmenopausal women?\nA significant association between caffeine consumption and reduced bone mass.\nDocumented cases have appeared in the medical literature showing that anemia was incurable until the patient stopped consuming caffeine.\nWoman will typically be iron deficient for two to three years before she becomes anemic.\nSimple and inexpensive blood test that measures body stores of iron, called serum ferritin.\nSerum iron is a meaningless test. It only tells you how much iron is traveling through your blood.\nSerum ferritin is also the only iron indicator that is able to differentiate between true iron deficiency and anemia due to infection.\nMost symptoms are related to energy and mental alertness, so the connection with caffeine is more than casual.\nA woman with low iron stores is likely to have low energy and a hard time concentrating. Chances are she will also be depressed.\nFerritin Level: Iron Status 0–10 Severe iron deficiency 10–18 Marginal iron deficiency 18–40 Adequate 40–100 Optimal iron nutriture\nMost bioavailable form of iron I have found is a chelated iron, known as iron glycinate.\nIf your ferritin is between 18 and 40, premenopausal women should still consider iron glycinate at 30 milligrams per day.\nVitamin C has been shown to enhance iron absorption. If your supplement does not already contain vitamin C, take a 200-milligram tablet of vitamin C with your iron.\nAvoid other iron robbers: sugar, high doses of calcium supplements (especially calcium carbonate), phytic acid (wheat bran), and oxalic acid (spinach, beet tops).\nEven marginal iron deficiency—what I call iron insufficiency—can contribute to mood, memory, and learning disorders long before anemia ever develops.\nThe more caffeine you ingest, the worse your PMS will be.\nEpisodes of depression during the luteal phase of the menstrual cycle have been linked with elevated cortisol and caffeine consumption\nCaffeine is associated with decreases in levels of estradiol.\nCaffeine ingestion also tends to lower blood levels of bioavailable testosterone in women, and raises levels of sex hormone binding globulin.\nEliminating caffeine can help reduce both the number of hot flashes and their intensity.\nCyclic adenosine monophosphate (cAMP) in their breast tissue. Since caffeine is known to increase cAMP.\nCaffeine has been shown conclusively to cause fetal growth retardation.\nIssue of unseen defects that would elude detection but still affect the baby’s health, such as decreased thymic weight (affecting immunity) and degeneration of the lens of the eye.\nPolitics and Pushers The caffeine industry funds “public service” programs and prints brochures ostensibly to “educate” the public about caffeine.\nPeople tend to crave fat when their stress hormone levels are elevated.\nCommercially grown coffee is the most heavily sprayed food or beverage crop in the world (overall third, behind cotton and tobacco), and the chemicals that are liberally used include some of the most dangerous herbicides, pesticides, and fungicides.\nIn fact, many of the chemicals sprayed on coffee plants are banned in the United States, and there is evidence that these chemicals are present at high levels on coffee beans.\nBrazilian coffee beans (the most common type sold in the United States) were found to contain residues of DDT, BHC, lindane, aldrin, and chlordane, all known carcinogens.\nThe countries with the greatest loss of rain forest were those with the highest production of coffee.\nBut in the late 1980s some of the large coffee growers started shifting to a new hybrid coffee that grows in full sun. Without competition from other trees and plants, these plantations were planted more densely. Yields from sun coffee plantations were three to four times higher than traditional shade coffee farms, resulting in greatly increased profits.\nFaced with competition from sun plantations, more and more growers started clear-cutting rain forest to increase their yields. This increased production coincided with two years of bumper crop production worldwide—and suddenly, in the early 1990s, there was a glut of coffee on the world market.\nRemove the pulp of the coffee cherry from the bean and dry the green bean. The process takes large amounts of water over several washing steps.\nBut what happens to coffee pulp and the processing water? This water, now laden with pesticides, fungicides, and nitrogenous waste, goes directly into local streams, rivers, and lakes.\nOptions and Alternatives The acidity of coffee is higher in decaf because robusta beans are commonly used to produce decaf coffee.\nOff the Bean and on to Vitality Other symptoms of caffeine withdrawal, like rebound constipation, are related to decreased muscular stress. With caffeine no longer contracting your intestinal muscles, you may experience sluggish elimination. It may take several months to restore the natural rhythm and function of your colon.\nFatigue, depression, and “brain fog” resulting from caffeine withdrawal.\nAdjustment period is often perceived as a “letdown.\nThe human body is designed to last about 120 years, and that it is quite capable of sustaining a high level of energy until the very end.\nWhen you exercise regularly, you are placing a demand on your body, and your body will respond by creating energy.\nWhen the brain learns the muscles will be requiring more energy on a daily basis, it kicks into gear a whole cascade of metabolic reactions that make that energy available.\nConclusion Scores of people have told me over the years that the most significant change they noticed when they got off caffeine was in their personality, how they related to their family, friends, and colleagues. This is the very essence of who we are as individuals and how we act together as a society.\nNotes Although chocolate does not contain a great deal of caffeine, it contains high amounts of a related compound known as theobromine. If you add the stimulant effects of both caffeine and theobromine, chocolate has the stimulating power of forty milligrams of caffeine per one-ounce piece.\nBooks mentioned Book: The DHEA Breakthrough",
    "description": "Everyone should read this book. Caffeine does more than just block adenosine receptors so you don’t feel tired. Caffeine = Stress. Would have given it a 10/10 but there is some stuff about supplements that I do not agree with. I tried all of the supplements and they had their own side effects. I am also not able to look at the studies listed so a more modern approach with links would be nice. I have read this 4 times.",
    "tags": [],
    "title": "Caffeine Blues (9/10)",
    "uri": "/booknotes/caffeine-blues/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Tools",
    "content": "I couldn’t find a guide on how to set up Calibre web step-by-step as a Docker container. Especially not one that used Nginx as a reverse proxy.\nThe good news is that it is really fast and simple. You’ll need a few tools to get this done:\nA server with a public IP address A DNS Provider (I use CloudFlare) Docker Nginx A Calibre Library Certbot Rsync First, sync your local Calibre library to a folder on your server:\nrsync -avuP your-library-dir root@example.org:/opt/calibre/ Install Docker sudo apt update sudo apt install docker.io Create a Docker network\nsudo docker network create calibre_network Create a Docker volume to store Calibre Web data\nsudo docker volume create calibre_data Pull the Calibre Web Docker image\nsudo docker pull linuxserver/calibre-web Start the Calibre Web Docker container\nsudo docker run -d \\ --name=calibre-web \\ --restart=unless-stopped \\ -p 8083:8083 \\ -e PUID=$(id -u) \\ -e PGID=$(id -g) \\ -v calibre_data:/config \\ -v /opt/calibre/Calibre:/books \\ --network calibre_network \\ linuxserver/calibre-web Configure Nginx to act as a reverse proxy for Calibre Web Create the site file\nsudo vim /etc/nginx/sites-available/calibre-web Add the following to the file\nserver { listen 80; server_name example.com; # Replace with your domain or server IP location / { proxy_pass http://localhost:8083; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; } } Enable the site\nsudo ln -s /etc/nginx/sites-available/calibre-web /etc/nginx/sites-enabled/ Restart Nginx\nsudo service nginx restart DNS CNAME Record Make sure to set up a cname record for your site with your DNS provider such as: calibre.example.com\nSSL Certificate Install ssl cert using certbot\ncertbot --nginx Site Setup Head to the site at https://calibre.example.com and log in with default credentials:\nusername: admin password: admin123\nSelect /books as the library directory. Go into admin settings and change your password.\nAdding new books Whenever you add new books to your server via the rsync command from earlier, you will need to restart the Calibre Web Docker container. Then restart Nginx.\nsudo docker restart calibre-web systemctl restart nginx That’s all there is to it. Feel free to reach out if you have issues.",
    "description": "Seting up your own Calibre Web server",
    "tags": [],
    "title": "Calibre Web with Docker and NGINX",
    "uri": "/tools/calibre-web-with-docker-and-nginx/"
  },
  {
    "breadcrumb": "Linux Reader",
    "content": "",
    "description": "",
    "tags": [],
    "title": "Categories",
    "uri": "/categories/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Ansible",
    "content": "uri: Interacts with basic http and https web services. (Verify connectivity to a web server +9)\nTest httpd accessibility:\nuri: url: http://ansible1 Show result of the command while running the playbook:\nuri: url: http://ansible1 return_content: yes Show the status code that signifies the success of the request:\nuri: url: http://ansible1 status_code: 200 debug: Prints statements during execution. Used for debugging variables or expressions without stopping a playbook.\nPrint out the value of the ansible_facts variable:\ndebug: var: ansible_facts",
    "description": "Common Ansible modules with examples",
    "tags": [],
    "title": "Common modules with examples",
    "uri": "/ansible/common-modules-with-examples/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Desktop",
    "content": "sudo dnf -y install vim ### Make vim default sudoer editor echo \"Defaults editor=/usr/bin/vim\" | sudo tee /etc/sudoers.d/99_custom_editor ### remove password prompts when using sudo sudo sed -i 's/^#\\s*%wheel\\s\\+ALL=(ALL)\\s\\+NOPASSWD: ALL/%wheel ALL=(ALL) NOPASSWD: ALL/' /etc/sudoers sudo sed -i 's/^%wheel\\s\\+ALL=(ALL)\\s\\+ALL/# %wheel ALL=(ALL) ALL/' /etc/sudoers sudo dnf -y install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm \\ https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm sudo dnf5 install 'dnf5-command(groupinstall)' sudo dnf -y groupinstall \\ \"Development Tools\" /bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\" echo 'eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"' \u003e\u003e ~/.bash_profile eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\" sudo dnf -y install ansible ansible setup vim setup.yml\n--- - name: Setup Development Environment hosts: localhost become: yes tasks: # Install Flatpak applications - name: Install Flatpak applications flatpak: name: \"{{ item }}\" state: present loop: - com.bitwarden.desktop - com.brave.Browser - org.gimp.GIMP - org.gnome.Snapshot - org.libreoffice.LibreOffice - org.remmina.Remmina - com.termius.Termius - com.slack.Slack - org.keepassxc.KeePassXC - md.obsidian.Obsidian - com.calibre_ebook.calibre - org.mozilla.Thunderbird - us.zoom.Zoom - org.wireshark.Wireshark - com.nextcloud.desktopclient.nextcloud - com.google.Chrome - io.github.shiftey.Desktop - io.github.dvlv.boxbuddyrs - com.github.tchx84.Flatseal - io.github.flattool.Warehouse - io.missioncenter.MissionCenter - org.gnome.World.PikaBackup - com.github.rafostar.Clapper - com.mattjakeman.ExtensionManager - com.jgraph.drawio.desktop - org.adishatz.Screenshot - com.github.finefindus.eyedropper - com.github.johnfactotum.Foliate - com.obsproject.Studio - com.vivaldi.Vivaldi - com.vscodium.codium - io.podman_desktop.PodmanDesktop - org.kde.kdenlive - org.virt_manager.virt-manager - io.github.input_leap.input-leap # Install Development Tools group using dnf - name: Install Development Tools group dnf: name: \"@Development Tools\" state: present - name: Install @virtualization group package dnf: name: '@virtualization' state: present # Update dnf configuration - name: Update dnf configuration for fastestmirror and parallel downloads block: - lineinfile: path: /etc/dnf/dnf.conf line: \"fastestmirror=True\" - lineinfile: path: /etc/dnf/dnf.conf line: \"max_parallel_downloads=10\" - lineinfile: path: /etc/dnf/dnf.conf line: \"defaultyes=True\" - lineinfile: path: /etc/dnf/dnf.conf line: \"keepcache=True\" # Perform DNF update and install required packages - name: Update DNF and install required packages dnf: name: - gnome-screenshot - wireguard-tools - gnome-tweaks - gnome-themes-extra state: present # Set GNOME theme (using gsettings directly) - name: Set GNOME theme to Adwaita-dark shell: gsettings set org.gnome.desktop.interface gtk-theme \"Adwaita-dark\" become_user: \"davidt\" - name: Enable experimental Mutter features shell: gsettings set org.gnome.mutter experimental-features \"['scale-monitor-framebuffer']\" become_user: \"davidt\" # Install Go programming language - name: Install Go dnf: name: go state: present - name: Add Go to the PATH in .bashrc lineinfile: path: \"/home/davidt/.bashrc\" line: 'export PATH=$PATH:/usr/local/go/bin' state: present become_user: \"davidt\" - name: Source .bashrc shell: source /home/davidt/.bashrc become_user: \"davidt\" - name: Install pip using yum yum: name: python-pip state: present run the playbook: ansible-playbook setup.yml\nThen reboot…\nThen sign into nextcloud and begin sync.\nInstall Homebrew packages: brew install hugo\nInstall gnome extentions:\npip install --user gnome-extensions-cli gext install \"appindicatorsupport@rgcjonas.gmail.com\" gext enable \"appindicatorsupport@rgcjonas.gmail.com\" gext install \"legacyschemeautoswitcher@joshimukul29.gmail.com\" gext install \"blur-my-shell@aunetx\" gext install \"dash-to-dock@micxgx.gmail.com\" gext install \"gsconnect@andyholmes.github.io\" gext install \"logomenu@aryan_k\" gext install \"search-light@icedman.github.com\" Restore remmina connections cp ~/Nextcloud/remmina/* ~/.var/app/org.remmina.Remmina/data/remmina/\nRestore vimrc cat ~/Nextcloud/Documents/dotfiles/vimrc.bak \u003e ~/.vimrc\nRestore ~/.bashrc: (if username is the same) cat ~/Nextcloud/Documents/dotfiles/bashrc.bak \u003e ~/.bashrc\nGit config\ngit config --global user.email \"tdavetech@gmail.com\" git config --global user.name \"linuxreader\" # Store git credentials (from inside a git directory): git config credential.helper store",
    "description": "New Fedora Build Using Ansible",
    "tags": [],
    "title": "Configure Fedora Desktop using Ansible",
    "uri": "/desktop/new-setup/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Networking",
    "content": "Plug console cable in\nfind out what your serial line name is:\n$ dmesg | grep -i FTDI Open putty \u003e change to serial \u003e change the tty line name\nMake sure your serial settings are correct\nhttps://www.juniper.net/documentation/us/en/hardware/mx5-mx10-mx40-mx80/topics/task/management-devices-mx5-mx10-mx40-mx80-connecting.html\nPress open \u003e when terminal appears press enter\nJuniper Password recovery\nttps://www.juniper.net/documentation/en_US/junos/topics/task/configuration/authentication-root-password-recovering-mx80.html\nhttps://www.juniper.net/documentation/us/en/software/junos/junos-install-upgrade/topics/topic-map/rescue-and-recovery-config-file.html#load-commit-configuration\naccidentally deleted the wrong line in Juniper.conf file ? failing over to juniper.conf\nhttps://www.juniper.net/documentation/en_US/junos/topics/concept/junos-configuration-files.html",
    "description": "How to console into an MX80 router from linux",
    "tags": [],
    "title": "Consoling in to MX80 from linux",
    "uri": "/networking/consoling_in_to_mx80_from_linux/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Containers",
    "content": "Introduction to Containers Take advantage of the native virtualization features available in the Linux kernel. Each container typically encapsulates one self-contained application that includes all dependencies such as library files, configuration files, software binaries, and services. Traditional server/ application deployment:\nApplications may have conflicting requirements in terms of shared library files, package dependencies, and software versioning. Patching or updating the operating system may result in breaking an application functionality. Developers perform an analysis on their current deployments before they decide whether to collocate a new application with an existing one or to go with a new server without taking the risk of breaking the current operation. Container Model:\nDevelopers can now package their application alongside dependencies, shared library files, environment variables, and other specifics in a single image file and use that file to run the application in a unique, isolated “environment” called container.\nA container is essentially a set of processes that runs in complete seclusion on a Linux system.\nA single Linux system running on bare metal hardware or in a virtual machine may have tens or hundreds of containers running at a time.\nThe underlying hardware may be located either on the ground or in the cloud.\nEach container is treated as a complete whole, which can be tagged, started, stopped, restarted, or even transported to another server without impacting other running containers.\nAny conflicts that may exist among applications, within application components, or with the operating system can be evaded.\nApplications encapsulated to run inside containers are called containerized applications.\nContainerization is a growing trend for architecting and deploying applications, application components, and databases in real world environments.\nContainers and the Linux Features Container technology employs some of the core features available in the Linux kernel. These features include: control groups namespaces seccomp (secure computing mode) SELinux Control Groups (cgroups)\nSplit processes into groups to set limits on their consumption of compute resources—CPU, memory, disk, and network I/O. These restrictions result in controlling individual processes from over utilizing available resources. Namespaces\nRestrict the ability of process groups from seeing or accessing system resources—PIDs, network interfaces, mount points, hostname, etc. Creates a layer of isolation between process groups and the rest of the system. Guarantees a secure, performant, and stable environment for containerized applications as well as the host operating system. Secure Computing Mode (seccomp) and SELinux\nImpose security constraints thereby protecting processes from one another and the host operating system from running processes. Container technology employs these characteristics to run processes isolated in a highly secure environment with full control over what they can or cannot do. Benefits of Using Containers Isolation Containers are not affected due to changes in the host operating system or in other hosted or containerized applications, as they run fully isolated from the rest of the environment. Loose Coupling Containerized applications are loosely coupled with the underlying operating system due to their self-containment and minimal level of dependency. Maintenance Independence Maintenance is performed independently on individual containers. Less Overhead Containers require fewer system resources than do bare metal and virtual servers. Transition Time Containers require a few seconds to start and stop. Transition Independence Transitioning from one state to another (start or stop) is independent of other containers, and it does not affect or require a restart of any underlying host operating system service. Portability Containers can be migrated to other servers without modifications to the contained applications. Target servers may be bare metal or virtual and located on-premises or in the cloud. Reusability The same container image can be used to run identical containers in development, test, preproduction, and production environments. There is no need to rebuild the image. Rapidity The container technology allows for accelerated application development, testing, deployment, patching, and scaling. There is no need for an exhaustive testing. Version Control Container images can be version-controlled, which gives users the flexibility in choosing the right version to run a container. Container Home: Bare Metal or Virtual Machine Containers\nrun directly on the underlying operating system whether it be running on a bare metal server or in a virtual machine. Share hardware and operating system resources securely among themselves. Containerized applications stay lightweight and isolated, and run in parallel. Share the same Linux kernel and require far fewer hardware resources than do virtual machines, which contributes to their speedy start and stop. Given the presence of an extra layer of hypervisor services, it may be more beneficial and economical to run containers directly on non-virtualized physical servers. Container Images and Container Registries Launching a container requires a pre-packaged image to be available. container image\nEssentially a static file that is built with all necessary components (application binaries, library files, configuration settings, environment variables, static data files, etc.)\nRequired by an application to run smoothly, securely, and independently.\nRHEL follows the open container initiative (OCI) to allow users to build images based on industry standard specifications that define the image format, host operating system metadata, and supported hardware architectures.\nAn OCI-compliant image can be executed and managed with OCI-compliant tools such as podman (pod manager) and Docker.\nImages can be version-controlled giving users the suppleness to use the latest or any of the previous versions to launch their containers.\nA single image can be used to run several containers at once.\nContainer images adhere to a standard naming convention for identification.\nThis is referred to as fully qualified image name (FQIN).\nComprised of four components: (1) the storage location (registry_name) (2) the owner or organization name (user_name) (3) a unique repository name (repo_name) (4) an optional version (tag). The syntax of an FQIN is: registry_hostname/user_name/repo_name:tag. Images are stored and maintained in public or private registries;\nThey need to be downloaded and made locally available for consumption.\nThere are several registries available on the Internet.\nregistry.redhat.io (/images/images based on official Red Hat products; requires authentication), registry.access.redhat.com (requires no authentication) registry.connect.redhat.com (/images/images based on third-party products) hub.docker.com (Docker Hub). The three Red Hat registries may be searched using the Red Hat Container Catalog at catalog.redhat.com/software/containers/search.\nAdditional registries may be added as required.\nPrivate registries may also require authentication for access.\nRootful vs. Rootless Containers Containers can be launched with the root user privileges (sudo or directly as the root user).\nThis gives containers full access to perform administrative functions including the ability to map privileged network ports (1024 and below).\nLaunching containers with superuser rights opens a gate to potential unauthorized access to the container host if a container is compromised due to a vulnerability or misconfiguration.\nTo secure containers and the underlying operating system, containers should be launched and interacted with as normal Linux users.\nSuch containers are referred to as rootless containers.\nRootless containers allow regular, unprivileged users to run containers without the ability to perform tasks that require privileged access.\nWorking with Images and Containers Lab: Install Necessary Container Support Install the necessary software to set the foundation for completing the exercises in the remainder of the chapter. The standard RHEL 9.1 image includes a package called container-tools that consists of all the required components and commands. Use the standard dnf command to install the package. 1. Install the container-tools package:\nroot@server10 ~]# dnf install -y container-tools Upgraded: aardvark-dns-2:1.10.0-3.el9_4.x86_64 buildah-2:1.33.7-3.el9_4.x86_64 netavark-2:1.10.3-1.el9.x86_64 podman-4:4.9.4-6.el9_4.x86_64 Installed: container-tools-1-14.el9.noarch podman-docker-4:4.9.4-6.el9_4.noarch podman-remote-4:4.9.4-6.el9_4.x86_64 python3-podman-3:4.9.0-1.el9.noarch python3-pyxdg-0.27-3.el9.noarch python3-tomli-2.0.1-5.el9.noarch skopeo-2:1.14.3-3.el9_4.x86_64 toolbox-0.0.99.5-2.el9.x86_64 udica-0.2.8-1.el9.noarch 2. Verify the package installation:\n[root@server10 ~]# dnf list container-tools Updating Subscription Management repositories. Last metadata expiration check: 14:53:32 ago on Wed 31 Jul 2024 05:45:56 PM MST. Installed Packages container-tools.noarch 1-14.el9 @rhel-9-for-x86_64-appstream-rpms podman Command Finding, inspect, retrieve, and delete images Run, stop, list, and delete containers. Used for most of these operations. Subcommands Image Management build\nBuilds an image using instructions delineated in a Container file images\nLists downloaded images from local storage inspect\nExamines an image and displays its details login/logout\nLogs in/out to/from a container registry. A login may be required to access private and protected registries. pull\nDownloads an image to local storage from a registry rmi\nRemoves an image from local storage search\nSearches for an image. The following options can be included with this subcommand: A partial image name in the search will produce a list of all images containing the partial name. The --no-trunc option makes the command exhibit output without truncating it. The --limit \u003cnumber\u003e option limits the displayed results to the specified number. tag\nAdds a name to an image. The default is ’latest’ to classify the image as the latest version. Older images may have specific version identifiers. Container Management attach\nAttaches to a running container exec\nRuns a process in a running container generate\nGenerates a systemd unit configuration file that can be used to control the operational state of a container. The --new option is important and is employed in later exercises. info\nReveals system information, including the defined registries inspect\nExhibits the configuration of a container ps\nLists running containers (includes stopped containers with the -a option) rm\nRemoves a container run\nLaunches a new container from an image. Some options such as -d (detached), -i (interactive), and -t (terminal) are important and are employed in exercises where needed. start/stop/restart\nStarts, stops, or restarts a container skopeo Command Utilized for interacting with local and remote images and registries. Has numerous subcommands available; however, you will be using only the inspect subcommand to examine the details of an image stored in a remote registry. /etc/containers/registries.conf\nSystem-wide configuration file for image registries. Normal Linux users may store a customized copy of this file, if required, under the ~/.config/containers directory. Settings stored in the per-user file will take precedence over those stored in the system-wide file. Useful for running rootless containers. Defines searchable and blocked registries. [root@server10 ~]# grep -Ev '^#|^$' /etc/containers/registries.conf unqualified-search-registries = [\"registry.access.redhat.com\", \"registry.redhat.io\", \"docker.io\"] short-name-mode = \"enforcing\" The output shows three registries. The podman command searches these registries for container images in the given order. Can add additional registries to the list. Add a private registry called registry.private.myorg.io to be added with the highest priority:\n[root@server10 ~]# vim /etc/containers/registries.conf unqualified-search-registries = \\[\"registry.private.myorg.io\", \"registry.access.redhat.com\", \"registry.redhat.io\", \"docker.io\"\\] If this private registry is the only one to be used, you can take the rest of the registry entries out of the list:\nunqualified-search-registries = \\[\"registry.private.myorg.io\"\\] EXAM TIP: As there is no Internet access provided during Red Hat exams, you may have to access a network-based registry to download images.\nViewing Podman Configuration and Version The podman command references various system runtime and configuration files and runs certain Linux commands in the background to gather and display information. For instance, it looks for registries and storage data in the system-wide and per-user configuration files, pulls memory information from the /proc/meminfo file, executes uname -rto obtain the kernel version, and so on. podman’s info subcommand shows all this information. Here is a sample when this command is executed as a normal user (user1):\n[[user1@server10 root]$ podman info ERRO[0000] XDG_RUNTIME_DIR directory \"/run/user/0\" is not owned by the current user](\u003c[user1@server10 ~]$ podman info host: arch: amd64 buildahVersion: 1.33.8 cgroupControllers: - memory - pids cgroupManager: systemd cgroupVersion: v2 conmon: ... Re-run the command as root (preceded by sudo if running as user1) and compare the values for the settings “rootless” under host and “ConfigFile” and “ImageStore” under store.\nThe differences lie between where the root and rootless (normal) users store and obtain configuration data, the number of container images they have locally available, and so on.\n[root@server10 ~]# podman info host: arch: amd64 buildahVersion: 1.33.8 cgroupControllers: - cpuset - cpu - io - memory - hugetlb - pids - rdma - misc ... Similarly, you can run the podman command as follows to check its version:\n[root@server10 ~]# podman version Client: Podman Engine Version: 4.9.4-rhel API Version: 4.9.4-rhel Go Version: go1.21.11 (Red Hat 1.21.11-1.el9_4) Built: Mon Jul 1 03:27:14 2024 OS/Arch: linux/amd64 Image Management Container images\nAre available from numerous private and public registries. They are pre-built for a variety of use cases. You can search through registries to find the one that suits your needs. You can examine their metadata before downloading them for consumption. Downloaded images can be removed when no longer needed to conserve local storage. The same pair of commands—podman and skopeo—is employed for these operations. Lab: Search, Examine, Download, and Remove an Image Log in to the registry.access.redhat.com registry Look for an image called mysql-80 in the registry, examine its details, pull it to your system, confirm the retrieval, and finally erase it from the local storage. 1. Log in to the specified Red Hat registry:\n[user1@server10 ~]$ podman login registry.redhat.io 2. Confirm a successful login:\n[user1@server10 ~]$ podman login registry.redhat.io --get-login 3. Find the mysql-80 image in the specified registry. Add the --no-trunc option to view full output.\n[user1@server10 ~]$ podman search registry.redhat.io/mysql-80 --no-trunc NAME DESCRIPTION registry.redhat.io/rhel8/mysql-80 This container image provides a containerized packaging of the MySQL mysqld daemon and client application. The mysqld server daemon accepts connections from clients and provides access to content from MySQL databases on behalf of the clients. ... 4. Select the second image rhel9/mysql-80 for this exercise. Inspect the image without downloading it using skopeo inspect. A long output will be generated. The command uses the docker:// mechanism to access the image.\n[user1@server10 ~]$ skopeo inspect docker://registry.redhat.io/rhel9/mysql-80 { \"Name\": \"registry.redhat.io/rhel9/mysql-80\", \"Digest\": \"sha256:247903d2103a3c1db9401f6340ecdcd97c6244480b7a3419e6303dda650491dc\", \"RepoTags\": [ \"1\", \"1-190\", \"1-190.1655192188\", \"1-190.1655192188-source\", \"1-190-source\", \"1-197\", \"1-197-source\", \"1-206\", ... Output:\nShows older versions under RepoTags\nCreation time for the latest version\nBuild date of the image\ndescription\nother information.\nIt is a good practice to analyze the metadata of an image prior to downloading and consuming it.\n5. Download the image by specifying the fully qualified image name using podman pull:\n[user1@server10 ~]$ podman pull docker://registry.redhat.io/rhel9/mysql-80 Trying to pull registry.redhat.io/rhel9/mysql-80:latest... Getting image source signatures Checking if image destination supports signatures Copying blob 846c0bdf4e30 done | Copying blob cc296d75b612 done | Copying blob db22e630b1c7 done | Copying config b5782120a3 done | Writing manifest to image destination Storing signatures b5782120a320e5915d86555e661c357cfa56dd8320ba4c54a58caa1e1c91925f 6. List the image to confirm the retrieval using podman images:\n[user1@server10 ~]$ podman images REPOSITORY TAG IMAGE ID CREATED SIZE registry.redhat.io/rhel9/mysql-80 latest b5782120a320 2 weeks ago 555 MB 7. Display the image’s details using podman inspect:\n[user1@server10 ~]$ podman inspect mysql-80 [ { \"Id\": \"b5782120a320e5915d86555e661c357cfa56dd8320ba4c54a58caa1e1c91925f\", \"Digest\": \"sha256:247903d2103a3c1db9401f6340ecdcd97c6244480b7a3419e6303dda650491dc\", \"RepoTags\": [ \"registry.redhat.io/rhel9/mysql-80:latest\" ], 8. Remove the mysql-80 image from local storage:\n[user1@server10 ~]$ podman rmi mysql-80 Untagged: registry.redhat.io/rhel9/mysql-80:latest Deleted: b5782120a320e5915d86555e661c357cfa56dd8320ba4c54a58caa1e1c91925f Shows the ID of the image after deletion. 9. Confirm the removal:\n[user1@server10 ~]$ podman images REPOSITORY TAG IMAGE ID CREATED SIZE Containerfile Can build a custom image by outlining the steps you need to be run in a file called Containerfile. The podman command can then be used to read those instructions and executes them to produce a new image. File name containerfile is widespread; but you can use any name of your liking. Instructions that may be utilized inside a Containerfile to perform specific functions during the build process:\nCMD\nRuns a command COPY\nCopies files to the specified location ENV\nDefines environment variables to be used during the build process EXPOSE\nA port number that will be opened when a container is launched using this image FROM\nIdentifies the base container image to use RUN\nExecutes the specified commands USER\nDefines a non-root user to run the commands as WORKDIR\nSets the working directory. This directory is automatically created if it does not already exist. A sample container file is presented below:\n[user1@server10 ~]$ vim containerfile # Use RHEL9 base image FROM registry.redhat.io/ubi9/ubi # Install Apache web server software RUN dnf -y install httpd # Copy the website COPY ./index.html /var/www/html/ # Expose Port 80/tcp EXPOSE 80 # Start Apache web server CMD [\"httpd\"] The index.html file may contain a basic statement such as “This is a custom-built Apache web server container image based on RHEL 9”. Lab: Use Containerfile to Build Image Use a containerfile to build a custom image based on the latest version of the RHEL 9 universal base image (ubi) available from a Red Hat container registry. Confirm the image creation. Use the podman command for these activities. 1. Log in to the specified Red Hat registry:\n[user1@server10 ~]$ podman login registry.redhat.io Authenticating with existing credentials for registry.redhat.io Existing credentials are valid. Already logged in to registry.redhat.io 2. Confirm a successful login:\n[user1@server10 ~]$ podman login registry.redhat.io --get-login 3. Create a file called containerfile with the following code:\n[user1@server10 ~]$ vim containerfile2 # Use RHEL9 base image FROM registry.redhat.io/ubi9/ubi # Count the number of characters CMD echo \"RHCSA exam is hands-on.\" | wc # Copy a local file to /tmp COPY ./testfile /tmp 4. Create a file called testfile with some random text in it and place it in the same directory as the containerfile.\n[user1@server10 ~]$ echo \"boo bee doo bee doo\" \u003e\u003e testfile [user1@server10 ~]$ cat testfile boo bee doo bee doo 5. Build an image by specifying the containerfile name and an image tag such as ubi9-simple-image. The period character at the end represents the current directory and this is where both containerfile and testfile are located.\n[user1@server10 ~]$ podman image build -f containerfile2 -t ubi9-simple-image . STEP 1/3: FROM registry.redhat.io/ubi9/ubi Trying to pull registry.redhat.io/ubi9/ubi:latest... Getting image source signatures Checking if image destination supports signatures Copying blob cc296d75b612 done | Copying config 159a1e6731 done | Writing manifest to image destination Storing signatures STEP 2/3: CMD echo \"RHCSA exam is hands-on.\" | wc --\u003e 4c005bfd0b34 STEP 3/3: COPY ./testfile /tmp COMMIT ubi9-simple-image --\u003e a2797b06a129 Successfully tagged localhost/ubi9-simple-image:latest a2797b06a1294ed06edab2ba1c21d2bddde3eb3af1d8ed286781837f62992622 6. Confirm image creation:\n[user1@server10 ~]$ podman image ls REPOSITORY TAG IMAGE ID CREATED SIZE localhost/ubi9-simple-image latest a2797b06a129 2 minutes ago 220 MB registry.redhat.io/ubi9/ubi latest 159a1e67312e 2 weeks ago 220 MB Output:\ndownloaded image\nnew custom image along with their image IDs, creation time, and size.\nDo not remove the custom image yet as you will be using it to launch a container in the next section.\nBasic Container Management Starting, stopping, listing, viewing information about, and deleting them. Depending on the use case, containers can be launched in different ways. They can: Have a name assigned or be nameless Have a terminal session opened for interaction Execute an entry point command (the command specified at the launch time) and be auto-terminated right after. etc. Running containers can be stopped and restarted, or discarded if no longer needed. The podman command is utilized to start containers and manage their lifecycle. This command is also employed to list stopped and running containers, and view their details. Lab: Run, Interact with, and Remove a Named Container Run a container based on the latest version of the RHEL 8 ubi available in the Red Hat container registry. Assign this container a name and run a few native Linux commands in a terminal window interactively. Exit out of the container to mark the completion of the exercise. 1. Launch a container using ubi8 (RHEL 8). Name this container rhel8-base-os and open a terminal session for interaction:\n[user1@server10 ~]$ podman run -ti --name rhel8-base-os ubi8 Resolved \"ubi8\" as an alias (/etc/containers/registries.conf.d/001-rhel-shortnames.conf) Trying to pull registry.access.redhat.com/ubi8:latest... Getting image source signatures Checking if image destination supports signatures Copying blob 8694db102e5b done | Copying config 269749ad51 done | Writing manifest to image destination Storing signatures [root@30c7cccd8490 /]# Downloaded the latest version of the specified image automatically even though no FQIN was provided.\nThis is because it searched through the registries listed in the /etc/containers/registries.conf file and retrieved the image from wherever it found it first (registry.access.redhat.com). Opened a terminal session inside the container as the root user to interact with the containerized RHEL 8 OS.\nThe container ID is reflected as the hostname in the container’s command prompt (last line in the output). This is an auto-generated ID.\nIf you encounter any permission issues, delete the /etc/docker directory (if it exists) and try again.\n2. Run a few basic commands such as pwd, ls, cat, and date inside the container for verification:\n[root@30c7cccd8490 /]# pwd / [root@30c7cccd8490 /]# ls bin dev home lib64\tmedia opt root\tsbin sys usr boot etc lib\tlost+found mnt proc run\tsrv tmp var [root@30c7cccd8490 /]# cat /etc/redhat-release Red Hat Enterprise Linux release 8.10 (Ootpa) [root@30c7cccd8490 /]# date Thu Aug 1 21:09:13 UTC 2024 3. Close the terminal session when done:\n[root@30c7cccd8490 /]# exit exit [user1@server10 ~]$ 4. Delete the container using podman rm:\n[user1@server10 ~]$ podman rm rhel8-base-os rhel8-base-os Confirm the removal with podman ps.\n[user1@server10 ~]$ podman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES Lab: Run a Nameless Container and Auto-Remove it After Entry Point Command Execution Launch a container based on the latest version of RHEL 7 ubi available in a Red Hat container registry. This image provides the base operating system layer to deploy containerized applications. Enter a Linux command at the command line for execution inside the container as an entry point command and the container should be automatically deleted right after that. 1. Start a container using ubi7 (RHEL 7) and run ls as an entry point command. Remove the container as soon as the entry point command has finished running.\n[user1@server10 ~]$ podman run --rm ubi7 ls Resolved \"ubi7\" as an alias (/etc/containers/registries.conf.d/001-rhel-shortnames.conf) Trying to pull registry.access.redhat.com/ubi7:latest... Getting image source signatures Checking if image destination supports signatures Copying blob 7f2c2c4492b6 done | Copying config a084eb42a5 done | Writing manifest to image destination Storing signatures bin boot dev etc home ... 2. Confirm the container removal with podman ps:\npodman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES Advanced Container Management Preset environment variables may be passed when launching containers or new variables may be set for containerized applications to consume for proper operation. Information stored during an application execution is lost when a container is restarted or erased. This behavior can be overridden by making a directory on the host available inside the container for saving data persistently. Containers may be configured to start and stop with the transitioning of the host system via the systemd service. These advanced tasks are also performed with the podman command. Containers and Port Mapping Applications running in different containers often need to exchange data for proper operation. For instance, a containerized Apache web server may need to talk to a MySQL database instance running in a different container. It may also need to talk to the outside world over a port such as 80 or 8080. To support this traffic flow, appropriate port mappings are established between the host system and each container. EXAM TIP: As a normal user, you cannot map a host port below 1024 to a container port.\nLab: Configure Port Mapping Launch a container called rhel7-port-map in detached mode (as a daemon) with host port 10000 mapped to port 8000 inside the container. Use a version of the RHEL 7 image with Apache web server software pre-installed. This image is available from a Red Hat container registry. List the running container and confirm the port mapping. 1. Search for an Apache web server image for RHEL 7 using podman search:\n[user1@server30 ~]$ podman search registry.redhat.io/rhel7/httpd NAME DESCRIPTION registry.redhat.io/rhscl/httpd-24-rhel7 Apache HTTP 2.4 Server 2. Log in to registry.redhat.io using the Red Hat credentials to access the image:\n[user1@server30 ~]$ podman login registry.redhat.io Username: tdavetech@gmail.com Password: Login Succeeded! 3. Download the latest version of the Apache image using podman pull:\n[user1@server30 ~]$ podman pull registry.redhat.io/rhscl/httpd-24- rhel7 Trying to pull registry.redhat.io/rhscl/httpd-24-rhel7:latest... Getting image source signatures Checking if image destination supports signatures Copying blob fd77da0b900b done | Copying blob 7f2c2c4492b6 done | Copying blob ea092d7970b2 done | Copying config 847db19d6c done | Writing manifest to image destination Storing signatures 847db19d6cbc726106c901a7713d30dccc9033031ec812037c4c458319a1b328 4. Verify the download using podman images:\n[user1@server30 ~]$ podman images REPOSITORY TAG IMAGE ID CREATED SIZE registry.redhat.io/rhscl/httpd-24-rhel7 latest 847db19d6cbc 2 months ago 332 MB 5. Launch a container named rhel7-port-map in detached mode to run the containerized Apache web server with host port 10000 mapped to container port 8000.\n[user1@server30 ~]$ podman run -dp 10000:8000 --name rhel7-port-map httpd-24-rhel7 cd063dff352dfbcd57dd417587513b12ca4033ed657f3baaa28d54df19d4df1c 6. Verify that the container was launched successfully using podman ps:\n[user1@server30 ~]$ podman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES cd063dff352d registry.redhat.io/rhscl/httpd-24-rhel7:latest /usr/bin/run-http... 36 seconds ago Up 36 seconds 0.0.0.0:10000- \u003e8000/tcp rhel7-port-map 7. You can also use podman port to view the mapping:\n[user1@server30 ~]$ podman port rhel7-port-map 8000/tcp -\u003e 0.0.0.0:10000 Now any inbound web traffic on host port 10000 will be redirected to the container. Exercise 22-7: Stop, Restart, and Remove a Container Stop the container, restart it, stop it again, and then erase it. Use appropriate podman subcommands and verify each transition. 1. Verify the current operational state of the container rhel7-port-map:\n[user1@server30 ~]$ podman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES cd063dff352d registry.redhat.io/rhscl/httpd-24-rhel7:latest /usr/bin/run-http... 3 minutes ago Up 3 minutes 0.0.0.0:10000- \u003e8000/tcp rhel7-port-map 2. Stop the container and confirm. (the -a option with ps also includes the stopped containers in the output):\n[user1@server30 ~]$ podman stop rhel7-port-map rhel7-port-map [user1@server30 ~]$ podman ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES cd063dff352d registry.redhat.io/rhscl/httpd-24-rhel7:latest /usr/bin/run-http... 6 minutes ago Exited (0) 5 seconds ago 0.0.0.0:10000-\u003e8000/tcp rhel7-port-map 3. Start the container and confirm:\n[user1@server30 ~]$ podman start rhel7-port-map rhel7-port-map [user1@server30 ~]$ podman ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES cd063dff352d registry.redhat.io/rhscl/httpd-24-rhel7:latest /usr/bin/run-http... 8 minutes ago Up 11 seconds 0.0.0.0:10000- \u003e8000/tcp rhel7-port-map 4. Stop the container and remove it:\n[user1@server30 ~]$ podman rm rhel7-port-map rhel7-port-map 5. Confirm the removal:\n[user1@server30 ~]$ podman ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES Containers and Environment Variables Many times it is necessary to pass a host’s pre-defined environment variable, such as PATH, to a containerized application for consumption. Moreover, it may also be necessary at times to set new variables to inject debugging flags or sensitive information such as passwords, access keys, or other secrets for use inside containers. Passing host environment variables or setting new environment variables is done at the time of launching a container. The podman command allows multiple variables to be passed or set with the -e option. EXAM TIP: Use the -e option with each variable that you want to pass or set.\nLab: Pass and Set Environment Variables Launch a container using the latest version of a ubi for RHEL 9 available in a Red Hat container registry. Inject the HISTSIZE environment variable, and a variable called SECRET with a value “secret123”. Name this container rhel9-env-vars and have a shell terminal opened to check the variable settings. Remove this container. 1. Launch a container with an interactive terminal session and inject variables HISTSIZE and SECRET as directed. Use the specified container image.\n[user1@server30 ~]$ podman run -it -e HISTSIZE -e SECRET=\"secret123\" --name rhel9-env-vars ubi9 Resolved \"ubi9\" as an alias (/etc/containers/registries.conf.d/001- rhel-shortnames.conf) Trying to pull registry.access.redhat.com/ubi9:latest... Getting image source signatures Checking if image destination supports signatures Copying blob cc296d75b612 done | Copying config 159a1e6731 done | Writing manifest to image destination Storing signatures [root@b587355b8fc1 /]# 2. Verify both variables using the echo command:\n[root@b587355b8fc1 /]# echo $HISTSIZE $SECRET 1000 secret123 [root@b587355b8fc1 /]# 3. Disconnect from the container, and stop and remove it:\n[user1@server30 ~]$ podman stop rhel9-env-vars rhel9-env-vars [user1@server30 ~]$ podman rm rhel9-env-vars rhel9-env-vars Confirm the deletion:\n[user1@server30 ~]$ podman ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES Containers and Persistent Storage Containers are normally launched for a period of time to run an application and then stopped or deleted when their job is finished. Any data that is produced during runtime is lost on their restart, failure, or termination. This data may be saved for persistence on a host directory by attaching the host directory to a container. The containerized application will see the attached directory just like any other local directory and will use it to store data if it is configured to do so. Any data that is saved on the directory will be available even after the container is rebooted or removed. Later, this directory can be re-attached to other containers to give them access to the stored data or to save their own data. The source directory on the host may itself exist on any local or remote file system. EXAM TIP: Proper ownership, permissions, and SELinux file type must be set to ensure persistent storage is accessed and allows data writes without issues.\nThere are a few simple steps that should be performed to configure a host directory before it can be attached to a container. These steps include the correct ownership, permissions, and SELinux type (container_file_t). The special SELinux file type is applied to prevent containerized applications (especially those running in root containers) from gaining undesired privileged access to host files and processes, or other running containers on the host if compromised. Lab: Attach Persistent Storage and Access Data Across Containers Set up a directory on server20 and attach it to a new container. Write some data to the directory while in the container. Delete the container and launch another container with the same directory attached. Observe the persistence of saved data in the new container and that it is accessible. Remove the container to mark the completion of this exercise. 1. Create a directory called /host_data, set full permissions on it, and confirm:\n[user1@server30 ~]$ sudo mkdir /host_data [sudo] password for user1: [user1@server30 ~]$ sudo chmod 777 /host_data/ [user1@server30 ~]$ ll -d /host_data/ drwxrwxrwx. 2 root root 6 Aug 1 22:59 /host_data/ 2. Launch a root container called rhel9-persistent-data in interactive mode using the latest ubi9 image. Specify the attachment point (/container_data) to be used inside the container for the host directory (/host_data) Ensure the SELinux type container_file_t is automatically set on the directory and files within.\n[user1@server30 ~]$ sudo podman run --name rhel9-persistent-data -v /host_data:/container_data:Z -it ubi9 Resolved \"ubi9\" as an alias (/etc/containers/registries.conf.d/001- rhel-shortnames.conf) Trying to pull registry.access.redhat.com/ubi9:latest... Getting image source signatures Checking if image destination supports signatures Copying blob cc296d75b612 done | Copying config 159a1e6731 done | Writing manifest to image destination Storing signatures 3. Confirm the presence of the directory inside the container with ls on /container_data:\n[root@e8711892370f /]# ls -ldZ /container_data drwxrwxrwx. 2 root root system_u:object_r:container_file_t:s0:c376,c965 6 Aug 2 05:59 /container_data 4. Create a file called testfile with the echo command under /container_data:\n[root@e8711892370f /]# echo \"This is persistent storage.\" \u003e /container_data/testfile 5. Verify the file creation and the SELinux type on it:\n[root@e8711892370f /]# ls -lZ /container_data/ total 4 -rw-r--r--. 1 root root system_u:object_r:container_file_t:s0:c376,c965 28 Aug 2 06:03 testfile 6. Exit out of the container and check the presence of the file in the host directory:\n[root@e8711892370f /]# exit exit [user1@server30 ~]$ ls -lZ /host_data/ total 4 -rw-r--r--. 1 root root system_u:object_r:container_file_t:s0:c376,c965 28 Aug 1 23:03 testfile 7. Stop and remove the container:\n[user1@server30 ~]$ sudo podman stop rhel9-persistent-data rhel9-persistent-data [user1@server30 ~]$ sudo podman rm rhel9-persistent-data rhel9-persistent-data 8. Launch a new root container called rhel8-persistent-data in interactive mode using the latest ubi8 image from any of the defined registries. Specify the attachment point (/container_data2) to be used inside the container for the host directory (/host_data). Ensure the SELinux type container_file_t is automatically set on the directory and files within.\n[user1@server30 ~]$ sudo podman run -it --name rhel8-persistent-data -v /host_data:/container_data2:Z ubi8 Resolved \"ubi8\" as an alias (/etc/containers/registries.conf.d/001- rhel-shortnames.conf) Trying to pull registry.access.redhat.com/ubi8:latest... Getting image source signatures Checking if image destination supports signatures Copying blob 8694db102e5b done | Copying config 269749ad51 done | Writing manifest to image destination Storing signatures 9. Confirm the presence of the directory inside the container with ls on /container_data2:\n[root@af6773299c7e /]# ls -ldZ /container_data2/ drwxrwxrwx. 2 root root system_u:object_r:container_file_t:s0:c198,c914 22 Aug 2 06:03 /container_data2/ [root@af6773299c7e /]# ls -lZ /container_data2/ total 4 -rw-r--r--. 1 root root system_u:object_r:container_file_t:s0:c198,c914 28 Aug 2 06:03 testfile [root@af6773299c7e /]# cat /container_data2/testfile This is persistent storage. 10. Create a file called testfile2 with the echo command under /container_data2:\n[root@af6773299c7e /]# echo \"This is persistent storage2.\" \u003e /container_data2/testfile2 [root@af6773299c7e /]# ls -lZ /container_data2/ total 8 -rw-r--r--. 1 root root system_u:object_r:container_file_t:s0:c198,c914 28 Aug 2 06:03 testfile -rw-r--r--. 1 root root system_u:object_r:container_file_t:s0:c198,c914 29 Aug 2 06:10 testfile2 11. Exit out of the container and confirm the existence of both files in the host directory:\n[root@af6773299c7e /]# exit exit [user1@server30 ~]$ ls -lZ /host_data/ total 8 -rw-r--r--. 1 root root system_u:object_r:container_file_t:s0:c198,c914 28 Aug 1 23:03 testfile -rw-r--r--. 1 root root system_u:object_r:container_file_t:s0:c198,c914 29 Aug 1 23:10 testfile2 12. Stop and remove the container using the stop and rm subcommands:\n[user1@server30 ~]$ sudo podman stop rhel8-persistent-data rhel8-persistent-data [user1@server30 ~]$ sudo podman rm rhel8-persistent-data rhel8-persistent-data 13. Re-check the presence of the files in the host directory:\n[user1@server30 ~]$ ll /host_data total 8 -rw-r--r--. 1 root root 28 Aug 1 23:03 testfile -rw-r--r--. 1 root root 29 Aug 1 23:10 testfile2 Container State Management with systemd Multiple containers run on a single host and it becomes a challenging task to change their operational state or delete them manually.\nIn RHEL 9, these administrative functions can be automated via the systemd service\nThere are several steps that need to be completed to configure container state management via systemd.\nThese steps vary for rootful and rootless container setups and include the creation of service unit files and their storage in appropriate directory locations (~/.config/systemd/user for rootless containers and /etc/systemd/system for rootful containers).\nOnce setup and enabled, the containers will start and stop automatically as a systemd service with the host state transition or manually with the systemctl command.\nThe podman command to start and stop containers is no longer needed if the systemd setup is in place.\nYou may experience issues if you continue to use podman for container state transitioning alongside.\nThe start and stop behavior for rootless containers differs slightly from that of rootful containers.\nFor the rootless setup, the containers are started when the relevant user logs in to the host and stopped when that user logs off from all their open terminal sessions;\nHowever, this default behavior can be altered by enabling lingering for that user with the loginctl command.\nUser lingering is a feature that, if enabled for a particular user, spawns a user manager for that user at system startup and keeps it running in the background to support long-running services configured for that user.\nThe user need not log in.\nEXAM TIP: Make sure that you use a normal user to launch rootless containers and the root user (or sudo) for rootful containers.\nRootless setup does not require elevated privileges of the root user. Lab: Configure a Rootful Container as a systemd Service Create a systemd unit configuration file for managing the state of your rootful containers. Launch a new container and use it as a template to generate a service unit file. Stop and remove the launched container to avoid conflicts with new containers that will start. Use the systemctl command to verify the automatic container start, stop, and deletion. 1. Launch a new container called rootful-container in detached mode using the latest ubi9:\n[user1@server30 ~]$ sudo podman run -dt --name rootful-container ubi9 [sudo] password for user1: 0ed04dcedec418068acd14c864e95e78f56a38dd57d2349cf2c46b0de1a1bf1b 2. Confirm the new container using podman ps. Note the container ID.\n[user1@server30 ~]$ sudo podman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 0ed04dcedec4 registry.access.redhat.com/ubi9:latest /bin/bash 20 seconds ago Up 20 seconds rootful-container 3. Create (generate) a service unit file called rootful-container.service under /etc/systemd/system while ensuring that the next new container that will be launched based on this configuration file will not require the source container to work. The tee command will show the generated file content on the screen as well as store it in the specified file.\n[user1@server30 ~]$ sudo podman generate systemd --new --name rootful-container | sudo tee /etc/systemd/system/rootful-qcontainer.service [Unit] Description=Podman container-rootful-container.service Documentation=man:podman-generate-systemd(1) Wants=network-online.target After=network-online.target RequiresMountsFor=%t/containers [Service] Environment=PODMAN_SYSTEMD_UNIT=%n Restart=on-failure TimeoutStopSec=70 ExecStart=/usr/bin/podman run \\ --cidfile=%t/%n.ctr-id \\ --cgroups=no-conmon \\ --rm \\ --sdnotify=conmon \\ --replace \\ -dt \\ --name rootful-container ubi9 ExecStop=/usr/bin/podman stop \\ --ignore -t 10 \\ --cidfile=%t/%n.ctr-id ExecStopPost=/usr/bin/podman rm \\ -f \\ --ignore -t 10 \\ --cidfile=%t/%n.ctr-id Type=notify NotifyAccess=all [Install] WantedBy=default.target The unit file has the same syntax as any other systemd service configuration file. There are three sections—Unit, Service, and Install. (1) The unit section provides a short description of the service, the manual page location, and the dependencies (wants and after). (2) The service section highlights the full commands for starting (ExecStart) and stopping (ExecStop) containers. It also highlights the commands that will be executed before the container start (ExecStartPre) and after the container stop (ExecStopPost). There are a number of options and arguments with the commands to ensure a proper transition. The restart on-failure stipulates that systemd will try to restart the container in the event of a failure. (3) The install section identifies the operational target the host needs to be running in before this container service can start. 4. Stop and delete the source container (rootful-container):\n[user1@server30 ~]$ sudo podman stop rootful-container [sudo] password for user1: WARN[0010] StopSignal SIGTERM failed to stop container rootful- container in 10 seconds, resorting to SIGKILL rootful-container [user1@server30 ~]$ sudo podman rm rootful-container rootful-container Verify the removal by running sudo podman ps -a:\n[user1@server30 ~]$ sudo podman ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 5. Update systemd to bring the new service under its control (reboot the system if required):\n[user1@server30 ~]$ sudo systemctl daemon-reload 6. Enable and start the container service:\n[user1@server30 ~]$ sudo systemctl enable --now rootful-container Created symlink /etc/systemd/system/default.target.wants/rootful- container.service → /etc/systemd/system/rootful-container.service. 7. Check the running status of the new service:\n[user1@server30 ~]$ sudo systemctl status rootful-container rootful-container.service - Podman container-rootful-container.s\u003e Loaded: loaded (/etc/systemd/system/rootful-container.service\u003e Active: active (running) 8. Verify the launch of a new container (compare the container ID with that of the source root container):\n[user1@server30 ~]$ sudo podman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 440a57c26186 registry.access.redhat.com/ubi9:latest /bin/bash About a minute ago Up About a minute rootful-container 9. Restart the container service using the systemctl command:\n[user1@server30 ~]$ sudo systemctl restart rootful-container sudo systemctl status rootful- [user1@server30 ~]$ sudo systemctl status rootful-container rootful-container.service - Podman container-rootful-container.s\u003e Loaded: loaded (/etc/systemd/system/rootful-container.service\u003e Active: active (running) 10. Check the status of the container again. Observe the removal of the previous container and the launch of a new container (compare container IDs).\n[user1@server30 ~]$ sudo podman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 0a980537b83a registry.access.redhat.com/ubi9:latest /bin/bash 59 seconds ago Up About a minute rootful-container Each time the rootful-container service is restarted or server20 is rebooted, a new container will be launched. Lab: Configure Rootless Container as a systemd Service Create a systemd unit configuration file for managing the state of your rootless containers. Launch a new container as conuser1 (create this user) and use it as a template to generate a service unit file. Stop and remove the launched container to avoid conflicts with new containers that will start. Use the systemctl command as conuser1 to verify the automatic container start, stop, and deletion. 1. Create a user account called conuser1 and assign a simple password:\n[user1@server30 ~]$ sudo useradd conuser1 [user1@server30 ~]$ echo conuser1 | sudo passwd -- stdin conuser1 Changing password for user conuser1. passwd: all authentication tokens updated successfully. 2. Open a new terminal window on server20 and log in as conuser1. Create directory ~/.config/systemd/user to store a service unit file:\n[conuser1@server30 ~]$ mkdir ~/.config/systemd/user -p 3. Launch a new container called rootless-container in detached mode using the latest ubi8:\n[conuser1@server30 ~]$ podman run -dt --name rootless-container ubi8 Resolved \"ubi8\" as an alias (/etc/containers/registries.conf.d/001-rhel- shortnames.conf) Trying to pull registry.access.redhat.com/ubi8:latest... Getting image source signatures Checking if image destination supports signatures Copying blob 8694db102e5b done | Copying config 269749ad51 done | Writing manifest to image destination Storing signatures 381d46ae9a3e11723c3bde35090782129e6937c461f8c2621bc9725f6b9efc27 4. Confirm the new container using podman ps. Note the container ID.\n[conuser1@server30 ~]$ podman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 381d46ae9a3e registry.access.redhat.com/ubi8:latest /bin/bash 27 seconds ago Up 27 seconds rootless-container 5. Create (generate) a service unit file called rootless-container.service under ~/.config/systemd/user while ensuring that the next new container that will be launched based on this configuration will not require the source container to work:\n[conuser1@server30 ~]$ podman generate systemd --new --name rootless-container \u003e ~/.config/systemd/user/rootless-container.service DEPRECATED command: It is recommended to use Quadlets for running containers and pods under systemd. Please refer to podman-systemd.unit(5) for details. 6. Display the content of the unit file:\n[conuser1@server30 ~]$ cat ~/.config/systemd/user/rootless-container.service # container-rootless-container.service # autogenerated by Podman 4.9.4-rhel # Thu Aug 1 23:42:11 MST 2024 [Unit] Description=Podman container-rootless- container.service Documentation=man:podman-generate-systemd(1) Wants=network-online.target After=network-online.target RequiresMountsFor=%t/containers [Service] Environment=PODMAN_SYSTEMD_UNIT=%n Restart=on-failure TimeoutStopSec=70 ExecStart=/usr/bin/podman run \\ --cidfile=%t/%n.ctr-id \\ --cgroups=no-conmon \\ --rm \\ --sdnotify=conmon \\ --replace \\ -dt \\ --name rootless-container ubi8 ExecStop=/usr/bin/podman stop \\ --ignore -t 10 \\ --cidfile=%t/%n.ctr-id ExecStopPost=/usr/bin/podman rm \\ -f \\ --ignore -t 10 \\ --cidfile=%t/%n.ctr-id Type=notify NotifyAccess=all [Install] WantedBy=default.target 7. Stop and delete the source container rootless-container using the stop and rm subcommands:\n[conuser1@server30 ~]$ podman stop rootless-container rootless-container [conuser1@server30 ~]$ podman rm rootless-container rootless-container Verify the removal by running podman ps -a:\n[conuser1@server30 ~]$ podman ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 8. Update systemd to bring the new service to its control\n[conuser1@server30 ~]$ systemctl --user daemon-reload 9. Enable and start the container service:\n[conuser1@server30 ~]$ systemctl --user enable --now rootless-container.service Created symlink /home/conuser1/.config/systemd/user/default.target.wa nts/rootless-container.service → /home/conuser1/.config/systemd/user/rootless- container.service. 10. Check the running status of the new service:\nconuser1@server30 ~]$ systemctl --user status rootless-container rootless-container.service - Podman container- rootless-container\u003e Loaded: loaded (/home/conuser1/.config/systemd/user/rootless-\u003e Active: active (running) 11. Verify the launch of a new container (compare the container ID with that of the source rootless container):\n[conuser1@server30 ~]$ podman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 57f946085605 registry.access.redhat.com/ubi8:latest /bin/bash About a minute ago Up About a minute rootless-container 12. Enable the container service to start and stop with host transition using the loginctl command (systemd login manager) and confirm:\n[conuser1@server30 ~]$ loginctl enable-linger [conuser1@server30 ~]$ loginctl show-user conuser1 | grep -i linger Linger=yes 13. Restart the container service using the systemctl command:\n[conuser1@server30 ~]$ systemctl --user restart rootless-container [conuser1@server30 ~]$ systemctl --user status rootless-container rootless-container.service - Podman container- rootless-container\u003e Loaded: loaded (/home/conuser1/.config/systemd/user/rootless-\u003e Active: active (running) 14. Check the status of the container again. Observe the removal of the previous container and the launch of a new container (compare container IDs).\n[conuser1@server30 ~]$ podman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 4dec33db41b5 registry.access.redhat.com/ubi8:latest /bin/bash 41 seconds ago Up 41 seconds rootless-container Each time the rootless-container service is restarted or server20 is rebooted, a new container will be launched. You can verify this by comparing their container IDs. Containers DIY Labs Lab: Launch Named Root Container with Port Mapping Create a new user account called conadm on server30 and give them full sudo rights. [root@se -bash: 3: command not found rver30 ~]# adduser conadm [root@server30 ~]# visudo conadm ALL=(ALL) ALL As conadm with sudo (where required) on server30, inspect the latest version of ubi9 and then download it to your computer. [root@server30 ~]# dnf install container-tools [root@server30 ~]# podman login registry.redhat.io [conuser1@server30 ~]$ podman pull ubi9 Resolved \"ubi9\" as an alias (/etc/containers/registries.conf.d/001-rhel- shortnames.conf) Trying to pull registry.access.redhat.com/ubi9:latest... Getting image source signatures Checking if image destination supports signatures Copying blob cc296d75b612 done | Copying config 159a1e6731 done | Writing manifest to image destination Storing signatures 159a1e67312ef50059357047ebe2a365afea904504fca9561abb3 85ecd942d62 [conuser1@server30 ~]$ podman inspect ubi9 Launch a container called rootful-cont-port in attached terminal mode with host port 80 mapped to container port 8080. sudo podman run -it --name rootful-cont-port -p 80:8080 ubi9 Run a few basic Linux commands such as ls, pwd, df, cat /etc/redhat-release, and os-release while in the container. [root@349163a6e431 /]# ls afs boot etc\tlib\tlost+found mnt proc run srv tmp var bin dev home lib64\tmedia\topt root sbin sys usr [root@349163a6e431 /]# pwd / [root@349163a6e431 /]# df -hT Filesystem Type Size Used Avail Use% Mounted on overlay overlay 17G 4.3G 13G 26% / tmpfs tmpfs 64M 0 64M 0% /dev shm tmpfs 63M 0 63M 0% /dev/shm tmpfs tmpfs 356M 6.0M 350M 2% /etc/hosts devtmpfs devtmpfs 4.0M 0 4.0M 0% /proc/keys [root@349163a6e431 /]# cat /etc/redhat-release Red Hat Enterprise Linux release 9.4 (Plow) Check to confirm the port mapping from server30. [conadm@server30 ~]$ sudo podman port rootful-cont- port 8080/tcp -\u003e 0.0.0.0:80 Do not remove the container yet. Lab: Launch Nameless Rootless Container with Two Variables As conadm on server30, launch a container using the latest version of ubi8 in interactive mode (-it) with two environment variables VAR1=lab1 and VAR2=lab2 defined. [conadm@server30 ~]$ podman run -d -e VAR1=\"lab1\" -e VAR2=\"lab2\" --name variables8 ubi8 Check the variables from within the container. [root@803642faea28 /]# echo $VAR1 lab1 [root@803642faea28 /]# echo $VAR2 lab2 Delete the container and the image when done. Lab: Launch Named Rootless Container with Persistent Storage As conadm with sudo (where required) on server30, create a directory called /host_perm1 with full permissions, and a file called str1 in it. [conadm@server30 ~]$ sudo mkdir /host_perm1 [sudo] password for conadm: [conadm@server30 ~]$ sudo chmod 777 /host_perm1 [conadm@server30 ~]$ sudo touch /host_perm1/str1 Launch a container called rootless-cont-str in attached terminal mode with the created directory mapped to /cont_perm1 inside the container. [conadm@server30 ~]$ sudo podman run --name rootless-cont-str -v /host_perm1:/cont_perm1:Z -it ubi8 [root@a1326200eae1 /]# While in the container, check access to the directory and the presence of the file. [root@a1326200eae1 /]# ls /cont_perm1 str1 Create a sub-directory and a file under /cont_perm1 and exit out of the container shell. [root@a1326200eae1 cont_perm1]# mkdir permdir2 [root@a1326200eae1 cont_perm1]# ls permdir2 str1 [root@a1326200eae1 cont_perm1]# exit exit [conadm@server30 ~]$ List /host_perm1 on server30 to verify the sub-directory and the file. [conadm@server30 ~]$ sudo ls /host_perm1 permdir2 str1 Stop and delete the container. [conadm@server30 ~]$ podman stop rootless-cont-str rootless-cont-str [conadm@server30 ~]$ podman rm rootless-cont-str rootless-cont-str Remove /host_perm1. [conadm@server30 ~]$ sudo rm -r /host_perm1 Lab: Launch Named Rootless Container with Port Mapping, Environment Variables, and Persistent Storage As conadm with sudo (where required) on server30, launch a named rootless container called rootless-cont-adv in attached mode with two variables (HISTSIZE=100 and MYNAME=RedHat), host port 9000 mapped to container port 8080, and /host_perm2 mounted at /cont_perm2 [conadm@server30 ~]$ podman run --name rootless-cont-adv -v ~/host_perm2:/cont_perm2:Z -e HISTSIZE=\"100\" -e MYNAME=\"RedHat\" -p 9000:8080 -it --replace ubi8 [root@79e965cd1436 /]# Check and confirm the settings while inside the container. [root@79e965cd1436 /]# echo $HISTSIZE 100 [root@79e965cd1436 /]# echo $MYNAME RedHat [root@79e965cd1436 /]# ls -ld /cont_perm2 drwxrwxrwx. 2 root root 6 Aug 4 02:16 /cont_perm2 [conadm@server30 ~]$ podman port rootless-cont-adv 8080/tcp -\u003e 0.0.0.0:9000 Exit out of the container. [root@5d510a1b2293 /]# exit exit [conadm@server30 ~]$ Do not remove the container yet. Lab 22-5: Control Rootless Container States via systemd As conadm on server30, use the rootless-cont-adv container launched in the last lab as a template and generate a systemd service configuration file and store the file in the appropriate directory. [conadm@server30 ~]$ podman run --name rootless-cont-adv -v ~/host_perm2:/cont_perm2:Z -e HISTSIZE=\"100\" -e MYNAME=\"RedHat\" -p 9000:8080 -dt --replace ubi8 da8faf434813242985b8e332dc06b0e6da78e7125bc36579ffc8d82b0bcafb8e [conadm@server30 ~]$ podman generate systemd --new --name rootless-cont-adv \u003e ~/.config/systemd/user/rootless-container.service DEPRECATED command: It is recommended to use Quadlets for running containers and pods under systemd. Please refer to podman-systemd.unit(5) for details. Stop and remove the source container rootless-cont-adv. [conadm@server30 ~]$ podman stop rootless-cont-adv rootless-cont-adv [conadm@server30 ~]$ podman rm rootless-cont-adv rootless-cont-adv Add the support for the new service to systemd and enable the new service to auto-start at system reboots. [conadm@server30 ~]$ systemctl --user daemon-reload [conadm@server30 user]$ systemctl --user enable -- now rootless-container.service Created symlink /home/conadm/.config/systemd/user/default.target.want s/rootless-container.service → /home/conadm/.config/systemd/user/rootless- container.service. Perform the required setup to ensure the container is launched without the need for the conadm user to log in. [conadm@server30 user]$ loginctl enable-linger [conadm@server30 user]$ loginctl show-user conadm | grep -i linger Linger=yes Reboot server30 and confirm a successful start of the container service and the container. [root@rhcsa3 ~]# systemctl --user --machine=conadm@ list-units --type=service UNIT LOAD ACTIVE SUB DESCRIPTION \u003e dbus-broker.service loaded active running D-Bus User Message Bus rootless-cont-adv.service loaded active running Podman container-rootl\u003e systemd-tmpfiles-setup.service loaded active exited Create User's Volatile\u003e LOAD = Reflects whether the unit definition was properly loaded. ACTIVE = The high-level unit activation state, i.e. generalization of SUB. SUB = The low-level unit activation state, values depend on unit type. 3 loaded units listed. Pass --all to see loaded but inactive units, too. To show all installed unit files use 'systemctl list-unit-files'. [root@rhcsa3 ~]# sudo -i -u conadm podman ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES a48fd2c25be4 registry.access.redhat.com/ubi9:latest /bin/bash 10 minutes ago Up 10 minutes 0.0.0.0:9000-\u003e8080/tcp rootless-cont-adv Lab 22-6: Control Rootful Container States via systemd As conadm with sudo where required on server10, use the rootful-cont-port container launched in Lab 22-1 as a template and generate a systemd service configuration file and store the file in the appropriate directory. [root@server30 ~]# podman generate systemd --new -- name rootful-cont-port | tee /etc/systemd/system/rootful-cont-port.service DEPRECATED command: It is recommended to use Quadlets for running containers and pods under systemd. Please refer to podman-systemd.unit(5) for details. # container-rootful-cont-port.service # autogenerated by Podman 4.9.4-rhel # Sat Aug 3 20:49:32 MST 2024 [Unit] Description=Podman container-rootful-cont- port.service Documentation=man:podman-generate-systemd(1) Wants=network-online.target After=network-online.target RequiresMountsFor=%t/containers [Service] Environment=PODMAN_SYSTEMD_UNIT=%n Restart=on-failure TimeoutStopSec=70 ExecStart=/usr/bin/podman run \\ --cidfile=%t/%n.ctr-id \\ --cgroups=no-conmon \\ --rm \\ --sdnotify=conmon \\ -d \\ --replace \\ -it \\ --name rootful-cont-port \\ -p 80:8080 ubi9 ExecStop=/usr/bin/podman stop \\ --ignore -t 10 \\ --cidfile=%t/%n.ctr-id ExecStopPost=/usr/bin/podman rm \\ -f \\ --ignore -t 10 \\ --cidfile=%t/%n.ctr-id Type=notify NotifyAccess=all [Install] WantedBy=default.target Stop and remove the source container rootful-cont-port. [root@server30 ~]# podman stop rootful-cont-port WARN[0010] StopSignal SIGTERM failed to stop container rootful-cont-port in 10 seconds, resorting to SIGKILL rootful-cont-port [root@server30 ~]# podman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES fe0d07718dda registry.access.redhat.com/ubi9:latest /bin/bash 16 minutes ago Up 16 minutes rootful-container [root@server30 ~]# podman rm rootfil-cont-port Error: no container with ID or name \"rootfil-cont- port\" found: no such container [root@server30 ~]# podman rm rootful-cont-port rootful-cont-port Add the support for the new service to systemd and enable the service to auto-start at system reboots. [root@server30 ~]# systemctl daemon-reload [root@server30 ~]# systemctl enable --now rootful- cont-port Created symlink /etc/systemd/system/default.target.wants/rootful- cont-port.service → /etc/systemd/system/rootful-cont- port.service. Reboot server10 and confirm a successful start of the container service and the container. [root@server30 ~]# reboot [root@server30 ~]# podman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 5c030407a7d6 registry.access.redhat.com/ubi9:latest /bin/bash About a minute ago Up About a minute 0.0.0.0:80- \u003e8080/tcp rootful-cont-port 9d1e8a429ac6 registry.access.redhat.com/ubi9:latest /bin/bash About a minute ago Up About a minute rootful-container [root@server30 ~]# Lab 22-7: Build Custom Image Using Containerfile As conadm on server10, write a containerfile to use the latest version of ubi8 and create a user account called user-in-container in the resultant custom image. [conadm@server30 ~]$ vim containerfile FROM registry.access.redhat.com/ubi8/ubi:latest RUN useradd -ms /bin/bash -u 1001 user-in-container USER 1001 [conadm@server30 ~]$ podman image build -f containerfile --no-cache -t ubi8-user . STEP 1/3: FROM registry.access.redhat.com/ubi8/ubi:latest STEP 2/3: RUN useradd -ms /bin/bash -u 1001 user-in- container --\u003e b330095e91eb STEP 3/3: USER 1001 COMMIT ubi8-user --\u003e e8cde30fc020 Successfully tagged localhost/ubi8-user:latest e8cde30fc020051caa2a4e2f58aaaf90f088709462a1314b936fd608facfdb5e Test the image by launching a container in interactive mode and verifying the user. [conadm@server30 ~]$ podman run -ti --name test12 ubi8-user [user-in-container@30558ffcb227 /]$",
    "description": "Podman Podman Podman",
    "tags": [],
    "title": "Containers",
    "uri": "/containers/containers/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Networking",
    "content": "DNS and Name Resolution DNS is also referred to as BIND (Berkeley Internet Name Domain) An implementation of DNS, Most popular DNS application in use. Name resolution is the technique that uses DNS/BIND for hostname lookups. DNS Name Space and Domains DNS name space is a Hierarchical organization of all the domains on the Internet. Root of the name space is represented by a period (.) Hierarchy below the root (.) denotes the top-level domains (TLDs) with names such as .com, .net, .edu, .org, .gov, .ca, and .de. A DNS domain is a collection of one or more systems. Subdomains fall under their parent domains and are separated by a period (.). root of the name space is represented by a period (\t- redhat.com is a second-level subdomain that falls under .com, and bugzilla.redhat.com is a third-level subdomain that falls under redhat.com. Deepest level of the hierarchy are the leaves (systems, nodes, or any device with an IP address) of the name space. a network switch net01 in .travel.gc.ca subdomain will be known as net01.travel.gc.ca. If a period (.) is added to the end of this name to look like net01.travel.gc.ca., it will be referred to as the Fully Qualified Domain Name (FQDN) for net01. DNS Roles A DNS system or nameserver can be a\nprimary server secondary server or client Primary server\nResponsible for its domain (or subdomain). Maintains a master database of all the hostnames and their associated IP addresses that are included in that domain. All changes in the database are done on this server. Each domain must have one primary server with one or more optional secondary servers for load balancing and redundancy. Secondary server\nStores an updated copy of the master database. Provide name resolution service in the event the primary server goes down. Client\nQueries nameservers for name lookups. DNS client on Linux involves two text files. /etc/resolv.conf /etc/resolv.conf DNS resolver configuration file where information to support hostname lookups is defined. May be edited manually with a text editor. Referenced by resolver utilities to construct and transmit queries. Key directives\ndomain\nnameserver\nsearch\nDirective Description\ndomain\nIdentifies the default domain name to be searched for queries nameserver\nDeclares up to three DNS server IP addresses to be queried one at a time in the order in which they are listed. Nameserver entries may be defined as separate line items with the directive or on a single line. search\nSpecifies up to six domain names, of which the first must be the local domain. No need to define the domain directive if the search directive is used. Sample entry\ndomain example.com search example.net example.org example.edu example.gov nameserver 192.168.0.1 8.8.8.8 8.8.4.4 Variation\ndomain example.com search example.net example.org example.edu example.gov nameserver 192.168.0.1 nameserver 8.8.8.8 nameserver 8.8.4.4 Entries are automatically placed by the NetworkManager service. [root@server30 tmp]# cat /etc/resolv.conf # Generated by NetworkManager nameserver 2001:578:3f::30 nameserver 2001:578:3f:1::30 If this file is absent, the resolver utilities only query the nameserver configured on the localhost, determine the domain name from the hostname of the system, and construct the search path based on the domain name. Viewing and Adjusting Name Resolution Sources and Order /etc/nsswitch.conf\nDirects the lookup utilities to the correct source to get hostname information.\nAlso identifies the order in which to consult source and an action to be taken next.\nFour keywords oversee this behavior\nsuccess notfoundq unavail tryagain Keyword Meaning Default Action\nsuccess\nInformation found in return (do not try the source and provided to next source) the requester. notfound\nInformation not found continue (try the next in source source). unavail\nSource down or not continue (try the next responding; service source) disabled or not configured. tryagain\nSource busy, retry continue (try the next later source). Example shows two sources for name resolution: files (/etc/hosts) and DNS (/etc/resolv.conf).\nhosts:files dns Default behavior Search will terminate if the requested information is found in the hosts table. Instruct the lookup programs to return if the requested information is not found there:\nhosts:files [notfound=return] dns Query tools available in RHEL 9: dig host nslookup getent dig command (domain information groper) DNS lookup utility. Queries the nameserver specified at the command line or consults the resolv.conf file to determine the nameservers to be queried. May be used to troubleshoot DNS issues due to its flexibility and verbosity. To get the IP for redhat.com using the nameserver listed in the resolv.conf file:\n[root@server10 ~]# dig redhat.com ; \u003c\u003c\u003e\u003e DiG 9.16.23-RH \u003c\u003c\u003e\u003e redhat.com ;; global options: +cmd ;; Got answer: ;; -\u003e\u003eHEADER\u003c\u003c- opcode: QUERY, status: NOERROR, id: 9017 ;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 4000 ;; QUESTION SECTION: ;redhat.com.\tIN\tA ;; ANSWER SECTION: redhat.com.\t3599\tIN\tA\t52.200.142.250 redhat.com.\t3599\tIN\tA\t34.235.198.240 ;; Query time: 94 msec ;; SERVER: 172.16.10.150#53(172.16.10.150) ;; WHEN: Fri Jul 19 13:12:13 MST 2024 ;; MSG SIZE rcvd: 71 To perform a reverse lookup on the redhat.com IP (52.200.142.250), use the -x option with the command:\n[root@server10 ~]# dig -x 52.200.142.250 ; \u003c\u003c\u003e\u003e DiG 9.16.23-RH \u003c\u003c\u003e\u003e -x 52.200.142.250 ;; global options: +cmd ;; Got answer: ;; -\u003e\u003eHEADER\u003c\u003c- opcode: QUERY, status: NOERROR, id: 23057 ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 4000 ;; QUESTION SECTION: ;250.142.200.52.in-addr.arpa.\tIN\tPTR ;; ANSWER SECTION: 250.142.200.52.in-addr.arpa. 299 IN\tPTR\tec2-52-200-142-250.compute-1.amazonaws.com. ;; Query time: 421 msec ;; SERVER: 172.16.10.150#53(172.16.10.150) ;; WHEN: Fri Jul 19 14:22:52 MST 2024 ;; MSG SIZE rcvd: 112 host Command Works on the same principles as the dig command in terms of nameserver determination. Produces less data in the output by default. -v option if you want more info. Perform a lookup on redhat.com:\n[root@server10 ~]# host redhat.com redhat.com has address 34.235.198.240 redhat.com has address 52.200.142.250 redhat.com mail is handled by 10 us-smtp-inbound-2.mimecast.com. redhat.com mail is handled by 10 us-smtp-inbound-1.mimecast.com. Rerun with -v added:\n[root@server10 ~]# host -v redhat.com Trying \"redhat.com\" ;; -\u003e\u003eHEADER\u003c\u003c- opcode: QUERY, status: NOERROR, id: 28687 ;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 0 ;; QUESTION SECTION: ;redhat.com.\tIN\tA ;; ANSWER SECTION: redhat.com.\t3127\tIN\tA\t52.200.142.250 redhat.com.\t3127\tIN\tA\t34.235.198.240 Received 60 bytes from 172.16.1.19#53 in 8 ms Trying \"redhat.com\" ;; -\u003e\u003eHEADER\u003c\u003c- opcode: QUERY, status: NOERROR, id: 47268 ;; flags: qr rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 1, ADDITIONAL: 0 ;; QUESTION SECTION: ;redhat.com.\tIN\tAAAA ;; AUTHORITY SECTION: redhat.com.\t869\tIN\tSOA\tdns1.p01.nsone.net. hostmaster.nsone.net. 1684376201 200 7200 1209600 3600 Received 93 bytes from 172.16.1.19#53 in 5 ms Trying \"redhat.com\" ;; -\u003e\u003eHEADER\u003c\u003c- opcode: QUERY, status: NOERROR, id: 61563 ;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 12 ;; QUESTION SECTION: ;redhat.com.\tIN\tMX ;; ANSWER SECTION: redhat.com.\t3570\tIN\tMX\t10 us-smtp-inbound-1.mimecast.com. redhat.com.\t3570\tIN\tMX\t10 us-smtp-inbound-2.mimecast.com. ;; ADDITIONAL SECTION: us-smtp-inbound-1.mimecast.com.\t270 IN\tA\t205.139.110.242 us-smtp-inbound-1.mimecast.com.\t270 IN\tA\t170.10.128.242 us-smtp-inbound-1.mimecast.com.\t270 IN\tA\t170.10.128.221 us-smtp-inbound-1.mimecast.com.\t270 IN\tA\t170.10.128.141 us-smtp-inbound-1.mimecast.com.\t270 IN\tA\t205.139.110.221 us-smtp-inbound-1.mimecast.com.\t270 IN\tA\t205.139.110.141 us-smtp-inbound-2.mimecast.com.\t270 IN\tA\t170.10.128.221 us-smtp-inbound-2.mimecast.com.\t270 IN\tA\t205.139.110.141 us-smtp-inbound-2.mimecast.com.\t270 IN\tA\t205.139.110.221 us-smtp-inbound-2.mimecast.com.\t270 IN\tA\t205.139.110.242 us-smtp-inbound-2.mimecast.com.\t270 IN\tA\t170.10.128.141 us-smtp-inbound-2.mimecast.com.\t270 IN\tA\t170.10.128.242 Received 297 bytes from 172.16.10.150#53 in 12 ms Perform a reverse lookup on the IP of redhat.com with verbosity:\n[root@server10 ~]# host -v 52.200.142.250 Trying \"250.142.200.52.in-addr.arpa\" ;; -\u003e\u003eHEADER\u003c\u003c- opcode: QUERY, status: NOERROR, id: 62219 ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0 ;; QUESTION SECTION: ;250.142.200.52.in-addr.arpa.\tIN\tPTR ;; ANSWER SECTION: 250.142.200.52.in-addr.arpa. 300 IN\tPTR\tec2-52-200-142-250.compute-1.amazonaws.com. Received 101 bytes from 172.16.10.150#53 in 430 ms nslookup Command Queries the nameservers listed in the resolv.conf file or specified at the command line. See man pages for interactive mode Get the IP for redhat.com using nameserver 8.8.8.8 instead of the nameserver defined in resolv.conf:\n[root@server10 ~]# nslookup redhat.com 8.8.8.8 Server:\t8.8.8.8 Address:\t8.8.8.8#53 Non-authoritative answer: Name:\tredhat.com Address: 34.235.198.240 Name:\tredhat.com Address: 52.200.142.250 Perform a reverse lookup on the IP of redhat.com using the nameserver from the resolver configuration file:\n[root@server10 ~]# nslookup 52.200.142.250 250.142.200.52.in-addr.arpa\tname = ec2-52-200-142-250.compute-1.amazonaws.com. Authoritative answers can be found from: getent Command Fetch matching entries from the databases defined in the nsswitch.conf file. Reads the corresponding database and displays the information if found. For name resolution, use the hosts database and getent will attempt to resolve the specified hostname or IP address. Run the following for forward and reverse lookups:\n[root@server10 ~]# getent hosts redhat.com 34.235.198.240 redhat.com 52.200.142.250 redhat.com [root@server10 ~]# getent hosts 34.235.198.240 34.235.198.240 ec2-34-235-198-240.compute-1.amazonaws.com Hostname “-”, “_ “, and “. \" characters are allowed. Up to 253 characters. Stored in /etc/hostname. Can be viewed with several different commands, such as hostname, hostnamectl, uname, and nmcli, as well as by displaying the content of the /etc/hostname file. View the hostname:\nhostnamectl --static hostname uname -n cat /etc/hostname Lab: Change the Hostname Server1\nOpen /etc/hostname and change the entry to server10.example.com restart the systemd-hostnamed service daemon sudo systemctl restart systemd-hostnamed confirm hostname server2\nChange the hostname with hostnamectl: sudo hostnamectl set-hostname server21.example.com Log out and back in for the prompt to update\nChange the hostname using nmcli\nnmcli general hostname server20.example.com",
    "description": "DNS Stuff",
    "tags": [],
    "title": "DNS",
    "uri": "/networking/dns-and-time-synchronization/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Categories",
    "content": "",
    "description": "",
    "tags": [],
    "title": "Category :: Explanation",
    "uri": "/categories/explanation/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "We must separate the child from the behavior. Often, when a child’s behavior appears as “bad”, it’s really the child having a big emotion that they can’t regulate in a controlled way. Offers helpful tips on every day parenting struggles. Another parenting book that will give you a good frame of mind when thinking about your kids, but as I put this to practice, there are still challenging times where I have no idea what I am doing as a parent.\nSummary and Highlights “What is my child struggling with and what’s my role in helping them?”\nMove from a place of “What’s wrong with my child and can you fix them?” to “What is my child struggling with and what’s my role in helping them?” And hopefully also, “What’s coming up for ME about this situation?”\nWhile I resist time-outs, punishments, consequences, and ignoring, there’s nothing about my parenting style that’s permissive or fragile. My approach promotes firm boundaries, parental authority, and sturdy leadership, all while maintaining positive relationships, trust, and respect.\nPractical, solution-based strategies can also promote deeper healing.\nYou can be firm and warm, boundaried and validating, focused on connection while acting as a sturdy authority.\nSeeing your child as good inside does not excuse bad behavior or lead to permissive parenting.\nUnderstanding that we’re all good inside is what allows you to distinguish a person (your child) from a behavior (rudeness, hitting, saying, “I hate you”).\nDifferentiating who someone is from what they do is key to creating interventions that preserve your relationship while also leading to impactful change.\nWe are evolutionarily wired with a negativity bias, meaning we pay closer attention to what’s difficult with our kids (or with ourselves, our partners, even the world at large) than to what is working well.\nWhen parents chronically shut down a behavior harshly without recognizing the good kid underneath, a child internalizes that they are bad.\nFinding the good inside can often come from asking ourselves one simple question: “What is my most generous interpretation of what just happened?”\nFocusing on a child’s impact on us sets the stage for codependence, not regulation or empathy.\nFinding the MGI (Most Generous Interpretation) teaches parents to attend to what is going on inside of their child (big feelings, big worries, big urges, big sensations) rather than what is going on outside of their child (big words, or sometimes big actions).\nAt all times, but especially when our kids are dysregulated—meaning their emotions overwhelm their current coping skills—they look to their parents to understand, “Who am I right now? Am I a bad kid doing bad things . . . or am I a good kid having a hard time?” Our kids form their own self-view by taking in their parents’ answers to these questions.\nIf we want our kids to have true self-confidence and to feel good about themselves, we need to reflect back to our kids that they are good inside, even as they struggle on the outside.\nIn a family system, some roles are prioritized over others. Safety comes before happiness and before our kids’ being pleased with us. First and foremost, our job is to keep our children safe, physically and psychologically.\nThere’s nothing scary to a child as noticing when their parent fails at this job (especially when that failure stems from a parent’s fear of their kid’s reaction).\nThe child receives the subconscious message: when you are out of control, there’s no one capable of stepping in and helping you.\nOf course, your kid won’t thank you for stepping in and keeping them safe, but I promise you, that’s what they’re looking for, because it’s what allows them to build the emotion regulation skills they need to grow into a healthy adult.\nIn this two-story-house analogy, the parent is, basically, a staircase. Their primary function is to start linking a child’s downstairs brain (overwhelming feelings) to their upstairs brain (self-awareness, regulation, planning, decision-making).\nBoundaries are not what we tell kids not to do; boundaries are what we tell kids we will do. Boundaries embody your authority.\nValidation is the process of seeing someone else’s emotional experience as real and true, rather than seeing someone else’s emotional experience as something we want to convince them out of or logic them away from.\nTwo psychological models that address the relationship between parent and child: attachment theory and internal family systems.\nAttachment Theory Children who figured out how to keep an attachment figure nearby—literally, physically close to them—were more likely to receive comfort and protection, which meant they were more likely to survive, while children who had more distance from an attachment figure were less likely to receive comfort and protection, and thus were less likely to survive.\nChildren create different types of attachment based on their early experiences with caregivers. The type of attachment that is formed impacts that child’s internal working model—the thoughts, memories, beliefs, expectations, emotions, and behaviors that influence how they interact with themselves and others, and what types of relationships they seek out in later years.\nInternal working models are based on what a child learns, through personal interactions, about their caregiver’s responsiveness, availability, consistency, repair, and reactivity.\nChildren filter our interactions with them based on a handful of questions: Am I lovable and good and desirable to be around? Will I be seen and heard? What can I expect of others when I am upset? What can I expect of others when I am overwhelmed? What can I expect of others when we disagree?\nThey take the answers to these questions and make generalizations about who they are allowed to be and how the world works.\nA child learns that certain feelings are threatening to attachment.\nThat child will then seek to shut down these experiences, likely through the mechanism of shame or self-blame, as his survival literally depends on it.\nHis feelings are real and valid and can be held within close relationships.\nNow, relationships with parents that include responsiveness, warmth, predictability, and repair when things feel bad set a child up to have a secure base.\nThe more children feel they can depend on a parent, the more independent they can be.\nInternal family systems (IFS) Therapeutic model that considers different parts within a person, as opposed to thinking about a person in a singular manner.\nThe language of “parts” allows us to articulate, internally and externally, our conflicting—or at least coexisting—emotions:\nSensations and feelings and thoughts as parts we can relate to, not experiences that take over and consume us.\nUnder the behavior is a child (or in IFS language, a part of a child) who is in pain, has an unmet need, and is in desperate need of connection.\nThe development of the middle prefrontal cortex—the part of the brain involved with emotion regulation, cognitive flexibility, empathy, and connectedness—is influenced by the attachment relationship with a caregiver.\nDestiny—an individual wired for insecure attachment can rewire for secure attachment.\nDestiny—an individual wired for insecure attachment can rewire for secure attachment.\nWhen parents are willing to change, when they are willing to repair and reflect together, nondefensively, about moments in the past that felt bad to kids . . . the child’s brain can rewire.\nA child’s behavior—which is an expression of a child’s emotion regulation patterns—develops in relation to a parent’s emotional maturity.\nChildren who are left alone with intense distress often rely on one of two coping mechanisms: self-doubt and self-blame.\nWith self-doubt, kids invalidate their own experience in an attempt to feel safe in their environment again.\nIt leads to teens and adults who don’t trust themselves and cannot locate intuition. Instead, they use other people’s treatment of them to define who they are and what they deserve.\nSelf-blame\nAllows a child to feel in control, because as long as he convinces himself that he’s a bad kid doing bad things, and that if he was better he would feel more secure . . . well, then he has a viable option to change.\nSay you’re sorry, share your reflections with your child—restating your memory of what happened, so your kid knows it wasn’t all in his head—and then say what you wish you had done differently and what you plan to do differently now and in the future.\n(“Mommy was having big feelings that came out in a yelling voice. Those were my feelings and it’s my job to work on managing them better. It’s never your fault when I yell and it’s not your job to figure out how I can stay calmer. I love you”)\nInstead of insinuating that your child “made you” react in a certain way.\nAs a parent, you are your child’s role model. When your child sees you as a work in progress, he learns that he, too, can learn from his struggles and take responsibility when he acts in a way he isn’t proud of.\nSolid relationships aren’t solid because they lack conflict, they’re solid because the people in them possess the ability to reconnect after disagreements and to feel understood again after feeling misunderstood.\n“Good parents don’t get it right all the time. Good parents repair.”\nWhether you’re repairing something big or small, your children will feel that repair in their bodies, and this moment of connection and explanation will soften the initial memory of aloneness and confusion. The big repairs, the small repairs—they all matter. Every little bit counts.\nResillience \u003e Happiness Cultivating happiness is dependent on regulating distress.\nWe have to feel safe before we can feel happy.\nThe wider the range of feelings we can regulate—if we can manage the frustration, disappointment, envy, and sadness—the more space we have to cultivate happiness.\nThe wider the range of feelings we can name and tolerate in our kids (again, this doesn’t mean behaviors), the wider the range of feelings they will be able to manage safely, affording them an increased ability to feel at home with themselves.\nResilience, in many ways, is our ability to experience a wide range of emotions and still feel like ourselves.\nHelps us bounce back from the stress, failure, mistakes, and adversity in our lives.\nOur resilience determines how we relate to those difficult moments as well as how we experience them.\nstress + coping = internal experience.\nResilience is about developing the capacity to tolerate distress, to stay in and with a tough, challenging moment, to find our footing and our goodness even when we don’t have confirmation of achievement or pending success.\nThe qualities children most need from their parents in order to develop resilience include: empathy, listening, accepting them for who they are, providing a safe and consistent presence, identifying their strengths, allowing for mistakes, helping them develop responsibility, and building problem-solving skills.\nAm I helping my kid tolerate and work through this distress, or am I encouraging my child to avoid and beeline out of the distress?\nThe more we emphasize our children’s happiness and “feeling better,” the more we set up them up for an adulthood of anxiety.\nSetting happiness as the goal compels us to solve our kids’ problems rather than equip them to solve their own.\nBehavior is a Window When we focus too much on judging and changing a specific behavior, we get in the way of that behavior actually changing, because we miss the core struggle that motivated it in the first place.\nBy understanding what motivates behavior, we can help kids build resilience and regulate emotions, which will inevitably lead to behavioral changes.\nWhen we address the behavior first, we miss the opportunity to help our children build skills, and beyond this, we miss the opportunity to see our kids as people rather than a collection of behaviors.\nWhen we approach our kids with charts and reinforcement and stickers and time-outs, we essentially tell them that their behavioral compliance is what matters most. We display an indifference to their distress and their personhood (an interest in which is critical to forming human relationships),\nWhen we sacrifice relationship building in favor of control tactics, our children may age, but in many ways, they developmentally remain toddlers, because they miss out on years of building the emotion regulation, coping skills, intrinsic motivation, and inhibition of desires that are necessary\nWhen our kids get older and bigger, methods of behavior control stop working. Children simply aren’t motivated anymore by our rewards, and they’re too physically big for us to enforce punishments and consequences.\nWhen we sacrifice relationship building in favor of control tactics, our children may age, but in many ways, they developmentally remain toddlers, because they miss out on years of building the emotion regulation, coping skills, intrinsic motivation, and inhibition of desires that are necessary for life success.\nWhen we are busy exerting extrinsic control over our children’s external behavior, we sacrifice teaching these critical internal skills.\nIf we don’t build a sturdy foundation with our kids—one based in trust, understanding, and curiosity—then we have nothing keeping them attached to us.\nconnection capital\nThe reserve of positive feelings we hopefully build up with our children, which we can pull from in times of struggle or when the relationship between us gets strained.\nWe don’t want to ‘craft our child’s behavior’ . . . we want to help our son develop into a good person. We want to understand him, to help him with the things that feel bad to him.\nSome questions to get you started, to ask yourself after any tough moment: What is my most generous interpretation (MGI) of my child’s behavior?\nWhat was going on for my child that moment? What was my child feeling right before that behavior emerged? What urge did my child have a hard time regulating? What is a parallel situation in my life? And if I did something similar, what might I have been struggling with in that moment? What does my child feel I don’t understand about them? If I remember that my child is a good kid having a hard time . . . what are they having a hard time with? What deeper themes are being displayed underneath this behavior?\nReduce Shame, Increase Connection A numb, glazed-over child tends to infuriate a parent, because we think our child is ignoring us, or we misinterpret their behavior as rudeness or apathy.\nAs a result, rather than recognize or address the shame, we yell or get into a power struggle with our kid or send him away to his room—all approaches that escalate the shame and continue the cycle.\nOur goal as parents should be to notice when shame arises in our child, understand what situations bring it up, and see how it presents behaviorally.\nAfter that, we want to develop shame reduction, which enables us to help our children feel safe and secure again. Detect first, reduce second. So how do we do that?\nDevelop shame reduction, which enables us to help our children feel safe and secure again. Detect first, reduce second.\nRefusal to apologize is a classic example of shame: it presents as cold and unempathic when, in fact, in these moments, a child is overwhelmed with “badness” and freezes up.\nWhen a child is overwhelmed with shame, we must be willing to put our original “goal”—to elicit an apology, to inspire gratitude, to prompt an honest answer—to the side and instead focus solely on reducing the shame.\nConnection first. Connection is the opposite of shame. It is the antidote to shame. Shame is a warning sign of aloneness, danger, and badness; connection is a sign of presence, safety, and goodness.\nAnother reason why connection with our children in their difficult moments does not “reinforce” bad behavior: shame has never been a motivator of positive behavior change at any time, in any place, for any type of person. Shame is sticky; it stagnates us. Connection is opening; it allows for movement. Connection is when we show our kids, “It’s okay to be you right now. Even when you’re struggling, it’s okay to be you. I am here with you, as you are.”\nThe more we get to know our own circuitry, learn to tolerate and explore our own distress, and build coping skills for hard feelings, the more present we can be for our children.\nTell the Truth Parents often fear that telling their kids the truth will be too scary or overwhelming, but we tend to have it all wrong when it comes to what scares children. It’s not information so much as feeling confused and alone in the absence of information that terrifies them.\nWhen kids are left to make sense of a scary change on their own, they usually rely on the methods that give them control: self-blame (“I must have done something to cause this. I’m bad, I’m too much”) and self-doubt (“I must have misunderstood the tension around me.\")\nWatching a parent confront hard truths will help a child learn to regulate his feelings.\nConfirming Perceptions\n“________ happened. You were right to notice that.”\nChildren are wired to notice and perceive, so I would assume that even if my child appeared calm, feelings of fear would be living inside his body.\nConfirming our children’s perceptions sets them up to recognize when things don’t feel right later, and it will empower them to trust themselves enough to speak up.\nYou won’t always have answers, but you can always work on feeling safe and competent in the present moment.\nSelf-Care Kids actually feel comforted when parents set firm boundaries around self-care. Parents, after all, are the leaders of the family, and children want a sense of sturdiness and self-assurance in their leaders.\n“I have an opportunity. I can heal things within myself at the same time as I parent my kids in a way I feel proud of. I can do both at the same time.”\nLong out-breaths are key to calming down.\nAcknowledge, Validate, Permit (AVP)\nThe more energy we use to push emotions like anxiety or anger or sadness away, the more powerfully those emotions spring back up.\nRather than avoiding emotions we’d rather not face, we need to make a shift. We need to say to ourselves, “[Anxiety/anger/sadness] is not my enemy. My [anxiety/anger/sadness] is allowed to be here. I can tolerate my discomfort.”\nAcknowledge: Label your feelings.\nValidate: Respect your feelings enough to assume they aren’t lying to you. Now tell yourself a story about why your feelings make sense.\nPermit: Give yourself permission to have your feeling in whatever way it’s showing up.\nWe need cooperation from others, but not approval.\nYou are not defined by your reactivity or your moments of depletion or your latest behavior. You are a parent who is good inside, and you are working on yourself at the same time as you are giving to your kids.\nBuilding Connection Capital When parents struggle with their kids, it almost always boils down to one of two problems: children don’t feel as connected to their parents as they want to, or children have some struggle or unmet need they feel alone with.\nHaving a healthy amount of connection capital leads kids to feel confident, capable, safe, and worthy. And these positive feelings on the inside lead to “good” behavior on the outside—behavior like cooperation, flexibility, and regulation.\nParents are big connection capital spenders, because we often have to ask kids to do things they don’t want to do and to respect our rules when they’d rather not. This means that parents need to be even bigger connection-builders.\nPNP Time Give it a name to indicate that this time is special. Limit time to ten to fifteen minutes. No phones, no screens, no siblings, no distractions. Let your child pick the play. This is key. Allow your child to be in the spotlight; your job is only to notice, imitate, reflect, and describe what they’re doing.\nFill-Up Game. Offer the idea that your child’s defiant behavior is the result of not being filled up with Mommy (or Daddy), and so it must be time to get a big dose. Add silliness and laughter.\nEmotional vaccination\nWe connect with our kids, discuss and validate the challenge they might soon face, and verbalize or even rehearse how we might handle it—all before it happens.\nVisualize a situation that might be tough for you today. Now, direct inward caring, understanding, and allowing in advance: “I am allowed to feel this way. I am going to take a deep breath now, in anticipation . . . and maybe I’ll find that deep-breath-and-compassion circuit when the moment itself comes.”\nEmotional Vaccination = Connection + Validation + A Story to Understand\nCarried out before the “main event.”\nThe Feeling Bench\n“Hey! You’re feeling [sad/scared/angry/left out]. That’s okay. I’m here. Tell me more,”\nSit down on this bench without making any attempt to pull him off. “This is how I am building connection with him and resilience inside of him.”\nWords:\n“That sounds really hard.” “That stinks. It really does.” “I’m so glad you’re talking to me about this.” “I believe you.” “Being a kid right now . . . ugh, it feels so so hard. I get that.” “You’re really sad about that. You’re allowed to be, sweetie.” “I’m right here with you. I’m so glad we’re together talking about this.” “Sometimes we don’t have a way to feel better right away. Sometimes when things feel tough, the best we can do is talk nicely to ourselves and talk to people who understand.” “I love you. I love you the same no matter how you’re feeling and no matter what is happening in your life.” Sit on the couch or the bed with your child as they talk to you. Say very little as they talk. Nod. Look sympathetic. Offer your child a hug while they’re upset. Breathe deeply together.\nPlayfulness\nSuggestions for playfulness: Silly dance parties. “Talent Show”—everyone Making up songs or rhymes. Family karaoke.\nPlaying dress-up, playing house, or other fantasy play. Building a fort. Use playfulness as a first response to missed manners, not listening, or whining.\n“Did I Ever Tell You About the Time . . . ?”\ninvolves the parent’s relating to the child’s struggle from a personal perspective—builds connection, acknowledges a child’s good-inside-ness, and teaches problem-solving skills, all without talking about the problem directly, which can feel too intense for a kid in the moment.\nIdentify the essence of your child’s struggle.\nTake on the problem as your own:\nTalk to your child not in the heat of the moment but when things are calm, starting with, “Did I ever tell you about the time . . . ?,” and share a story about yourself having a similar struggle. Engage your child in this story, ideally one where you didn’t come up with a quick fix but struggled and just kind of got through it.\nDo not end your story by directly relating it to your child.\nYou’re connecting deeply, because you’re showing your child your vulnerabilities.\nThe gap between a child’s world of struggle and a parent’s world of capability is intimidating for kids, and it can be (unintentionally) shame inducing.\nTwo things can be true: you can be good and you can struggle . . . just like me.”\nChange the Ending\nRepair offers us the opportunity to change the ending to the story.\nDifference between repairing and apologizing. Oftentimes, apologies attempt to shut down a conversation (“I’m sorry I yelled. Okay, can we move on?”), but a good repair opens one up. A repair goes further than an apology, because it looks to reestablish a close connection after a moment when someone feels hurt, misunderstood, or alone.\nScript for Changing the Ending:\nShare that you’ve been reflecting. Acknowledge the other person’s experience. State what you would do differently next time. Connect through curiosity now that things feel safer.\nLove to listen and understand [curiosity].”\nWhen someone reflects with you (“I’ve been thinking about . . .”) and acknowledges your feelings (“You must have been upset to have . . .” or “That must have felt scary when I . . .”), they make it clear they they’re considering your state of mind instead of just your surface-level behavior.\nTake ownership and tell your kids that they aren’t responsible for causing your feelings or fixing your reactions.\nAnd remember: nothing feels as awful to kids as the painful feelings they are left alone with; repair replaces this aloneness with connection, and this should be the ultimate trade-up for all of us.\nNot Listening When we say “My kid doesn’t listen,” we’re not really talking about listening.\nWhat we mean is “My kid won’t cooperate when I want him to do something he doesn’t want to do.”\nThe more connected we feel to someone, the more we want to comply with their requests.\nSo when our kids aren’t listening to us, it’s critical to frame the struggle not as a child problem but as a relationship problem.\nConsider what’s going on for that child, what must feel hard or frustrating, and why my child might be feeling “unseen” or pushed to the side.\nWe ask our kids to do something they “have to do” but don’t want to do—something that is a priority for us but not for them. It’s reasonable to struggle with cooperation in these scenarios.\nYelling, for example, is not an effective way to inspire cooperation. In fact, it’s counterproductive.\nWhen we yell, our kids’ bodies enter into threat mode—they perceive danger from a parent’s aggressive tone, volume, and body language, and they cannot even process what the parent is saying because their energy is focused only on surviving the moment.\nConnect Before You Ask. Give Your Child a Choice.\nHumor\nWhen we infuse playfulness instead of frustration, we join our children in the world they always prefer—one filled with silliness, lightheartedness, and laughter.\nClose Your Eyes Hack\n“I am going to close my eyes”—then place your hands over your eyes—“and all I’m saying is that if there is a child with his shoes on when I open my eyes . . . oh my goodness, if there is a child all Velcroed up . . . I just don’t know what I am going to do! I am going to be so confused! I may even—oh no oh no—have to do a silly jumpy dance and wiggle all around and I may even fall on the floor!” Then pause. Wait.\nRole-Reversal Game\nThe more we help a child, in general, feel seen, independent, trustworthy, and in control, the more willing they will be to listen to our requests.\n“I know being a kid is tough. There are so many things that parents ask of you! So let’s play a game. For the next five minutes, you’re the adult and I’m the kid.\nI have to do what you say, assuming it’s safe.”\nDoes not involve food or gifts.\nWhile you play the game, exaggerate how hard it is to listen to your “parent”; voice things like, “Ughhhhhh, really? I have to clean up the Magna-Tiles? I don’t waaaaaaant to.”\nEmotional Tantrums When children seem to “lose it”—are a sign of one thing and one thing only: that a child cannot manage the emotional demands of a situation.\nTantrums are biological states of dysregulation, not willful acts of disobedience.\nBut we cannot encourage subservience and compliance in our kids when they’re young and expect confidence and assertiveness when they’re older.\nWhen our intention is simply to stop the yelling or crying, kids feel it and learn only one lesson: “The feelings that overwhelm me also overwhelm my parent. My parent is trying to end this, which means my emotions truly are as bad as they feel.”\nStrategies: Remind Yourself of Your Own Goodness\n“Nothing is wrong with me. Nothing is wrong with my child. I can cope with this.”\nTwo Things Are True\n“I get why you feel this way,” or “It feels so bad, I know!” or “Being a kid can be so hard.”\nWe are not in charge of our children’s feelings, our kids don’t need to say “Sure, no problem!” when we make decisions, and communicating that we are okay with our children’s feelings will teach them to be okay with having big feelings, which is critical to developing emotion regulation.\nName the Wish\nSay out loud what your child is wishing for that they aren’t getting.\nValidate the Magnitude\nWhen we validate the intensity of their feelings, we help to reframe a confusing mass of emotion into something concrete and easier to understand.\nYou might say: “You want those crayons . . . You want them SO big . . . as big as this room! Or no . . . as big as this whole house! What? Oh wow. As big as this whole neighborhood!”\nAggresive Tantrums Even these tantrums are normal.\nThese types of tantrums—ones that involve boundary violations (contacting someone else’s body and aggressive behavior)—are a signal that a child’s frontal lobe, the part of the brain responsible for executive functioning, including controlling impulses, is totally offline and that he is physiologically flooded and in a “threat” state.\nThese explosive moments happen because a child is terrified of the sensations, urges, and feelings coursing inside their body.\nKeeping a child safe in this case means focusing on containment, because a child who is out of control needs a parent to step in firmly, put a stop to the dangerous behavior, and create a safer, more boundaried environment where the child cannot continue to do damage.\nDon’t try to teach or lecture or build new skills with your kid in these explosive moments; containment is the only goal.\nStrategies “I Won’t Let You”\nThese four words—“I won’t let you”—are critical for every parent’s toolbox.\nCommunicates that a parent is in charge.\nDifferentiate Urge from Action\nFinding safe ways to redirect our children’s urges can be much more successful than trying to shut down the urges themselves.\nContain the Fire\n“My number one job is to keep you safe, and right now safety means carrying you to your room and sitting with you there.\nYou’re not in trouble. I love you. I’m here.”\nGet into the room, shut the door, sit at the door so your child cannot get out.\nPrevent any physical aggression.\nFocus on your own deep breaths.\nIf they can feel your regulation, even in their state of such major dysregulation, you are helping them calm down.\nDon’t try to reason, don’t lecture, don’t punish, don’t say too much at all.\nLikely to interpret anything you say as additional danger.\nLoud, chaotic tantrums need calm, steady voices.\n“You’re a good kid having a hard time. I’m here. I love you. Do your thing. You’re allowed to feel this way.”\nPersonify the Feelings\nKids can say some nasty things: “I hate you!” or “Leave me alone!” or “I hope you die!”.\nYour child is saying these words aloud and seems to be throwing them in your direction, but consider your child is actually talking to the overwhelming, terrifying, threatening feelings inside his body.\nWhen you reframe kids’ words in this way, you’ll find it much easier to stay present and grounded. You’ll see that your child feels terrified and under attack and clearly needs you there.\nTelling the Story\nBy returning to the scene of the emotional fire and layering on connection, empathy, and understanding, you add key elements of regulation on top of the moment of dysregulation.\nRemember that the key element is the connection and storytelling, not the solution.\nSibling Rivalry When kids are going at it with each other, they’re “telling” their parents that they feel unsettled, that their sibling feels like a threat to their essential need to feel secure in the family.\nThe more we connect with our kids about how they feel—in this case maybe jealous or angry toward a sibling—the less likely they are to explode in the form of behavior: insults, hitting, mockery, put-downs.\nStrategies PNP Time\nDedicated alone time for each child to spend with a parent.\nMaking things fair is one of the biggest propellants of conflict. The more we work for fairness, the more we create opportunities for competition.\nWe want to help our kids orient inward to figure out their needs, not orient outward.\nInstead of making things equal (“You’ll get new shoes soon!”), label what’s happening inside your child: “It’s so hard to see your brother get new shoes. Can you get new ones? Not right now, sweetie. In this family, every kid gets what they need—and your shoes are still in great shape. You’re allowed to be upset. I get it.”\nAllow Venting (but Only to You)\nWhen your children know they can talk to you honestly about their feelings toward their sibling(s), they become much less likely to take out their feelings on their brother or sister.\nName-calling is not innocent teasing; it’s one way a kid can chip away at another kid’s confidence, especially when parents don’t step in to stop it.\nStep In When There’s Danger, Slow Down and Narrate When There’s Not\nWe want to teach our kids to problem-solve with each other, not rely on us to judge who is right and who is wrong, who goes first and who goes second.\nWe must step in to protect both kids: the kid who is being threatened and the kid who is out of control. Both kids need our help.\nStep In (Dangerous Situations)\nSlow Down and Narrate (Not Dangerous “I won’t let you” situations may also include nasty words or taunting or teasing; this is another reason why a parent might step in and separate their kids, to protect one child from bullying and to protect the other from continuing to take on the role of bully. Both kids need our help.\nSlow Down (Not Dangerous Situations)\nSlow things down but not solve.\nHelping each of them narrate their perspective without taking sides or making someone the “bad kid” or the “good kid.”\nSlow down the situation so your kids can regulate their bodies and have access to their own problem-solving skills.\nRudeness and Defiance Strategies Don’t Take the Bait\nDeeper and more vulnerable—seeing the feelings underneath the words.\n*Put a boundary around your child’s behavior (“I won’t allow . . .” or “I won’t let you . . .”).\nProvide a generous interpretation\nEmbody Your Authority—Without Punishing or Being Scary\nTake deep breaths.\nConsider whether there’s a way to sublimate the urge.\nReflect and act later.\nState the Truth\nThe next time you’re setting a rule you know your child won’t like, say as much. When you do this, you establish your connection by validating her experience and you provide an opportunity to brainstorm and cope in advance.\nConnect and Build Regulation When Everyone Is Calm\nKids also whine when they’re looking for connection, to indicate that they feel alone and unseen in their desires.\nChildren are often looking for an emotional release, and whining is a sign that everything feels like too much.\nChannel Your Own Inner Whiner\nStrategies Humor\nRestate the Request in Your Own Voice and Move On\nSee the Need\nWhen kids are whining, they are asking for some combination of more attention, more connection, more warmth, more empathy, and more validation.\nLying Child may be coping with her guilt, or her fear of disappointing or enraging you in that moment, by entering into fantasy.\nKids, of all ages, need to have some part of their lives that is separate from their parents, to access feelings of ownership and sovereignty. For some kids, lying becomes a core strategy to achieve this basic human need.\nStrategies Reframe the Lie as a Wish\n“You wish that tower was still up . . . ,”\nWait and Provide an Opening Later\n“If It Did Happen . . .”\nWhen a child is stuck in a lie, I find it effective to walk through how I would respond if she shared the truth.\nAsking a Child What He Needs to Be Honest\nI realize there must be things you need from me in order to tell me the truth.\nThere must be things I’m doing that make truth-telling scary for you,\nNot to change the feeling itself but to be curious about their children’s anxiety and to help them feel at home with themselves when that anxiety emerges.\nFears and Anxiety Jump into the Hole with Them\n“When you go to bed, you have a big worry that I won’t be there in the morning, huh? Ugh, that is such a scary thought . . .”\n(Pulling out might have sounded like, “Sweetie. There’s nothing to worry about, I have never left without telling you!”)\nDry Runs\nPractice dry runs directly with your child or act out the scenario with stuffed animals.\nScript for Addressing Specific Fears\nSTEP 1: Talk to your child about his fear, aiming only to collect information and build understanding.\nAsk more, and tell less—no convincing or explaining, just information gathering. Then restate what you’ve learned to see if you “have it right.”\nSTEP 2: Validate that your child’s fear “makes sense.”\nSTEP 3: Tell your child how glad you are that you talked about this fear. Use the word “important.”\nSTEP 4: Engage your child to problem-solve with you.\nSTEP 5: Create a mantra.\nSTEP 6: Share a “slowly coping with a fear” story.\nHesitation and Shyness Confidence is the experience of knowing how you feel and believing it’s okay to be yourself, in that feeling, in that moment.\nConfidence-building for hesitant kids comes from having caregivers who say, “I’m here. Take your time.”\nThese messages communicate an understanding that a child knows their feelings better than we do.\nStrategies Check In with Yourself\n“Noticing how I feel doesn’t make me a bad parent. All feelings are allowed, just like I tell my kids. Knowing my own trigger will help me separate my experience from my child’s.”\nIf you notice that your child’s shyness or hesitation or clinginess bothers you, remind yourself that a child’s willingness to not join the crowd is probably a trait you’ll value in her later on.\nValidate + “You’ll Know When You’re Ready”\nValidating the feeling rather than trying to convince him out of the feeling.\n“You’ll know when you’re ready to ___.”\nPreparation\nThere’s so much power in predicting feelings: when you name and recognize them in advance, it’s as if you give your child permission to feel them, which is half the battle when it comes to regulation.\nKids who feel hesitant do well with preparation for what’s to come, in terms of both logistics and emotions. Before you go to, say, a family gathering, share details with your child.\nAvoid Labeling\nWhen we label kids, saying things like “Oh, she’s shy” or “He never likes to talk to grown-ups, he’s really reserved,” we lock them into roles with a type of rigidity that makes growth difficult.\nInstead of labeling, provide a generous interpretation of your child’s behavior, especially if someone else smacks on a label. If a family member says, “Aisha, why are you being so shy?,” take a breath, jump in, and share, “Aisha isn’t shy. Aisha is figuring out what feels comfortable to her, and that’s great.\nFrustration Intolerance The more we embrace not-knowing and mistakes and struggles, the more we set the stage for growth, success, and achievement.\nIf we want our kids to develop frustration tolerance, we have to develop tolerance for their frustration.\nShow up in a calm, regulated, non-rushed, non-blaming, non-outcome-focused way—both when they are performing difficult tasks and when they are witnessing us perform difficult tasks.\nRequires us to let go of our need to finish and be quick and be right and have things done.\nFrustration tolerance requires us to ground ourselves in what is happening in the moment, to feel okay even when we don’t know how to do something, and to focus on effort instead of outcome.\nThis is a lot easier to do when we navigate the world with a “growth mindset”—the belief that abilities can be cultivated through effort, study, and persistence and that failures and struggles are not enemies of learning but rather key elements on the pathway to learning.\nPeople with a “fixed mindset,” on the other hand, believe that abilities are innate—you can either do something or you can’t, and if you fail at that thing, it’s an indication that you’ll never be able to do it.\nMy job as a parent is not to help my kids get out of the learning space and into knowing . . . but rather to help my kids learn to stay in that learning space and tolerate not being in knowing!\nStrategies Deep Breaths\nWhen you notice your child getting frustrated, instead of telling them, “Take a deep breath,” model it yourself.\nOur kids learn to self-regulate through our co-regulation; taking a deep breath allows your child to see that there can be safety and calm around frustration.\nNot to mention, our deep breathing grounds us, which means we are less likely to react with our own annoyance or reactivity.\nMantras\nTake moments or emotions that feel big and overwhelming—like episodes of frustration—and give us something small and manageable to focus on.\n‘This feels hard because it is hard, not because I’m doing something wrong.’\nTry framing it as something you learned that you just happen to be passing along.\nFor younger kids, a mantra might be “I can do it” or “I like to be challenged” or “I can do hard things” or “This is tricky and I can stay with it.”\nFrame Frustration as a Sign of Learning, Not a Sign of Failure\nHere’s something I start saying to my kids early on: “Did you know that learning is hard? I mean it! Every single time any of us learns something—me, you, everyone—it feels frustrating!”\n“And also, listen to this, because this is weird . . . Frustration, that feeling of ‘Ugh, I can’t do it’ or ‘Ugh, I want to just be done already!’ . . . that’s a feeling that tries to trick our brain into telling us we’re doing something wrong, but actually, this feeling is a sign that we’re learning and doing something right! It’s such a tricky thing. Let’s be on the lookout for that feeling so we can remind ourselves we are learning and that learning is supposed to feel this way.”\n“Oh, you’re about to get dressed, huh? Let’s get ready for that frustrating feeling.\nGrowth Mindset Family Values\nIn our family, we love to be challenged.\nIn our family, how hard we work is more important than coming up with the right answer.\nIn our family, we know that not-knowing sits next to learning something new. We love learning new things, so we embrace “I don’t know” moments.\nIn our family, we try to remember that sticking with something hard makes our brains grow. And we’re big into brain growth.\nThink in Terms of Coping, Not Success\nBuild our child’s skills for coping with hard feelings rather than building skills for finding success.\nEmotional Vaccination, Dry Runs, and “Did I Ever Tell You About the Time . . . ?”\nFood and Eating Habits “Division of Responsibility” around eating.\nParent’s job: decide what food is offered, where it is offered, when it is offered Child’s job: decide whether and how much to eat of what’s offered.\nMinimizing anxiety around food is more important than consumption of food.\nStrategies Mantra\nYou might try saying, “My only jobs are the what-when-where. I can do that. I can do that.” Or, “What my child eats is not most important. I am doing a good job. My child is going to be okay.” Or maybe, “What my child eats is not a barometer of my parenting.”\nExplain Roles\nDessert-Specific Strategies\nParents shouldn’t link dessert to how much a child eats, because that is the domain of a child, not a parent.\nServing dessert with dinner makes dessert less exciting. It exudes a message of trusting your child and sets him up to be less dessert focused over time.\nOther families I’ve worked with serve a “dessert” as an afternoon snack so that dinner isn’t linked with dessert at all.\nSnack-Specific Strategies\nTolerate Pushback\nIf you want to make a change, it’s critical to remind yourself that your job is the “what, when, where”—you don’t have to ask your kids’ permission, you just need to announce the change and allow them to have their reactions and feelings.\nAfter knowing our role, we have to be willing to fulfill it, and that relies on our ability to handle our child’s not being happy with us.\nConsent “I am in charge of my body. I am in charge of my body boundaries. I am in charge of who touches me, for how long, and at what times.\nI can like something one day and not want it another day. I can be comfortable touching some people and not others. I am the only person who can make these decisions.”\n“There will be times when I assert myself based on what feels right to me and other people won’t like it. They will push back. They will talk about what they want from me instead of honoring what I’m telling them feels comfortable to me. It’s not my job to make other people happy. Their discomfort is a feeling in their body, and it’s not my fault or my responsibility to make this feeling go away.”\nStrike the following words from their parenting:\nVocabulary (feel free to strike them from all interactions outside of parenting as well!): “dramatic,” “drama queen,” “overly sensitive,” “hysterical,” “disproportionate,” “ridiculous.” These are gaslighting words that tell a child you don’t trust them—which wires them not to trust themself.\nStrategies “I Believe You”\n“There’s Something About . . .”\nUse the phrase “There’s something about . . .” It says you believe your child and you validated their experience, even if you don’t understand what exactly is happening.\n“You’re the only one in your body, so only you could know what you like.”\nSocratic Questioning\nkids learn best when they are encouraged to think and consider, which comes from asking questions.\nThe next time you have an “opening” with your child—a nice quiet moment when you’re getting along—explore the topics of decision-making, asserting one’s wants and needs, and tolerating other people’s distress.\nWhat’s more important, doing something that feels right to you or making other people happy? What if you can’t do both? When does making someone else happy, instead of doing something that feels right, feel okay to you? When would it be extra-important to choose doing what feels right, even if someone else is super unhappy? What if you do something that you want and someone else gets mad at you . . . does this mean you’re a bad person? Why or why not?” Start with, “Oooooh, I have an interesting question . . . ,”\nTears If I want to have the seriousness of my feelings recognized or my needs known, and I sense that someone is responding to me with disinterest, invalidation, or minimization, then my body would undoubtedly escalate into a more intense expression.\nWhen we look at fake tears through this lens, we think less about the on-the-surface expression and more about the underlying unmet needs.\nWords like “I can tell something important is happening for you. I care about that. I’m here,” or “I can see how upset you are. I believe you. I really do,” are powerful scripts for your toolbox in these moments.\nStrategies Talk About Tears\nTalk about crying with your child outside of the moment your child is crying.\nHere, we are de-shaming the crying experience; after all, when you explicitly share with your child that you have cried, even over seemingly “small” things, your child feels less alone with their tears.\nConnect Tears with Importance\n“Tears tell us something important is happening in our body.”\nDo you know that sometimes our body knows things before our brain does? My body must have been thinking of something important.\nSocratic Questioning\nTake some time to wonder aloud with your kids about tears, encouraging them to think deeply and question the common narrative that tears are a sign of weakness.\nWhat do you think tears tell us? Are tears good, or bad, or neither good nor bad—maybe they just are? Did you know that tears release stress from our bodies? Isn’t that interesting? There are some people who don’t like to cry. I wonder why? Can boys and girls cry? Can adults and kids cry? Can men and women cry? Is it more okay for girls or boys to cry or okay for both? Why? How did you learn that?” Building Confidence Confidence is not about feeling “good,” it’s about believing, “I really know what I feel right now.”\nConfidence is our ability to feel at home with ourselves in the widest range of feelings possible, and it’s built from the belief that it’s okay to be who you are no matter what you’re feeling.\n“Good job, honey!” and “You’re so smart!” and “You’re an amazing artist!”—these well-intentioned phrases build up a child’s reliance on external validation, or approval from other people.\nInternal validation, on the other hand—which is what we want to encourage in our kids—is the process of seeking approval from oneself.\nWe all seek external validation, and we all like external validation. This is okay. The goal isn’t to make a child impervious to other people’s approval or input, but rather to build up a child’s interiority—meaning who they are on the inside—so that they don’t feel empty and confused in the absence of outside input.\nCommenting on what’s happening inside a child, or a child’s process and not product, orients a child to gaze back in instead of out.\n“You’re working so hard on that project,” “I notice you’re using different colors in this drawing, tell me about this,” “How’d you think to make that?” Lead with Validation\nWhen we name feelings and validate them, we show a child that those feelings are okay.\nHow’d You Think to . . . ?\n“How’d you think to draw that?” “How’d you think to start your story that way?” “How’d you think to solve that math problem?” “How’d you think to use those materials together?” When we wonder with our kids about the “how” instead of praising the “what,” we help build up their tendency to gaze in and be curious about themselves, and maybe even to marvel at the things they’ve done.\nNothing feels better than when someone around us expresses interest in how we think about things, how we came up with our ideas, or where we want to go next.\nInside Stuff over Outside Stuff\nCircuitry for self-confidence depends on a child’s ability to locate identity over observable behavior; this comes from growing up in a family that focuses more on what’s “inside” a child (enduring qualities, feelings, ideas) than what is “outside” (accomplishments, outcomes, labels).\nValuing who they are over what they do.\n“You Really Know How You’re Feeling”/“It’s Okay to Feel This Way”\nPhrases like “You really know how you’re feeling right now,” or “Wow, you really know yourself”—these responses teach a child to look inward with openness, not judgment.\nPerfectionism To help kids with perfectionistic tendencies, then, we want to show them how to separate what they are doing from who they are.\nParents should aim to help their kids see their perfectionism, not get rid of it.\nStrategies Make Your Own Mistakes\n“Oh no! I sent an important email to my boss with so many typos!\n“I am okay even when I make a mistake. I am safe. I am good inside even when I make a mistake on the outside.”\nTell the Story of the Feeling Under the Perfectionism\nTake your child’s focus on perfection and shift it to the feelings inside his body; this builds self-awareness of one’s experience, which is the foundation for regulation.\n“Sometimes one tricky thing feels like it can suck all the fun out of something, huh? It’s almost like nothing at the playground feels like it would be fun if you don’t feel good at every single part.”\nStuffed Animal Play\nUsing stuffed animals or trucks or whatever your child likes to play with, act out a scene involving a perfectionistic character.\nIntroduce the Perfect Voice\nIn a calm moment, introduce the idea of you and your child both having a “Perfect Kid” or “Perfect Girl” or “Perfect Boy” inside.\nIdentifying the different “parts” of us speaks to how our mind is organized, and kids often take to this framework because it resonates with what actually goes on inside their bodies.\nTeaching your child how to relate to her perfectionism rather than reject it.\n“Do you know that I have a Perfect Girl in me? Yes! She often tells me things have to be perfect or else they’re not worth doing!\nDo a 180 on Perfectionism\n“Not knowing something means I can learn, and learning new things is awesome. I learned one thing just now so I get one point!”\nThis game, “winning” isn’t equated with being “perfect” or already knowing something, but instead with the process of learning.\nSeparation Anxiety Transitional objects help children with this process; a blanket or stuffed animal or object from home becomes a physical representation of parent-child bond, reminding a child that parents still exist and are “there” for you even when they are not right in front of them.\nA vital part of separation is a parent’s ability to believe that their kids can cope.\nIf our kids sense that we are hesitant or nervous or doubtful, their separation reactions will be more intense, because they will absorb our anxiety.\nStrategies Check In with Your Own Anxiety\nTalk About Separation and Feelings\nTalk about the separation in advance—show pictures of where your child is going, and anticipate feelings that may come up.\nRoutine + Practice\nCome up with a routine that is easy to practice and repeat—something short and sweet. Maybe you say, “When we say goodbye, I’ll give you one hug, say ‘See ya later, alligator!’\nPractice will make the whole routine feel more familiar, and eventually lead to mastery, which helps separation feel safer.\nTransitional Object\nConsider involving your child in a transitional object choice. (Object that reminds them of you.)\nTelling the Story\nWe can ease separation anxiety by talking about the separation after we pick up our child at the end of the day or at the moment of reunion.\nTelling the story reminds a child that the moment of separation was part of a larger story, but it didn’t color their entire experience.\nSleep Sleep struggles are ultimately separation struggles, because during the night children are tasked with being alone for ten(ish) hours and also with feeling safe enough that their body is able to drift off to sleep.\nNighttime can feel truly dangerous to kids—it means darkness, aloneness, the slowing down of the body and the speeding up of the mind, the emergence of scary thoughts, and even existential worries about permanence (“Are my parents really there when I can’t see them?”).\ntwo-step process:\nFirst, we have to help our kids feel safe. We have to help them develop coping skills during the day, when the stakes are lower, before a child will feel safe enough to separate at night.\nThen, and only then, can we implement strategies to create a smoother bedtime experience.\nKids who struggle to separate have trouble internalizing the soothing aspects of a parent-child relationship—they feel safe in a parent’s presence but, often, terrified in a parent’s absence.\nSeparation starts to feel more manageable when we close this gap, when we help a child take in the parts of the parent-child relationship that provide security so that they can access feelings of safety, security, and trust, all of which are necessary for sleep.\nIf we can help infuse a parent’s presence into a child’s environment, then he can access the soothing function of the parent-child relationship even when the parent isn’t right there.\nStrategies “Where Is Everyone?”\nTo help your kids understand, talk to them, during the daytime, about where you spend your evening.\nExamine Your Daytime Separation Routine\nBefore tackling nighttime separation struggles (i.e., sleep struggles!), work on these dynamics during the day; nighttime can be filled with extra anxiety, so we need to build separation skills when our bodies are less activated and more receptive to learning.\nRole-Play\nGet out the stuffed animals, trucks, dolls, or whatever your child likes to play with. Use them to act out a bedtime routine, reviewing feelings that come up and strategies that help with the soothing process.\nInfuse Your Presence\nThink of various ways to infuse your presence into your child’s room and bed area. Maybe you put a family photo next to your child’s sleep area and a photo of your child next to your bed as well.\nTell your child you’ll write them a note or create a drawing with their name on it after they fall asleep and put it next to their bed;\nMantras for You and Your Child\n‘Mommy is near, Nahid is safe, my bed is cozy.’\nThe Safe Distance Method\nThis method operates on the principles of attachment theory, respecting that children need to feel proximal to parents in order to feel safe. Start out in a child’s room, staying close by, then—over the course of many nights—increase the distance until you are farther and farther away (and eventually out of the room).\nThe Comfort Button\nGet a recordable button with at least thirty seconds of recordable space. Then, in your regulated, soothing voice, record a message for your child about bedtime.\nDeeply Feeling Kids I use the label “Deeply Feeling Kids” (DFKs)—it reflects the way they experience the world and it also explains why these children often feel overwhelmed and enter more easily into a “threat” or “fight or flight” state.\nOne of the core fears for DFKs is that the feelings that overwhelm them will overwhelm others—that things that feel so bad and unmanageable actually are bad and unmanageable.\nParents of DFKs have to practice “holding space”—meaning literally staying present around the child and taking up space, so that the child sees her overwhelming feelings aren’t taking over the world around her and leaving her all alone.\nParents of DFKs have to commit to limiting the damage instead of solving the problem.\nStrategies Move from Blame to Curiosity\nCuriosity, on the other hand, sounds like: “I wonder what’s going on for my child?” or “My child feels inside the way they’re acting on the outside . . . wow, my child feels so out of control and so ‘bad’! What’s going on there? What does she need?”\nContainment First\nTake a deep breath and remember that their number one job is to keep their child safe. In times like these, that means removing the child from the current situation, bringing him to a smaller room, sitting with him, and being present for the emotional storm.\n“You’re a Good Kid Having a Hard Time”\nReminding ourselves that we have a good kid having a hard time activates our desire to help, while “bad kid doing bad things” mode makes us want to judge or punish.\nYou might say, “Earlier today was tough. I know. You’re a good kid and you were having a hard time. I know that. I love you. I always will.”\nBe Present and Wait It Out\nNothing is as powerful as your presence. Your loving, as-calm-as-possible presence, without any words or fancy scripts.\nWithout a doubt your most important parenting “tool.”\nWe have to show our kids that they aren’t “too much” for us, that they don’t overpower us.\nPresence doesn’t mean we allow ourselves to be hit or put into danger. And it doesn’t mean you can’t take time-outs for yourself.\nThumbs Up/Down/to the Side\nI’m going to say some things . . . if you agree, give me a thumbs-up. If it’s a no, give me a thumbs-down. If something about what I say is kind of right, kind of not, give me a thumbs-to-the-side.”\nThe key to change lies in learning to tolerate the guilt or shame that comes up for us—seeing these feelings as part of the change process, not an enemy of the change process.\nTwo things are true I have done things I am not proud of and I am good inside.\nI feel guilty about my parenting past and hopeful about my parenting future.\nBooks and Authors mentioned: Book: Psychologists Robert Brooks and Sam Goldstein, authors of The Handbook of Resilience in Children\nBook: Beyond Discipline: From Compliance to Community, author Alfie Kohn\nBook: Siblings Without Rivalry\nAuthor: Ellyn Satter",
    "description": "We must separate the child from the behavior. Often, when a child’s behavior appears as “bad”, it’s really the child having a big emotion that they can’t regulate in a controlled way. Offers helpful tips on every day parenting struggles. Another parenting book that will give you a good frame of mind when thinking about your kids, but as I put this to practice, there are still challenging times where I have no idea what I am doing as a parent.",
    "tags": [],
    "title": "Good Inside (9/10)",
    "uri": "/booknotes/good-inside/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Tools",
    "content": "Word Press is great, but it is probably a lot more bloated then you need for a personal website. Enter Hugo, it has less server capacity and storage needs than Word Press. Hugo is a static site generator than takes markdown files and converts them to html.\nHosting your own website is also a lot cheaper than having a provider like Bluehost do it for you. Instead of $15 per month, I am currently paying $10 per year.\nThis guide will walk through building a website step-by-step.\nSetting up a Virtual Private Server (VPS) Registering a domain name Pointing the domain to your server Setting up hugo on your local PC Syncing your Hugo generate site with your server Using nginx to serve your site Enable http over SSL Setting up a Virtual Private Server (VPS) I use Vultr as my VPS. When I signed up they had a $250 credit towards a new account. If you select the cheapest server (you shouldn’t need anything else for a basic site) that comes out to about $6 a month. Of course the $250 credit goes towards that which equates to around 41 months free.\nHead to vultr.com. Create and account and Select the Cloud Compute option.\nUnder CPU \u0026 Storage Technology, select “Regular Performance”. Then under “Server Location, select the server closest to you. Or closest to where you think your main audience will be.\nUnder Server image, select the OS you are most comfortable with. This guide uses Debian.\nUnder Server Size, slect the 10GB SSD. Do not select the “IPv6 ONLY” option. Leave the other options as default and enter your server hostname.\nOn the products page, click your new server. You can find your server credentials and IPv4 address here. You will need these to log in to your server.\nLog into your sever via ssh to test. From a Linux terminal run:\nssh username@serveripaddress Then, enter your password when prompted.\nRegistering a Domain Name I got my domain perfectdarkmode.com from Cloudflare.com for about $10 per year. You can check to see available domains there. You can also check https://www.namecheckr.com/ to see iof that name is available on various social media sites.\nIn CloudFlare, just click “add a site” and pick a domain that works for you. Next, you will need your server address from earlier.\nUnder domain Registration, click “Manage Domains”, click “manage” on your domain. One the sidebar to the right, there is a qucik actions menu. Click “update DNS configuration”.\nClick “Add record”. Type is an “A” record. Enter the name and the ip address that you used earlier for your server. Uncheck “Proxy Status” and save.\nYou can check to see if your DNS has updated on various DNS severs at https://dnschecker.org/. Once those are up to date (after a couple minutes) you should be able to ping your new domain.\n$ ping perfectdarkmode.com PING perfectdarkmode.com (104.238.140.131) 56(84) bytes of data. 64 bytes from 104.238.140.131.vultrusercontent.com (104.238.140.131): icmp_seq=1 ttl=53 time=33.2 ms 64 bytes from 104.238.140.131.vultrusercontent.com (104.238.140.131): icmp_seq=2 ttl=53 time=28.2 ms 64 bytes from 104.238.140.131.vultrusercontent.com (104.238.140.131): icmp_seq=3 ttl=53 time=31.0 ms Now, you can use the same ssh command to ssh into your vultr serverusing your domain name.\nssh username@domain.com Setting up hugo on your local PC Hugo is a popular open-source static site generator. It allows you to take markdown files, and builds them into and html website. To start go to https://gohugo.io/installation/ and download Hugo on your local computer. (I will show you how to upload the site to your server later.)\nPick a theme The theme I use is here https://themes.gohugo.io/themes/hugo-theme-hello-friend-ng/\nYou can browse your own themes as well. Just make sure to follow the installation instructions. Let’s create a new Hugo site. Change into the directory where you want your site to be located in. Mine rests in ~/Documents/.\ncd ~/Documents/ Create your new Hugo site.\nhugo new site site-name This will make a new folder with your site name in the ~/Documents directory. This folder will have a few directories and a config file in it.\narchetypes config.toml content data layouts public resources static themes For this tutorial, we will be working with the config.toml file and the content, public, static, and themes. Next, load the theme into your site directory. For the Hello Friend NG theme:\ngit clone https://github.com/rhazdon/hugo-theme-hello-friend-ng.git themes/hello-friend-ng Now we will load the example site into our working site. Say yes to overwrite.\ncp -a themes/hello-friend-ng/exampleSite/* . The top of your new config.toml site now contains:\nbaseURL = \"https://example.com\" title = \"Hello Friend NG\" languageCode = \"en-us\" theme = \"hello-friend-ng\" Replace your baseURL with your site name and give your site a title. Set the enableGlobalLanguageMenu option to false if you want to remove the language swithcer option at the top. I also set enableThemeToggle to true so users could set the theme to dark or light.\nYou can also fill in the links to your social handles. Comment out any lines you don’t want with a “#” like so:\n[params.social](params.social) name = \"twitter\" url = \"https://twitter.com/\" [params.social](params.social) name = \"email\" url = \"mailto:nobody@example.com\" [params.social](params.social) name = \"github\" url = \"https://github.com/\" [params.social](params.social) name = \"linkedin\" url = \"https://www.linkedin.com/\" # [params.social](params.social) # name = \"stackoverflow\" # url = \"https://www.stackoverflow.com/\" You may also want to edit the footer text to your liking. I commented out the second line that comes with the example site:\n[params.footer] trademark = true rss = true copyright = true author = true topText = [] bottomText = [ # \"Powered by \u003ca href=\\\"http://gohugo.io\\\"\u003eHugo\u003c/a\u003e\", # \"Made with \u0026#10084; by \u003ca href=\\\"https://github.com/rhazdon\\\"\u003eDjordje Atlialp\u003c/a\u003e\" ] Now, move the contents of the example contents folder over to your site’s contents folder (giggidy):\ncp -r ~/Documents/hugo/themes/hello-friend-ng/exampleSite/content/* ~/Documents/hugo/content/ Let’s clean up a little bit. Cd into ~/Documents/hugo/content/posts. Rename the file to the name of your first post. Also, delete all of the other files here:\ncd ~/Documents/hugo/contents/posts mv goisforlovers.md newpostnamehere.md find . ! -name 'newpostnamehere.md' -type f -exec rm -f {} + Open the new post file and delete everything after this:\n+++ title = \"Building a Minimalist Website with Hugo\" description = \"\" type = [\"posts\",\"post\"] tags = [ \"hugo\", \"nginx\", \"ssl\", \"http\", \"vultr\", ] date = \"2023-03-26\" categories = [ \"tools\", \"linux\", ] series = [\"tools\"] [ author ] name = \"David Thomas\" +++ You will need to fill out this header information for each new post you make. This will allow you to give your site a title, tags, date, categories, etc. This is what is called a TOML header. TOML stands for Tom’s Obvious Minimal Language. Which is a minimal language used for parsing data. Hugo uses TOML to fill out your site.\nSave your doc and exit. Next, there should be an about.md page now in your ~/Documents/hugo/Contents folder. Edit this to edit your about page for your site. You can use this Markdown Guide if you need help learning markdown language. https://www.markdownguide.org/\nServe your website locally Let’s test the website by serving it locally and accessing it at localhost:1313 in your web browser. Enter the command:\nhugo serve Hugo will now be generating your website. You can view it by entering localhost:1313 in your webbrowser.\nYou can use this to test new changes before uploading them to your server. When you svae a post or page file such as your about page, hugo will automatically update the changes to this local page if the local server is running.\nPress “Ctrl + c” to stop this local server. This is only for testing and does not need to be running to make your site work.\nBuild out your public directory Okay, your website is working locally, how do we get it to your server to host it online? We are almost there. First, we will use the hugo command to build your website in the public folder. Then, we will make a copy of our public folder on our server using rsync. I will also show you how to create an alias so you do not have to remember the rsync command every time.\nFrom your hugo site folder run:\nhugo Next, we will put your public hugo folder into /var/www/ on your server. Here is how to do that with an alias. Open ~/.bashrc.\nvim ~/.bashrc Add the following line to the end of the file, making sure to replace the username and server name:\n# My custom aliases alias rsyncp='rsync -rtvzP ~/Documents/hugo/public/ username@myserver.com:/var/www/public' Save and exit the file. Then tell bash to update it’s source config file.\nsource ~/.bashrc Now your can run the command by just using the new alias any time. Your will need to do this every time you update your site locally.\nrsyncp Set up nginx on your server Install nginx\napt update apt upgrade apt install nginx create an nginx config file in /etc/nginx/sites-available/\nvim /etc/nginx/sites-available/public You will need to add the following to the file, update the options, then save and exit:\nserver { listen 80 ; listen [::]:80 ; server_name example.org ; root /var/www/mysite ; index index.html index.htm index.nginx-debian.html ; location / { try_files $uri $uri/ =404 ; } } Enter your domain in “server_name” line in place of “example.org”. Also, point “root” to your new site file from earlier. (/var/www/public). Then save and exit.\nLink this site-available config file to sites-enabled to enable it. Then restart nginx:\nln -s /etc/nginx/sites-available/public /etc/nginx/sites-enabled systemctl reload nginx Access Permissions We will need to make sure nginx has permissions to your site folder so that it can access them to serve your site. Run:\nchmod 777 /var/www/public Firewall Permissions You will need to make sure your firewall allows port 80 and 443. Vultr installs the ufw program by default. But your can install it if you used a different provider. Beware, enabling a firewalll could block you from accessing your vm, so do your research before tinkering outside of these instructions.\nufw allow 80 ufw allow 443 Nginx Security We will want to hide your nginx version number on error pages. This will make your site a bit harder for hackers to find exploits. Open your Nginx config file at /etc/nginx/nginx.conf and remove the “#” before “server_tokens off;”\nEnter your domain into your browser. Congrats! You now have a running website!\nUse Certbot to enable HTTPS Right now, our site uses the unencrypted http. We want it to use the encrypted version HTTPS (HTTP over SSL). This will increase user privacy, hide usernames and passwords used on your site, and you get the lock symbol by your URL name instead of “!not secure”.\nInstall Certbot and It’s Nginx Module apt install python3-certbot-nginx Run certbot certbot --nginx Fill out the information, certbot asks for your emaill so it can send you a reminder when the certs need to be renewed every 3 months. You do not need to consent to giving your email to the EFF. Press 1 to select your domain. And 2 too redirect all connections to HTTPS.\nCertbot will build out some information in your site’s config file. Refresh your site. You should see your new fancy lock icon.\nSet Up a Cronjob to automatically Renew certbot certs crontab -e Select a text editor and add this line to the end of the file. Then save and exit the file:\n0 0 1 * * certbot --nginx renew You now have a running website. Just make new posts locally, the run “hugo” to rebuild the site. And use the rsync alias to update the folder on your server. I will soon be making tutorials on making an email address for your domain, such as david@perfectdarkmode.com on my site. I will also be adding a comments section, RSS feed, email subscription, sidebar, and more.\nFeel free to reach out with any questions if you get stuck. This is meant to be an all encompassing guide. So I want it to work.\nExtras Optimizing images Create assets folder in main directory.\nCreate images folder in /assets\nAccess image using hugo pipes\n{{ $image := resources.Get \"images/test-image.jpg\" }} \u003cimg src=\"{{ ( $image.Resize \"500x\" ).RelPermalink }}\" /\u003e https://gohugo.io/content-management/image-processing/",
    "description": "Guide for setting up a static website with Hugo",
    "tags": [],
    "title": "How to Build a website With Hugo",
    "uri": "/tools/how-to-build-a-website-with-hugo/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Tools",
    "content": "Here are my highlights pulled up in Vim:\nAs you can see, Bookfusion gives you a lot of extra information when you export highlights. First, let’s get rid of the lines that begin with ##\nEnter command mode in Vim by pressing esc. Then type :g/^##/d and press enter.\nMuch better.\nNow let’s get rid of the color references:`\n:g/^Color/d To get rid of the timestamps, we must find a different commonality between the lines. In this case, each line ends with “UTC”. Let’s match that:\n:g/UTC$/d Where $ matches the end of the line.\nNow, I want to get rid of the \u003e on each line: %s/\u003e //g\nAlmost there, you’ll notice there are 6 empty lines in between each highlight. Let’s shrink those down into one:\n:%s/\\(\\n\\)\\{3,}/\\r\\r/g The command above matches newline character n 3 or more times and replaces them with two newline characters /r/r.\nAs we scroll down, I see a few weird artifacts from the book conversion to markdown.\nNow, I want to get rid of any carrot brackets in the file. Let’s use the substitute command again here:\n%s/\u003c//g Depending on your book and formatting. You may have some other stuff to edit.",
    "description": "Removing extra stuff from Bookfusion exported highlights",
    "tags": [],
    "title": "How to Process Bookfusion Highlights with Vim",
    "uri": "/tools/process-bookfusion-highlights/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Tools",
    "content": "Hugo Setup Adding a module as a theme Make sure Go is installed\ngo version Create a new site\nhugo new site sitename cd sitename Initialize your site as a module\nhugo mod init sitename Confirm\ncat go.mod Add the module as a dependency using it’s git link\nhugo mod get github.com/McShelby/hugo-theme-relearn Confirm\ncat go.mod add the theme to config.toml\n# add this line to config.toml and save theme = [\"github.com/McShelby/hugo-theme-relearn\"] Confirm by viewing site\nhugo serve # visit browser at http://localhost:1313/ to view site Adding a new “chapter” page\nhugo new --kind chapter Chapter/_index.md Add a home page\nhugo new --kind home _index.md Add a default page\nhugo new \u003cchapter\u003e/\u003cname\u003e/_index.md or\nhugo new \u003cchapter\u003e/\u003cname\u003e.md You will need to change some options in _index.md\n+++ # is this a \"chaper\"? chapter=true archetype = \"chapter\" # page title name title = \"Linux\" # The \"chapter\" number weight = 1 +++ Adding a “content page” under a category\nhugo new basics/first-content.md Create a sub directory:\nhugo new basics/second-content/_index.md change draft = true to draft = false in the content page to make a page render. Global site parameters Add these to your config.toml file and edit as you please\n[params] # This controls whether submenus will be expanded (true), or collapsed (false) in the # menu; if no setting is given, the first menu level is set to false, all others to true; # this can be overridden in the pages frontmatter alwaysopen = true # Prefix URL to edit current page. Will display an \"Edit\" button on top right hand corner of every page. # Useful to give opportunity to people to create merge request for your doc. # See the config.toml file from this documentation site to have an example. editURL = \"\" # Author of the site, will be used in meta information author = \"\" # Description of the site, will be used in meta information description = \"\" # Shows a checkmark for visited pages on the menu showVisitedLinks = false # Disable search function. It will hide search bar disableSearch = false # Disable search in hidden pages, otherwise they will be shown in search box disableSearchHiddenPages = false # Disables hidden pages from showing up in the sitemap and on Google (et all), otherwise they may be indexed by search engines disableSeoHiddenPages = false # Disables hidden pages from showing up on the tags page although the tag term will be displayed even if all pages are hidden disableTagHiddenPages = false # Javascript and CSS cache are automatically busted when new version of site is generated. # Set this to true to disable this behavior (some proxies don't handle well this optimization) disableAssetsBusting = false # Set this to true if you want to disable generation for generator version meta tags of hugo and the theme; # don't forget to also set Hugo's disableHugoGeneratorInject=true, otherwise it will generate a meta tag into your home page disableGeneratorVersion = false # Set this to true to disable copy-to-clipboard button for inline code. disableInlineCopyToClipBoard = false # A title for shortcuts in menu is set by default. Set this to true to disable it. disableShortcutsTitle = false # If set to false, a Home button will appear below the search bar on the menu. # It is redirecting to the landing page of the current language if specified. (Default is \"/\") disableLandingPageButton = true # When using mulitlingual website, disable the switch language button. disableLanguageSwitchingButton = false # Hide breadcrumbs in the header and only show the current page title disableBreadcrumb = true # If set to true, hide table of contents menu in the header of all pages disableToc = false # If set to false, load the MathJax module on every page regardless if a MathJax shortcode is present disableMathJax = false # Specifies the remote location of the MathJax js customMathJaxURL = \"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\" # Initialization parameter for MathJax, see MathJax documentation mathJaxInitialize = \"{}\" # If set to false, load the Mermaid module on every page regardless if a Mermaid shortcode or Mermaid codefence is present disableMermaid = false # Specifies the remote location of the Mermaid js customMermaidURL = \"https://unpkg.com/mermaid/dist/mermaid.min.js\" # Initialization parameter for Mermaid, see Mermaid documentation mermaidInitialize = \"{ \\\"theme\\\": \\\"default\\\" }\" # If set to false, load the Swagger module on every page regardless if a Swagger shortcode is present disableSwagger = false # Specifies the remote location of the RapiDoc js customSwaggerURL = \"https://unpkg.com/rapidoc/dist/rapidoc-min.js\" # Initialization parameter for Swagger, see RapiDoc documentation swaggerInitialize = \"{ \\\"theme\\\": \\\"light\\\" }\" # Hide Next and Previous page buttons normally displayed full height beside content disableNextPrev = true # Order sections in menu by \"weight\" or \"title\". Default to \"weight\"; # this can be overridden in the pages frontmatter ordersectionsby = \"weight\" # Change default color scheme with a variant one. Eg. can be \"auto\", \"red\", \"blue\", \"green\" or an array like [ \"blue\", \"green\" ]. themeVariant = \"auto\" # Change the title separator. Default to \"::\". titleSeparator = \"-\" # If set to true, the menu in the sidebar will be displayed in a collapsible tree view. Although the functionality works with old browsers (IE11), the display of the expander icons is limited to modern browsers collapsibleMenu = false # If a single page can contain content in multiple languages, add those here additionalContentLanguage = [ \"en\" ] # If set to true, no index.html will be appended to prettyURLs; this will cause pages not # to be servable from the file system disableExplicitIndexURLs = false # For external links you can define how they are opened in your browser; this setting will only be applied to the content area but not the shortcut menu externalLinkTarget = \"_blank\" Syntax highlighting Supports a variety of [Code Syntaxes] To select the syntax, wrap the code in backticks and place the syntax by the first set of backticks.\n```bash echo hello \\``` Adding tags Tags are displayed in order at the top of the page. They will also display using the menu shortcut made further down.\nAdd tags to a page:\n+++ tags = [\"tutorial\", \"theme\"] title = \"Theme tutorial\" weight = 15 +++ Choose a default color theme Add to config.toml with the chosen theme for the “style” option:\n[markup] [markup.highlight] # if `guessSyntax = true`, there will be no unstyled code even if no language # was given BUT Mermaid and Math codefences will not work anymore! So this is a # mandatory setting for your site if you want to use Mermaid or Math codefences guessSyntax = false # choose a color theme or create your own style = \"base16-snazzy\" Add Print option and search output page. add the following to config.toml\n[outputs] home = [\"HTML\", \"RSS\", \"PRINT\", \"SEARCH\"] section = [\"HTML\", \"RSS\", \"PRINT\"] page = [\"HTML\", \"RSS\", \"PRINT\"] Customization This theme has a bunch of editable customizations called partials. You can overwrite the default partials by putting new ones in /layouts/partials/.\nto customize “partials”, create a “partials” directory under site/layouts/\ncd layouts mkdir partials cd partials You can find all of the partials available for this theme here\nChange the site logo using the logo.html partial Create logo.html in /layouts/partials\nvim logo.html Add the content you want in html. This can be an img html tag referencing an image in the static folder. Or even basic text. Here is the basic syntax of an html page, adding “Perfect Dark Mode” as the text to display:\n\u003c!DOCTYPE html\u003e \u003chtml\u003e \u003cbody\u003e \u003ch3\u003ePerfect Dark Mode\u003c/h3\u003e \u003c/body\u003e \u003c/html\u003e Add a favicon to your site This is pasted from the relearn site. Add Favicon and edit * If your favicon is a SVG, PNG or ICO, just drop off your image in your local static/images/ folder and name it favicon.svg, favicon.png or favicon.ico respectively. If no favicon file is found, the theme will lookup the alternative filename logo in the same location and will repeat the search for the list of supported file types.\nIf you need to change this default behavior, create a new file in layouts/partials/ named favicon.html. Then write something like this:\n\u003clink rel=\"icon\" href=\"/images/favicon.bmp\" type=\"image/bmp\"\u003e Changing theme colors In your config.toml file edit the themeVariant option under [params]\nthemeVariant = \"relearn-dark\" There are some options to choose from or you can custom make your theme colors by using this stylesheet generator\nMenu Shortcuts Add a [[menu.shortcuts]] entry for each link\n[[menu.shortcuts]] name = \"\u003ci class='fab fa-fw fa-github'\u003e\u003c/i\u003e GitHub repo\" identifier = \"ds\" url = \"https://github.com/McShelby/hugo-theme-relearn\" weight = 10 [[menu.shortcuts]] name = \"\u003ci class='fas fa-fw fa-camera'\u003e\u003c/i\u003e Showcases\" url = \"more/showcase/\" weight = 11 [[menu.shortcuts]] name = \"\u003ci class='fas fa-fw fa-bookmark'\u003e\u003c/i\u003e Hugo Documentation\" identifier = \"hugodoc\" url = \"https://gohugo.io/\" weight = 20 [[menu.shortcuts]] name = \"\u003ci class='fas fa-fw fa-bullhorn'\u003e\u003c/i\u003e Credits\" url = \"more/credits/\" weight = 30 [[menu.shortcuts]] name = \"\u003ci class='fas fa-fw fa-tags'\u003e\u003c/i\u003e Tags\" url = \"tags/\" weight = 40 Extras\nMenu button arrows. (Add to page frontmatter)\nmenuPre = \"\u003ci class='fa-fw fas fa-caret-right'\u003e\u003c/i\u003e \"",
    "description": "Hugo Relearn setup guide",
    "tags": [],
    "title": "How to Set Up Hugo Relearn Theme",
    "uri": "/tools/how-to-set-up-hugo-relearn-theme/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Networking",
    "content": "It took me a whopping 2 years to finish my CCNA! I kept giving up and quitting my studies for months at a time. Why? Because I couldn’t remember the massive amount of content covered in the CCNA. It felt hopeless. I could have done it in 6 month (or faster) if I knew how to study.\nI hadn’t taken a test in 10 years before this. So I had completely forgotten how to learn. This post is about the mistakes I made studying for the CCNA and how to avoid them.\nYou will also learn, as I did, about spaced repetition. I’ve also included a 6 month CCNA spaced repetition calendar.\nMy Mistakes, So You Don’t Make Them Mistake #1 Didn’t start flashcards until the final 30 days I wish I would have started flashcards from day 1. This would have helped a crap ton. Remembering all of the little details is not only useful for taking the test. It embeds the concepts in your brain and keeps you processing how things work .\nIf there is anything you take from this list. You should definitely be doing some flashcards every day.\nMistake #2 Not enough labs as I went. While studying the OCG and video courses. I did some labs. But I also skipped a ton of labs because it wasn’t convenient at the time. Then I was forced to lab every single topic in the final 30 days. A lot of cramming was done..\nMake sure to do all of the labs as you go. Make up your own labs as well. This is very important to building job worthy skills.\nMistake #3 Didn’t have a plan or stick with it. When your plan consists of, “just read everything and watch the videos and take the test when you feel ready”, you tend to procrastinate and put things off. Make a study schedule and a solid plan. (See below)\nHaving a set date for when you will take the test was pretty motivating. I did not find this out until about 30 days until my test.\nSpaced Repetition If you are using Anki flashcards for your studies, you may already be using spaced repetition. Spaced repetition is repeatedly reviewing with the time in between reviews getting longer each time you review it.\nHere is an excellent article about our learning curves and why spaced repetition helps us remember things https://fs.blog/spacing-effect/\nHow to set up a spaced repetition calendar for CCNA. Step 1. Plan how long your studies will take\nFigure out how long you need. It usually takes around 240 hours of studying for CCNA. (Depending on experience). Then figure out how many hours per day that you can spend on studying. This example is based on a 6 month study calendar.\nYou can use this 6 month excel calendar to plan and track your progress. You. can still use this method If you have already been studying CCNA. Just edit your calendar for how much time you have left.\nThe calendar is also based on Wendel Odom’s Official Cert Guide. You will also want to mix your other resources into your reviews.\nDecide what your review sessions will be\nPlan to review each chapter 3-4 times. here is what I did for review sessions to pass the exam.\nReview 1 Read and highlight (and flashcards)\nRead the chapter. Highlight key information that you want to remember. Do a lab for the material you studied (if applicable) Answer DIKTA questions Start Chapter 1 Anki Flascards Review 2 Copy highlights over to OneNote (keep doing flashcards)\nCopy your highlights over to OneNote. (using copy and paste if you have the digital book) Read your highlights and make sure you understand everything. lab and continue doing flashcards. (just go through Anki suggested flashcards, not just ones for the specific chapter.) Review 3 Labs and Highlight your notes (and flashcards)\nMore labs! Go over your notes. Color coding everything. (You can find my jumbled note mess here) Green: Read again Teal: Very important Learn this/ lab it. Red/ purple: make extra flashcards out of this. Review 4 Practice questions and review\nGo through and answer the DIKTA questions again. Review any missed answers. Lab anything you aren’t quite sure of. The final 30 days I HIGHLY recommend Boson ExSim for your final 30 days of studying. ExSim comes with 3 exams (A,B, and C). Start with exam A in test simulation mode. Leave about a week in between each practice exam so you can go over your answers and Boson’s explanations for each answer.\nOne week before your test, (after you’ve completed exams A,B, and C). Do a random exam. Make sure you do the timed version that don’t show your score as you go.\nYou should be scoring above 900 by your 3rd and 4th exam if you have been reviewing Boson’s answer explanations.\nSchedule your exam\nPearson view didn’t let me schedule the exam past 30 days out from when I wanted to take it. I’m not sure if this is the case all the time. But by the time you are 30 days out you should have your test scheduled. This will light the fire under you. Great motivation for the home stretch.\nIf your exam is around June during Cisco Live, Cisco usually offers a 50% discount for an exam voucher. You probably won’t find any other discounts unless you pay for Cisco’s specific CCNA training.\nFinal word on labs You can technically pass the CCNA without doing many labs. But this will leave you at a HUGE disadvantage in the job market. Labs are crucial for really understanding networking. Knowing your way around the CLI and being able to troubleshoot networking issues will make you stand out from those who crammed for the exam.\nIf you’ve made it this far I really appreciate you taking the time to read this post. I really hope it helps at least one person.",
    "description": "Guide to how you should approach studying for the CCNA exam",
    "tags": [],
    "title": "How to Study for the CCNA Exam",
    "uri": "/networking/how-to-study-for-the-ccna-exam/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "Chapter 1 RHCSA Notes - Installation About RHEL9 Kernel 5.14 Released May 2019 Built along side of Fedora 34 Installer program = Anaconda Default Bootloader = GRUB2 Default automatic partitioning = /boot, /, swap Default desktop environment = GNOME Installation Logs /root/anaconda-ks.cfg Configuration entered\n/var/log/anaconda/anaconda.log Contains informational, debug, and other general messages\n/var/log/anaconda/journal.log Stores messages generated by many services and components during system installation\n/var/log/anaconda/packaging.log Records messages generated by the dnf and rpm commands during software installation\n/var/log/anaconda/program.log Captures messages generated by external programs\n/var/log/anaconda/storage.log Records messages generated by storage modules\n/var/log/anaconda/syslog Records messages related to the kernel\n/var/log/anaconda/X.log Stores X Window System information\nNote: Logs are created in /tmp then transferred over to /var/log/anaconda once the install is finished. 6 Virtual Consoles Monitor the installation process. View diagnostic messages. Discover and fix any issues encountered. Information displayed on the console screens is captured in installation log files. Console 1 (Ctrl+Alt+F1)\nMain screen Select language Then switches default console to 6 Console 2 (Ctrl_Alt+F2)\nShell interface for root user Console 3 (Ctrl_Alt+F3)\nDisplays install messages Stores them in /tmp/anaconda.log Info on detected hardware, etc. Console 4 (Ctrl_Alt+F4)\nShows storage messages Stores them in /tmp/storage.log Console 5 (Ctrl_Alt+F5)\nProgram messages Stores them in /tmp/program.log Console 6 (Ctrl_Alt+F6)\nDefault Graphical configuration and installation console screen Console 1 Brings you to the log in screen. Console 2 does nothing. Console 3-6 all bring you to this log in screen\nLab Setup\nVM1\nserver1.example.om 192.168.0.110 Memory: 2GB Storage: 1x20GB 2 vCPUs VM2\nserver2.exmple.om 192.168.0.120 Memory: 2048 Storage: 1x20GB 4x250 MB data disk 1x5GB data disk 2 vCPUs Setting up VM1 Download the disc iso on Redhat’s website: https://access.redhat.com/downloads/content/rhel\nName RHEL9-VM1 Accept defaults.\nSet drive to 20 gigs\npress “spe” to hlt utooot\nSelet instll\nselet lnguge\nonfigure timezone under time \u0026 dte\ngo into instlltion destintion nd li “done”\nNetwor nd hostnme settings\nhnge the hostnme to server1.exmple.om go to IPv4 settings in networ nd host nd set to mnul ddress: 192.168.0.110 netms 24 gtewy 192.168.0.1 then sve slide the on/off swith in the min menu to on Set root pssword\nChnge the oot order\npower off the vm Set oot sequene to hrd dis first then optil, remove floppy Accept license terms and rete user\nssh from host os with putty\nIssue these Commnds after set up\nwhoami hostname pwd logout or ctrl+d Using cockpit Web gui for managing RHEL system Comes pre-installed if not then install with: sudo dnf install cockpit must enable cockpit socket sudo systemctl enable --now cockpit.socket https://yourip:9090 Labs Lab: Enable cockpit.socket:\nsudo systemctl enable --now cockpit.socket In a web browser, go to https://\u003cyour-ip\u003e:9090",
    "description": "Installation Logs and Cockpit",
    "tags": [],
    "title": "Installation",
    "uri": "/redhat/installation/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "Looking to get started using Fedora or Red Hat operating systems?\nThis guide with get you started with the RHEL Graphical environment, file system, and essential commands to get started using Fedora, Red Hat, or other RHEL based systems.\nRedHat (RHEL9) Graphical Environment (Wayland) Redhat runs a graphical environment called Wayland. This is the foundation for running GUI apps. Wayland is a client/server display protocol. Which just means that the user (the client) requests a resource and the display manager (the server) serves those resources.\nWayland is slowly replaced and older display protocol called “X”. And has better graphics capabilities, features, and performance than X. And consists of a Display or Login manager and a Desktop environment.\nThe Display/ Login manager presents the login screen for users to log in. Once you log in, you get to the pre-configured desktop manager or Desktop Environment (DE). The GNOME Display Manager. (GDM)\nFile System and Directory Hierarchy The standard for the Linux filesystem is the Filesystem Hierarchy Standard (FHS). Which describes locations, names, and permissions for a variety of file types and directories.\nThe directory structure starts at the root. Which is notated by a “/”. The top levels of the directory can be viewed by running the ls command on the root of the directory tree.\nSize of the root file system is automatically determined by the installer program based on the available disk space when you select the default partitioning (it may be altered). Here is a listing of the contents of /:\n$ ls / afs bin boot dev etc home lib lib64 lost+found media mnt opt proc root run sbin snap srv sys tmp usr var Some of these directories hold static data such as commands, configuration files, kernel and device files, etc. And some hold dynamic data such as log and status files.\nThere are three major categories of file systems. They are:\ndisk-based network-based memory-based Disk-based files systems are physical media such as a hard drive or a USB flash drive and store information persistently. The root and boot file systems and both disk-based and created automatically when you select the default partitioning.\nNetwork-Based file systems are disk-based file systems that are shared over the network for remote access. (Also stored persistently)\nMemory-Based filesystems are virtual. And are created automatically at system startup and destroyed when the system goes down.\nKey Directories in / /etc (extended text configuration) This directory contains system configuration files for systemd, LVM, and user shell startup template files.\ndavid@fedora:$ ls /etc abrt dhcp gshadow- locale.conf openldap request-key.d sysctl.conf adjtime DIR_COLORS gss localtime opensc.conf resolv.conf sysctl.d aliases DIR_COLORS.lightbgcolor gssproxy login.defs opensc-x86_64.conf rpc systemd alsa dleyna-server-service.conf host.conf logrotate.conf openvpn rpm system-release alternatives dnf hostname logrotate.d opt rpmdevtools system-release-cpe anaconda dnsmasq.conf hosts lvm os-release rpmlint tcsd.conf anthy-unicode.conf dnsmasq.d hp machine-id ostree rsyncd.conf terminfo apk dracut.conf httpd magic PackageKit rwtab.d thermald appstream.conf dracut.conf.d idmapd.conf mailcap pam.d rygel.conf timidity++.cfg asound.conf egl ImageMagick-7 makedumpfile.conf.sample paperspecs samba tmpfiles.d audit environment init.d man_db.conf passwd sane.d tpm2-tss authselect ethertypes inittab mcelog passwd- sasl2 Trolltech.conf avahi exports inputrc mdevctl.d passwdqc.conf security trusted-key.key bash_completion.d exports.d ipp-usb mercurial pinforc selinux ts.conf bashrc favicon.png iproute2 mime.types pkcs11 services udev bindresvport.blacklist fedora-release iscsi mke2fs.conf pkgconfig sestatus.conf udisks2 binfmt.d filesystems issue modprobe.d pki sgml unbound bluetooth firefox issue.d modules-load.d plymouth shadow updatedb.conf brlapi.key firewalld issue.net mono pm shadow- UPower brltty flatpak java motd polkit-1 shells uresourced.conf brltty.conf fonts jvm motd.d popt.d skel usb_modeswitch.conf ceph fprintd.conf jvm-common mtab ppp sos vconsole.conf chkconfig.d fstab kdump mtools.conf printcap speech-dispatcher vdpau_wrapper.cfg chromium fuse.conf kdump.conf my.cnf profile ssh vimrc chrony.conf fwupd kernel my.cnf.d profile.d ssl virc cifs-utils gcrypt keys nanorc protocols sssd vmware-tools containers gdbinit keyutils ndctl pulse statetab.d vpl credstore gdbinit.d krb5.conf ndctl.conf.d qemu subgid vpnc credstore.encrypted gdm krb5.conf.d netconfig qemu-ga subgid- vulkan crypto-policies geoclue ld.so.cache NetworkManager rc0.d subuid wgetrc crypttab glvnd ld.so.conf networks rc1.d subuid- whois.conf csh.cshrc gnupg ld.so.conf.d nfs.conf rc2.d subversion wireplumber csh.login GREP_COLORS libaudit.conf nfsmount.conf rc3.d sudo.conf wpa_supplicant cups groff libblockdev nftables rc4.d sudoers X11 cupshelpers group libibverbs.d nilfs_cleanerd.conf rc5.d sudoers.d xattr.conf dbus-1 group- libnl npmrc rc6.d swid xdg dconf grub2.cfg libreport nsswitch.conf rc.d swtpm-localca.conf xml debuginfod grub2-efi.cfg libssh nvme reader.conf.d swtpm-localca.options yum.repos.d default grub.d libuser.conf odbc.ini redhat-release swtpm_setup.conf zfs-fuse depmod.d gshadow libvirt odbcinst.ini request-key.conf sysconfig As you can see, there is a lot of stuff here.\n/root This is the default home directory for the root user.\n/mnt /mnt is used to temporarily mount a file system.\n/boot (Disk-Based) This directory contains the Linux Kernel, as well as boot support and configuration files.\nThe size of /boot is determined by the installer program based on the available disk space when you select the default partitioning. It may be set to a different size during or after the installation.\n/home This is used to store user home directories and other user contents.\n/opt (Optional) This directory holds additional software that may need to be installed on the system. A sub directory is created for each installed software.\n/usr (UNIX System Resources) Holds most of the system files such as:\n/usr/bin Binary directory for user executable commands\n/usr/sbin System binaries required at boot and system administration commands not intended for execution by normal users. This directory is not included in the default search path for normal users.\n/usr/lib and /usr/lib64 Contain shared library routines required by many commands/programs located in /usr/bin and /usr/sbin. These are used by kernel and other applications and programs for their successful installation and operation.\n/usr/lib directory also stores system initialization and service management programs. /usr/lib64 contains 64-bit shared library routines.\n/usr/include Contains header files for the C programming language.\n/usr/local: This is a system administrator repository for storing commands and tools. These commands not generally included with the original Linux distribution.\nDirectory Contains /usr/local/bin ecutables /usr/local/etc configuration files /usr/local/lib and /usr/local/lib64 library routines /usr/share manual pages, documentation, sample templates, configuration files /usr/src: This directory is used to store source code.\nVariable Directory (/var) For data that frequently changes while the system is operational. Such as log, status, spool, lock, etc.\nCommon sub directories in /var:\n/var/log Contains most system log files. Such as boot logs, user logs, failed user logs, installation logs, cron logs, mail logs, etc.\n/var/opt Log, status, etc. for software installed in /opt.\n/var/spool Queued files such as print jobs, cron jobs, mail messages, etc.\n/var/tmp For large or longer term temporary files that need to survive system reboots. These are deleted if they are not accessed for a period of 30 days.\n/tmp (Temporary) Temporary files that survive system reboots. These are deleted after 10 days if they are not accessed. Programs may need to create temporary files in order to run.\n/dev (Devices) Contains Device nodes for physical and virtual devices. Linux kernel talks to devices through these nodes. Device nodes are automatically created and deleted by the udevd service. Which dynamically manages devices.\nThe two types of device files are character (or raw) and block.\nCharacter devices Accessed serially. Console, serial printers, mice, keyboards, terminals, etc. Block devices Accessed in a parallel fashion with data exchanged in blocks. Data on block devices is accessed randomly. Hard disk drives, optical drives, parallel printers, etc. Procfs File System (/proc) Config and status info on: Kernel, CPU, memory, disks, partitioning, file systems, networking, running processes, etc. Zero-length pseudo files point to data maintained by the kernel in the memory. Interface to interact with kernel-maintained information. Contents created in memory at system boot time, updated during runtime, and destroyed at system shutdown. Runtime File System (/run) Data for processes running on the system. /run/media Used to automatically mount external file systems (CD, DVD, flash USB.) Contents deleted at shutdown. The System File System (/sys) Info about hardware devices, drivers, and some kernel features. Used by the kernel to load necessary support for devices, create device nodes in /dev, and configure devices. Auto-maintained. Essential System Commands tree command List hierarchy of directories and files. Column 2 Size. Column 3 Full path. Options. tree -a :: Include hidden files in the output. tree -d :: Exclude files from the output. tree -h :: Displays file sizes in human-friendly format. tree -f :: Prints the full path for each file. tree -p :: Includes file permissions in the output\nLabs List only the directories (-d) in the root user’s home directory (/root). tree -d /root List files in the /etc/sysconfig directory along with their permissions, sizes in human-readable format, and full path. tree -phf /etc/sysconfig View tree man pages. man tree Prompt Symbols Hash sign (#) for root user. Dollar sign ($) for normal users. Linux Commands Two types of commands:\nUser General purpose. For any user. System Management Superuser. Require elevated privileges. Command Mechanics Basic Syntax\ncommand option(s) argument(s) Many commands have preconfigured default options and arguments. An option that starts with a single hyphen character (-la, for instance) ::: Short-option format.\nTwo hyphen characters (–all, for instance) ::: Long-option format. Listing Files and Directories ls ll :: shortcut for ls -l Flags ls -l ::: View long listing format. ls -d ::: View info on the specified directory. ls -h ::: Human readable format. ls -a ::: List all files, including the hidden files. ls -t ::: Sort output by date and time with the newest file first. ls -R ::: List contents recursively. ls -i ::: View inode information.\nlabs: Show the long listing of only /usr without showing its contents. ls -ld /usr Display all files in the current directory with their sizes in human-friendly format. ls -lh List all files, including the hidden files, in the current directory with detailed information. ls -la Sort output by date and time with the newest file first. ls -lt List contents of the /etc directory recursively. ls -R /etc List directory info and the contents of a directory recursively. ls -lR /etc View ls manpage. man ls Printing Working Directory (pwd) command Returns the absolute path to a file or directory. Navigating Directories Absolute path (full path or a fully qualified pathname) :: Points to a file or directory in relation to the top of the directory tree. It always starts with the forward slash (/).\nRelative path :: Points to a file or directory in relation to your current location.\nLabs: Go one level up into the parent directory using the relative path cd .. cd into /etc/sysconfig using the absolute path (/etc/sysconfig), or the relative path (etc/sysconfig) cd /etc/sysconfig cd / cd etc/sysconfig Change into the /usr/bin directory from /etc/sysconfig using relative or absolute path cd /usr/bin or\ncd ../usr/bin Return to your home directory cd or\ncd ~ Use the absolute path to change into the home directory of the root user from /etc/sysconfig cd ../../root Switch between the current and previous directories cd .. use the cd command to print the home directory of the current user cd - Terminal Device Files Unique pseudo (or virtual) numbered device files that represent terminal sessions opened by users. Used to communicate with individual sessions. Stored in the /dev/pts/ (pseudo terminal session). Created when a user opens a new terminal session. Removed when a session closes. tty command Identify current terminal session. Displays filename and location. Example: /dev/pts/0 Inspecting System’s Uptime and Processor Load uptime command Displays: System’s current time. System up time. Number of users currently logged in. Average % CPU load over the past 1, 5, and 15 minutes. 0.00 and 1.00 represent no load and full load. Greater than 1.00 signifies excess load (over 100%). clear command Clears the terminal screen and places the cursor at the top left of the screen. Can also use Ctrl+l for this command. clear Determining Command Path Tools for identifying the absolute path of the command that will be executed when you run it without specifying its full path.\nwhich, whereis, and type\nshow the full location of the ls command:\nwhich command Show command aliases and location. [root@server1 bin]# which ls alias ls='ls --color=auto' /usr/bin/ls whereis command Locates binary, source, and manual files for specified command name. [root@server1 bin]# whereis ls ls: /usr/bin/ls /usr/share/man/man1/ls.1.gz /usr/share/man/man1p/ls.1p.gz\u003e) type command Find whether the given command is an alias, shell built-in, file, function, or keyword. type ls Viewing System Information uname command Show system operating system name. [root@server1 bin]# uname Linux Flags uname -s ::: Show kernel name. uname -n ::: Show hostname. uname -r ::: Show kernel release. uname -v ::: Show kernel build date. uname -m ::: Show machine hardware name. uname -p ::: Show processor type. uname -i ::: Show hardware platform. uname -o ::: Show OS name. uname -a ::: Show kernel name, nodename, release, version, machine, and os.\nuname uname -a Linux = Kernel name server1.example.com = Hostname of the system 4.18.0-80.el8.x86_64 = Kernel release #1 SMP Wed Mar 13 12:02:46 UTC 2019 = Date and time of the kernel built x86_64 = Machine hardware name x86_64 = Processor type x86_64 = Hardware platform GNU/Linux = Operating system name Viewing CPU Specs lscpu command Shows CPU: Architecture. Operating modes. Vendor. Family. Model. Speed. Cache memory. Virtualization support type. lscpu architecture of the CPU (x86_64) supported modes of operation (32-bit and 64-bit) sequence number of the CPU on this system (1) threads per core (1) cores per socket (1) number of sockets (1) vendor ID (GenuineIntel) CPU model (58) model name (Intel …) speed (2294.784 MHz) amount and levels of cache memory (L1d, L1i, L2, and L3) Getting Help Manual pages Informational pages stored in /usr/share/man for each program. See Using Man Pages for more.\nman command Flags: -k\nPerform a keyword search on manual pages. Must build the database with mandb first. -f\nEquivalent to whatis. Commands to find information/help about programs. apropos whatis info pinfo /usr/share/doc/\nDirectory with additional program documentation. man passwd line at the bottom indicates the line number of the manual page.\nMan page navigation h ::: Help on navigation. q ::: Quit the man page. Up arrow key ::: Scroll up one line. Enter or Down arrow key ::: Scroll down one line. f / Spacebar / Page down ::: Move forward one page. b / Page up ::: Move backward one page. d / u ::: Move down/up half a page. g / G ::: Move to the beginning / end of the man pages. :f ::: Display line number and bytes being viewed. /pattern ::: Searches forward for the specified pattern. ?pattern ::: Searches backward for the specified pattern. n / N ::: Find the next / previous occurrence of a pattern.\nHeadings in the Manual NAME\nName of the command or file with a short description. SYNOPSIS Syntax summary. DESCRIPTION Overview of the command or file. OPTIONS Options available for use. EXAMPLES Some examples to explain the usage. FILES A list of related files. SEE ALSO Reference to other manual pages or topics. BUGS Any reported bugs or issues. AUTHOR Contributor information. Manual Sections Manual information is split into nine sections for organization and clarity. Man searches through each section until it finds a match. Starts at section 1, then section 2, etc. Some commands in Linux also have a configuration file with an identical name. Ex: passwd command in /usr/bin and the passwd file in /etc. Specify the section to find that page only. Ex: man 5 passwd Section number is located at the top (header) of the page. Section 1\nRefers to user commands. Section 4 Contains special files. Section 5 Describes file formats for many system configuration files. Section 8 Documents system administration and privileged commands designed for the root user. Run man man for more details.\nSearching by Keyword apropos command Search all sections of the manual pages and show a list of all entries matching the specified keyword in their names or descriptions. Must mandb command in order to build an indexed database of the manual pages prior to using. mandb mandb command Build an indexed database of the manual pages. Lab: Find a forgotten XFS administration command. man -k xfs or apropos xfs Lab: Show a brief list of options and a description. passwd --help or passwd -? whatis command Same output as man -f Display one-line manual page descriptions. info and pinfo Commands Display command detailed documentation. Divided into sections called nodes. Header: Name of the file being displayed. Names of the current, next, and previous nodes. Almost identical to each other. info ls u navigate efficiently.\ninfo page Navigation Down / Up arrows\nMove forward / backward one line. Spacebar / Del Move forward / backward one page. q Quit the info page. t Go to the top node of the document. s Search Documentation in /usr/share/doc/ /usr/share/doc/\nStores general documentation for installed packages under subdirectories that match their names. ls -l /usr/share/doc/gzip Online RHEL Documentation docs.redhat.com Release notes and guides on planning, installation, administration, security, storage management, virtualization, etc. access.redhat.com Labs Lab 2: Navigate Linux Directory Tree Check your location in the directory tree.\npwd Show file permissions in the current directory including the hidden files.\nls -la Change directory into /etc and confirm the directory change.\ncd /etc pwd Switch back to the directory where you were before, and run pwd again to verify.\ncd - pwd Lab: Miscellaneous Tasks Identify the terminal device file.\ntty Open a couple of terminal sessions. Compare the terminal numbers.\ntty /dev/pts/1 Execute the uptime command and analyze the system uptime and processor load information.\nuptime Use three commands to identify the location of the vgs command.\nwhich vgs whereis vgs type vgs Lab: Identify System and Kernel Information Analyze the basic information about the system and kernel reported. uname -a Examine the key items relevant to the processor.\nlscpu Lab: Man View man page for uname.\nman uname View the 5 man page section for the shadow.\nman 5 shadow",
    "description": "Basic Commands and Directory Structure",
    "tags": [],
    "title": "Interaction",
    "uri": "/redhat/interaction/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Networking",
    "content": "Connection Methods Factory default login: User: root\nNo password\nFxpo Ethernet management interface\nSSH, FTP. Telnet, http(s) Cannot route traffic and is used for management purposes only.\nInitial Login Logging for the First Time\n• Nonroot users are placed into the CLI automatically\n• Root user SSH login requires explicit config\nrouter (ttyu0)\nSerial console\nlogin :\nuser\nPassword:\nJUNOS 15.1X49-DIOO.6 built 2017-06-28 07:33:31 UTC\n• The root user must start the CLI from the shell\n• Remember to exit the root shell after logging out of the CLI!\nrouter (ttyuO) JUNOS 15.1X49-DIOO\n2017-06-28\nUTC\nlogin:\nPassword:\nroot@router\u003e\n.6 built\ncli\nShell Prompt\nCLI Prompt “\u003e CLI Modes configure\nConfigure mode . New candidate config file\nconfigure private (best practice) Configure mode with a private candidate file\nOther users logged in will not make changes to this file\nPrivate Files comitted are merged into active config\nWhoever commits last wins if there are matching commands\nCan’t commit until you are at the top of the configuration (in private mode)\nconfigure exclusive Locks config database\nCan be killed by admin\nNo other user can edit config while you are in this mode\n(edit) top Goes back to the top of the configuration tree\nCandidate Config Files\ncommit Turns candidate config file into active\nWarning will show if candidate config is already being edited\nCommiting Configurations\nRollback files are last three Active configurations and stored in /config/(the current active are stored here as well)\n4-49 are stores in /var/config/\nShows timestamp for the last time the file was active\nrollback 1 Places rollback file one into the candidate config, must commit to make it active\nCLI Help, Auto complete\nCan type ? To show available commands\n#\u003e Show version brief\nShow version info, hostname, and model\n#\u003eConfigure\ngoes into configure mode\nset system host-name hostname set’s hostname\ndelete system host-name deletes set hostname\nedit routing-options static edit routing options mode\nexit exit\nJunos will let you know that config hasn’t been committed and ask if you want to commit\nrollback 0 throwaway all changes to active candidate\n#\u003e help topic routing-options static\nshows info page for topic specified\n#\u003e help references routing-options static\nsyntax and hierarchy of commands\nKeyboard Shortcuts\nCommand completion\nSpace\nauto complete commands built into system, Does not autocomplete things you named\ntab\nautocomplete user defined commands in the system\n?\nwill show user defined options for autocomplete as well\nNavigating Configuration Mode\nWhen you go into config mode the running config is copied into a candidate file that you will be working on\nshow if in configure mode, displays the entire candidate configuration\nedit similar to cd\nedit protocols ospf goes to the protocols/ospf heirarchy config mode\nif you run show commend it will show the contents of hierarchy from wherever you are.\ntop goes to the top of the hierarchy. Like cd to / in Linux\nmust be at the top to commit changes\nshow protocols ospf selects which part of the hierarchy to show\nwill only see this if you are above the option you want to show in the hierarchy\ncan bypass this with:\ntop show routing-options static same thing happens with the edit command\ntop edit routing-options same fix\nEditing, Renaming, and Comparing Configuration\nup moves up one level in the hierarchy\nthere is a protion in this video wioth vlan and interface configuration, come back if this isn’t covered elsewhere\nup 2 jump up 2 levels\nrollback ? shows all the rollback files on the system\nrun show system uptime run is like “do” in cisco, can run command from anywhere\nrollback 1 rolls config back to rollback 1 file\nshow | compare show things to be removed added with - or +\nexit Also brings you to the top of config file\nReplace, Copy, or annotate Configuration\ncopy ge-0/0/1 to ge-0/0/2 makes a copy of the config\nshow ge-0/0/0 edit ge-0/0/0 Edit interfaces mode\n#(int) replace pattern 0.101 with 200.102\nReplaces the pattern of the ip address\n#(int) replace pattern /24 with /25\nReplace mask\nIf using replace commands don’t commit the config without running the #top show | compare command to verify. You may have run the compare command from one place.\ntop edit protocols ospf Go into ospf edit\ndeactivate interface ge-0/0/0.0 Remove interface from ospf\nannotate interface ge-0/0/0 “took down due to flapping” C style programming comment\nLoad merge Configuration\nrun file list ls -l basically\nrun file show top-int-config Display contents of top-int-config\nPaste Config on a Juniper Switch cli top delete configure load set terminal ctrl+shift +D to exit commit check commit and-quit Juniper command equivalent to Cisco commands Basic CLI and Systems Management Commands\nclock set \u003e set date\nreload \u003e request system reboot\nshow history \u003e show cli history\nshow logging \u003e show log messages | last show processes \u003e show system processes\nshow running config \u003e show configuration\nshow users \u003e show system users\nshow version \u003e show version | show chassis hardware trace \u003e traceroute\nSwitching Commands show ethernet-switching interfaces\nshow spanning-tree \u003e show spanning-tree bridge\nshow mac address-table \u003e show ethernet-switching table\nOSPF Commands show ip ospf database \u003e show ospf database\nshow ip ospf interface \u003e show ospf interface\nshow ip ospf neighbor \u003e show ospf neighbor\nRouting Protocol-Independent Commands clear arp-cache \u003e clear arp\nshow arp \u003e show arp\nshow ip route \u003e show route\nshow ip route summary \u003e show route summary\nshow route-map \u003e show policy | policy-name\nshow tcp \u003e show system connections\nInterface Commands clear counters \u003e clear interface statistics\nshow interfaces \u003e show interfaces\nshow interfaces detail \u003e show interfaces extensive\nshow ip interface brief \u003e show interfaces terse",
    "description": "Juniper Basics",
    "tags": [],
    "title": "Juniper CLI Basics",
    "uri": "/networking/juniper_cli_basics/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Keyboard",
    "content": "Using Monkey Type to get my first speedtest results:\n02/24/2025 55 WPM Learning to type with: https://www.typing.com/ https://www.typingclub.com/\nGoing to be practicing on these sites: https://10fastfingers.com/ https://www.keybr.com/ https://play.typeracer.com/\ntry ctrl+backspace to delete entire word\nDay 1 (1 hour) Typing club Lessons 1-41\nDay 2 (1 hour) Typing club Lessons 1-41\nDay 3 (1 hour) Typing club Lessons 1-50\nDay 4 (1 hour) Typing club Lessons 2-55\nDay 5 (1 hour) Typing club Lessons 2-62\nDay 6 (1 hour) Typing club Lessons 25-46 Lessons 2-10 Above 50 WPM at 100% Hands very cold and lack of sleep today.\nDay 7 (1 hour) Typing Club Lessons 53 - 81\nDay 8 (skipped) Busy with sick child\nDay 9 (1.5 hours) Typing Club Lessons 55-107\nDay 10 (30 minutes) Typing Club Lessons 108-119\nDay 11 (1 hour) Typing Club Lessons 120-141\nDay 12 (30 minutes) Typing Club Lessons 142-151\nDay 13 (30 minutes) Typing Club Lessons 151-164",
    "description": "Learning touch typing",
    "tags": [],
    "title": "Learning Touch Typing",
    "uri": "/keyboard/learning-touch-typing/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "File Systems and File System Types File systems\nCan be optimized, resized, mounted, and unmounted independently. Must be connected to the directory hierarchy in order to be accessed by users and applications. Mounting may be accomplished automatically at system boot or manually as required. Can be mounted or unmounted using their unique identifiers, labels, or device files. Each file system is created in a discrete partition, VDO volume, or logical volume. A typical production RHEL system usually has numerous file systems. During OS installation, only two file systems— / and /boot —are created in the default disk layout, but you can design a custom disk layout and construct separate containers to store dissimilar information. Typical additional file systems that may be created during an installation are /home, /opt, /tmp, /usr, and /var. / and /boot—are required for installation and booting. Storing disparate data in distinct file systems versus storing all data in a single file system offers the following advantages:\nMake any file system accessible (mount) or inaccessible (unmount) to users independent of other file systems. This hides or reveals information contained in that file system. Perform file system repair activities on individual file systems Keep dissimilar data in separate file systems Optimize or tune each file system independently Grow or shrink a file system independent of other file systems 3 types of file systems:\ndisk-based, network-based, and memory-based. Disk-based\nTypically created on physical drives using SATA, USB, Fibre Channel, and other technologies. store information persistently Network-based\nEssentially disk-based file systems shared over the network for remote access. store information persistently Memory-based\nVirtual Created at system startup and destroyed when the system goes down. data saved in virtual file systems does not survive across system reboots. Ext3\nDisk based The third generation of the extended filesystem. Metadata journaling for faster recovery Superior reliability Creation of up to 32,000 subdirectories supports larger file systems and bigger files than its predecessor Ext4\nDisk based Successor to Ext3. Supports all features of Ext3 in addition to: Larger file system size Bigger file size Unlimited number of subdirectories Metadata and quota journaling Extended user attributes XFS\nDisk based Highly scalable and high-performing 64-bit file system. Supports: Metadata journaling for faster crash recovery Online defragmentation, expansion, quota journaling, and extended user attributes default file system type in RHEL 9. VFAT\nDisk based Used for post-Windows 95 file system formats on hard disks, USB drives, and floppy disks. ISO9660\nDisk based Used for optical file systems such as CD and DVD. NFS - (Network File System.)\nNetwork based Shared directory or file system for remote access by other Linux systems. AutoFS (Auto File System)\nNetwork based NFS file system set to mount and unmount automatically on remote client systems. Extended File Systems First generation is obsolete and is no longer supported Second, third, and fourth generations are currently available and supported. Fourth generation is the latest in the series and is superior in features and enhancements to its predecessors. Structure is built on a partition or logical volume at the time of file system creation. Structure is divided into two sets: first set holds the file system’s metadata and it is very tiny. Superblock keeps vital file system structural information: type size status of the file system number of data blocks it contains automatically replicated and maintained at various known locations throughout the file system. primary superblock superblock at the beginning of the file system backup superblocks. I used to supplant the corrupted or lost primary superblock to bring the file system back to its normal state. Copy of the primary Inode table maintains a list of index node (inode) numbers. Each file is assigned an inode number at the time of its creation, and the inode number holds the file’s attributes such as: type permissions ownership owning group size last access/modification time holds and keeps track of the pointers to the actual data blocks where the file contents are located. second set stores the actual data, and it occupies almost the entire partition or the logical volume (VDO and LVM) space.\\ journaling\nSupported by Ext3 and Ext4\nRecover swiftly after a system crash.\nkeep track of recent changes in their metadata in a journal (or log).\nEach metadata update is written in its entirety to the journal after completion.\nThe system peruses the journal of each extended file system following the reboot after a crash to determine if there are any errors\nLets the system recover the file system rapidly using the latest metadata information stored in its journal.\nExt3 that supports file systems up to 16TiB and files up to 2TiB,\nExt4 supports very large file systems up to 1EiB (ExbiByte) and files up to 16TiB (TebiByte).\nUses a series of contiguous physical blocks on the hard disk called extents, resulting in improved read and write performance with reduced fragmentation. Supports extended user attributes, metadata and quota journaling, etc. XFS File System High-performing 64-bit extent-based journaling file system type. Allows the creation of file systems and files up to 8EiB (ExbiByte). Does not run file system checks at system boot Relies on you to use the xfs_repair utility to manually fix any issues. Sets the extended user attributes and certain mount options by default on new file systems. Enables defragmentation on mounted and active file systems to keep as much data in contiguous blocks as possible for faster access. Inability to shrink. Uses journaling for metadata operations, guaranteeing the consistency of the file system against abnormal or forced unmounting. Journal information is read and any pending metadata transactions are replayed when the XFS file system is remounted. Speedy input/output performance. Can be snapshot in a mounted, active state. VFAT File System Extension to the legacy FAT file system (FAT16) Supports 255 characters in filenames including spaces and periods Does not differentiate between lowercase and uppercase letters. Primarily used on removable media, such as floppy and USB flash drives, for exchanging data between Linux and Windows. ISO9660 File System For removable optical disc media such as CD/DVD drives File System Management File System Administration Commands Some are limited to their operations on the Extended, XFS, or VFAT file system type. Others are general and applicable to all file system types. Extended File System Management Commands e2label\nModifies the label of a file system tune2fs\nTunes or displays file system attributes XFS Management Commands xfs_admin Tunes file system attributes xfs_growfs Extends the size of a file system xfs_info Exhibits information about a file system General File System Commands blkid Displays block device attributes including their UUIDs and labels df Reports file system utilization du Calculates disk usage of directories and file systems fsadm Resizes a file system. This command is automatically invoked when the lvresize command is run with the -r switch. lsblk Lists block devices and file systems and their attributes including their UUIDs and labels mkfs Creates a file system. Use the -t option and specify ext3, ext4, vfat, or xfs file system type. mount Mount a file system for user access. Display currently mounted file systems. umount Unmount a file system. Mounting and Unmounting File Systems File system must be connected to the directory structure at a desired attachment point, (mount point) A mount point in essence is any empty directory that is created and used for this purpose. Use the mount command to view information about xfs mounted file systems:\n[root@server2 ~]# mount -t xfs /dev/mapper/rhel-root on / type xfs (rw,relatime,seclabel,attr2,inode64,logbufs=8,logbsize=32k,noquota) /dev/sda1 on /boot type xfs (rw,relatime,seclabel,attr2,inode64,logbufs=8,logbsize=32k,noquota) Mount command -t option type. Mount a file system to a mount point. Performed with the root user privileges. Requires the absolute pathnames of the file system block device and the mount point name. Accepts the UUID or label of the file system in lieu of the block device name. Mount all or a specific type of file system. Upon successful mount, the kernel places an entry for the file system in the /proc/self/mounts file. A mount point should be empty when an attempt is made to mount a file system on it, otherwise the content of the mount point will hide. The mount point must not be in use or the mount attempt will fail. auto (noauto)\nMounts (does not mount) the file system when the -a option is specified defaults\nMounts a file system with all the default values (async, auto, rw, etc.) _netdev\nUsed for a file system that requires network connectivity in place before it can be mounted. NFS is an example. remount\nRemounts an already mounted file system to enable or disable an option ro (rw)\nMounts a file system read-only read/write) umount Command Detach a file system from the directory hierarchy and make it inaccessible to users and applications. Expects the absolute pathname to the block device containing the file system or its mount point name in order to detach it. Unmount all or a specific type of file system. Kernel removes the corresponding file system entry from the /proc/self/mounts file after it has been successfully disconnected. Determining the UUID of a File System Extended and XFS file systems have a 128-bit (32 hexadecimal characters) UUID (Universally Unique IDentifier) assigned to it at the time of its creation.\nUUIDs assigned to vfat file systems are 32-bit (8 hexadecimal characters) in length.\nAssigning a UUID makes the file system unique among many other file systems that potentially exist on the system.\nPersistent across system reboots.\nUsed by default in RHEL 9 in the /etc/fstab file for any file system that is created by the system in a standard partition.\nRHEL attempts to mount all file systems listed in the /etc/fstab file at reboots.\nEach file system has an associated device file and UUID, but may or may not have a corresponding label.\nThe system checks for the presence of each file system’s device file, UUID, or label, and then attempts to mount it.\nDetermine the UUID of /boot\n[root@server2 ~]# lsblk | grep boot ├─sda1 8:1 0 1G 0 part /boot [root@server2 ~]# sudo xfs_admin -u /dev/sda1 UUID = 630568e1-608f-4603-9b97-e27f82c7d4b4 [root@server2 ~]# sudo blkid /dev/sda1 /dev/sda1: UUID=\"630568e1-608f-4603-9b97-e27f82c7d4b4\" TYPE=\"xfs\" PARTUUID=\"7dcb43e4-01\" [root@server2 ~]# sudo lsblk -f /dev/sda1 NAME FSTYPE FSVER LABEL UUID FSAVAIL FSUSE% MOUNTPOINTS sda1 xfs 630568e1-608f-4603-9b97-e27f82c7d4b4 616.1M 36% /boot For extended file systems, you can use the tune2fs, blkid, or lsblk commands to determine the UUID.\nA UUID is also assigned to a file system that is created in a VDO or LVM volume; however, it need not be used in the fstab file, as the device files associated with the logical volumes are always unique and persistent.\nLabeling a File System A unique label may be used instead of a UUID to keep the file system association with its device file exclusive and persistent across system reboots. A label is limited to a maximum of 12 characters on the XFS file system 16 characters on the Extended file system. By default, no labels are assigned to a file system at the time of its creation. The /boot file system is located in the /dev/sda1 partition and its type is XFS. You can use the xfs_admin or the lsblk command as follows to determine its label:\n[root@server2 ~]# sudo xfs_admin -l /dev/sda1 label = \"\" [root@server2 ~]# sudo lsblk -f /dev/sda1 NAME FSTYPE FSVER LABEL UUID FSAVAIL FSUSE% MOUNTPOINTS sda1 xfs 630568e1-608f-4603-9b97-e27f82c7d4b4 616.1M 36% /boot Not needed on a file system if you intend to use its UUID or if it is created in a logical volume You can still apply one using the xfs_admin command with the -L option. Labeling an XFS file system requires that the target file system be unmounted. unmount /boot, set the label “bootfs” on its device file, and remount it:\n[root@server2 ~]# sudo umount /boot [root@server2 ~]# sudo xfs_admin -L bootfs /dev/sda1 writing all SBs new label = \"bootfs\" Confirm the new label by executing sudo xfs_admin -l /dev/sda1 or sudo lsblk -f /dev/sda1.\nFor extended file systems, you can use the e2label command to apply a label and the tune2fs, blkid, and lsblk commands to view and verify.\nNow you can replace the UUID=\\\"22d05484-6ae1-4ef8-a37d-abab674a5e35\" for /boot in the fstab file with LABEL=bootfs, and unmount and remount /boot as demonstrated above for confirmation.\n[root@server2 ~]# mount /boot mount: (hint) your fstab has been modified, but systemd still uses the old version; use 'systemctl daemon-reload' to reload. A label may also be applied to a file system created in a logical volume; however, it is not recommended for use in the fstab file, as the device files for logical volumes are always unique and remain persistent across system reboots.\nAutomatically Mounting a File System at Reboots /etc/fstab File systems defined in the /etc/fstab file are mounted automatically at reboots. Must contain proper and complete information for each listed file system. An incomplete or inaccurate entry might leave the system in an undesirable or unbootable state. Only need to specify one of the four attributes Block device name UUID label mount point The mount command obtains the rest of the information from this file. Only need to specify one of these attributes with the umount command to detach it from the directory hierarchy. Contains entries for file systems that are created at the time of installation. [root@server2 ~]# cat /etc/fstab # # /etc/fstab # Created by anaconda on Sun Feb 25 12:11:47 2024 # # Accessible filesystems, by reference, are maintained under '/dev/disk/'. # See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info. # # After editing this file, run 'systemctl daemon-reload' to update systemd # units generated from this file. # /dev/mapper/rhel-root / xfs defaults 0 0 LABEL=bootfs /boot xfs defaults 0 0 /dev/mapper/rhel-swap none swap defaults 0 0 EXAM TIP: Any missing or invalid entry in this file may render the system unbootable. You will have to boot the system in emergency mode to fix this file. Ensure that you understand each field in the file for both file system and swap entries.\nThe format of this file is such that each row is broken out into six columns to identify the required attributes for each file system to be successfully mounted. Here is what the columns contain:\nColumn 1:\nphysical or virtual device path where the file system is resident, or its associated UUID or label. can be entries for network file systems here as well. Column 2:\nIdentifies the mount point for the file system. swap partitions, use either “none” or “swap”. Column 3:\nType of file system such as Ext3, Ext4, XFS, VFAT, or ISO9660. For swap, the type “swap” is used. may use “auto” instead to leave it up to the mount command to determine the type of the file system. Column 4:\nIdentifies one or more comma-separated options to be used when mounting the file system. Consult the manual pages of the mount command or the fstab file for additional options and details. Column 5:\nUsed by the dump utility to ascertain the file systems that need to be dumped. Value of 0 (or the absence of this column) disables this check. This field is applicable only on Extended file systems; XFS does not use it. Column 6:\nSequence number in which to run the e2fsck (file system check and repair utility for Extended file system types) utility on the file system at system boot.\nBy default, 0 is used for memory-based, remote, and removable file systems, 1 for /, and 2 for /boot and other physical file systems. 0 can also be used for /, /boot, and other physical file systems you don’t want to be checked or repaired.\nApplicable only on Extended file systems;\nXFS does not use it.\n0 in columns 5 and 6 for XFS, virtual, remote, and removable file system types has no meaning. You do not need to add them for these file system types.\nLab: Create and Mount Ext4, VFAT, and XFS File Systems in Partitions (server2) Create 2 x 100MB partitions on the /dev/sdb disk, initialize them separately with the Ext4 and VFAT file system types, define them for persistence using their UUIDs, create mount points called /ext4fs1 and /vfatfs1, attach them to the directorystructure verify their availability and usage you will use the disk /dev/sdc and repeat the above procedure to establish an XFS file system in it and mount it on /xfsfs1. 1. Apply the label “msdos” to the sdb disk using the parted command:\n[root@server20 ~]# sudo parted /dev/sdb mklabel msdos Warning: The existing disk label on /dev/sdb will be destroyed and all data on this disk will be lost. Do you want to continue? Yes/No? y Information: You may need to update /etc/fstab. 2. Create 2 x 100MB primary partitions on sdb with the parted command:\n[root@server20 ~]# sudo parted /dev/sdb mkpart primary 1 101m Information: You may need to update /etc/fstab. [root@server20 ~]# sudo parted /dev/sdb mkpart primary 102 201m Information: You may need to update /etc/fstab. 3. Initialize the first partition (sdb1) with Ext4 file system type using the mkfs command:\n[root@server20 ~]# sudo mkfs -t ext4 /dev/sdb1 mke2fs 1.46.5 (30-Dec-2021) /dev/sdb1 contains a LVM2_member file system Proceed anyway? (y,N) y Creating filesystem with 97280 1k blocks and 24288 inodes Filesystem UUID: 73db0582-7183-42aa-951d-2f48b7712597 Superblock backups stored on blocks: 8193, 24577, 40961, 57345, 73729 Allocating group tables: done Writing inode tables: done Creating journal (4096 blocks): done Writing superblocks and filesystem accounting information: done 4. Initialize the second partition (sdb2) with VFAT file system type using the mkfs command:\n[root@server20 ~]# sudo mkfs -t vfat /dev/sdb2 mkfs.fat 4.2 (2021-01-31) 5. Initialize the whole disk (sdc) with the XFS file system type using the mkfs.xfs command. Add the -f flag to force the removal of any old partitioning or labeling information from the disk.\n[root@server20 ~]# sudo mkfs.xfs /dev/sdc -f Filesystem should be larger than 300MB. Log size should be at least 64MB. Support for filesystems like this one is deprecated and they will not be supported in future releases. meta-data=/dev/sdc isize=512 agcount=4, agsize=16000 blks = sectsz=512 attr=2, projid32bit=1 = crc=1 finobt=1, sparse=1, rmapbt=0 = reflink=1 bigtime=1 inobtcount=1 nrext64=0 data = bsize=4096 blocks=64000, imaxpct=25 = sunit=0 swidth=0 blks naming =version 2 bsize=4096 ascii-ci=0, ftype=1 log =internal log bsize=4096 blocks=1368, version=2 = sectsz=512 sunit=0 blks, lazy-count=1 realtime =none extsz=4096 blocks=0, rtextents=0 6. Determine the UUIDs for all three file systems using the lsblk command:\n[root@server2 ~]# lsblk -f /dev/sdb /dev/sdc NAME FSTYPE FSVER LABEL UUID FSAVAIL FSUSE% MOUNTPOINTS sdb ├─sdb1 ext4 1.0 0bdd22d0-db53-40bb-8cc7-36efc9184196 └─sdb2 vfat FAT16 FB3A-6572 sdc xfs 91884326-9686-4569-96fa-9adb02c1f6f4\u003e) 7. Open the /etc/fstab file, go to the end of the file, and append entries for the file systems for persistence using their UUIDs:\nUUID=0bdd22d0-db53-40bb-8cc7-36efc9184196 /ext4fs1 ext4 defaults 0 0 UUID=FB3A-6572 /vfatfs1 vfat defaults 0 0 UUID=91884326-9686-4569-96fa-9adb02c1f6f4 /xfsfs1 xfs defaults 0 0 8. Create mount points /ext4fs1, /vfatfs1, and /xfsfs1 for the three file systems using the mkdir command: [root@server2 ~]# sudo mkdir /ext4fs1 /vfatfs1 /xfsfs1\n9. Mount the new file systems using the mount command. This command will fail if there are any invalid or missing information in the file.\n[root@server2 ~]# sudo mount -a mount: (hint) your fstab has been modified, but systemd still uses the old version; use 'systemctl daemon-reload' to reload. 10. View the mount and availability status as well as the types of all three file systems using the df command:\n[root@server2 ~]# df -hT Filesystem Type Size Used Avail Use% Mounted on devtmpfs devtmpfs 4.0M 0 4.0M 0% /dev tmpfs tmpfs 888M 0 888M 0% /dev/shm tmpfs tmpfs 356M 5.1M 351M 2% /run /dev/mapper/rhel-root xfs 17G 2.0G 15G 12% / /dev/sda1 xfs 960M 344M 617M 36% /boot tmpfs tmpfs 178M 0 178M 0% /run/user/0 /dev/sdb1 ext4 84M 14K 77M 1% /ext4fs1 /dev/sdb2 vfat 95M 0 95M 0% /vfatfs1 /dev/sdc xfs 245M 15M 231M 6% /xfsfs1 Lab: Create and Mount Ext4 and XFS File Systems in LVM Logical Volumes (server2) Create a volume group called vgfs comprised of a 172MB physical volume created in a partition on the /dev/sdd disk. The PE size for the volume group should be set at 16MB. Create two logical volumes called ext4vol and xfsvol of sizes 80MB each and initialize them with the Ext4 and XFS file system types. Ensure that both file systems are persistently defined using their logical volume device filenames. Create mount points called /ext4fs2 and /xfsfs2, Mount the file systems. Verify their availability and usage. 1. Create a 172MB partition on the sdd disk using the parted command:\n[root@server2 ~]# sudo parted /dev/sdd mkpart pri 1 172m Information: You may need to update /etc/fstab. 2. Initialize the sdd1 partition for use in LVM using the pvcreate command:\n[root@server2 ~]# sudo pvcreate /dev/sdd1 Device /dev/sdb2 has updated name (devices file /dev/sdd2) Device /dev/sdb1 has no PVID (devices file brKVLFEG3AoBzhWoso0Sa1gLYHgNZ4vL) Physical volume \"/dev/sdd1\" successfully created. 3. Create the volume group vgfs with a PE size of 16MB using the physical volume sdd1:\n[root@server2 ~]# sudo vgcreate -s 16 vgfs /dev/sdd1 Volume group \"vgfs\" successfully created The PE size is not easy to alter after a volume group creation, so ensure it is defined as required at creation.\n4. Create two logical volumes ext4vol and xfsvol of size 80MB each in vgfs using the lvcreate command:\n[root@server2 ~]# sudo lvcreate -n ext4vol -L 80 vgfs Logical volume \"ext4vol\" created. [root@server2 ~]# sudo lvcreate -n xfsvol -L 80 vgfs Logical volume \"xfsvol\" created. 5. Format the ext4vol logical volume with the Ext4 file system type using the mkfs.ext4 command:\n[root@server2 ~]# sudo mkfs.ext4 /dev/vgfs/ext4vol mke2fs 1.46.5 (30-Dec-2021) Creating filesystem with 81920 1k blocks and 20480 inodes Filesystem UUID: 4ed1fef7-2164-485b-8035-7f627cd59419 Superblock backups stored on blocks: 8193, 24577, 40961, 57345, 73729 Allocating group tables: done Writing inode tables: done Creating journal (4096 blocks): done Writing superblocks and filesystem accounting information: done You can also use sudo mkfs -t ext4 /dev/vgfs/ext4vol.\n6. Format the xfsvol logical volume with the XFS file system type using the mkfs.xfs command:\n[root@server2 ~]# sudo mkfs.xfs /dev/vgfs/xfsvol Filesystem should be larger than 300MB. Log size should be at least 64MB. Support for filesystems like this one is deprecated and they will not be supported in future releases. meta-data=/dev/vgfs/xfsvol isize=512 agcount=4, agsize=5120 blks = sectsz=512 attr=2, projid32bit=1 = crc=1 finobt=1, sparse=1, rmapbt=0 = reflink=1 bigtime=1 inobtcount=1 nrext64=0 data = bsize=4096 blocks=20480, imaxpct=25 = sunit=0 swidth=0 blks naming =version 2 bsize=4096 ascii-ci=0, ftype=1 log =internal log bsize=4096 blocks=1368, version=2 = sectsz=512 sunit=0 blks, lazy-count=1 realtime =none extsz=4096 blocks=0, rtextents=0 You may also use sudo mkfs -t xfs /dev/vgfs/xfsvol instead.\n7. Open the /etc/fstab file, go to the end of the file, and append entries for the file systems for persistence using their device files:\n/dev/vgfs/ext4vol /ext4fs2 ext4 defaults 0 0 /dev/vgfs/xfsvol /xfsfs2 xfs defaults 0 0 8. Create mount points /ext4fs2 and /xfsfs2 using the mkdir command: [root@server2 ~]# sudo mkdir /ext4fs2 /xfsfs2\n9. Mount the new file systems using the mount command. This command will fail if there is any invalid or missing information in the file.\n[root@server2 ~]# sudo mount -a mount: (hint) your fstab has been modified, but systemd still uses the old version; use 'systemctl daemon-reload' to reload. 10. View the mount and availability status as well as the types of the new LVM file systems using the lsblk and df commands:\n[root@server2 ~]# lsblk /dev/sdd NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sdd 8:48 0 250M 0 disk └─sdd1 8:49 0 163M 0 part ├─vgfs-ext4vol 253:2 0 80M 0 lvm /ext4fs2 └─vgfs-xfsvol 253:3 0 80M 0 lvm /xfsfs2 [root@server2 ~]# df -hT | grep fs2 /dev/mapper/vgfs-ext4vol ext4 70M 14K 64M 1% /ext4fs2 /dev/mapper/vgfs-xfsvol xfs 75M 4.8M 70M 7% /xfsfs2 Lab: Resize Ext4 and XFS File Systems in LVM Logical Volumes (server 2) Grow the size of the vgfs volume group that was created in the last lab by adding the whole sde disk to it. Extend the ext4vol logical volume along with the file system it contains by 40MB using two separate commands. Extend the xfsvol logical volume along with the file system it contains by 40MB using a single command. Verify the new extensions. 1. Initialize the sde disk and add it to the vgfs volume group:\nsde had a gpt partition table with no partitions ran the following to reset it:\n[root@server2 ~]# dd if=/dev/zero of=/dev/sde bs=1M count=2 conv=fsync 2+0 records in 2+0 records out 2097152 bytes (2.1 MB, 2.0 MiB) copied, 0.0102036 s, 206 MB/s [root@server2 ~]# sudo partprobe /dev/sde [root@server2 ~]# sudo pvcreate /dev/sde Physical volume \"/dev/sde\" successfully created. [root@server2 ~]# sudo pvcreate /dev/sde Physical volume \"/dev/sde\" successfully created. [root@server2 ~]# sudo vgextend vgfs /dev/sde Volume group \"vgfs\" successfully extended 2. Confirm the new size of vgfs using the vgs and vgdisplay commands:\n[root@server2 ~]# sudo vgs VG #PV #LV #SN Attr VSize VFree rhel 1 2 0 wz--n- \u003c19.00g 0 vgfs 2 2 0 wz--n- 400.00m 240.00m [root@server2 ~]# vgdisplay vgfs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found. --- Volume group --- VG Name vgfs System ID Format lvm2 Metadata Areas 2 Metadata Sequence No 4 VG Access read/write VG Status resizable MAX LV 0 Cur LV 2 Open LV 2 Max PV 0 Cur PV 2 Act PV 2 VG Size 400.00 MiB PE Size 16.00 MiB Total PE 25 Alloc PE / Size 10 / 160.00 MiB Free PE / Size 15 / 240.00 MiB VG UUID amDADJ-I4dH-jQUF-RFcE-58iL-jItl-5ti6LS There are now two physical volumes in the volume group and the total size increased to 400MiB.\n3. Grow the logical volume ext4vol and the file system it holds by 40MB using the lvextend and fsadm command pair. Make sure to use an uppercase L to specify the size. The default unit is MiB. The plus sign (+) signifies an addition to the current size.\n[root@server2 ~]# sudo lvextend -L +40 /dev/vgfs/ext4vol Rounding size to boundary between physical extents: 48.00 MiB. Size of logical volume vgfs/ext4vol changed from 80.00 MiB (5 extents) to 128.00 MiB (8 extents). Logical volume vgfs/ext4vol successfully resized. [root@server2 ~]# sudo fsadm resize /dev/vgfs/ext4vol resize2fs 1.46.5 (30-Dec-2021) Filesystem at /dev/mapper/vgfs-ext4vol is mounted on /ext4fs2; on-line resizing required old_desc_blocks = 1, new_desc_blocks = 1 The filesystem on /dev/mapper/vgfs-ext4vol is now 131072 (1k) blocks long. The resize subcommand instructs the fsadm command to grow the file system to the full length of the specified logical volume.\n4. Grow the logical volume xfsvol and the file system (-r) it holds by (+) 40MB using the lvresize command:\n[root@server2 ~]# sudo lvresize -r -L +40 /dev/vgfs/xfsvol Rounding size to boundary between physical extents: 48.00 MiB. Size of logical volume vgfs/xfsvol changed from 80.00 MiB (5 extents) to 128.00 MiB (8 extents). File system xfs found on vgfs/xfsvol mounted at /xfsfs2. Extending file system xfs to 128.00 MiB (134217728 bytes) on vgfs/xfsvol... xfs_growfs /dev/vgfs/xfsvol meta-data=/dev/mapper/vgfs-xfsvol isize=512 agcount=4, agsize=5120 blks = sectsz=512 attr=2, projid32bit=1 = crc=1 finobt=1, sparse=1, rmapbt=0 = reflink=1 bigtime=1 inobtcount=1 nrext64=0 data = bsize=4096 blocks=20480, imaxpct=25 = sunit=0 swidth=0 blks naming =version 2 bsize=4096 ascii-ci=0, ftype=1 log =internal log bsize=4096 blocks=1368, version=2 = sectsz=512 sunit=0 blks, lazy-count=1 realtime =none extsz=4096 blocks=0, rtextents=0 data blocks changed from 20480 to 32768 xfs_growfs done Extended file system xfs on vgfs/xfsvol. Logical volume vgfs/xfsvol successfully resized. 5. Verify the new extensions to both logical volumes using the lvs command. You may also issue the lvdisplay or vgdisplay command instead.\n[root@server2 ~]# sudo lvs | grep vol Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found. ext4vol vgfs -wi-ao---- 128.00m xfsvol vgfs -wi-ao---- 128.00m 6. Check the new sizes and the current mount status for both file systems using the df and lsblk commands:\n[root@server2 ~]# df -hT | grep -E 'ext4vol|xfsvol' /dev/mapper/vgfs-xfsvol xfs 123M 5.4M 118M 5% /xfsfs2 /dev/mapper/vgfs-ext4vol ext4 115M 14K 107M 1% /ext4fs2 [root@server2 ~]# lsblk /dev/sdd /dev/sde NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sdd 8:48 0 250M 0 disk └─sdd1 8:49 0 163M 0 part ├─vgfs-ext4vol 253:2 0 128M 0 lvm /ext4fs2 └─vgfs-xfsvol 253:3 0 128M 0 lvm /xfsfs2 sde 8:64 0 250M 0 disk ├─vgfs-ext4vol 253:2 0 128M 0 lvm /ext4fs2 └─vgfs-xfsvol 253:3 0 128M 0 lvm /xfsfs2 Lab: Create and Mount XFS File System in LVM VDO Volume Create an LVM VDO volume called lvvdo of virtual size 20GB on the 5GB sdf disk in a volume group called vgvdo1. Initialize the volume with the XFS file system type. Define it for persistence using its device files. Create a mount point called /xfsvdo1, attach it to the directory structure. verify its availability and usage.\\ 1. Initialize the sdf disk using the pvcreate command:\n[root@server2 ~]# sudo pvcreate /dev/sdf WARNING: adding device /dev/sdf with idname t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 which is already used for missing device. Physical volume \"/dev/sdf\" successfully created. 2. Create vgvdo1 volume group using the vgcreate command:\n[root@server2 ~]# sudo vgcreate vgvdo1 /dev/sdf WARNING: adding device /dev/sdf with idname t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 which is already used for missing device. Volume group \"vgvdo1\" successfully created 3. Display basic information about the volume group:\nroot@server2 ~]# sudo vgdisplay vgvdo1 Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found. --- Volume group --- VG Name vgvdo1 System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 1 VG Access read/write VG Status resizable MAX LV 0 Cur LV 0 Open LV 0 Max PV 0 Cur PV 1 Act PV 1 VG Size \u003c5.00 GiB PE Size 4.00 MiB Total PE 1279 Alloc PE / Size 0 / 0 Free PE / Size 1279 / \u003c5.00 GiB VG UUID b9u8Ng-m3BF-Jz2b-sBu8-gEG1-bBGQ-sBgrt0 4. Create a VDO volume called lvvdo1 using the lvcreate command. Use the -l option to specify the number of logical extents (1279) to be allocated and the -V option for the amount of virtual space (20GB).\n[root@server2 ~]# sudo lvcreate -n lvvdo -l 1279 -V 20G --type vdo vgvdo1 WARNING: vdo signature detected on /dev/vgvdo1/vpool0 at offset 0. Wipe it? [y/n]: y Wiping vdo signature on /dev/vgvdo1/vpool0. The VDO volume can address 2 GB in 1 data slab. It can grow to address at most 16 TB of physical storage in 8192 slabs. If a larger maximum size might be needed, use bigger slabs. Logical volume \"lvvdo\" created. 5. Display detailed information about the volume group including the logical volume and the physical volume:\n[root@server2 ~]# sudo vgdisplay -v vgvdo1 Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found. --- Volume group --- VG Name vgvdo1 System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 3 VG Access read/write VG Status resizable MAX LV 0 Cur LV 2 Open LV 0 Max PV 0 Cur PV 1 Act PV 1 VG Size \u003c5.00 GiB PE Size 4.00 MiB Total PE 1279 Alloc PE / Size 1279 / \u003c5.00 GiB Free PE / Size 0 / 0 VG UUID b9u8Ng-m3BF-Jz2b-sBu8-gEG1-bBGQ-sBgrt0 --- Logical volume --- LV Path /dev/vgvdo1/vpool0 LV Name vpool0 VG Name vgvdo1 LV UUID nTPKtv-3yTW-J7Cy-HVP1-Aujs-cXZ6-gdS2fI LV Write Access read/write LV Creation host, time server2, 2024-07-01 12:57:56 -0700 LV VDO Pool data vpool0_vdata LV VDO Pool usage 60.00% LV VDO Pool saving 100.00% LV VDO Operating mode normal LV VDO Index state online LV VDO Compression st online LV VDO Used size \u003c3.00 GiB LV Status NOT available LV Size \u003c5.00 GiB Current LE 1279 Segments 1 Allocation inherit Read ahead sectors auto --- Logical volume --- LV Path /dev/vgvdo1/lvvdo LV Name lvvdo VG Name vgvdo1 LV UUID Z09BdK-ETJk-Gi53-m8Cg-mnTd-RYug-Z9nV0L LV Write Access read/write LV Creation host, time server2, 2024-07-01 12:58:02 -0700 LV VDO Pool name vpool0 LV Status available # open 0 LV Size 20.00 GiB Current LE 5120 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 8192 Block device 253:6 --- Physical volumes --- PV Name /dev/sdf PV UUID WKc956-Xp66-L8v9-VA6S-KWM5-5e3X-kx1v0V PV Status allocatable Total PE / Free PE 1279 / 0 6. Display the new VDO volume creation using the lsblk command:\n[root@server2 ~]# sudo lsblk /dev/sdf NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sdf 8:80 0 5G 0 disk └─vgvdo1-vpool0_vdata 253:4 0 5G 0 lvm └─vgvdo1-vpool0-vpool 253:5 0 20G 0 lvm └─vgvdo1-lvvdo 253:6 0 20G 0 lvm The output shows the virtual volume size (20GB) and the underlying disk size (5GB).\n7. Initialize the VDO volume with the XFS file system type using the mkfs.xfs command. The VDO volume device file is /dev/mapper/vgvdo1-lvvdo as indicated in the above output. Add the -f flag to force the removal of any old partitioning or labeling information from the disk.\n[root@server2 mapper]# sudo mkfs.xfs /dev/mapper/vgvdo1-lvvdo meta-data=/dev/mapper/vgvdo1-lvvdo isize=512 agcount=4, agsize=1310720 blks = sectsz=4096 attr=2, projid32bit=1 = crc=1 finobt=1, sparse=1, rmapbt=0 = reflink=1 bigtime=1 inobtcount=1 nrext64=0 data = bsize=4096 blocks=5242880, imaxpct=25 = sunit=0 swidth=0 blks naming =version 2 bsize=4096 ascii-ci=0, ftype=1 log =internal log bsize=4096 blocks=16384, version=2 = sectsz=4096 sunit=1 blks, lazy-count=1 realtime =none extsz=4096 blocks=0, rtextents=0 Discarding blocks...Done. (lab said vgvdo1-lvvdo1 but it didn’t exist for me.)\n8. Open the /etc/fstab file, go to the end of the file, and append the following entry for the file system for persistent mounts using its device file:\n/dev/mapper/vgvdo1-lvvdo /xfsvdo1 xfs defaults 0 0 9. Create the mount point /xfsvdo1 using the mkdir command:\n[root@server2 mapper]# sudo mkdir /xfsvdo1 10. Mount the new file system using the mount command. This command will fail if there are any invalid or missing information in the file.\n[root@server2 mapper]# sudo mount -a mount: (hint) your fstab has been modified, but systemd still uses the old version; use 'systemctl daemon-reload' to reload. The mount command with the -a flag is a validation test for the fstab file. It should always be executed after updating this file and before rebooting the server to avoid landing the system in an unbootable state.\n11. View the mount and availability status as well as the type of the VDO file system using the lsblk and df commands:\n[root@server2 mapper]# lsblk /dev/sdf NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sdf 8:80 0 5G 0 disk └─vgvdo1-vpool0_vdata 253:4 0 5G 0 lvm └─vgvdo1-vpool0-vpool 253:5 0 20G 0 lvm └─vgvdo1-lvvdo 253:6 0 20G 0 lvm /xfsvdo1 [root@server2 mapper]# df -hT /xfsvdo1 Filesystem Type Size Used Avail Use% Mounted on /dev/mapper/vgvdo1-lvvdo xfs 20G 175M 20G 1% /xfsvdo1 Monitoring File System Usage df (disk free) command reports usage details for mounted file systems. reports the numbers in KBs unless the -m or -h option is specified to view the sizes in MBs or human-readable format. Let’s run this command with the -h option on server2:\n[root@server2 ~]# df -h Filesystem Size Used Avail Use% Mounted on devtmpfs 4.0M 0 4.0M 0% /dev tmpfs 888M 0 888M 0% /dev/shm tmpfs 356M 5.1M 351M 2% /run /dev/mapper/rhel-root 17G 2.0G 15G 12% / tmpfs 178M 0 178M 0% /run/user/0 /dev/sda1 960M 344M 617M 36% /boot Column 1:\nfile system device file or type Columns 2, 3, 4, 5, 6\ntotal, used, and available spaces in and the usage percentage and mount point Useful flags\n-T Add the file system type to the output (example: df -hT) -x\nExclude the specified file system type from the output (example: df -hx tmpfs) -t Limit the output to a specific file system type (example: df -t xfs) -i\nshow inode information (example: df -hi) Calculating Disk Usage du command reports the amount of space a file or directory occupies. -m or -h option to view the output in MBs or human-readable format. In addition, you can view a usage summary with the -s switch and a grand total with -c. Run this command on the /usr/bin directory to view the usage summary:\n[root@server2 ~]# du -sh /usr/bin 151M\t/usr/bin Add a “total” row to the output and with numbers displayed in KBs:\n[root@server2 ~]# du -sc /usr/bin 154444\t/usr/bin 154444\ttotal [root@server2 ~]# du -sch /usr/bin 151M\t/usr/bin 151M\ttotal Try this command with different options on the /usr/sbin/lvm file and observe the results.\nSwap and its Management Move pages of idle data between physical memory and swap.\nSwap areas act as extensions to the physical memory.\nMay be activated or deactivated independent of swap spaces located in other partitions and volumes.\nThe system splits the physical memory into small logical chunks called pages and maps their physical locations to virtual locations on the swap to facilitate access by system processors.\nThis physical-to-virtual mapping of pages is stored in a data structure called page table, and it is maintained by the kernel.\nWhen a program or process is spawned, it requires space in the physical memory to run and be processed.\nAlthough many programs can run concurrently, the physical memory cannot hold all of them at once.\nThe kernel monitors the memory usage.\nAs long as the free memory remains above a high threshold, nothing happens.\nWhen the free memory falls below that threshold, the system starts moving selected idle pages of data from physical memory to the swap space to make room to accommodate other programs.\nThis piece in the process is referred to as page out.\nSince the system CPU performs the process execution in around-robin fashion, when the system needs this paged-out data for execution, the CPU looks for that data in the physical memory and a pagefault occurs, resulting in moving the pages back to the physical memory from the swap.\nThis return of data to the physical memory is referred to as page in.\nThe entire process of paging data out and in is known as demand paging.\nRHEL systems with less physical memory but high memory requirements can become over busy with paging out and in.\nWhen this happens, they do not have enough cycles to carry out other useful tasks, resulting in degraded system performance.\nThe excessive amount of paging that affects the system performance is called thrashing.\nWhen thrashing begins, or when the free physical memory falls below a low threshold, the system deactivates idle processes and prevents new processes from being launched.\nThe idle processes are only reactivated, and new processes are only allowed to be started when the system discovers that the available physical memory has climbed above the threshold level and thrashing has ceased.\nDetermining Current Swap Usage Size of a swap area should not be less than the amount of physical memory. Depending on workload requirements, it may be twice the size or larger. It is also not uncommon to see systems with less swap than the actual amount of physical memory. This is especially witnessed on systems with a huge physical memory size. free command View memory and swap space utilization. view how much physical memory is installed (total), used (used), available (free), used by shared library routines (shared), holding data before it is written to disk (buffers), and used to store frequently accessed data (cached) on the system. The -h list the values in human-readable format, -k for KB, -m for MB, -g for GB, -t display a line with the “total” at the bottom of the output. [root@server2 mapper]# free -ht total used free shared buff/cache available Mem: 1.7Gi 783Mi 714Mi 5.0Mi 440Mi 991Mi Swap: 2.0Gi 0B 2.0Gi Total: 3.7Gi 783Mi 2.7Gi Try free -hts 3 and free -htc 2 to refresh the output every three seconds (-s) and to display the output twice (-c).\nReads memory and swap information from the /proc/meminfo file to produce the report. The values are shown in KBs by default, and they are slightly off from what is shown above with free. Here are the relevant fields from this file: [root@server2 mapper]# cat /proc/meminfo | grep -E 'Mem|Swap' MemTotal: 1818080 kB MemFree: 731724 kB MemAvailable: 1015336 kB SwapCached: 0 kB SwapTotal: 2097148 kB SwapFree: 2097148 kB Prioritizing Swap Spaces You may find multiple swap areas configured and activated to meet the workload demand. The default behavior of RHEL is to use the first activated swap area and move on to the next when the first one is exhausted. The system allows us to prioritize one area over the other by adding the option “pri” to the swap entries in the fstab file. This flag supports a value between -2 and 32767 with -2 being the default. A higher value of “pri” sets a higher priority for the corresponding swap region. For swap areas with an identical priority, the system alternates between them. Swap Administration Commands In order to create and manage swap spaces on the system, the mkswap, swapon, and swapoff commands are available. Use mkswap to initialize a partition for use as a swap space. Once the swap area is ready, you can activate or deactivate it from the command line with the help of the other two commands, Can also set it up for automatic activation by placing an entry in the fstab file. The fstab file accepts the swap area’s device file, UUID, or label. Lab: Create and Activate Swap in Partition and Logical Volume (server 2) Create one swap area in a new 40MB partition called sdb3 using the mkswap command. Create another swap area in a 140MB logical volume called swapvol in vgfs. Add their entries to the /etc/fstab file for persistence. Use the UUID and priority 1 for the partition swap and the device file and priority 2 for the logical volume swap. Activate them and use appropriate tools to validate the activation. EXAM TIP: Use the lsblk command to determine available disk space.\n1. Use parted print on the sdb disk and the vgs command on the vgfs volume group to determine available space for a new 40MB partition and a 144MB logical volume:\n[root@server2 mapper]# sudo parted /dev/sdb print Model: ATA VBOX HARDDISK (scsi) Disk /dev/sdb: 262MB Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 1 1049kB 101MB 99.6MB primary ext4 2 102MB 201MB 99.6MB primary fat16 [root@server2 mapper]# sudo vgs vgfs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found. VG #PV #LV #SN Attr VSize VFree vgfs 2 2 0 wz--n- 400.00m 144.00m The outputs show 49MB (250MB minus 201MB) free space on the sdb disk and 144MB free space in the volume group.\n2. Create a partition called sdb3 of size 40MB using the parted command:\n[root@server2 mapper]# sudo parted /dev/sdb mkpart primary 202 242 Information: You may need to update /etc/fstab. 3. Create logical volume swapvol of size 144MB in vgs using the lvcreate command:\n[root@server2 mapper]# sudo lvcreate -L 144 -n swapvol vgfs Logical volume \"swapvol\" created. 4. Construct swap structures in sdb3 and swapvol using the mkswap command:\n[root@server2 mapper]# sudo mkswap /dev/sdb3 Setting up swapspace version 1, size = 38 MiB (39841792 bytes) no label, UUID=a796e0df-b1c3-4c30-bdde-dd522bba4fff [root@server2 mapper]# sudo mkswap /dev/vgfs/swapvol Setting up swapspace version 1, size = 144 MiB (150990848 bytes) no label, UUID=88196e73-feaf-4137-8743-f9340296aeec 5. Edit the fstab file and add entries for both swap areas for auto-activation on reboots. Obtain the UUID for partition swap with lsblk -f /dev/sdb3 and use the device file for logical volume. Specify their priorities.\nUUID=a796e0df-b1c3-4c30-bdde-dd522bba4fff swap swap pri=1 0 0 /dev/vgfs/swapvol swap swap pri=2 0 0 EXAM TIP: You will not be given any credit for this work if you forget to add entries to the fstab file.\n6. Determine the current amount of swap space on the system using the swapon command:\n[root@server2]# sudo swapon NAME TYPE SIZE USED PRIO /dev/dm-1 partition 2G 0B -2 There is one 2GB swap area on the system and it is configured at the default priority of -2.\n7. Activate the new swap regions using the swapon command:\n[root@server2]# sudo swapon -a 8. Confirm the activation using the swapon command or by viewing the /proc/swaps file:\n[root@server2 mapper]# sudo swapon NAME TYPE SIZE USED PRIO /dev/dm-1 partition 2G 0B -2 /dev/sdb3 partition 38M 0B 1 /dev/dm-7 partition 144M 0B 2 [root@server2 mapper]# cat /proc/swaps Filename\tType\tSize\tUsed\tPriority /dev/dm-1 partition\t2097148\t0\t-2 /dev/sdb3 partition\t38908\t0\t1 /dev/dm-7 partition\t147452\t0\t2 #dm is device mapper 9. Issue the free command to view the reflection of swap numbers on the Swap and Total lines:\n[root@server2 mapper]# free -ht total used free shared buff/cache available Mem: 1.7Gi 793Mi 706Mi 5.0Mi 438Mi 981Mi Swap: 2.2Gi 0B 2.2Gi Total: 3.9Gi 793Mi 2.9Gi Local Filesystems and Swap DIY Labs Lab: Create VFAT, Ext4, and XFS File Systems in Partitions and Mount Persistently Create three 70MB primary partitions on one of the available 250MB disks (lsblk) by invoking the parted utility directly at the command prompt. [root@server2 mapper]# parted /dev/sdc mklabel msdos Information: You may need to update /etc/fstab. [root@server2 mapper]# parted /dev/sdc mkpart primary 1 70m Information: You may need to update /etc/fstab. root@server2 mapper]# parted /dev/sdb print Model: ATA VBOX HARDDISK (scsi) Disk /dev/sdb: 262MB Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 1 1049kB 70.3MB 69.2MB primary parted) mkpart primary 71MB 140MB Warning: The resulting partition is not properly aligned for best performance: 138671s % 2048s != 0s Ignore/Cancel? Ignore/Cancel? ignore (parted) mkpart primary 140MB 210MB Warning: The resulting partition is not properly aligned for best performance: 273438s % 2048s != 0s Ignore/Cancel? ignore (parted) print Model: ATA VBOX HARDDISK (scsi) Disk /dev/sdb: 262MB Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 1 1049kB 70.3MB 69.2MB primary 2 71.0MB 140MB 69.0MB primary 3 140MB 210MB 70.0MB primary Apply label “msdos” if the disk is new. Initialize partition 1 with VFAT, partition 2 with Ext4, and partition 3 with XFS file system types. [root@server2 mapper]# sudo mkfs -t vfat /dev/sdc1 mkfs.fat 4.2 (2021-01-31) [root@server2 mapper]# sudo mkfs -t ext4 /dev/sdc2 mke2fs 1.46.5 (30-Dec-2021) Creating filesystem with 67380 1k blocks and 16848 inodes Filesystem UUID: 43b590ff-3330-4b88-aef9-c3a97d8cf51e Superblock backups stored on blocks: 8193, 24577, 40961, 57345 Allocating group tables: done Writing inode tables: done Creating journal (4096 blocks): done Writing superblocks and filesystem accounting information: done [root@server2 mapper]# sudo mkfs -t xfs /dev/sdc3 Filesystem should be larger than 300MB. Log size should be at least 64MB. Support for filesystems like this one is deprecated and they will not be supported in future releases. meta-data=/dev/sdb3 isize=512 agcount=4, agsize=4273 blks = sectsz=512 attr=2, projid32bit=1 = crc=1 finobt=1, sparse=1, rmapbt=0 = reflink=1 bigtime=1 inobtcount=1 nrext64=0 data = bsize=4096 blocks=17089, imaxpct=25 = sunit=0 swidth=0 blks naming =version 2 bsize=4096 ascii-ci=0, ftype=1 log =internal log bsize=4096 blocks=1368, version=2 = sectsz=512 sunit=0 blks, lazy-count=1 realtime =none extsz=4096 blocks=0, rtextents=0 Create mount points /vfatfs5, /ext4fs5, and /xfsfs5, and mount all three manually. [root@server2 mapper]# mkdir /vfatfs5 /ext4fs5 /xfsfs5 [root@server2 mapper]# mount /dev/sdc1 /vfatfs5 mount: (hint) your fstab has been modified, but systemd still uses the old version; use 'systemctl daemon-reload' to reload. [root@server2 mapper]# mount /dev/sdc2 /ext4fs5 mount: (hint) your fstab has been modified, but systemd still uses the old version; use 'systemctl daemon-reload' to reload. [root@server2 mapper]# mount /dev/sdc3 /xfsfs5 mount: (hint) your fstab has been modified, but systemd still uses the old version; use 'systemctl daemon-reload' to reload. [root@server2 mapper]# mount /dev/sdb1 on /vfatfs5 type vfat (rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=ascii,shortname=mixed,errors=remount-ro) /dev/sdb2 on /ext4fs5 type ext4 (rw,relatime,seclabel) /dev/sdb3 on /xfsfs5 type xfs (rw,relatime,seclabel,attr2,inode64,logbufs=8,logbsize=32k,noquota) Determine the UUIDs for the three file systems, and add them to the fstab file. [root@server2 mapper]# blkid /dev/sdc1 /dev/sdc2 /dev/sdc3 \u003e\u003e /etc/fstab [root@server2 mapper]# vim /etc/fstab Unmount all three file systems manually, and execute mount -a to mount them all. umount /dev/sdb1 /dev/sdb2 /dev/sdb3 Run df -h for verification. Lab: Create XFS File System in LVM VDO Volume and Mount Persistently Ensure that VDO software is installed. sudo dnf install kmod-kvdo\nCreate a volume vdo5 with a logical size 20GB on a 5GB disk (lsblk) using the lvcreate command.\n[root@server2 ~]# sudo lvcreate -n vdo5 -l 1279 -V 20G --type vdo vgvdo1 WARNING: vdo signature detected on /dev/vgvdo1/vpool0 at offset 0. Wipe it? [y/n]: y Wiping vdo signature on /dev/vgvdo1/vpool0. The VDO volume can address 2 GB in 1 data slab. It can grow to address at most 16 TB of physical storage in 8192 slabs. If a larger maximum size might be needed, use bigger slabs. Logical volume \"vdo5\" created. Initialize the volume with XFS file system type. [root@server2 mapper]# sudo mkfs.xfs /dev/mapper/vgvdo1-vdo5 meta-data=/dev/mapper/vgvdo1-vdo5 isize=512 agcount=4, agsize=1310720 blks = sectsz=4096 attr=2, projid32bit=1 = crc=1 finobt=1, sparse=1, rmapbt=0 = reflink=1 bigtime=1 inobtcount=1 nrext64=0 data = bsize=4096 blocks=5242880, imaxpct=25 = sunit=0 swidth=0 blks naming =version 2 bsize=4096 ascii-ci=0, ftype=1 log =internal log bsize=4096 blocks=16384, version=2 = sectsz=4096 sunit=1 blks, lazy-count=1 realtime =none extsz=4096 blocks=0, rtextents=0 Discarding blocks...Done. Create mount point /vdofs5, and mount it manually. [root@server2 mapper]# mkdir /vdofs5 [root@server2 mapper]#mount /dev/mapper/vgvdo1-vdo5 /vdofs5)/etc/fstab [root@server2 mapper]# umount /dev/mapper/vgvdo1-vdo5 Unmount the file system manually and execute mount -a to mount it back. [root@server2 mapper]# blkid /dev/mapper/vgvdo1-vdo5 \u003e\u003e /etc/fstab [root@server2 mapper]# vim /etc/fstab Run df -h to confirm. Lab: Create Ext4 and XFS File Systems in LVM Volumes and Mount Persistently Initialize an available 250MB disk for use in LVM (lsblk). [root@server2 mapper]# parted /dev/sdc mklabel msdos Warning: The existing disk label on /dev/sdc will be destroyed and all data on this disk will be lost. Do you want to continue? Yes/No? y Information: You may need to update /etc/fstab. [root@server2 mapper]# parted /dev/sdc mkpart primary 1 100% Information: You may need to update /etc/fstab. Create volume group vg with PE size 8MB and add the physical volume. [root@server2 ~]# sudo pvcreate /dev/sdc1 Devices file /dev/sdc is excluded: device is partitioned. WARNING: adding device /dev/sdc1 with idname t10.ATA_VBOX_HARDDISK_VB6894bac4-590d5546 which is already used for /dev/sdc. Physical volume \"/dev/sdc1\" successfully created. [root@server2 ~]# vgcreate -s 8 vg /dev/sdc1 Devices file /dev/sdc is excluded: device is partitioned. WARNING: adding device /dev/sdc1 with idname t10.ATA_VBOX_HARDDISK_VB6894bac4-590d5546 which is already used for /dev/sdc. Volume group \"vg\" successfully created Create two logical volumes lv200 and lv300 of sizes 120MB and 100MB. [root@server2 ~]# lvcreate -n lv200 -L 120 vg Devices file /dev/sdc is excluded: device is partitioned. Logical volume \"lv200\" created. [root@server2 ~]# lvcreate -n lv300 -L 100 vg Rounding up size to full physical extent 104.00 MiB Logical volume \"lv300\" created. Use the vgs, pvs, lvs, and vgdisplay commands for verification. Initialize the volumes with Ext4 and XFS file system types. [root@server2 ~]# mkfs.ext4 /dev/vg/lv200 mke2fs 1.46.5 (30-Dec-2021) Creating filesystem with 122880 1k blocks and 30720 inodes Filesystem UUID: 52eac2ee-b5bd-4025-9e40-356b38d21996 Superblock backups stored on blocks: 8193, 24577, 40961, 57345, 73729 Allocating group tables: done Writing inode tables: done Creating journal (4096 blocks): done Writing superblocks and filesystem accounting information: done [root@server2 ~]# mkfs.xfs /dev/vg/lv300 Filesystem should be larger than 300MB. Log size should be at least 64MB. Support for filesystems like this one is deprecated and they will not be supported in future releases. meta-data=/dev/vg/lv300 isize=512 agcount=4, agsize=6656 blks = sectsz=512 attr=2, projid32bit=1 = crc=1 finobt=1, sparse=1, rmapbt=0 = reflink=1 bigtime=1 inobtcount=1 nrext64=0 data = bsize=4096 blocks=26624, imaxpct=25 = sunit=0 swidth=0 blks naming =version 2 bsize=4096 ascii-ci=0, ftype=1 log =internal log bsize=4096 blocks=1368, version=2 = sectsz=512 sunit=0 blks, lazy-count=1 realtime =none extsz=4096 blocks=0, rtextents=0 Create mount points /lvmfs5 and /lvmfs6, and mount them manually. [root@server2 ~]# mkdir /lvmfs5 /lvmfs6 [root@server2 ~]# mount /dev/vg/lv200 /lvmfs5 mount: (hint) your fstab has been modified, but systemd still uses the old version; use 'systemctl daemon-reload' to reload. [root@server2 ~]# mount /dev/vg/lv300 /lvmfs6 mount: (hint) your fstab has been modified, but systemd still uses the old version; use 'systemctl daemon-reload' to reload. Add the file system information to the fstab file using their device files. [root@server2 ~]# blkid /dev/vg/lv200 \u003e\u003e /etc/fstab [root@server2 ~]# blkid /dev/vg/lv300 \u003e\u003e /etc/fstab [root@server2 ~]# vim /etc/fstab Unmount the file systems manually, and execute mount -a to mount them back. Run df -h to confirm. [root@server2 ~]# umount /dev/vg/lv200 /dev/vg/lv300 [root@server2 ~]# mount -a Lab 14-4: Extend Ext4 and XFS File Systems in LVM Volumes initialize an available 250MB disk for use in LVM (lsblk). [root@server2 ~]# pvcreate /dev/sdb Devices file /dev/sdc is excluded: device is partitioned. WARNING: dos signature detected on /dev/sdb at offset 510. Wipe it? [y/n]: y Wiping dos signature on /dev/sdb. WARNING: adding device /dev/sdb with idname t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f which is already used for missing device. Physical volume \"/dev/sdb\" successfully created. Add the new physical volume to volume group vg200. [root@server2 ~]# vgextend vg /dev/sdb Devices file /dev/sdc is excluded: device is partitioned. WARNING: adding device /dev/sdb with idname t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f which is already used for missing device. Volume group \"vg\" successfully extended Expand logical volumes lv200 and lv300 along with the underlying file systems to 200MB and 250MB. [root@server2 ~]# lvextend -L 200m /dev/vg/lv200 Size of logical volume vg/lv200 changed from 120.00 MiB (15 extents) to 200.00 MiB (25 extents). Logical volume vg/lv200 successfully resized. [root@server2 ~]# lvextend -L 250m /dev/vg/lv200 Rounding size to boundary between physical extents: 256.00 MiB. Size of logical volume vg/lv200 changed from 200.00 MiB (25 extents) to 256.00 MiB (32 extents). Logical volume vg/lv200 successfully resized. Use the vgs, pvs, lvs, vgdisplay, and df commands for verification. Lab 14-5: Create Swap in Partition and LVM Volume and Activate Persistently Create two 100MB partitions on an available 250MB disk (lsblk) by invoking the parted utility directly at the command prompt. Apply label “msdos” if the disk is new. [root@localhost ~]# parted /dev/sdd mklabel msdos Information: You may need to update /etc/fstab. [root@localhost ~]# parted /dev/sdd mkpart primary 1 100MB Information: You may need to update /etc/fstab. [root@localhost ~]# parted /dev/sdd mkpart primary 101 201 Information: You may need to update /etc/fstab. Initialize one of the partitions with swap structures. [root@localhost ~]# sudo mkswap /dev/sdd1 Setting up swapspace version 1, size = 94 MiB (98562048 bytes) no label, UUID=40eea6c2-b80c-4b25-ad76-611071db52d5 Apply label swappart to the swap partition, and add it to the fstab file. [root@localhost ~]# swaplabel -L swappart /dev/sdd1 [root@localhost ~]# blkid /dev/sdd1 \u003e\u003e /etc/fstab [root@localhost ~]# vim /etc/fstab UUID=\"40eea6c2-b80c-4b25-ad76-611071db52d5\" swap swap pri=1 0 0 Execute swapon -a to activate it.\nRun swapon -s to confirm activation.\nInitialize the other partition for use in LVM.\n[root@localhost ~]# pvcreate /dev/sdd2 Physical volume \"/dev/sdd2\" successfully created. Expand volume group vg (Lab 14-3) by adding this physical volume to it. [root@localhost ~]# vgextend vg /dev/sdd2 Volume group \"vg200\" successfully extended Create logical volume swapvol of size 180MB. [root@localhost ~]# lvcreate -L 180 -n swapvol vg Logical volume \"swapvol\" created. Use the vgs, pvs, lvs, and vgdisplay commands for verification. Initialize the logical volume for swap. [root@localhost vg200]# mkswap /dev/vg/swapvol Setting up swapspace version 1, size = 180 MiB (188739584 bytes) no label, UUID=a4b939d0-4b53-4e73-bee5-4c402aff6f9b Add an entry to the fstab file for the new swap area using its device file. [root@localhost vg200]# vim /etc/fstab /dev/vg200/swapvol swap swap pri=2 0 0 Execute swapon -a to activate it. Run swapon -s to confirm activation.",
    "description": "Local file systems and swap",
    "tags": [],
    "title": "Local File Systems and Swap",
    "uri": "/redhat/local-file-systems-and-swap/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "In Progress I am reading way too many books at once. Goal is to cut this list down and read only 1 book at a time.\nBooks I have Read These are books that I have read from cover to cover. (Checkmarks are to help me keep track of Physically Owned Books/ Books I want to own)\nHealth and Fitness The Obesity Code: Unlocking the Secrets of Weight Loss (Why Intermittent Fasting Is the Key to Controlling Your Weight The Little Book of Quitting Caffeine: Freedom From Addiction Meat Is for Pussies: A How-To Guide for Dudes Who Want to Get Fit, Kick Ass, and Take Names Caffeine Blues: Wake Up to the Hidden Dangers of America’s #1 Drug Why We Sleep: Unlocking the Power of Sleep and Dreams and Building a Strong Foundation for Enhancing Performance Deskbound: Standing Up to a Sitting World Ready to Run: Unlocking Your Potential to Run Naturally 5/3/1: The Simplest and Most Effective Training System for Raw Strength Skinny Bitch: A No-Nonsense, Tough-Love Guide for Savvy Girls Who Want to Stop Eating Crap and Start Looking Fabulous! The Starch Solution: Eat the Foods You Love, Regain Your Health, and Lose the Weight for Good! The Trigger Point Therapy Workbook: Your Self-Treatment Guide for Pain Relief] Becoming a Supple Leopard: The Ultimate Guide to Resolving Pain, Preventing Injury, and Optimizing Athletic Performance How Not to Die: Discover the Foods Scientifically Proven to Prevent and Reverse Disease Becoming a Supple Leopard 2nd Edition: The Ultimate Guide to Resolving Pain, Preventing Injury, and Optimizing Athletic Performance Improve the Quality of Your Life - Why Live in Pain? Money Who Owns the Ice House? : Eight Life Lessons From an Unlikely Entrepreneur How To Make More Money Serving: Your Step by Step Guide for Increasing Tips How to Become an Excellent Server: Earn a Tip Above 20% Every Time Service That Sells!: The Art of Profitable Hospitality The Renegade Server: Uncommon Strategies for Making more Money in 21st Century Food Service Earn More Tips On Your Very Next Shift…Even If You’re a Bad Waiter Server Sales Training: Grow your restaurant’s profits with minimal effort. Restaurants; Secrets to Success Book 1 What Rich People Know \u0026 Desperately Want to Keep Secret The Millionaire Fastlane: Crack the Code to Wealth and Live Rich for a Lifetime! The Richest Man in Babylon The Millionaire Next Door: The Surprising Secrets of America’s Wealthy The Million Dollar Weekend Anything You Want The Blog Startup The Psychology of Money How to Get Rich I Will Teach You to Be Rich The Four Hour Workweek Dating and Relationships Online dating for guys Saving a Low Sex Marriage: A Man’s Guide to Dread, Seduction and the Long Game What Women Want When They Test Men: How to Decode Female Behavior, Pass a Woman’s Tests, and Attract Women Through Authenticity The Married Man Sex Life Primer 2011 Cupid’s Poisoned Arrow: From Habit to Harmony in Sexual Relationships The Red Queen: Sex and the Evolution of Human Nature She Comes First: The Thinking Man’s Guide to Pleasuring a Woman The Game: Penetrating the Secret Society of Pickup Artists Discovering Sexuality That Will Satisfy You Both: When Couples Want Differing Amounts and Different Kinds of Sex Mystery Method Rules of the Game The Natural: How to Effortlessly Attract the Women You Want The Sex God Method The Truth The Relationship Handbook Models Attract Women Through Honesty Fiction Infinity War Infinity Gauntlet Harry Potter 1 Harry Potter 2 Harry Potter 3 Harry Potter 4 Harry Potter 5 Harry Potter 6 Harry Potter 7 Wabi Where the Red Fern Grows MAUS The Hobbit All Quiet on the Western Front Infinite Jest The Death of Ivan Illych Siddhartha Martial Arts Jiu-Jitsu on the Brain Mastering the Rubber Guard: Jiu Jitsu for Mixed Martial Arts Competition The Professor in the Cage: Why Men Fight and Why We Like to Watch Rousey Writing The War of Art Why You Should Write for Medium.com: The Best Way to Get Readers and Make Money Blogging Steal Like an Artist: 10 Things Nobody Told You About Being Creative (Austin Kleon) Keep Going: 10 Ways to Stay Creative in Good Times and Bad (Austin Kleon) Show Your Work!: 10 Ways to Share Your Creativity and Get Discovered (Austin Kleon) Everybody Writes: Your Go-To Guide to Creating Ridiculously Good Content So You Think You Can Write? The Definitive Guide to Successful Online Writing Content Writing 101: Win High Paying Online Content Writing Jobs And Build Financial Freedom With SEO Marketing How to Launch a Freelance Copywriting Business: Creative Writing for a Living (Method Writing) Cashvertising: How to Use More Than 100 Secrets of Ad-Agency Psychology to Make Big Money Selling Anything to Anyone The Boron Letters Scientific Advertising Personal Development Atomic Habits: An Easy \u0026 Proven Way to Build Good Habits \u0026 Break Bad Ones The 5AM Club: Own Your Morning. Elevate Your Life. The Magic of Thinking Big The Way of the Superior Man: A Spiritual Guide to Mastering the Challenges of Women, Work, and Sexual Desire (20th Anniversary Edition) The Power of Habit: Why We Do What We Do in Life and Business The Mindful Attraction Plan: Your Practical Roadmap to Creating the Life, Love and Success You Want Your Brain on Porn: Internet Pornography and the Emerging Science of Addiction Allen Carr’s Easy Way To Stop Smoking Smash Your Comfort Zone with Cold Showers: How to Boost Your Energy, Defeat Your Anxiety, and Overcome Unwanted Habits No More Mr. Nice Guy The Fine Art of Small Talk: How to Start a Conversation, Keep It Going, Build Networking Skills and Leave a Positive Impression! The Experience of Insight: A Simple \u0026 Direct Guide to Buddhist Meditation Goal!: Your 30-Day Game Plan for Business and Career Success Way of the Peaceful Warrior: A Book That Changes Lives The Monk and the Riddle: The Education of a Silicon Valley Entrepreneur Bold: How to Go Big, Create Wealth and Impact the World The Subtle Art of Not Giving a Fuck: A Counterintuitive Approach to Living a Good Life Blink: The Power of Thinking Without Thinking Emergency: This Book Will Save Your Life The Power of Now: A Guide to Spiritual Enlightenment Six Pillars of Self-Esteem Wherever You Go, There You Are: Mindfulness Meditation in Everyday Life Extreme Ownership: How U.S. Navy SEALs Lead and Win The Alchemist Flow: The Psychology of Optimal Experience Influence: The Psychology of Persuasion 10% Happier: How I Tamed the Voice in My Head, Reduced Stress Without Losing My Edge, and Found Self-Help That Actually Works Think and Grow Rich: The Landmark Bestseller Now Revised and Updated for the 21st Century Outliers: The Story of Success The Prophet DMT: The Spirit Molecule: A Doctor’s Revolutionary Research into the Biology of Near Death and Mystical Experiences The 12 week Year Bliss of the Celibate Dopamine Nation Nonviolent Communication How to Win Friends and Influence People The Tipping Point David vs Goliath Dog Training The Power of Positive Dog Training Chase Tech CompTIA A+ Certification All-in-One Exam Guide, Tenth Edition (Exams 220-1001 \u0026 220-1002) CNA Certification Study Guide, Volume 2: Exam 200-301 Understanding Cisco Networking Technologies, Volume 1: Exam 200-301 (CCNA Certification) CCNA OCG RHCSA 9 Training and Exam Preparation Guide Red Hat RHCE 8 Cert Guide History Unit 731: Testimony Night American Sniper Parenting It’s Never Too Late to Sleep Train: The Low-Stress Way to High-Quality Sleep for Babies, Kids, and Parents 1-2-3 Magic: Gentle 3-Step Child \u0026 Toddler Discipline for Calm, Effective, and Happy Parenting (Positive Parenting Guide for Raising Happy Kids) Mikey and the Dragons First Time Dad: The Stuff You Really Need to Know The Expectant Father: The Ultimate Guide for Dads-to-Be I Wonder She’s Having a Baby - and I’m Having a Breakdown 150 Tips and Tricks for New Dads: From the First Feeding to Diaper-Changing Disasters - Everything You Need to Know to Be a Great Father Be Prepared Dude, You’re Gonna Be a Dad!: How to Get (Both of You) Through the Next 9 Months Playful Parenting Good Inside Philosophy \u0026 Religion Letter to a Christian Nation The Enchiridion of Epictetus Waking Up: A Guide to Spirituality Without Religion The End of Faith: Religion, Terror, and the Future of Reason Lying The Moral Landscape: How Science Can Determine Human Values Islam and the Future of Tolerance: A Dialogue] Free Will A guide to the Good Life: The Ancient Art of Stoic Joy Meditations Audio Books Breath: The New Science of a Lost Art Marc’s Mission: Way of the Warrior Kid, Book 2 You Are a Badass at Making Money: Master the Mindset of Wealth Animal Liberation: The Definitive Classic of the Animal Movement Way of the Warrior Kid: From Wimpy to Warrior the Navy SEAL Way Our Final Invention: Artificial Intelligence and the End of the Human Era TBR (To be Read) The Pathless Path The Distraction Addiction Rest The Surrender Experiment The Minimalist Entrepreneur Boys Adrift Lessons in Stoicism The Denial of Death 1984 This is How They Tell Me the World Ends Die With Zero Your Money or Your Life The Practice of Shipping Creative Work Make Time Sapiens You Can Negotiate Anything Godel, Escher, Bach Four Thousand Weeks Finite and Infinite Games Blood Meridian 1Q84 Gravity’s Rainbow Kafka on the Shore The Self Driven Child Hold on to Your Kids Siblings Without Rivalry Raising Good Humans No-Drama Discipline Unconditional Parenting How to Stop Losing Your Shit With Your Kids Living With Kids and Dogs Digital Minimalism So Good They Can’t Ignore You Deep Work Scarcity Brain Why Privacy Matters The Slight Edge HyperFocus The 48 Laws of Power Free Software Free Society American Caesar Straw Dogs Genghis Khan \u0026 the Making of the Modern World The Comfort Crisis Europe Central Crime and Punishment Hiroshima Diary The Shallows, What the Internet is Doing to Our Brains The Attention Merchants Island Brave New World Feel Good Productivity Building a Second Brain How to Take Smart Notes The Surrendered Wife The Empowered Wife How to Read a Book Girls on the Edge The Color Purple Helping Your Child with Extreme Picky Eating The secret of staying in love Secrets of Feeding a Healthy Family How to Get Your Kid to Eat_ But Not Too Much The Linux Command Line Simulacra and Simulation The Complete Works_ Handbook, Discourses, and Fragments by Epictetus When I Say No, I Feel Guilty Dying Every Day by James Romm A Man in Full by Tom Wolfe This Is Marketing by Seth Godin The Sensory-Sensitive Child The Gardener and the Carpenter Sleep by Nick Littlehales Slow Productivity by Cal Newport Letters From a Stoic by Seneca Amusing Ourselves to Death by Neil Postman Lord of The Rings The Brain That Changes Itself The Unexpected Joy of Being Sober Built from Broken Feisty Fido_ Help for the Leash-Reactive Dog by Patricia B. McConnell The Cautious Canine by Patricia B. McConnell Mine! A Practical Guide to Resource Guarding in Dogs by Jean Donaldson The ONE Thing Podman In Action UNIX and Linux System Administration Handbook How Linux Works, 3rd Edition by Brian Ward The Art and Business of Online Writing Why you should NEVER masturbate Taoist Secrets of Love_ Cultivating the Male Sexual Energy Pure, White, and Deadly_ How Sugar Is Killing Us and What We Can Do to Stop It by John Yudkin Glucose Revolution by Jessie Inchauspe The Case Against Sugar by Gary Taubes The Courage to Be Disliked Alice in Wonderland Tiny Habits Children and Play in the Holocaust Cloud Atlas by David Mitchell Solaris by Stanislaw Lem, Joanna Kilmartin Dune by Frank Herbert Alcohol Explained by William Porter This Naked Mind by Annie Grace The Almanack of Naval Ravikant by by Eric Jorgenson, Jack Butcher The Wind-Up Bird Chronicle All Quiet on the Western Front The Old Man and the Sea by Ernest Hemingway Lolita by Vladimir Nabokov The Brothers Karamazov by Fyodor Dostoevsky, Michael R. Katz The 5 Types of Wealth: A Transformative Guide to Design Your Dream Life by Sahil Bloom Handbook of Resilience in Children by Sam Goldstein, Robert E. Brooks Misdiagnosis and Dual Diagnoses of Gifted Children and Adults: Adhd, Bipolar, Ocd, Asperger’s, Depression, and Other Disorders (2nd Edition) by James T. Webb, Edward R. Amend Nothing to Hide: The False Tradeoff between Privacy and Security by Daniel J. Solove The Anxious Generation by Haidt Jonathan A New Earth by Eckhart Tolle Ready, Fire, Aim by Michael Masterson Good Work: Reclaiming Your Inner Ambition by Paul Millerd The Opposite of Spoiled: Raising Kids Who Are Grounded, Generous, and Smart About Money by Ron Lieber Go! More Than a Game: Revised Edition by Peter Shotwell Total Recall: Perfect Response Training for Puppies and Adult Dogs by Pippa Mattinson The World-Ending Fire: The Essential Wendell Berry by Wendell Berry, Paul Kingsnorth Calculus ( “Calculus, 4th edition” by Michael Spivak) by Michael Spivak The Linux Programming Interface: A Linux and UNIX System Programming Handbook by Michael Kerrisk Code: The Hidden Language of Computer Hardware and Software by Charles Petzold C Programming Language, 2nd Edition by Brian W. Kernighan, Dennis M. Ritchie Raising a Sensory Smart Child by Lindsey Biel, Nancy Peske Hunt, Gather, Parent by Michaeleen Doucleff How To Raise Successful People by Esther Wojcicki Reset Your Child’s Brain by Victoria L. Dunckley MD Of Boys and Men by Richard V. Reeves Glow Kids: How Screen Addiction Is Hijacking Our Kids - and How to Break the Trance by Nicholas Kardaras The Highly Sensitive Parent by Elaine N. Aron Ph.D The Intellectual Life by OP A. G. Sertillanges, Mary Ryan Montaigne (Pushkin Collection) by Stefan Zweig, Will Stone Fight!: A Practical Guide to the Treatment of Dog-Dog Aggression by Jean Donaldson Someday Is Today: 22 Simple, Actionable Ways to Propel Your Creative Life by Matthew Dicks, Matthew Shepard We Have Been Harmonized: Life in China’s Surveillance State by Kai Strittmatter The Lost Art of Dying: Reviving Forgotten Wisdom by L.S. Dugdale How to Change Your Mind: What the New Science of Psychedelics Teaches Us About Consciousness, Dying, Addiction, Depression, and Transcendence by Michael Pollan The Bhagavad Gita, 2nd Edition (Easwaran’s Classics of Indian Spirituality Book 1) by Eknath Easwaran The Creative Act: A Way of Being by Rick Rubin Rape of Nanking by Iris Chang Lao Tzu: Tao Te Ching: A Book about the Way and the Power of the Way by Ursula K. Le Guin How to Be a Stoic: Using Ancient Philosophy to Live a Modern Life by Massimo Pigliucci Narrative of The Life of Frederick Douglass, an American Slave by Frederick Douglass The Art Of War by Sun Tzu Zen in the Art of Writing by Ray Bradbury Built to Move by Kelly Starrett Meditations: The Annotated Edition by Marcus Aurelius, Robin Waterfield Technopoly: The Surrender of Culture to Technology by Neil Postman The Medium is the Massage by Marshall McLuhan, Quentin Fiore Psycho-Cybernetics: Updated and Expanded by Maxwell Maltz King, Warrior, Magician, Lover by Robert Moore, Douglas Gillette Several Short Sentences About Writing by Verlyn Klinkenborg Gift of Injury by Stuart McGill; Brian Carroll The Three-Body Problem by Cixin Liu, Ken Liu Dark Matter: A Novel by Blake Crouch The Untethered Soul: The Journey Beyond Yourself by Michael A. Singer The Listening Book: Discovering Your Own Music by W. A. Mathieu Ultimate Back Fitness and Performance-Sixth Edition by Stuart (Author) McGill The Win Machine: The Road to Hell is Paved With Intervention by Ryan McBeth Genki Textbook Volume 1, 3rd edition (Genki (1)) (Multilingual Edition) (Japanese Edition) by Eri Banno, Yoko Ikeda Rebuilding Milo by Aaron Horschig, Kevin Sonthana Illustrated Guide to Extended Massive Orgasm (Positively Sexual) by Steve Bodansky Sexual Secrets: The Alchemy of Ecstasy by Nik Douglas, Penny Slinger Money for Couples by Ramit Sethi Too Soon Old, Too Late Smart: Thirty True Things You Need to Know Now by Gordon Livingston, Elizabeth Edwards The DOSE Effect by Tj Power Antifragile The Cheater’s Guide to Writing Erotic Romance Essentialism: The Disciplined Pursuit of Less Zen and the Art of Motorcycle Maintenance: An Inquiry Into Values The E-Myth Revisited NLP: The New Technology of Achievement The Selfish Gene Awaken the Giant Within Blood Meridian About Face The Karezza Method Coaching Questions The Coiled Serpent The Oxygen Advantage The Other End of the Leash Tribes by Seth Godin On Writing Well by William Zinsser The Paradox of Choice The Brain that Changes Itself The New Naked by Harry Fisch The Sailor Who Fell from Grace with the Sea - Yukio Mishima Confessions of a Mask - Yukio Mishima ## The Tibetan Book of Living and Dying: The Spiritual Classic \u0026 International Bestseller―30th Anniversary Edition―The Ultimate Guide to Tibetan Buddhism ## The Road Less Traveled, Timeless Edition: A New Psychology of Love, Traditional Values and Spiritual Growth ## Free Software, Free Society: Selected Essays of Richard M. Stallman ## The Cathedral \u0026 the Bazaar: Musings on Linux and Open Source by an Accidental Revolutionary ## In the Realm of Hungry Ghosts: Close Encounters with Addiction ## Scattered Minds: The Origins and Healing of Attention Deficit Disorder ## Lean on Me: The Power of Positive Dependency in Intimate Relationships ## Raising Good Humans: A Mindful Guide to Breaking the Cycle of Reactive Parenting and Raising Kind, Confident Kids ## Mindsight: The New Science of Personal Transformation ## You Can Heal Your Life ## The Six Pillars of Self-Esteem: The Definitive Work on Self-Esteem by the Leading Pioneer in the Field ## Coaching Questions: A Coach’s Guide to Powerful Asking Skills ## Taming Your Gremlin: A Surprisingly Simple Method for Getting Out of Your Own Way ## How You Do Anything Is How You Do Everything ## The Drama of the Gifted Child: The Search for the True Self ## Waking the Tiger: Healing Trauma ## Healing the Shame that Binds You (Recovery Classics) ## Bradshaw On: The Family: A New Way of Creating Solid Self-Esteem ## Don’t Believe Everything You Think: Why Your Thinking Is The Beginning \u0026 End Of Suffering (Beyond Suffering) ## The Body Keeps the Score: Brain, Mind, and Body in the Healing of Trauma ## Under Saturn’s Shadow (STUDIES IN JUNGIAN PSYCHOLOGY BY JUNGIAN ANALYSTS) ## The New Peoplemaking ## The Comfort Crisis: Embrace Discomfort To Reclaim Your Wild, Happy, Healthy Self ## Scarcity Brain: Fix Your Craving Mindset and Rewire Your Habits to Thrive with Enough ## Supercommunicators: How to Unlock the Secret Language of Connection ## The Almanack of Naval Ravikant: A Guide to Wealth and Happiness ## Poor Charlie’s Almanack: The Essential Wit and Wisdom of Charles T. Munger ## Linchpin: Are You Indispensable? ## Purple Cow: Transform Your Business by Being Remarkable ## Psycho-Cybernetics: Updated and Expanded (The Psycho-Cybernetics Series) ## The 48 Laws of Power ## The Rational Male ## The Simple Path to Wealth: Your road map to financial independence and a rich, free life ## The Daily Dad: 366 Meditations on Parenting, Love, and Raising Great Kids ## Siblings Without Rivalry: How to Help Your Children Live Together So You Can Live Too ## Teach Your Own ## How to Talk So Kids Will Listen \u0026 Listen So Kids Will Talk (The How To Talk Series) ## The Yes Brain: How to Cultivate Courage, Curiosity, and Resilience in Your Child ## The Anxious Generation ## Practice of Brahmacharya ## No-Drama Discipline: The Whole-Brain Way to Calm the Chaos and Nurture Your Child’s Developing Mind ## Raising Securely Attached Kids: Using Connection-Focused Parenting to Create Confidence, Empathy, and Resilience (Attachment Nerd) ## Fight!: A Practical Guide to the Treatment of Dog-Dog Aggression ## The DOSE Effect: An Inspiring Self-Healing Guide About the Mind-Body-Hormonal Connection, Achieve Wellness and Happiness with Practical Techniques! ## Mine! A Practical Guide to Resource Guarding in Dogs ## Now It Can Be Told ## Mastering Your Hidden Self: A Guide to the Huna Way (Quest Book) ## The Bhagavad Gita, 2nd Edition (Easwaran’s Classics of Indian Spirituality Book 1) ## As a Man Thinketh: A book that will help you to help yourself ## Maus I \u0026 II Paperback Box Set ## Ultimate Back Fitness and Performance-Sixth Edition ## Gödel, Escher, Bach: An Eternal Golden Braid ## The Untethered Soul: The Journey Beyond Yourself ## The Self-Driven Child: The Science and Sense of Giving Your Kids More Control Over Their Lives ## The Sensory-Sensitive Child: Practical Solutions for Out-of-Bounds Behavior ## The Field Guide to Understanding ‘Human Error’ ## The 5 Types of Wealth: A Transformative Guide to Design Your Dream Life ## Handbook of Resilience in Children ## The Opposite of Spoiled: Raising Kids Who Are Grounded, Generous, and Smart About Money ## Total Recall: Perfect Response Training for Puppies and Adult Dogs ## Hunt, Gather, Parent: What Ancient Cultures Can Teach Us About the Lost Art of Raising Happy, Helpful Little Humans ## Of Boys and Men: Why the Modern Male Is Struggling, Why It Matters, and What to Do about It ## The Intellectual Life: Its Spirit, Conditions, Methods (Not In A Series) ## Montaigne (Pushkin Collection) ## Die With Zero: Getting All You Can from Your Money and Your Life ## The Lost Art of Dying: Reviving Forgotten Wisdom ## How to Change Your Mind: What the New Science of Psychedelics Teaches Us About Consciousness, Dying, Addiction, Depression, and Transcendence ## The Creative Act: A Way of Being] ## Rape of Nanking ## Japan’s Infamous Unit 731: First-hand Accounts of Japan’s Wartime Human Experimentation Program (Tuttle Classics) ## The 5AM Club: Own Your Morning. Elevate Your Life. ## How to Be a Stoic: Using Ancient Philosophy to Live a Modern Life ## Discourses, Fragments, Handbook (Oxford Worlds Classics) ## by Frederick Douglassand - Narrative of The Life of Frederick Douglass, an American Slave (Penguin Classics) (Paperback) Penguin Classics; Updated Edition (January 28, 2014) - [Bargain Books] ## The Art Of War ## King, Warrior, Magician, Lover: Rediscovering Masculinity Through the Lens of Archetypal Psychology - A Journey into the Male Psyche and Its Four Essential Aspects ## Deskbound: Standing Up to a Sitting World ## The Listening Book: Discovering Your Own Music ## Cashvertising: How to Use More Than 100 Secrets of Ad-Agency Psychology to Make BIG MONEY Selling Anything to Anyone ## So You Think You Can Write?: The Definitive Guide to Successful Online Writing ## Show Your Work!: 10 Ways to Share Your Creativity and Get Discovered (Austin Kleon) ## Keep Going: 10 Ways to Stay Creative in Good Times and Bad (Austin Kleon) ## Steal Like an Artist: 10 Things Nobody Told You About Being Creative (Austin Kleon) ## Becoming a Supple Leopard 2nd Edition: The Ultimate Guide to Resolving Pain, Preventing Injury, and Optimizing Athletic Performance ## Ready to Run: Unlocking Your Potential to Run Naturally ## Built to Move: The Ten Essential Habits to Help You Move Freely and Live Fully ## The Book of Changes and the Unchanging Truth ## UNSCRIPTED: Life, Liberty, and the Pursuit of Entrepreneurship",
    "description": "In Progress I am reading way too many books at once. Goal is to cut this list down and read only 1 book at a time.\nBooks I have Read These are books that I have read from cover to cover. (Checkmarks are to help me keep track of Physically Owned Books/ Books I want to own)\nHealth and Fitness The Obesity Code: Unlocking the Secrets of Weight Loss (Why Intermittent Fasting Is the Key to Controlling Your Weight The Little Book of Quitting Caffeine: Freedom From Addiction Meat Is for Pussies: A How-To Guide for Dudes Who Want to Get Fit, Kick Ass, and Take Names Caffeine Blues: Wake Up to the Hidden Dangers of America’s #1 Drug Why We Sleep: Unlocking the Power of Sleep and Dreams and Building a Strong Foundation for Enhancing Performance Deskbound: Standing Up to a Sitting World Ready to Run: Unlocking Your Potential to Run Naturally 5/3/1: The Simplest and Most Effective Training System for Raw Strength Skinny Bitch: A No-Nonsense, Tough-Love Guide for Savvy Girls Who Want to Stop Eating Crap and Start Looking Fabulous! The Starch Solution: Eat the Foods You Love, Regain Your Health, and Lose the Weight for Good! The Trigger Point Therapy Workbook: Your Self-Treatment Guide for Pain Relief] Becoming a Supple Leopard: The Ultimate Guide to Resolving Pain, Preventing Injury, and Optimizing Athletic Performance How Not to Die: Discover the Foods Scientifically Proven to Prevent and Reverse Disease Becoming a Supple Leopard 2nd Edition: The Ultimate Guide to Resolving Pain, Preventing Injury, and Optimizing Athletic Performance Improve the Quality of Your Life - Why Live in Pain? Money Who Owns the Ice House? : Eight Life Lessons From an Unlikely Entrepreneur How To Make More Money Serving: Your Step by Step Guide for Increasing Tips How to Become an Excellent Server: Earn a Tip Above 20% Every Time Service That Sells!: The Art of Profitable Hospitality The Renegade Server: Uncommon Strategies for Making more Money in 21st Century Food Service Earn More Tips On Your Very Next Shift…Even If You’re a Bad Waiter Server Sales Training: Grow your restaurant’s profits with minimal effort. Restaurants; Secrets to Success Book 1 What Rich People Know \u0026 Desperately Want to Keep Secret The Millionaire Fastlane: Crack the Code to Wealth and Live Rich for a Lifetime! The Richest Man in Babylon The Millionaire Next Door: The Surprising Secrets of America’s Wealthy The Million Dollar Weekend Anything You Want The Blog Startup The Psychology of Money How to Get Rich I Will Teach You to Be Rich The Four Hour Workweek Dating and Relationships Online dating for guys Saving a Low Sex Marriage: A Man’s Guide to Dread, Seduction and the Long Game What Women Want When They Test Men: How to Decode Female Behavior, Pass a Woman’s Tests, and Attract Women Through Authenticity The Married Man Sex Life Primer 2011 Cupid’s Poisoned Arrow: From Habit to Harmony in Sexual Relationships The Red Queen: Sex and the Evolution of Human Nature She Comes First: The Thinking Man’s Guide to Pleasuring a Woman The Game: Penetrating the Secret Society of Pickup Artists Discovering Sexuality That Will Satisfy You Both: When Couples Want Differing Amounts and Different Kinds of Sex Mystery Method Rules of the Game The Natural: How to Effortlessly Attract the Women You Want The Sex God Method The Truth The Relationship Handbook Models Attract Women Through Honesty Fiction Infinity War Infinity Gauntlet Harry Potter 1 Harry Potter 2 Harry Potter 3 Harry Potter 4 Harry Potter 5 Harry Potter 6 Harry Potter 7 Wabi Where the Red Fern Grows MAUS The Hobbit All Quiet on the Western Front Infinite Jest The Death of Ivan Illych Siddhartha Martial Arts Jiu-Jitsu on the Brain Mastering the Rubber Guard: Jiu Jitsu for Mixed Martial Arts Competition The Professor in the Cage: Why Men Fight and Why We Like to Watch Rousey Writing The War of Art Why You Should Write for Medium.com: The Best Way to Get Readers and Make Money Blogging Steal Like an Artist: 10 Things Nobody Told You About Being Creative (Austin Kleon) Keep Going: 10 Ways to Stay Creative in Good Times and Bad (Austin Kleon) Show Your Work!: 10 Ways to Share Your Creativity and Get Discovered (Austin Kleon) Everybody Writes: Your Go-To Guide to Creating Ridiculously Good Content So You Think You Can Write? The Definitive Guide to Successful Online Writing Content Writing 101: Win High Paying Online Content Writing Jobs And Build Financial Freedom With SEO Marketing How to Launch a Freelance Copywriting Business: Creative Writing for a Living (Method Writing) Cashvertising: How to Use More Than 100 Secrets of Ad-Agency Psychology to Make Big Money Selling Anything to Anyone The Boron Letters Scientific Advertising Personal Development Atomic Habits: An Easy \u0026 Proven Way to Build Good Habits \u0026 Break Bad Ones The 5AM Club: Own Your Morning. Elevate Your Life. The Magic of Thinking Big The Way of the Superior Man: A Spiritual Guide to Mastering the Challenges of Women, Work, and Sexual Desire (20th Anniversary Edition) The Power of Habit: Why We Do What We Do in Life and Business The Mindful Attraction Plan: Your Practical Roadmap to Creating the Life, Love and Success You Want Your Brain on Porn: Internet Pornography and the Emerging Science of Addiction Allen Carr’s Easy Way To Stop Smoking Smash Your Comfort Zone with Cold Showers: How to Boost Your Energy, Defeat Your Anxiety, and Overcome Unwanted Habits No More Mr. Nice Guy The Fine Art of Small Talk: How to Start a Conversation, Keep It Going, Build Networking Skills and Leave a Positive Impression! The Experience of Insight: A Simple \u0026 Direct Guide to Buddhist Meditation Goal!: Your 30-Day Game Plan for Business and Career Success Way of the Peaceful Warrior: A Book That Changes Lives The Monk and the Riddle: The Education of a Silicon Valley Entrepreneur Bold: How to Go Big, Create Wealth and Impact the World The Subtle Art of Not Giving a Fuck: A Counterintuitive Approach to Living a Good Life Blink: The Power of Thinking Without Thinking Emergency: This Book Will Save Your Life The Power of Now: A Guide to Spiritual Enlightenment Six Pillars of Self-Esteem Wherever You Go, There You Are: Mindfulness Meditation in Everyday Life Extreme Ownership: How U.S. Navy SEALs Lead and Win The Alchemist Flow: The Psychology of Optimal Experience Influence: The Psychology of Persuasion 10% Happier: How I Tamed the Voice in My Head, Reduced Stress Without Losing My Edge, and Found Self-Help That Actually Works Think and Grow Rich: The Landmark Bestseller Now Revised and Updated for the 21st Century Outliers: The Story of Success The Prophet DMT: The Spirit Molecule: A Doctor’s Revolutionary Research into the Biology of Near Death and Mystical Experiences The 12 week Year Bliss of the Celibate Dopamine Nation Nonviolent Communication How to Win Friends and Influence People The Tipping Point David vs Goliath Dog Training The Power of Positive Dog Training Chase Tech CompTIA A+ Certification All-in-One Exam Guide, Tenth Edition (Exams 220-1001 \u0026 220-1002) CNA Certification Study Guide, Volume 2: Exam 200-301 Understanding Cisco Networking Technologies, Volume 1: Exam 200-301 (CCNA Certification) CCNA OCG RHCSA 9 Training and Exam Preparation Guide Red Hat RHCE 8 Cert Guide History Unit 731: Testimony Night American Sniper Parenting It’s Never Too Late to Sleep Train: The Low-Stress Way to High-Quality Sleep for Babies, Kids, and Parents 1-2-3 Magic: Gentle 3-Step Child \u0026 Toddler Discipline for Calm, Effective, and Happy Parenting (Positive Parenting Guide for Raising Happy Kids) Mikey and the Dragons First Time Dad: The Stuff You Really Need to Know The Expectant Father: The Ultimate Guide for Dads-to-Be I Wonder She’s Having a Baby - and I’m Having a Breakdown 150 Tips and Tricks for New Dads: From the First Feeding to Diaper-Changing Disasters - Everything You Need to Know to Be a Great Father Be Prepared Dude, You’re Gonna Be a Dad!: How to Get (Both of You) Through the Next 9 Months Playful Parenting Good Inside Philosophy \u0026 Religion Letter to a Christian Nation The Enchiridion of Epictetus Waking Up: A Guide to Spirituality Without Religion The End of Faith: Religion, Terror, and the Future of Reason Lying The Moral Landscape: How Science Can Determine Human Values Islam and the Future of Tolerance: A Dialogue] Free Will A guide to the Good Life: The Ancient Art of Stoic Joy Meditations Audio Books Breath: The New Science of a Lost Art Marc’s Mission: Way of the Warrior Kid, Book 2 You Are a Badass at Making Money: Master the Mindset of Wealth Animal Liberation: The Definitive Classic of the Animal Movement Way of the Warrior Kid: From Wimpy to Warrior the Navy SEAL Way Our Final Invention: Artificial Intelligence and the End of the Human Era TBR (To be Read) The Pathless Path The Distraction Addiction Rest The Surrender Experiment The Minimalist Entrepreneur Boys Adrift Lessons in Stoicism The Denial of Death 1984 This is How They Tell Me the World Ends Die With Zero Your Money or Your Life The Practice of Shipping Creative Work Make Time Sapiens You Can Negotiate Anything Godel, Escher, Bach Four Thousand Weeks Finite and Infinite Games Blood Meridian 1Q84 Gravity’s Rainbow Kafka on the Shore The Self Driven Child Hold on to Your Kids Siblings Without Rivalry Raising Good Humans No-Drama Discipline Unconditional Parenting How to Stop Losing Your Shit With Your Kids Living With Kids and Dogs Digital Minimalism So Good They Can’t Ignore You Deep Work Scarcity Brain Why Privacy Matters The Slight Edge HyperFocus The 48 Laws of Power Free Software Free Society American Caesar Straw Dogs Genghis Khan \u0026 the Making of the Modern World The Comfort Crisis Europe Central Crime and Punishment Hiroshima Diary The Shallows, What the Internet is Doing to Our Brains The Attention Merchants Island Brave New World Feel Good Productivity Building a Second Brain How to Take Smart Notes The Surrendered Wife The Empowered Wife How to Read a Book Girls on the Edge The Color Purple Helping Your Child with Extreme Picky Eating The secret of staying in love Secrets of Feeding a Healthy Family How to Get Your Kid to Eat_ But Not Too Much The Linux Command Line Simulacra and Simulation The Complete Works_ Handbook, Discourses, and Fragments by Epictetus When I Say No, I Feel Guilty Dying Every Day by James Romm A Man in Full by Tom Wolfe This Is Marketing by Seth Godin The Sensory-Sensitive Child The Gardener and the Carpenter Sleep by Nick Littlehales Slow Productivity by Cal Newport Letters From a Stoic by Seneca Amusing Ourselves to Death by Neil Postman Lord of The Rings The Brain That Changes Itself The Unexpected Joy of Being Sober Built from Broken Feisty Fido_ Help for the Leash-Reactive Dog by Patricia B. McConnell The Cautious Canine by Patricia B. McConnell Mine! A Practical Guide to Resource Guarding in Dogs by Jean Donaldson The ONE Thing Podman In Action UNIX and Linux System Administration Handbook How Linux Works, 3rd Edition by Brian Ward The Art and Business of Online Writing Why you should NEVER masturbate Taoist Secrets of Love_ Cultivating the Male Sexual Energy Pure, White, and Deadly_ How Sugar Is Killing Us and What We Can Do to Stop It by John Yudkin Glucose Revolution by Jessie Inchauspe The Case Against Sugar by Gary Taubes The Courage to Be Disliked Alice in Wonderland Tiny Habits Children and Play in the Holocaust Cloud Atlas by David Mitchell Solaris by Stanislaw Lem, Joanna Kilmartin Dune by Frank Herbert Alcohol Explained by William Porter This Naked Mind by Annie Grace The Almanack of Naval Ravikant by by Eric Jorgenson, Jack Butcher The Wind-Up Bird Chronicle All Quiet on the Western Front The Old Man and the Sea by Ernest Hemingway Lolita by Vladimir Nabokov The Brothers Karamazov by Fyodor Dostoevsky, Michael R. Katz The 5 Types of Wealth: A Transformative Guide to Design Your Dream Life by Sahil Bloom Handbook of Resilience in Children by Sam Goldstein, Robert E. Brooks Misdiagnosis and Dual Diagnoses of Gifted Children and Adults: Adhd, Bipolar, Ocd, Asperger’s, Depression, and Other Disorders (2nd Edition) by James T. Webb, Edward R. Amend Nothing to Hide: The False Tradeoff between Privacy and Security by Daniel J. Solove The Anxious Generation by Haidt Jonathan A New Earth by Eckhart Tolle Ready, Fire, Aim by Michael Masterson Good Work: Reclaiming Your Inner Ambition by Paul Millerd The Opposite of Spoiled: Raising Kids Who Are Grounded, Generous, and Smart About Money by Ron Lieber Go! More Than a Game: Revised Edition by Peter Shotwell Total Recall: Perfect Response Training for Puppies and Adult Dogs by Pippa Mattinson The World-Ending Fire: The Essential Wendell Berry by Wendell Berry, Paul Kingsnorth Calculus ( “Calculus, 4th edition” by Michael Spivak) by Michael Spivak The Linux Programming Interface: A Linux and UNIX System Programming Handbook by Michael Kerrisk Code: The Hidden Language of Computer Hardware and Software by Charles Petzold C Programming Language, 2nd Edition by Brian W. Kernighan, Dennis M. Ritchie Raising a Sensory Smart Child by Lindsey Biel, Nancy Peske Hunt, Gather, Parent by Michaeleen Doucleff How To Raise Successful People by Esther Wojcicki Reset Your Child’s Brain by Victoria L. Dunckley MD Of Boys and Men by Richard V. Reeves Glow Kids: How Screen Addiction Is Hijacking Our Kids - and How to Break the Trance by Nicholas Kardaras The Highly Sensitive Parent by Elaine N. Aron Ph.D The Intellectual Life by OP A. G. Sertillanges, Mary Ryan Montaigne (Pushkin Collection) by Stefan Zweig, Will Stone Fight!: A Practical Guide to the Treatment of Dog-Dog Aggression by Jean Donaldson Someday Is Today: 22 Simple, Actionable Ways to Propel Your Creative Life by Matthew Dicks, Matthew Shepard We Have Been Harmonized: Life in China’s Surveillance State by Kai Strittmatter The Lost Art of Dying: Reviving Forgotten Wisdom by L.S. Dugdale How to Change Your Mind: What the New Science of Psychedelics Teaches Us About Consciousness, Dying, Addiction, Depression, and Transcendence by Michael Pollan The Bhagavad Gita, 2nd Edition (Easwaran’s Classics of Indian Spirituality Book 1) by Eknath Easwaran The Creative Act: A Way of Being by Rick Rubin Rape of Nanking by Iris Chang Lao Tzu: Tao Te Ching: A Book about the Way and the Power of the Way by Ursula K. Le Guin How to Be a Stoic: Using Ancient Philosophy to Live a Modern Life by Massimo Pigliucci Narrative of The Life of Frederick Douglass, an American Slave by Frederick Douglass The Art Of War by Sun Tzu Zen in the Art of Writing by Ray Bradbury Built to Move by Kelly Starrett Meditations: The Annotated Edition by Marcus Aurelius, Robin Waterfield Technopoly: The Surrender of Culture to Technology by Neil Postman The Medium is the Massage by Marshall McLuhan, Quentin Fiore Psycho-Cybernetics: Updated and Expanded by Maxwell Maltz King, Warrior, Magician, Lover by Robert Moore, Douglas Gillette Several Short Sentences About Writing by Verlyn Klinkenborg Gift of Injury by Stuart McGill; Brian Carroll The Three-Body Problem by Cixin Liu, Ken Liu Dark Matter: A Novel by Blake Crouch The Untethered Soul: The Journey Beyond Yourself by Michael A. Singer The Listening Book: Discovering Your Own Music by W. A. Mathieu Ultimate Back Fitness and Performance-Sixth Edition by Stuart (Author) McGill The Win Machine: The Road to Hell is Paved With Intervention by Ryan McBeth Genki Textbook Volume 1, 3rd edition (Genki (1)) (Multilingual Edition) (Japanese Edition) by Eri Banno, Yoko Ikeda Rebuilding Milo by Aaron Horschig, Kevin Sonthana Illustrated Guide to Extended Massive Orgasm (Positively Sexual) by Steve Bodansky Sexual Secrets: The Alchemy of Ecstasy by Nik Douglas, Penny Slinger Money for Couples by Ramit Sethi Too Soon Old, Too Late Smart: Thirty True Things You Need to Know Now by Gordon Livingston, Elizabeth Edwards The DOSE Effect by Tj Power Antifragile The Cheater’s Guide to Writing Erotic Romance Essentialism: The Disciplined Pursuit of Less Zen and the Art of Motorcycle Maintenance: An Inquiry Into Values The E-Myth Revisited NLP: The New Technology of Achievement The Selfish Gene Awaken the Giant Within Blood Meridian About Face The Karezza Method Coaching Questions The Coiled Serpent The Oxygen Advantage The Other End of the Leash Tribes by Seth Godin On Writing Well by William Zinsser The Paradox of Choice The Brain that Changes Itself The New Naked by Harry Fisch The Sailor Who Fell from Grace with the Sea - Yukio Mishima Confessions of a Mask - Yukio Mishima ## The Tibetan Book of Living and Dying: The Spiritual Classic \u0026 International Bestseller―30th Anniversary Edition―The Ultimate Guide to Tibetan Buddhism ## The Road Less Traveled, Timeless Edition: A New Psychology of Love, Traditional Values and Spiritual Growth ## Free Software, Free Society: Selected Essays of Richard M. Stallman ## The Cathedral \u0026 the Bazaar: Musings on Linux and Open Source by an Accidental Revolutionary ## In the Realm of Hungry Ghosts: Close Encounters with Addiction ## Scattered Minds: The Origins and Healing of Attention Deficit Disorder ## Lean on Me: The Power of Positive Dependency in Intimate Relationships ## Raising Good Humans: A Mindful Guide to Breaking the Cycle of Reactive Parenting and Raising Kind, Confident Kids ## Mindsight: The New Science of Personal Transformation ## You Can Heal Your Life ## The Six Pillars of Self-Esteem: The Definitive Work on Self-Esteem by the Leading Pioneer in the Field ## Coaching Questions: A Coach’s Guide to Powerful Asking Skills ## Taming Your Gremlin: A Surprisingly Simple Method for Getting Out of Your Own Way ## How You Do Anything Is How You Do Everything ## The Drama of the Gifted Child: The Search for the True Self ## Waking the Tiger: Healing Trauma ## Healing the Shame that Binds You (Recovery Classics) ## Bradshaw On: The Family: A New Way of Creating Solid Self-Esteem ## Don’t Believe Everything You Think: Why Your Thinking Is The Beginning \u0026 End Of Suffering (Beyond Suffering) ## The Body Keeps the Score: Brain, Mind, and Body in the Healing of Trauma ## Under Saturn’s Shadow (STUDIES IN JUNGIAN PSYCHOLOGY BY JUNGIAN ANALYSTS) ## The New Peoplemaking ## The Comfort Crisis: Embrace Discomfort To Reclaim Your Wild, Happy, Healthy Self ## Scarcity Brain: Fix Your Craving Mindset and Rewire Your Habits to Thrive with Enough ## Supercommunicators: How to Unlock the Secret Language of Connection ## The Almanack of Naval Ravikant: A Guide to Wealth and Happiness ## Poor Charlie’s Almanack: The Essential Wit and Wisdom of Charles T. Munger ## Linchpin: Are You Indispensable? ## Purple Cow: Transform Your Business by Being Remarkable ## Psycho-Cybernetics: Updated and Expanded (The Psycho-Cybernetics Series) ## The 48 Laws of Power ## The Rational Male ## The Simple Path to Wealth: Your road map to financial independence and a rich, free life ## The Daily Dad: 366 Meditations on Parenting, Love, and Raising Great Kids ## Siblings Without Rivalry: How to Help Your Children Live Together So You Can Live Too ## Teach Your Own ## How to Talk So Kids Will Listen \u0026 Listen So Kids Will Talk (The How To Talk Series) ## The Yes Brain: How to Cultivate Courage, Curiosity, and Resilience in Your Child ## The Anxious Generation ## Practice of Brahmacharya ## No-Drama Discipline: The Whole-Brain Way to Calm the Chaos and Nurture Your Child’s Developing Mind ## Raising Securely Attached Kids: Using Connection-Focused Parenting to Create Confidence, Empathy, and Resilience (Attachment Nerd) ## Fight!: A Practical Guide to the Treatment of Dog-Dog Aggression ## The DOSE Effect: An Inspiring Self-Healing Guide About the Mind-Body-Hormonal Connection, Achieve Wellness and Happiness with Practical Techniques! ## Mine! A Practical Guide to Resource Guarding in Dogs ## Now It Can Be Told ## Mastering Your Hidden Self: A Guide to the Huna Way (Quest Book) ## The Bhagavad Gita, 2nd Edition (Easwaran’s Classics of Indian Spirituality Book 1) ## As a Man Thinketh: A book that will help you to help yourself ## Maus I \u0026 II Paperback Box Set ## Ultimate Back Fitness and Performance-Sixth Edition ## Gödel, Escher, Bach: An Eternal Golden Braid ## The Untethered Soul: The Journey Beyond Yourself ## The Self-Driven Child: The Science and Sense of Giving Your Kids More Control Over Their Lives ## The Sensory-Sensitive Child: Practical Solutions for Out-of-Bounds Behavior ## The Field Guide to Understanding ‘Human Error’ ## The 5 Types of Wealth: A Transformative Guide to Design Your Dream Life ## Handbook of Resilience in Children ## The Opposite of Spoiled: Raising Kids Who Are Grounded, Generous, and Smart About Money ## Total Recall: Perfect Response Training for Puppies and Adult Dogs ## Hunt, Gather, Parent: What Ancient Cultures Can Teach Us About the Lost Art of Raising Happy, Helpful Little Humans ## Of Boys and Men: Why the Modern Male Is Struggling, Why It Matters, and What to Do about It ## The Intellectual Life: Its Spirit, Conditions, Methods (Not In A Series) ## Montaigne (Pushkin Collection) ## Die With Zero: Getting All You Can from Your Money and Your Life ## The Lost Art of Dying: Reviving Forgotten Wisdom ## How to Change Your Mind: What the New Science of Psychedelics Teaches Us About Consciousness, Dying, Addiction, Depression, and Transcendence ## The Creative Act: A Way of Being] ## Rape of Nanking ## Japan’s Infamous Unit 731: First-hand Accounts of Japan’s Wartime Human Experimentation Program (Tuttle Classics) ## The 5AM Club: Own Your Morning. Elevate Your Life. ## How to Be a Stoic: Using Ancient Philosophy to Live a Modern Life ## Discourses, Fragments, Handbook (Oxford Worlds Classics) ## by Frederick Douglassand - Narrative of The Life of Frederick Douglass, an American Slave (Penguin Classics) (Paperback) Penguin Classics; Updated Edition (January 28, 2014) - [Bargain Books] ## The Art Of War ## King, Warrior, Magician, Lover: Rediscovering Masculinity Through the Lens of Archetypal Psychology - A Journey into the Male Psyche and Its Four Essential Aspects ## Deskbound: Standing Up to a Sitting World ## The Listening Book: Discovering Your Own Music ## Cashvertising: How to Use More Than 100 Secrets of Ad-Agency Psychology to Make BIG MONEY Selling Anything to Anyone ## So You Think You Can Write?: The Definitive Guide to Successful Online Writing ## Show Your Work!: 10 Ways to Share Your Creativity and Get Discovered (Austin Kleon) ## Keep Going: 10 Ways to Stay Creative in Good Times and Bad (Austin Kleon) ## Steal Like an Artist: 10 Things Nobody Told You About Being Creative (Austin Kleon) ## Becoming a Supple Leopard 2nd Edition: The Ultimate Guide to Resolving Pain, Preventing Injury, and Optimizing Athletic Performance ## Ready to Run: Unlocking Your Potential to Run Naturally ## Built to Move: The Ten Essential Habits to Help You Move Freely and Live Fully ## The Book of Changes and the Unchanging Truth ## UNSCRIPTED: Life, Liberty, and the Pursuit of Entrepreneurship",
    "tags": [],
    "title": "Master Reading List",
    "uri": "/booknotes/master-reading-list/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "I enjoyed reading this more than I thought I would. The emperor spent a great deal thinking about what it means to be human, philosophy, on life, on dying, and how best to navigate the world. Both the internal world of the mind and soul, and the external world of matter and other people.\nThis book makes me want to keep a better journaling habit. And study philosophy. And not worry about things that do not matter. Because we all become dust in the end anyway.\nMarcus Aurellius also cut through what does matter. Such as service to others. Speaking truthfully. Not letting your situation bother you.\nSummary and Highlights Self-control and resistance to distractions.\nOptimism in adversity—especially illness.\nThat I had someone—as a ruler and as a father—who could keep me from being arrogant and make me realize that even at court you can live without a troop of bodyguards, and gorgeous clothes, lamps, sculpture—the whole charade. That you can behave almost like an ordinary person without seeming slovenly or careless as a ruler or when carrying out official obligations.\nRemember how long you’ve been putting this off, how many extensions the gods gave you, and you didn’t use them. At some point you have to recognize what world it is that you belong to; what power rules it and from what source you spring; that there is a limit to the time assigned you, and if you don’t use it to free yourself it will be gone and will never return.\nDo external things distract you? Then make time for yourself to learn something worthwhile; stop letting yourself be pulled in all directions. But make sure you guard against the other kind of confusion. People who labor all their lives but have no purpose to direct every thought and impulse toward are wasting their time—even when hard at work.\nNot just that every day more of our life is used up and less and less of it is left, but this too: if we live longer, can we be sure our mind will still be up to understanding the world—to the contemplation that aims at divine and human knowledge? If our mind starts to wander, we’ll still go on breathing, go on eating, imagining things, feeling urges and so on. But getting the most out of ourselves, calculating where our duty lies, analyzing what we hear and see, deciding whether it’s time to call it quits—all the things you need a healthy mind for … all those are gone.\nSo we need to hurry.\nNot just because we move daily closer to death but also because our understanding—our grasp of the world—may be gone before we get there.\nYou need to avoid certain things in your train of thought: everything random, everything irrelevant. And certainly everything self-important or malicious. You need to get used to winnowing your thoughts, so that if someone says, “What are you thinking about?” you can respond at once (and truthfully) that you are thinking this or thinking that. And it would be obvious at once from your answer that your thoughts were straightforward and considerate ones—the thoughts of an unselfish person, one unconcerned with pleasure and with sensual indulgence generally, with squabbling, with slander and envy, or anything else you’d be ashamed to be caught thinking.\nWhat is it—this thing that now forces itself on my notice? What is it made up of? How long was it designed to last? And what qualities do I need to bring to bear on it—tranquillity, courage, honesty, trustworthiness, straightforwardness, independence or what?\nPeople try to get away from it all—to the country, to the beach, to the mountains. You always wish that you could too. Which is idiotic: you can get away from it anytime you like.\nBy going within.\nNowhere you can go is more peaceful—more free of interruptions—than your own soul. Especially if you have other things to rely on. An instant’s recollection and there it is: complete tranquillity. And by tranquillity I mean a kind of harmony.\nSo keep getting away from it all—like that. Renew yourself. But keep it brief and basic. A quick visit should be enough to ward off all and send you back ready to face what awaits you.\nWhat’s there to complain about? People’s misbehavior? But take into consideration:\nthat rational beings exist for one another; that doing what’s right sometimes requires patience; that no one does the wrong thing deliberately; and the number of people who have feuded and envied and hated and fought and died and been buried. “If you seek tranquillity, do less.” Or (more accurately) do what’s essential—what the logos of a social being requires, and in the requisite way. Which brings a double satisfaction: to do less, better.\nBecause most of what we say and do is not essential. If you can eliminate it, you’ll have more time, and more tranquillity. Ask yourself at every moment, “Is this necessary?”\nBut we need to eliminate unnecessary assumptions as well. To eliminate the unnecessary actions that follow.\nWords once in common use now sound archaic. And the names of the famous dead as well: Camillus, Caeso, Volesus, Dentatus … Scipio and Cato … Augustus … Hadrian and Antoninus, and …\nEverything fades so quickly, turns into legend, and soon oblivion covers it.\nAnd those are the ones who shone. The rest—“unknown, unasked-for” a minute after death. What is “eternal” fame? Emptiness.\nThen what should we work for?\nOnly this: proper understanding; unselfish action; truthful speech. A resolve to accept whatever happens as necessary and familiar, flowing like water from that same source and spring.\nConstant awareness that everything is born from change. The knowledge that there is nothing nature loves more than to alter what exists and make new things like it. All that exists is the seed of what will emerge from it. You think the only seeds are the ones that make plants or children? Go deeper.\nOn the verge of dying and still weighed down, still turbulent, still convinced external things can harm you, still rude to other people, still not acknowledging the truth: that wisdom is justice.\nSo remember this principle when something threatens to cause you pain: the thing itself was no misfortune at all; to endure it and prevail is great good fortune.\nA trite but effective tactic against the fear of death: think of the list of people who had to be pried away from life. What did they gain by dying old? In the end, they all sleep six feet under— Caedicianus, Fabius, Julian, Lepidus, and all the rest. They buried their contemporaries, and were buried in turn.\nOur lifetime is so brief. And to live it out in these circumstances, among these people, in this body? Nothing to get excited about. Consider the abyss of time past, the infinite future. Three days of life or three generations: what’s the difference?\nNo one could ever accuse you of being quick-witted.\nAll right, but there are plenty of other things you can’t claim you “haven’t got in you.” Practice the virtues you can show: honesty, gravity, endurance, austerity, resignation, abstinence, patience, sincerity, moderation, seriousness, high-mindedness. Don’t you see how much you have to offer—beyond excuses like “can’t”? And yet you still settle for less.\nOr is it some inborn condition that makes you whiny and grasping and obsequious, makes you complain about your body and curry favor and show off and leaves you so turbulent inside?\nNo. You could have broken free a long way back. And then you would have been only a little slow. “Not so quick on the uptake.”\nAnd you need to work on that as well—that slowness. Not something to be ignored, let alone to prize.\nNot to feel exasperated, or defeated, or despondent because your days aren’t packed with wise and moral actions. But to get back up when you fail, to celebrate behaving like a human—however imperfectly—and fully embrace the pursuit that you’ve embarked on.\nThings have no hold on the soul. They have no access to it, cannot move or direct it. It is moved and directed by itself alone. It takes the things before it and interprets them as it sees fit.\nIn a sense, people are our proper occupation. Our job is to do them good and put up with them.\nKeep in mind how fast things pass by and are gone—those that are now, and those to come. Existence flows past us like a river: the “what” is in constant flux, the “why” has a thousand variations. Nothing is stable, not even what’s right here. The infinity of past and future gapes before us—a chasm whose depths we cannot see.\nSo it would take an idiot to feel self-importance or distress. Or any indignation, either. As if the things that irritate us lasted.\nSoon you’ll be ashes, or bones. A mere name, at most—and even that is just a sound, an echo. The things we want in life are empty, stale, and trivial. Dogs snarling at each other. Quarreling children—laughing and then bursting into tears a moment later. Trust, shame, justice, truth—“ gone from the earth and only found in heaven.”\nWhy are you still here? Sensory objects are shifting and unstable; our senses dim and easily deceived; the soul itself a decoction of the blood; fame in a world like this is worthless.\n—And so?\nWait for it patiently—annihilation or metamorphosis.\n—And until that time comes—what?\nHonor and revere the gods, treat human beings as they deserve, be tolerant with others and strict with yourself. Remember, nothing belongs to you but your flesh and blood—and nothing else is under your control.\nYou can lead an untroubled life provided you can grow, can think and act systematically.\nTwo characteristics shared by gods and men (and every rational creature):\ni. Not to let others hold you back.\nii. To locate goodness in thinking and doing the right thing, and to limit your desires to that.\nNot to be overwhelmed by what you imagine, but just do what you can and should. And if \u003c…\u003e suffer in inessentials, not to treat that as a defeat. (Bad habit.)\nLike the old man asking for the orphan’s toy on the way out—even though he knew that’s all it was. Like that\nI was once a fortunate man but at some point fortune abandoned me.\nBut true good fortune is what you make for yourself. Good fortune: good character, good intentions, and good actions.\nTo move from one unselfish action to another with God in mind.\nOnly there, delight and stillness.\nWhen jarred, unavoidably, by circumstances, revert at once to yourself, and don’t lose the rhythm more than you can help. You’ll have a better grasp of the harmony if you keep on going back to it.\nLike seeing roasted meat and other dishes in front of you and suddenly realizing: This is a dead fish. A dead bird. A dead pig. Or that this noble vintage is grape juice, and the purple robes are sheep wool dyed with shellfish blood. Or making love—something rubbing against your penis, a brief seizure and a little cloudy liquid.\nPerceptions like that—latching onto things and piercing through them, so we see what they really are. That’s what we need to do all the time—all through our lives when things lay claim to our trust—to lay them bare and see how pointless they are, to strip away the legend that encrusts them.\nPride is a master of deception: when you think you’re occupied in the weightiest business, that’s when he has you in his spell.\n(Compare Crates on Xenocrates.)\nSome things are rushing into existence, others out of it. Some of what now exists is already gone. Change and flux constantly remake the world, just as the incessant progression of time remakes eternity.\nWe find ourselves in a river. Which of the things around us should we value when none of them can offer a firm foothold?\nLike an attachment to a sparrow: we glimpse it and it’s gone.\nAnd life itself: like the decoction of blood, the drawing in of air. We expel the power of breathing we drew in at birth (just yesterday or the day before), breathing it out like the air we exhale at each moment.\nThe way people behave. They refuse to admire their contemporaries, the people whose lives they share. No, but to be admired by Posterity—people they’ve never met and never will—that’s what they set their hearts on. You might as well be upset at not being a hero to your great-grandfather.\nNot to assume it’s impossible because you find it hard. But to recognize that if it’s humanly possible, you can do it too.\nIn the ring, our opponents can gouge us with their nails or butt us with their heads and leave a bruise, but we don’t denounce them for it or get upset with them or regard them from then on as violent types. We just keep an eye on them after that. Not out of hatred or suspicion. Just keeping a friendly distance.\nWe need to do that in other areas. We need to excuse what our sparring partners do, and just keep our distance—without suspicion or hatred.\nDeath. The end of sense-perception, of being controlled by our emotions, of mental activity, of enslavement to our bodies.\nTo escape imperialization—that indelible stain. It happens. Make sure you remain straightforward, upright, reverent, serious, unadorned, an ally of justice, pious, kind, affectionate, and doing your duty with a will. Fight to be the person philosophy tried to make you.\nRevere the gods; watch over human beings. Our lives are short. The only rewards of our existence here are an unstained character and unselfish acts.\nYou take things you don’t control and define them as “good” or “bad.” And so of course when the “bad” things happen, or the “good” ones don’t, you blame the gods and feel hatred for the people responsible—or those you decide to make responsible. Much of our bad behavior stems from trying to apply those criteria. If we limited “good” and “bad” to our own actions, we’d have no call to challenge God, or to treat other people as enemies.\nDoes the sun try to do the rain’s work? Or Asclepius Demeter’s? And what about each of the stars—different, yet working in common?\nThe only thing that isn’t worthless: to live this life out truthfully and rightly. And be patient with those who don’t.\nWhen you need encouragement, think of the qualities the people around you have: this one’s energy, that one’s modesty, another’s generosity, and so on. Nothing is as encouraging as when virtues are visibly embodied in the people around us, when we’re practically showered with them.\nIt’s good to keep this in mind.\nIt doesn’t bother you that you weigh only x or y pounds and not three hundred. Why should it bother you that you have only x or y years to live and not more? You accept the limits placed on your body. Accept those placed on your time.\nAmbition means tying your well-being to what other people say or do.\nSelf-indulgence means tying it to the things that happen to you.\nSanity means tying it to your own actions.\nPractice really hearing what people say. Do your best to get inside their minds.\nYou cannot quench understanding unless you put out the insights that compose it. But you can rekindle those at will, like glowing coals. I can control my thoughts as necessary; then how can I be troubled? What is outside my mind means nothing to it. Absorb that lesson and your feet stand firm.\nYou can return to life. Look at things as you did before. And life returns.\nNo matter what anyone says or does, my task is to be good. Like gold or emerald or purple repeating to itself, “No matter what anyone says or does, my task is to be emerald, my color undiminished.”\nTo feel affection for people even when they make mistakes is uniquely human. You can do it, if you simply recognize: that they’re human too, that they act out of ignorance, against their will, and that you’ll both be dead before long. And, above all, that they haven’t really hurt you. They haven’t diminished your ability to choose.\nTreat what you don’t have as nonexistent. Look at what you have, the things you value most, and think of how much you’d crave them if you didn’t have them. But be careful. Don’t feel such satisfaction that you start to overvalue them—that it would upset you to lose them.\n“ Then the only proper response for me to make is this: ‘You are much mistaken, my friend, if you think that any man worth his salt cares about the risk of death and doesn’t concentrate on this alone: whether what he’s doing is right or wrong, and his behavior a good man’s or a bad one’s.’ ”\nLook at the past—empire succeeding empire—and from that, extrapolate the future: the same thing. No escape from the rhythm of events.\nWhich is why observing life for forty years is as good as a thousand. Would you really see anything new?\nEverywhere, at each moment, you have the option:\nto accept this event with humility to treat this person as he should be treated to approach this thought with care, so that nothing irrational creeps in. Think of yourself as dead. You have lived your life. Now take what’s left and live it properly.\nAnd this too: you don’t need much to live happily. And just because you’ve abandoned your hopes of becoming a great thinker or scientist, don’t give up on attaining freedom, achieving humility, serving others, obeying God.\nTo live life in peace, immune to all compulsion. Let them scream whatever they want. Let animals dismember this soft flesh that covers you. How would any of that stop you from keeping your mind calm—reliably sizing up what’s around you—and ready to make good use of whatever happens? So that Judgment can look the event in the eye and say, “This is what you really are, regardless of what you may look like.” While Adaptability adds, “You’re just what I was looking for.” Because to me the present is a chance for the exercise of rational virtue—civic virtue—in short, the art that men share with gods. Both treat whatever happens as wholly natural; not novel or hard to deal with, but familiar and easily handled.\nThe gods live forever and yet they don’t seem annoyed at having to put up with human beings and their behavior throughout eternity. And not only put up with but actively care for them.\nAnd you—on the verge of death—you still refuse to care for them, although you’re one of them yourself.\nIf it’s in your control, why do you do it? If it’s in someone else’s, then who are you blaming? Atoms? The gods? Stupid either way.\nBlame no one. Set people straight, if you can. If not, just repair the damage. And suppose you can’t do that either. Then where does blaming people get you?\nNo pointless actions.\nWhat dies doesn’t vanish. It stays here in the world, transformed, dissolved, as parts of the world, and of you. Which are transformed in turn—without grumbling.\nEverything is here for a purpose, from horses to vine shoots. What’s surprising about that? Even the sun will tell you, “I have a purpose,” and the other gods as well. And why were you born? For pleasure? See if that answer will stand up to questioning.\nJoy for humans lies in human actions.\nHuman actions: kindness to others, contempt for the senses, the interrogation of appearances, observation of nature and of events in nature.\nThree relationships:\ni. with the body you inhabit; ii. with the divine, the cause of everything in all things; iii. with the people around you.\nEither pain affects the body (which is the body’s problem) or it affects the soul. But the soul can choose not to be affected, preserving its own serenity, its own tranquillity. All our decisions, urges, desires, aversions lie within. No evil can touch them.\nYou have to assemble your life yourself—action by action. And be satisfied if each one achieves its goal, as far as it can. No one can keep that from happening.\n—But there are external obstacles.…\nNot to behaving with justice, self-control, and good sense.\n—Well, but perhaps to some more concrete action.\nBut if you accept the obstacle and work with what you’re given, an alternative will present itself—another piece of what you’re trying to assemble. Action by action.\nHave you ever seen a severed hand or foot, or a decapitated head, just lying somewhere far away from the body it belonged to …? That’s what we do to ourselves—or try to—when we rebel against what happens to us, when we segregate ourselves. Or when we do something selfish.\nYou have torn yourself away from unity—your natural state, one you were born to share in. Now you’ve cut yourself off from it.\nBut you have one advantage here: you can reattach yourself. A privilege God has granted to no other part of no other whole—to be separated, cut away, and reunited. But look how he’s singled us out. He’s allowed us not to be broken off in the first place, and when we are he’s allowed us to return, to graft ourselves back on, and take up our old position once again: part of a whole.\nWe have various abilities, present in all rational creatures as in the nature of rationality itself. And this is one of them. Just as nature takes every obstacle, every impediment, and works around it—turns it to its purposes, incorporates it into itself—so, too, a rational being can turn each setback into raw material and use it to achieve its goal.\nDon’t let your imagination be crushed by life as a whole. Don’t try to picture everything bad that could possibly happen. Stick with the situation at hand, and ask, “Why is this so unbearable? Why can’t I endure it?” You’ll be embarrassed to answer.\nThen remind yourself that past and future have no power over you. Only the present—and even that can be minimized. Just mark off its limits. And if your mind tries to claim that it can’t hold out against that … well, then, heap shame upon it.\nStop perceiving the pain you imagine and you’ll remain completely unaffected.\n—“You?”\nYour logos .\n—But I’m not just logos .\nFine. Just don’t let the logos be injured. If anything else is, let it decide that for itself.\nFor animate beings, “harmful” is whatever obstructs the operation of their senses—or the fulfillment of what they intend. Similar obstructions constitute harm to plants. So too for rational creatures, anything that obstructs the operation of the mind is harmful.\nApply this to yourself.\nDo pain and pleasure have their hooks in you? Let the senses deal with it. Are there obstacles to your action? If you failed to reckon with the possibility, then that would harm you, as a rational being. But if you use common sense, you haven’t been harmed or even obstructed. No one can obstruct the operations of the mind. Nothing can get at them—not fire or steel, not tyrants, not abuse—nothing. As long as it’s “ a sphere … in perfect stillness.”\nI have no right to do myself an injury. Have I ever injured anyone else if I could avoid it?\nPeople find pleasure in different ways. I find it in keeping my mind clear. In not turning away from people or the things that happen to them. In accepting and welcoming everything I see. In treating each thing as it deserves.\nLift me up and hurl me. Wherever you will. My spirit will be gracious to me there—gracious and satisfied—as long as its existence and actions match its nature.\nIs there any reason why my soul should suffer and be degraded—miserable, tense, huddled, frightened? How could there be?\nExternal things are not the problem. It’s your assessment of them. Which you can erase right now.\nIf the problem is something in your own character, who’s stopping you from setting your mind straight?\nAnd if it’s that you’re not doing something you think you should be, why not just do it?\n—But there are insuperable obstacles.\nThen it’s not a problem. The cause of your inaction lies outside you.\n—But how can I go on living with that undone?\nThen depart, with a good conscience, as if you’d done it, embracing the obstacles too.\nNothing but what you get from first impressions. That someone has insulted you, for instance. That—but not that it’s done you any harm. The fact that my son is sick—that I can see. But “that he might die of it,” no. Stick with first impressions. Don’t extrapolate. And nothing can happen to you.\nOr extrapolate. From a knowledge of all that can happen in the world.\nNo carelessness in your actions. No confusion in your words. No imprecision in your thoughts. No retreating into your own soul, or trying to escape it. No overactivity.\nThey kill you, cut you with knives, shower you with curses. And that somehow cuts your mind off from clearness, and sanity, and self-control, and justice?\nA man standing by a spring of clear, sweet water and cursing it. While the fresh water keeps on bubbling up. He can shovel mud into it, or dung, and the stream will carry it away, wash itself clean, remain unstained.\nTo have that. Not a cistern but a perpetual spring.\nHow? By working to win your freedom. Hour by hour. Through patience, honesty, humility.\nNot to know what the world is is to be ignorant of where you are.\nNot to know why it’s here is to be ignorant of who you are. And what it is.\nNot to know any of this is to be ignorant of why you’re here.\nAnd what are we to make of anyone who cares about the applause of such people, who don’t know where or who they are?\nYou want praise from people who kick themselves every fifteen minutes, the approval of people who despise themselves. (Is it a sign of self-respect to regret nearly everything you do?)\nThe existence of evil does not harm the world. And an individual act of evil does not harm the victim. Only one person is harmed by it—and he can stop being harmed as soon as he decides to.\nOther people’s wills are as independent of mine as their breath and bodies. We may exist for the sake of one another, but our will rules its own domain. Otherwise the harm they do would cause harm to me. Which is not what God intended—for my happiness to rest with someone else.\nWe speak of the sun’s light as “pouring down on us,” as “pouring over us” in all directions. Yet it’s never poured out. Because it doesn’t really pour; it extends. Its beams (aktai ) get their name from their extension (ekteinesthai ).\nTo see the nature of a sunbeam, look at light as it falls through a narrow opening into a dark room. It extends in a straight line, striking any solid object that stands in its way and blocks the space beyond it. There it remains—not vanishing, or falling away.\nThat’s what the outpouring—the diffusion—of thought should be like: not emptied out, but extended. And not striking at obstacles with fury and violence, or falling away before them, but holding its ground and illuminating what receives it.\nWhat doesn’t transmit light creates its own darkness.\nTo enter others’ minds and let them enter yours.\nInjustice is a kind of blasphemy. Nature designed rational beings for each other’s sake: to help—not harm—one another, as they deserve. To transgress its will, then, is to blaspheme against the oldest of the gods.\nAnd to lie is to blaspheme against it too. Because “nature” means the nature of that which is. And that which is and that which is the case are closely linked, so that nature is synonymous with Truth—the source of all true things. To lie deliberately is to blaspheme—the liar commits deceit, and thus injustice. And likewise to lie without realizing it. Because the involuntary liar disrupts the harmony of nature—its order. He is in conflict with the way the world is structured. As anyone is who deviates toward what is opposed to the truth—even against his will. Nature gave him the resources to distinguish between true and false. And he neglected them, and now can’t tell the difference.\nAnd to pursue pleasure as good, and flee from pain as evil—that too is blasphemous. Someone who does that is bound to find himself constantly reproaching nature—complaining that it doesn’t treat the good and bad as they deserve, but often lets the bad enjoy pleasure and the things that produce it, and makes the good suffer pain, and the things that produce pain. And moreover, to fear pain is to fear something that’s bound to happen, the world being what it is—and that again is blasphemy. While if you pursue pleasure, you can hardly avoid wrongdoing—which is manifestly blasphemous.\nSome things nature is indifferent to; if it privileged one over the other it would hardly have created both. And if we want to follow nature, to be of one mind with it, we need to share its indifference. To privilege pleasure over pain—life over death, fame over anonymity—is clearly blasphemous. Nature certainly doesn’t.\nAnd when I say that nature is indifferent to them, I mean that they happen indifferently, at different times, to the things that exist and the things that come into being after them, through some ancient decree of Providence—the decree by which from some initial starting point it embarked on the creation that we know, by laying down the principles of what was to come and determining the generative forces: existence and change, and their successive stages.\nDon’t look down on death, but welcome it. It too is one of the things required by nature. Like youth and old age. Like growth and maturity. Like a new set of teeth, a beard, the first gray hair. Like sex and pregnancy and childbirth. Like all the other physical changes at each stage of life, our dissolution is no different.\nSo this is how a thoughtful person should await death: not with indifference, not with impatience, not with disdain, but simply viewing it as one of the things that happen to us. Now you anticipate the child’s emergence from its mother’s womb; that’s how you should await the hour when your soul will emerge from its compartment.\nOr perhaps you need some tidy aphorism to tuck away in the back of your mind. Well, consider two things that should reconcile you to death: the nature of the things you’ll leave behind you, and the kind of people you’ll no longer be mixed up with. There’s no need to feel resentment toward them—in fact, you should look out for their well-being, and be gentle with them—but keep in mind that everything you believe is meaningless to those you leave behind. Because that’s all that could restrain us (if anything could)—the only thing that could make\nus want to stay here: the chance to live with those who share our vision. But now? Look how tiring it is—this cacophony we live in. Enough to make you say to death, “Come quickly. Before I start to forget myself, like them.”\nTo do harm is to do yourself harm. To do an injustice is to do yourself an injustice—it degrades you.\nAnd you can also commit injustice by doing nothing.\nObjective judgment, now, at this very moment.\nUnselfish action, now, at this very moment.\nWilling acceptance—now, at this very moment—of all external events.\nThat’s all you need.\nAll things are drawn toward what is like them, if such a thing exists. All earthly things feel the earth’s tug. All wet things flow together. And airy things as well, so they have to be forcibly prevented from mixing. Fire is naturally drawn upward by that higher fire, but ready to ignite at the slightest touch of other, earthly flame. So that anything drier than usual makes good fuel, because less of what hinders combustion is mixed in with it.\nAnd things that share an intelligent nature are just as prone to seek out what is like them. If not more so. Because their superiority in other ways is matched by their greater readiness to mix and mingle with their counterparts.\nEven in irrational beings we see swarms and herds, and nesting, and love not unlike ours. Because they do have souls, and the bonding instinct is found in a developed form—not something we see in plants, or stones, or trees. And it’s still more developed in rational beings, with their states, friendships, families, groups, their treaties and truces. And in those yet\nmore developed there is a kind of unity even between separate things, the kind that we see in the stars. An advanced level of development can produce a sympathy even in things that are quite distinct.\nThings wait outside us, hover at the door. They keep to themselves. Ask them who they are and they don’t know, they can give no account of themselves.\nWhat accounts for them?\nThe mind does.\nLeave other people’s mistakes where they lie.\nWhen we cease from activity, or follow a thought to its conclusion, it’s a kind of death. And it doesn’t harm us. Think about your life: childhood, boyhood, youth, old age. Every transformation a kind of dying. Was that so terrible?\nThink about life with your grandfather, your mother, your adopted father. Realize how many other deaths and transformations and endings there have been and ask yourself: Was that so terrible?\nThen neither will the close of your life be—its ending and transformation.\nYou participate in a society by your existence. Then participate in its life through your actions—all your actions. Any action not directed toward a social end (directly or indirectly) is a disturbance to your life, an obstacle to wholeness, a source of dissension. Like the man in the Assembly—a faction to himself, always out of step with the majority.\nEndless suffering—all from not allowing the mind to do its job. Enough.\nDo what nature demands. Get a move on—if you have it in you—and don’t worry whether anyone will give you credit for it. And don’t go expecting Plato’s Republic; be satisfied with even the smallest progress, and treat the outcome of it all as unimportant.\nThat to be remembered is worthless. Like fame. Like everything.\nAll that you see will soon have vanished, and those who see it vanish will vanish themselves, and the ones who reached old age have no advantage over the untimely dead.\nEither the gods have power or they don’t. If they don’t, why pray? If they do, then why not pray for something else instead of for things to happen or not to happen? Pray not to feel fear. Or desire, or grief. If the gods can do anything, they can surely do that for us.\nNot “some way to sleep with her”—but a way to stop wanting to.\nNot “some way to get rid of him”—but a way to stop trying.\nNot “some way to save my child”—but a way to lose your fear.\nRedirect your prayers like that, and watch what happens.\nWhen you run up against someone else’s shamelessness, ask yourself this: Is a world without shamelessness possible?\nNo.\nThen don’t ask the impossible. There have to be shameless people in the world. This is one of them.\nThe same for someone vicious or untrustworthy, or with any other defect. Remembering that the whole class has to exist will make you more tolerant of its members.\nAnother useful point to bear in mind: What qualities has nature given us to counter that defect? As an antidote to unkindness it gave us kindness. And other qualities to balance other flaws.\nAnd when others stray off course, you can always try to set them straight, because every wrongdoer is doing something wrong—doing something the wrong way .\nAnd how does it injure you anyway? You’ll find that none of the people you’re upset about has done anything that could do damage to your mind. But that’s all that “harm” or “injury” could mean. Yes, boorish people do boorish things. What’s strange or unheard-of about that? Isn’t it yourself you should reproach—for not anticipating that they’d act this way? The logos gave you the means to see it—that a given person would act a given way—but you paid no attention. And now you’re astonished that he’s gone and done it. So when you call someone “untrustworthy” or “ungrateful,” turn the reproach on yourself. It was you who did wrong. By assuming that someone with those traits deserved your trust. Or by doing them a favor and expecting something in return, instead of looking to the action itself for your reward. What else did you expect from helping someone out? Isn’t it enough that you’ve done what your\nnature demands? You want a salary for it too? As if your eyes expected a reward for seeing, or your feet for walking. That’s what they were made for. By doing what they were designed to do, they’re performing their function. Whereas humans were made to help others. And when we do help others—or help them to do something—we’re doing what we were designed for. We perform our function.\nTo my soul:\nAre you ever going to achieve goodness? Ever going to be simple, whole, and naked—as plain to see as the body that contains you? Know what an affectionate and loving disposition would feel like? Ever be fulfilled, ever stop desiring—lusting and longing for people and things to enjoy? Or for more time to enjoy them? Or for some other place or country—“a more temperate clime”? Or for people easier to get along with? And instead be satisfied with what you have, and accept the present—all of it. And convince yourself that everything is the gift of the gods, that things are good and always will be, whatever they decide and have in store for the preservation of that perfect entity—good and just and beautiful, creating all things, connecting and embracing them, and gathering in their separated fragments to create more like them.\nEverything that happens is either endurable or not.\nIf it’s endurable, then endure it. Stop complaining.\nIf it’s unendurable … then stop complaining. Your destruction will mean its end as well.\nJust remember: you can endure anything your mind can make endurable, by treating it as in your interest to do so.\nIn your interest, or in your nature.\nKeep in mind that “sanity” means understanding things—each individual thing—for what they are. And not losing the thread.\nAnd “cooperation” means accepting what nature assigns you—accepting it willingly.\nAnd “disinterest” means that the intelligence should rise above the movements of the flesh—the rough and the smooth alike. Should rise above fame, above death, and everything like them.\nIf you maintain your claim to these epithets—without caring if others apply them to you or not—you’ll become a new person, living a new life. To keep on being the person that you’ve been—to keep being mauled and degraded by the life you’re living—is to be devoid of sense and much too fond of life. Like those animal fighters at the games—torn half to pieces, covered in blood and gore, and still pleading to be held over till tomorrow … to be bitten and clawed again.\nHe has stripped away his body and—realizing that at some point soon he will have to abandon mankind and leave all this behind—has dedicated himself to serving justice in all he does, and nature in all that happens. What people say or think about him, or how they treat him, isn’t something he worries about. Only these two questions: Is what he’s doing now the right thing to be doing? Does he accept and welcome what he’s been assigned? He has stripped away all other occupations, all other tasks. He wants only to travel a straight path—to God, by way of law.\nHow they act when they eat and sleep and mate and defecate and all the rest. Then when they order and exult, or rage and thunder from on high. And yet, just consider the things they submitted to a moment ago, and the reasons for it—and the things they’ll submit to again before very long.\nWhen you look at yourself, see any of the emperors.\nAnd the same with everyone else. Then let it hit you: Where are they now?\nNowhere … or wherever.\nThat way you’ll see human life for what it is. Smoke. Nothing. Especially when you recall that once things alter they cease to exist through all the endless years to come.\nThen why such turmoil? To live your brief life rightly, isn’t that enough?\nThe raw material you’re missing, the opportunities …! What is any of this but training—training for your logos , in life observed accurately, scientifically.\nSo keep at it, until it’s fully digested. As a strong stomach digests whatever it eats. As a blazing fire takes whatever you throw on it, and makes it light and flame.\nNone of us have much time. And yet you act as if things were eternal—the way you fear and long for them.…\nBefore long, darkness. And whoever buries you mourned in their turn.\nSo too a healthy mind should be prepared for anything. The one that keeps saying, “Are my children all right?” or “Everyone must approve of me” is like eyes that can only stand pale colors, or teeth that can handle only mush.\nIt doesn’t matter how good a life you’ve led. There’ll still be people standing around the bed who will welcome the sad event.\nEven with the intelligent and good. Won’t there be someone thinking “Finally! To be through with that old schoolteacher. Even though he never said anything, you could always feel him judging you.” And that’s for a good man. How many traits do you have that would make a lot of people glad to be rid of you?\nRemember that, when the time comes. You’ll be less reluctant to leave if you can tell yourself, “This is the sort of life I’m leaving. Even the people around me, the ones I spent so much time fighting for, praying over, caring about—even they want me gone, in hopes that it will make their own lives easier. How could anyone stand a longer stay here?”\nAnd yet, don’t leave angry with them. Be true to who you are: caring, sympathetic, kind. And not as if you were being torn away from life. But the way it is when someone dies peacefully, how the soul is released from the body—that’s how you should leave them. It was nature that bound you to them—that tied the knot. And nature that now unties you.\nI am released from those around me. Not dragged against my will, but unresisting.\nThere are things that nature demands. And this is one of them.\nLearn to ask of all actions, “Why are they doing that?”\nStarting with your own.\nThat you’ve made enough mistakes yourself. You’re just like them.\nEven if there are some you’ve avoided, you have the potential.\nEven if cowardice has kept you from them. Or fear of what people would say. Or some equally bad reason.\nThat you don’t know for sure it is a mistake. A lot of things are means to some other end. You have to know an awful lot before you can judge other people’s actions with real understanding.\nWhen you lose your temper, or even feel irritated: that human life is very short. Before long all of us will be laid out side by side.\nHow much more damage anger and grief do than the things that cause them.\nAnd along with not getting angry at others, try not to pander either. Both are forms of selfishness; both of them will do you harm. When you start to lose your temper, remember: There’s nothing manly about rage. It’s courtesy and kindness that define a human being—and a man. That’s who possesses strength and nerves and guts, not the angry whiners. To react like that brings you closer to impassivity—and so to strength. Pain is the opposite of strength, and so is anger. Both are things we suffer from, and yield to.…\nFour habits of thought to watch for, and erase from your mind when you catch them. Tell yourself:\nThis thought is unnecessary. This one is destructive to the people around you. This wouldn’t be what you really think (to say what you don’t think—the definition of absurdity). And the fourth reason for self-reproach: that the more divine part of you has been beaten and subdued by the degraded mortal part—the body and its stupid self-indulgence.\nAs you kiss your son good night, says Epictetus, whisper to yourself, “He may be dead in the morning.”\nDon’t tempt fate, you say.\nBy talking about a natural event? Is fate tempted when we speak of grain being reaped?\nEverything you’re trying to reach—by taking the long way round—you could have right now, this moment. If you’d only stop thwarting your own attempts. If you’d only let go of the past, entrust the future to Providence, and guide the present toward reverence and justice.\nReverence: so you’ll accept what you’re allotted. Nature intended it for you, and you for it.\nJustice: so that you’ll speak the truth, frankly and without evasions, and act as you should—and as other people deserve.\nIf you can cut yourself—your mind—free of what other people do and say, of what you’ve said or done, of the things that you’re afraid will happen, the impositions of the body that contains you and the breath within, and what the whirling chaos sweeps in from outside, so that the mind is freed from fate, brought to clarity, and lives life on its own recognizance—doing what’s right, accepting what happens, and speaking the truth—\nIt never ceases to amaze me: we all love ourselves more than other people, but care more about their opinion than our own. If a god appeared to us—or a wise human being, even—and prohibited us from concealing our thoughts or imagining anything without immediately shouting it out, we wouldn’t make it through a single day. That’s how much we value other people’s opinions—instead of our own.\n“But I’ve only gotten through three acts …!”\nYes. This will be a drama in three acts, the length fixed by the power that directed your creation, and now directs your dissolution. Neither was yours to determine.\nSo make your exit with grace—the same grace shown to you.",
    "description": "I enjoyed reading this more than I thought I would. The emperor spent a great deal thinking about what it means to be human, philosophy, on life, on dying, and how best to navigate the world. Both the internal world of the mind and soul, and the external world of matter and other people.\nThis book makes me want to keep a better journaling habit. And study philosophy. And not worry about things that do not matter. Because we all become dust in the end anyway.",
    "tags": [],
    "title": "Meditations (9/10)",
    "uri": "/booknotes/meditations/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "I took a lot of highlights with this one. Motivational, inspiring, and practical. I will be coming back to these notes over and over as I embark on my business ventures. Don’t be afraid to ask for what you want. In fact, develop your asking powers like a muscle. Also, don’t try to figure out how to do something before you start. Just start and figure out how along the way.\nSummary and Highlights Ordinary people start profitable businesses every single day.\nYou do have problems, and so do your friends and every other person in this world. That’s all you need to generate million-dollar business ideas.\nChoose the three you think will be the most fun to work with.\nIn the early mornings, evenings, and weekends. Once you’ve validated an idea, and you’re pulling in enough to cover your minimum monthly expenses—aka the Freedom Number—then you can quit.\nI’ve started a few different businesses. They do okay and then I lose interest\nBut how will it scale? Focus on starting. Then figure out how to scale.\nYou will never feel 100 percent ready to start. You just need to start. Don’t buy another book or watch another video until you’ve worked through THIS process and started your million-dollar business.\nMarketing is easy when you have a product people want.\nFind a problem people are having that you can solve.\nCraft an irresistible solution whose million-dollar-plus potential is backed by simple market research.\nSpend NO MONEY to quickly validate whether your idea is the real deal (or not) by preselling it before you build it.\nDerailed by the same two fears:\nFEAR OF STARTING At some point people are told entrepreneurship is a huge risk, and you believed it. You figured more preparation, more planning, and more talking to friends Would help you overcome your insecurities. But that inaction only breeds more doubt and fear.\nThe best way to learn what we need to know—and become who we want to be—is by just getting started. Small EXPERIMENTS, repeated over time, are the recipe for transformation in business, and life.\nFEAR OF ASKING Soon after starting, the fear of rejection emerges.\nYou have some impressive skills, an amazing product, every advantage in the world, and you’ll never sell a thing if you can’t face another person and ask for what you want. Whether you want them to buy what you’re selling or help in another way, you have to be able to ask in order to get. Once you reframe rejection as something desirable, the act of asking becomes a power all its own.\nEverything you do in this book, and after, should be viewed as an experiment\nExperiments are supposed to fail.\nAnd should they fail, you just take what you’ve learned and try again a little bit differently.\nMost people never pick up the phone, most people never ask. And that’s what separates, sometimes, the people that do things from the people that just dream about them. You gotta act. And you gotta be willing to fail.\nBusiness is just a never-ending cycle of starting and trying new things, asking whether people will pay for those things, and then trying it again based on what you’ve learned. If you’re afraid to start or ask, you can’t experiment.\nAnd if you can’t experiment, you can’t do business.\nBusiness is an amazing opportunity to learn about yourself, play with ideas, solve your own problems, help other people, and get paid all the while.\nApproaching it this way will free up your imagination, make you less judgy and critical of yourself, and allow you to open yourself up to playful experimentation.\nLimiting time to a weekend forces you to become inventive, focuses your attention only on the things that matter, and shows you how much more you can do with limitations.\nThe most powerful growth tool today for solopreneurs is a system of content creation, audience building, and email marketing.\nYou’ll need a different approach and different system to organize your days—one that optimizes for your overall happiness above all else. (Or why do any of it, right?)\nThere are two mistakes one can make along the road to truth . . . not going all the way, and not starting. —Buddha\nFocus above all else on being a starter, an experimenter, a learner.\nDefining yourself by the things you do each day (the process) will get you to where you want to be quicker and more joyfully than measuring yourself against others.\nThe Magic of NOW, Not How. Fully embrace what I call the NOW, Not How Habit.\nMost people: Overthink first, act later. Every successful entrepreneur: Act first, figure it out later. Any analysis ahead of action is purely speculation.\nA simple mission to hit a monthly revenue number is the most effective form of early motivation.\nYou first need to choose your Freedom Number.\nWhat can YOU do in your business to make money this week? Today? Right now?\nIf you commit to nothing, you’ll be distracted by everything.\nThe Freedom Number helps us not get lost in abstraction or complexity; it reminds us the mechanics of business are simple.\nChoosing your Freedom Number. Start by choosing a short-term monthly revenue goal—your Freedom Number—and make it a number that doesn’t scare you.\nWho you are, what you have, and what you know right now are more than enough to get going.\nLove rejections! Collect them like treasure! Set rejection goals. I shoot for a hundred rejections each week, because if you work that hard to get so many noes, in them you will find a few yeses, too.\nThe upside of asking is unlimited and the downside is minimal.\nBe persistent. almost every no you get can eventually become a yes. Persistence will reveal that most noes are actually a “not now.”\nFollow Up! Studies show that if you initially get a no, your follow-up ask is TWICE as likely to get a yes.\nSelling is helping.\nIf you believe your product or service improves the lives of your customers, sales is just education.\nIf you believe your product or service can fulfill a true need, it’s your moral obligation to sell it.—Zig Ziglar\nThree Ws of business:\nWho you are selling to What problem you’re solving Where they are Sell ideas to a small early adopter group before you’ve built the product (or spent a cent) in order to validate that there is a market that will pay.\nWhen in doubt, solve your own problems. If you are willing to pay for a solution, it’s likely others are, too. And at least you’ll have one happy customer—yourself.\nMinimum viable product or MVP. Create the simplest possible version of what you’re offering and start selling it right away.\nThat way, instead of endlessly refining something in a vacuum, you use feedback from actual customers to incrementally develop an offering people absolutely want to buy.\nCreate opportunities within the context of who they are, what they know, and especially who they know.\nValidation process begins with potential customers in the entrepreneur’s orbit. Actual people with names. Tribes you belong to or are interested in, most of whom are already self-organized online.\nWho do you have easy access to that you’d be EXCITED to help?\nThe better you understand your target group, the better you can speak to them. The more specifically you can speak to their problems, the better and easier you can sell or test products.\nThis process prioritizes communication with people, through starting (taking the first iteration of your solution straight to customers) and asking (engaging them in a conversation to determine how your solution can best fix their problem). Business creation should always be a conversation.\nBecome a Problem Seeker The best entrepreneurs are the most dissatisfied. They’re always thinking of how things can be better.\nYour frustrations—and the frustrations of others—are your business opportunities\nThe crucial first step toward entrepreneurship is to study your own unhappiness and to think of solutions (aka business opportunities) for you to sell.\nWhat’s the most painful (aka valuable) problem you can solve for people . . . That you also have passion for and/or unique expertise in . . . For the largest niche possible that you belong to and understand.\nFocus on your Zone of Influence here (your existing community):\nSolve Your Own Problems What is one thing this morning that irritated me?\nWhat is one thing on my to-do list that’s been there over a week?\nWhat is one thing that I regularly fail to do well?\nWhat is one thing I wanted to buy recently only to find out that no one made it?\nKeep a notebook close by and jot down things that bother you.\nIt’s easier to sell to a large group of people who’ve already spent money on a product or service.\nBestsellers are your best friends. Accessorize an existing product.\nWrite down all the bad, crazy, and nonsense ideas that come into your mind.\nStudying the marketplaces where people are TRYING to spend money\nSearch Engine Queries\nIt’s much easier to sell something when people ALREADY want it. There are 3 billion Google searches every day, giving you a direct line to customers’ thoughts and needs\nAnswerThePublic.com will find the most googled questions around whatever keyword you input.\nIs the potential solution a vitamin (a nice-to-have) or a painkiller (a must-have)?\nr/SomebodyMakeThis\nTwo key questions to answer to make sure it’s a million-dollar opportunity:\nIs the overall market dying, flat, or growing? You want flat or ideally growing! Is this a million-dollar opportunity? To figure that out, we have to know the number of potential customers and the price of your product.\nI use Google Trends and Facebook Ads to answer those questions.\nEvaluate the size and growth potential of my target market.\nIs the market growing or dying? Search Google Trends.\nHow many potential customers are there? Use Facebook Ads to research your market size. They let you type in the keyword of whatever business category you’re thinking about and see the approximate audience size.\nYou can also use the Facebook Ads Library to see every single active ad running on Facebook for your keyword and location, which is super helpful for uncovering competitors and getting ideas for your own marketing efforts other groups you could think of targeting.\nOther categories to search:\nLocals More niche Demographics-based Step 2. Is This a Million-Dollar Opportunity? Pick a price point you think will be ideal for your customer.\nMultiply that by the number of ideal customers. Does that equal at least a million dollars? Yes or no? evaluate that\nGoogle Trends: Flat with some growth\nSize of market: 2,500,000 people\nCost of your product: $50\nTotal Value: $125,000,000\nMillion-dollar idea? YES!\nDon’t be a wantrepreneur and waste time calculating revenue to the exact cent or fretting about the optimal price point\nAll you want is to know if the business idea is worth pursuing\nNow that we know it’s worth it, let’s confirm how exactly you’re going to get your million dollars.\nStep 3. The One-Minute Business Model\nRealistically you’re not going to get 5 or 10 percent of this market, BUT now let’s see what it would take to generate your own $1 million in profit.\nRevenue – Cost = Profit. These determine if\nyou can make your first million dollars\nRevenue (all the money you make) – Cost (how much it costs to make it) = Profit (what you get to take home) This is obviously extremely basic, but that’s the point. It’s all you need to calculate in order\nto assess whether you can get to $1 million\nWhat we are looking for are rough estimates. Momentum is your friend, and we can sweat the details later\ndivide your target profit by the profit\nThis is ONLY the number of people we see via Facebook. This is for only one beard product. If you find success with beard oil, you can easily repeat the process many times with other grooming products\nThis is only the first sale to these customers\nIt’s far easier to sell to an existing customer than it is to acquire new ones, so once we’ve built up a decent customer base, we can make\neven more products to sell to them. Plus, you can likely sell a subscription to increase the amount you sell per customer. PRO TIP: When you’re launching a business, always ask yourself: is this going to be a one-off purchase, something\ncustomers buy here and there when they want to consume it, or can you make it a monthly recurring sale?\nIt’s always better to be in the reorder business\nStep 4. Pivot and Evolve—Your Revenue Dials\nAlmost every successful business had to pivot or change course along the way\nMaybe you chose the wrong market to begin with. Or maybe one feature of your offer turns out to be the thing people want. Just keep your eyes open for adjacent opportunities.\nThe easiest way for me to reach my goal was to increase the average order value by selling longer-term subscriptions to businesses\nsix Revenue Dials you can use:\nAverage order value: Increase the amount someone purchases.\nFrequency: Increase how often someone will buy your service.\nPrice point: Increase or decrease your price point to affect total sales.\nCustomer type: Approach a more lucrative/wealthier customer segment.\nProduct line: Add additional products to make the business more attractive to start.\nAdd-on services: If you’re selling a product like cookies, can you offer a service like setting up birthday parties\nor cooking at the person’s home?\nThe hard part is not choosing which business idea. The hard part is getting customers. And that’s where you’ll focus first.\nPick one business idea. Make sure it’s a million-dollar opportunity. Confirm your business idea is profitable\nstart with the problem that is most exciting for you to solve yourself\nWhen you have money from customers, fulfillment is easy. Be worried when it’s the other way around\nyou’ll never know if they can go from idea to business until you actually test your target market’s willingness to pay.\nValidation is finding three customers in forty-eight hours who will give you money for your idea.\nbenefits of Validation\nYou don’t waste time.\nYou save money.\nYou find out if you can actually get customers for your idea.\nYou get money up front.\nYou light a fire under your butt to get moving.\nthe Golden Rule of Validation:\nFind three customers in forty-eight hours who will give you money for your idea.\nwhy it works so well:\nYou’re allowed only forty-eight hours. Limitations breed creativity. Having a tight time limit will cut off the doubting wantrepreneur inside you and force you to iterate\nfast and be creative until you find something that works. Get your first three customers. Your first customer is a friend, the second customer is someone in your family, but your third customer is HARD\nCollect money up front. The promise of payment is not validation. That’s polite rejection. Getting customers to hand over their dollars makes it real\nif you can get someone to give you money quickly just by describing a product or solution, you’re good! You’re not trying to invent demand; you’re trying to see how\nEXCITED people are about what you’re helping them with.\nThree Methods to Validate ANY Business Idea\n1. Direct Preselling\nmake real contact with real people, tell them what I’m selling, ask for money, and see how they react\nActively preselling your first few customers is the best way for entrepreneurs to launch a business.\ncreate a spreadsheet with ten\nrows\nThese are going to be your Dream Ten prospects: ideal people you want to validate your business idea with.[*]\nHere are the columns to use:\nName\nCompany\nPhone\nEmail\nWhen contacted\nWhen to follow up\nNotes\nMake it easy: start with your best friends who might be interested—your Zone of Influence. Too often, people make it hard by going outside their spheres. They do this to avoid rejection, when in reality your network\nwants to help you succeed\nCheck out your Facebook friend list, your Facebook groups, your favorites on contacts, LinkedIn Connections, former colleagues, past clients, text message lists, people from your church or synagogue, your Twitter followers\nand others who fit your ideal customer\nBy the time you’ve done this you should\nhave filled out at least ten lines, your Dream Ten.\nBUT if you’re thinking, Dang, I don’t know ten people who can buy this, then maaaaaaaaybe you should a consider a different business idea\nHoping and praying that a thousand people in\nthe world will magically buy it is living in la-la land, as my father would put it. Go after markets and businesses where you have influence so it’s easier to succeed\nScripts for Preselling Your Idea\nValidation is a conversation. Not a sales pitch, but a chat to learn about the\ncustomer, see if you can help them and if they’ll actually pay you\nFor this reason, with your Dream Ten, I really recommend you turn the ask into an exploratory conversation, to allow for more learning.\nThese people really know you and they’ll be happy to give you time, so use it to extract what most excites them about your product or not so you can tweak it.\nprocess to validate your solution with your Dream Ten can be broken down to a three\npart framework:\nListen Options Transition First, Listen\nget customers talking about their problem.\nHere are three questions that will help you in this process:\nWhat’s the most frustrating thing about what’s currently going on? How would having X make your life better? What do you think that X should cost? Finish with summarizing what the person\nsaid. For example, Daniel would say, “So you want an easier way to learn how to use your computer.”\nPRO TIP: Use what or how questions to encourage a more open dialogue versus\nwhy or yes/no questions, which can limit your learning\nIt’s crucial to really listen and write down their problems, because you’re looking for the pain they’re feeling and how valuable it would be for them to give you money\nThe bigger the pain, the bigger the opportunity!\nNext, Options. Now that you’ve uncovered the problem, it’s time to suggest options that can solve their problems—and what they’d pay for it\nYou’re looking for excitement and a willingness to pay. Eye rolls and lower energy\nfrom your prospective customer are indicators of low interest\nNow, Transition. You know their problem and you know an option to fix it that they are excited about. Now it’s time to transition to the sell.\nIf they pay you, that’s Validation success\nOften you can distill your offer down to three parts: Price + Benefit\nTime. Strung together, they form an offer sentence. Other examples:\nFor $25, I will teach you how to save an hour a day on your Mac, in just twenty minutes\nFor $69, I will teach you how to write better in two hours\nFor $10, I will send you a PDF with ten mind hacks that will change the\nway you think in ten minutes. For $180, I will provide six months of tasty jerky to your office this week PRO TIP: Presenting your offer as a\ncomparison can make it easier for your customer to understand. “We are like X but Y.”\nFor example, we are like your competitor but twice as cheap\nWhen you validate, you have to get comfortable with potentially selling a product before you’ve actually made it. Clearly explain when it will be delivered. Because people are fine with giving you money in advance, as long as you set clear expectations\nmoney:\n“Sign up now while it’s still at a discounted price, x percent of y dollars [and you’ll be grandfathered in at that price forever]. This offer is only good today.”\nPRO TIP: Always follow up by sending an email to your first customers asking for feedback. Feedback is a gift you can continually use to improve yourself and your business\nOf course, success won’t always be so immediate when you use direct preselling to validate—in fact, you’ll get rejected a whole lot—and this is another instance where the technique shines.\nThat’s because every rejection is an\nopportunity; you can use it to take a deep dive into customer problems\nWhen I get shot down while validating, I have a simple four-question script that flips the no into new knowledge, new ideas, and maybe even new customers\nWhy not?” It’s really easy to get scared from attacking this one head-on, because what happens if their criticism is right? But that’s exactly\nwhat you want to know!\n“Who is one person you know who would really like this?” Always, always, always ask for a referral! Be specific about what kind of referral and use a number; this\nmakes it highly effective.\n“What would make this a no-brainer for you?” If they don’t want your product, maybe they’d want something related to it. If they don’t want to pay for your dog care app\nwhat about dog walking? A dog hotel? Dog dating?\nWhat would you pay for that?” One of the hardest things in a startup is setting prices. Getting potential customers to say what\nthey’d pay is pure gold!\nPRO TIP: Active communications—calls and texts—work a lot better than\npassive ones, like posting on Facebook or Twitter and waiting for replies. Try to Direct Message (DM) people, or whatever enables you to get the fastest response time possible.\n2. Marketplaces\nA classic way to validate your product is to use marketplaces—sites like Facebook Marketplace, Craigslist, Reddit, or whatever you have locally. The\n3. Landing Pages\nOne really popular approach is to set up a\nsimple landing page using a cheap or free service. Currently Instapage, Unbounce, and ClickFunnels are popular landing page tools. Find the latest landing page tools at MillionDollarWeekend.com\nThen they run a bunch of ads to send\npeople to the site and see if people actually will enter an email address to get on the mailing list, or even preorder the product\nThe reason I don’t love this approach is you have to spend time setting it up and buying ads, and when you buy ads, you have to become an\nad expert. The whole experience is slow and costly. Two things I hate.\nThe key is: If you go this route, don’t overthink the design, the name, the\nlanguage, the ads, or any of that. Just focus on seeing if you can get people to buy your product!\nYour challenge is to get at least three paying customers within forty-eight hours. Grab your Dream Ten list that you made earlier.\nText, call, direct message, or email—the\nmore real time, the better!\nFree Bonus: Grab my six ways to enhance your offering at MillionDollarWeekend.com\nGrow It\nMake Money While You Sleep\nSocial Media Is for Growth\nEmail Is for Profit\n1,000 true fans”—all built by connecting with people whose particular challenges and interests overlapped with my particular skills and passions.\nA community who already knows you\nwho follows you, who is rooting for you is one of the most powerful forces in business, and it’s created through generosity.\nAdding value without expectation. Helping them with their journey without asking for an immediate return\nSometimes it’s helping\nthem by boosting their self-esteem with a simple compliment\nhow do you find your unique angle to start building up your community?\nunderstand how their special sauce is the unfair advantage that will make them shine\nHe thought his problem was that he didn’t know the process. But the mechanics come down to figuring out how to embrace and\namplify your uniqueness in a way that attracts people to become friends and customers\nWhat’s your unique angle in thirty seconds or less?” In other words, why would anyone care to read his newsletter?\nHe defines who he is\nWhy you should trust him\nWhat he is passionate about, and What unique thing this prepares him to do for you. Write out your unique angle.There are no right answers here. You can change these any time you’d like.\nWho are you\nWhy should people listen?\nWhat are you passionate about?\nWhat will you do for people\nPick a Platform\nWith your unique angle, you need to reach an audience, and the best way to do it for FREE is through social media.\nYou can choose any FREE platform:\nPhotographers love Instagram to showcase their newest cool stuff to the world. Consultants love to stand on a soapbox at LinkedIn. Journalists, marketers, and others like the few hundred characters of Twitter.\nDesigners can show off their work at Dribble\nAuthors can start a blog for free on WordPress.com\nYou need to know three things to choose:\nWhich site has the audience you want to connect with? What medium do YOU enjoy creating content in? What disproportionate results will you get compared to the work you\nput in?\nlet’s break down how I chose my platform. To start, I eliminated the ones that don’t work for me.\nInstagram: I don’t take a lot of pics\nPodcasting\ngrowing that audience relative to the work involved was near impossible\nA limited number of people listen to podcasts, and currently, discovering new podcasts is nearly impossible\nLinkedIn: Great audience of businesspeople, but it’s incredibly noisy, and going viral on it is really tough.\nBlogging:\nThe work of posting\ndoesn’t drive as many viral shares anymore because more of the audience is spending their time directly on social media\nTwitter\nthe audience isn’t growing—their monthly users have been flat for years\nGoing viral works there, but getting people\noff the platform and buying on yours is tough\nTikTok\n1 million followers there or 100,000 on YouTube? Not equivalent. I’d take YouTube every time.\nstart with just one as an experiment.\nThe key principle is to start right now to build your audience and then move them to your email list\nUpdate your bio.Choose your one platform, and using the unique angle pitch you wrote out before, clean up and rewrite your profile/bio on that platform to reflect who you are and how you help your ideal\ncustomer\nCore Circle: Start with a very narrow audience. Ali started with the medical school exams for British\npeople. Your niche within a niche can be the most obscure thing imaginable, as long as it makes you and your audience passionate\nMedium Circle: As you move bigger, your content should overlap\nsomewhat with what concerns your Core Circle, but it should appeal to a broader audience. Ali started talking about studying and productivity in general, since that’s required for all students.\nLarge Circle: Here you go for the largest audience possible that’s still related. Some of Ali’s most watched videos are about his salary—made possible by his medical video fame—or the latest Apple product—which he\nuses to increase productivity. All the circles should still include your core audience but keep expanding your circle of influence\nTo get started, identify a value that a specific group of people—your Core Circle—want and become a reliable source of information for\nthem. Here’s a formula you can use—outcome you’ll deliver + target market.\nexample\nCore Circle: How to clean your evaporative cooler + in the Southwest\nUSA\nMedium Circle: How to choose laundry detergents + for new homeowners. Large Circle: The ten best vacuums + for a family\nOnce you have your outcome and market figured, you need to find a unique viewpoint in your niche.\nTo come up with your unique viewpoint, ask yourself a few questions\nWhat is something everyone thinks is true—but you think is wrong\nWhat is something nobody in your target market is talking about—but should be?\nWhat are the biggest mistakes people in your market are making—but are totally blind to?\nThink back to your validation days: Who are the customers you want to appeal to and what’s the outcome you can create content for? What’s the unique point of view in your content they’d be excited to hear about?\nFormula = Outcome you’ll deliver + the target marketCore Circle: Medium Circle: Large Circle\nBe the Guide, Not the Guru\ntitled “How I . . .” rather than “How to . . .”\nThe goal here is to document what YOU do, not what you think everyone else should do\nWhen you position yourself as\nsomeone who is on a journey and document your process and your progress, you become relatable, and that is what audiences long for\nSome of my most popular videos feature me failing, often. It’s fascinating that people want to see what’s really going on, not the highlight reel\nwe think they want\nJerky. I ask my audience to challenge me to do something difficult; then I go out and do it\nGetting your audience involved helps them feel like an integral part of the show, which\nboosts the chances they’ll engage with your videos, which pushes your content up the rankings—and attracts even more subscribers\nCHALLENGE\nPost one piece of content.Now it’s time to post content publicly.Now, this piece of content can come in any format. You know I LOVE me some YouTube, but as you’ve seen, different niches work on different platforms. The\ncontent you create can be a YouTube video, a Twitter thread, or a blog post\nYour Unique Angle—the secret sauce nobody else has\nThe Platform you’re going to\npost on\nYour Content Circle—the narrow audience who you’ll laser-target\nPosting it TODAY\nThis last step is obviously the hardest\none. Don’t worry about scripts, camera equipment, or even if it gets any views. The important part is taking the first step at building your community\nThe email was FUN. It wasn’t pure utility. Sales have\nrepeatedly been shown to go UP when the people selling are enjoying themselves\npromoting interesting people, exposing my passions\ninteracting with my followers, and just all in all having fun being myself\nNow you’re going to lead this audience into your own ATM—your\nemail list—so that you are in regular personal contact with them and can convert them from an audience to customers\nHow to use a piece of useful free content to get people excited to sign up for your list\nHow to create a simple, effective landing page and publicize it far and wide.\nHow to automate your email system so it’s sending out emails to new subscribers twenty-four hours a\nday\nEmail is the most valuable channel because it allows you to own the distribution and the\ncommunication with your customers, and not be at the mercy of another platform’s fickle algorithm\nsix reasons why email is the best:\n$65 million a year in total transactions. And you know what? Nearly 50 percent of that comes from email.\nI’m not hoping the platform gods will allow me to reach them\nEighty-nine percent of people check it EVERY DAY\nYou own your email list. Forever\nEven if you don’t have a business at this very moment, it’s great to start building your email list NOW—so when you do want to have a\nbusiness, you already have a trusted group of people who WANT to help you out\nthe importance of having a list of people who want you to win. Sheer size is not the metric to use to\nevaluate an email list. It doesn’t matter if you have 100,000 subs if none of them care about you.\nWhat percentage of your list opens every email because they feel like they know and trust you? A healthy email list has a 20 percent open rate. Target that.\ns, how can you get your first subscribers? Let me show you.\nSet Up a Landing Page\nYour audience needs somewhere to go to actually join your email list\nThe way companies, marketers, entrepreneurs, and content creators\ndo this is by sending their audiences to a landing page\nGive me your email, and I’ll give you a bonus resource: one free tip each week to improve your sleep. Simple.\nA landing page is a simple web page with an image, a few words, and a box where people can input their email address to get future updates\nThis is where you can offer them the\nbonus content, aka Lead Magnet (see the next page), you just created.\nCHALLENGEBuild your landing page.You can set up one like Julien’s for free\nwith SendFox.com (a service I helped build).There are also other services like Mailchimp.com, Webflow.com, and ConvertKit.com to create landing pages\nGetting Your First 100 Email Subscribers\n0 to 10—The Dream Ten\nWhat’s the easiest way to start building your list? Use your existing network.\nYes, your Dream Ten. These are people\nwho know you and care about you. The members of this highly engaged audience are waiting to visit, subscribe to, and share your website and content\nMy mom, my brother, and my other close friends are on my mailing list. Always look at what assets and networks you have available before you reach out to randoms.\nHere’s a template you can use\nHey [name]!I just wanted to let you know that I’m starting [description of your new business\nI’m going to publish [one article per week/a weekly tip] on how to [subject].Is this something you are interested in?Here’s an easy way to sign up! [Insert landing page address] Or you can just write back with “Yes, dude, I’d like to,” and I’ll do it\nfor you!Hope things are great![Your name]\n11 to 50—Lazy Marketing\nNow that you have a landing page, you’ve got to publicize it. Obviously you’re already doing that by putting it in your calls to action inside your videos, TikToks, or wherever you are\npromoting yourself online (and in their corresponding descriptions).\nyou can go a lot further by putting a link to it in every point of contact you have with others.\nThat means putting the landing page address in your\nEmail signature Biography on Twitter, LinkedIn, TikTok, Instagram, and Facebook list\n(When you add your landing page to your email and your social bios, you can measure the traffic and conversion rate you get from these mentions with Bitly.com or Linktree.com, website\naddress shorteners that track clicks\nCHALLENGEUpdate email signature and social media bios\nPut your landing page address in your email signature and your social bios. Send me a link to your new landing page at twitter.com/noahkagan—I’d love to hear from you!\npost a modified version of that email above in Facebook, Snapchat, Twitter, Reddit groups—or wherever you’re active.\nHey EveryoneStarting a “weekly” newsletter about [subject].Go to website.com to join the newsletter.\nUse targeted referrals to grow your list. Ask\nyour family and friends to refer one specific person who they think would like your newsletter\nWrite an insanely detailed blog post dissecting the success of\nUse social media and pretty much everything else to get that post in front of his ideal customers\nPut a call to action (CTA) at the end of the post telling readers to sign up to receive a download of growth hacks he’d put together\nUsing a Lead Magnet gives people an incentive to join your email list vs. just asking people to sign up\nfour examples of Lead Magnets\nA checklist that can be used to properly perform something\nA template for determining\nAn advanced guide that goes further into the details of a subject of one of my videos\nA unique book that provides substantial value but is offered for free\nOne of the best ways is to give a short, relevant tease of the bonus or resource you’re offering within the YouTube video and tell people where they can learn more\nCHALLENGECreate a Lead Magnet\ncreate your first Lead Magnet using the process we’ve just outlined above. You can use your piece of content from the previous chapter as a base or start something new. Don’t spend more than two hours on the first iteration. If you want to turn it into a big thing later on, great. But start SMALL.Go to MillionDollarWeekend.com to get Lead Magnet templates! (See what I did\nif people like your stuff, they want more.\nAt the exact moment your customer is interacting with or just found your business, they are MOST excited about it\nSo that’s when\nyou want to funnel them into other experiences with you instead of letting them go\nset up an autoresponder and hit them up right away\nsend them your BEST stuff so you know they’ll have a great experience when they’re dining at the email restaurant of you\nEvery email provider has an autoresponder. Again I recommend SendFox.com, but you can use Mailchimp.com or ConvertKit.com as well\nthree-step progression of emails that I’ve found works best:\nWelcome Email SUBJECT: You’re awesomeThanks for joining OkDork. You are\nawesome!Over 17 years of working online I’ve learned some things:\n#30 at Facebook and helped launch mobile, status updates, and more #\n4 at Mint and led growth to 1 million users within 1 year Started AppSumo, which is now an $85M/year business And now, I want to help you on your journey to living the life you want\nWhat could I write to provide value to you?Love you,Noah “tacos” Kagan\nConnection Email SUBJECT: Connect with me on LinkedIn\nHowdy amigo,Send me a connection request on LinkedIn to help share our relationships, see behind-the-scenes thoughts on marketing, startups, and more . . .Hugs,\nNoah\nContent Email SUBJECT: Starting an 8-figure business with $50I started AppSumo in March 2010.In one weekend, with $50, I launched\nversion 1 of the site. It was simple.12 years later, Sumo Group has grown into an 8-figure business.Starting a business can be hard. But I want to show you an easier way:Here’s how I built AppSumo.com for\n$50.Enjoy,Noah\nSecond, with the Connection Email, you’re explicitly asking them to connect with you on social media, by following you on Instagram, LinkedIn, Facebook, Twitter, and so on\nCHALLENGESet up an autoresponder.I happen to think SendFox.com (I helped build it) is pretty darned good, but there are a bunch of others that I recommend, like ConvertKit.com and\nMailchimp.com\nThe Law of 100\nWhatever you put yourself to, do it 100 times before you even THINK of stopping\nThis stops you from succumbing to what Seth\nGodin calls “the dip,” the moment in a long slog between starting and when mastery sets in where you start hating the work and you want to quit.\nLean in and commit to 100 reps. (Think of this as doing reps and practicing as opposed to failing or succeeding.) This changes your mindset and makes it much easier to sustain forward motion when\nthings get tough\nset up a system that helps you get your 100 reps done without thinking about the results.\nOnce that’s done, you can decide whether\nyou want to give it up or not\nThe Law of 100 is about the power of consistency—the only way to get to greatness.\nCHALLENGEThe Law of 100.\nCommit to doing 100 emails, posts, or whatever action will move you closer to your goals. To live up to your commitment, use the Law of 100 Grid below to track your progress—and don’t break the chain!\nfive exact questions to create your own marketing plan\nWhat is your one goal for this year?\nWho exactly is your customer and\nwhere can you find them?\nWhat is one marketing activity you can double down on?\nHow can you delight your first 100 customers?\nIf you HAD to double your business with no money in thirty days, what would you do?\nSet a single hyper-focused exact goal\nFirst off, you need to set a goal. That means choosing a number\nemail addresses\nmonthly Freedom Number\n1,000 YouTube subscribers $1 million in net revenue Fifty clients how much and by when? Now add a time frame.\nwithout a time frame, there’s no urgency\n“I want to be worth $1 million in three years.”\nCreate your Marketing Experiment List\nBefore you paddle quickly in the wrong direction, we MUST quickly try different marketing experiments to figure out which\nones we can double down on\nThe best way to do this is by using an Experiment-Based Marketing list to plan and track your marketing strategies\nWORK BACKWARDS FROM YOUR GOAL!\nIf you could use only two of the marketing activities, what would they be?”\nWho is your ideal customer? Where are they? Who is your ideal customer?\nThink about what’s in common with\nyour existing customers. Certain age? Common interest? Specific gender? Certain hobbies? From a specific area?\nCHALLENGE\nWho’s your customer?Describe to me who your ideal customer is.The MORE specific the better. Think about their gender, age, location, and anything else that makes them unique.\nNext, where can you find more of these ideal customers?\nLook where you found your previous ones and ask your existing customers!\nexact message I still send to people to this day:\nHey Maria,Thank you so much for being a customer.Where’s the one specific place you’d\nexpect to learn about my product? Now make a list of these places where we can find more of these people.\nlist of generic marketing ideas to get you going:\nContacting your network: The number one place you should look for customers is in your own existing network. The benefit is that people already know you, so making the sale is easier.\nPaid ads: Reach out to potential\ncustomers on search engines like Bing and Google, so your name will appear when certain keywords are searched.\nSocial ads: Target your audience through ads on social channels like Twitter and Facebook, Reddit, TikTok\nor LinkedIn.\nContent marketing: Create and publish content (blogs, podcasts, videos) with the goal of generating interest in your product/service\nCold outreach: Speak directly to potential customers. This could mean picking up the phone and calling potential customers or sending cold emails to prospects.\nTarget market blogs: Sponsor\nposts and content on popular blogs within your target market.\nInfluencer marketing: Identify and build relationships with individuals who have influence over your target market (for example, high\nprofile bloggers or Instagrammers).\nPR: Pitch the press and bloggers in your niche to cover your story.\nSEO: Search engine optimization is another reliable way to grow your\ntraffic, but it takes time. Do some keyword research on sites like AnswerThePublic or SpyFu to discover what people in your niche are talking about. Create hyper-targeted content to drive traffic.\nGiveaways: Round up some epic prizes, create a sweepstakes page . . . and promote the shit out of it. Collaborations: Appear on other podcasts/shows/newsletters/YouTube channels\nAfter you figured out your marketing ideas lists, we need to estimate expected sales from these ideas.\nSetting your expected sales is one of the most important parts of your strategy. These\ntargets will give you something to measure against and help you identify where you can double down in the future.\nSo how do you go about setting targets for your sources?\nThe most important aspect of this process is\nnot to worry about being exact. It’s to make decent guesses so you can have a framework to prioritize and double down on your sources.\nWhen setting your targets, the trick is to use your BEST GUESS; it doesn’t have to be a super-accurate number. It’s all to help you PRIORITIZE\nyour marketing activities. Over time, you’ll get better at this.\nHere’s an example for thirty days of sales:\nMarketing Experiments\nExpected Sales\n1. SEO: Write four blog posts\n10\n2. Contact everyone in my network\n25\n3. Call my aunt Rhonda\n1\n4. Post in Meetup group\n5\n5. Post flyer\n9\nTotal\n40\nThis spreadsheet helps you prioritize your time by focusing on the largest expected sales items first.\nAnother option is to add a column for Time: how long it will take you to do the different activities. You can use this to see which\nactivities will not take much time but still get sales.\nAlso, you can consider including cost if you’re doing ads, but I encourage people to not spend money on marketing at first. Exhaust your free options.\nCHALLENGEWhere are your customers?Now list at least five places your customers are and how many sales in thirty days you think you can get from them\n3. Double down on what works.\nThere’s a golden rule to marketing tactics I want you to repeat after me:\nFind what works and double down on it; find what doesn’t work and kill it.\nthere’s nothing wrong with experimenting and trying new channels—but you need to set time limits to stop if something isn’t working. I find thirty days is more than enough to get results from your marketing experiments.\nThat’s why for an entrepreneur it’s important to have a lazy mindset. If something’s too hard and not working after a good try? Give up and move on!\nDouble down on the experiments that work the best.\nrest: I stopped doing every other channel and went all in on YouTube.\nCHALLENGE\nWhat marketing strategies can I double down on?Let’s update your original marketing experiments sheet with actual sales. This should make it obvious which experiments to double down on and which ones to kill.\nBUT instead of focusing ONLY on your new\ncustomers, let’s take advantage of the ones you already have\n4. Make Your First 100 Customers Happier\nHow would you double your business if you COULD NOT get any new customers?\nThis will help you think of ways you can overdeliver to your current customers. Because the biggest growth lever in business is customer retention and referrals. If you’re just starting out, every referral can literally double your business.\nexamples\nreplied to every YouTube comment. This made the audience feel special and connected to me.\ngave my personal phone number to every customer even when we were making $20-million-plus a year\nI personally write to customers to see what they like and dislike about us\nWhat made you interested in buying Imgur?-What other websites/services would you want big discounts on?-Any suggestions or things you would have wanted to see on our website, appsumo.com?\nFeel free to spread the word\nThe other key is to keep overdelivering and make your current customers as happy as possible. The benefits of this are twofold:\nHappy customers will refer your business to their friends Happy customers are more likely to spend more cash and buy your new products or services.\nThe longer you retain customers, the more opportunity you have to earn more revenue from them.\nevery step of the way you can get feedback to make your product or service even better\nAsk your customers this: “What is one thing we can do today that will make you twice as happy with us?”\nCHALLENGEMake your customers happy.Ask one customer: “What is one thing I\ncan do today that will make you twice as happy with us?”\nIn your MDW journal, answer these five questions:\nWhat is your one goal for this year?\nWho exactly is your customer and where can you find them?\nWhat is one marketing activity\nyou can double down on?\nHow can you delight your first 100 customers?\nIf you HAD to double your\nbusiness with no money in thirty days, what would you do?\nreasons I became an entrepreneur. To live my life, my way\nthe first step to getting all you want in the world is allowing yourself to want it—and facing the fears necessary to be able to get what you want.\nCHALLENGELet’s share your story of\nsuccess to help others\nSend an email to noah@MillionDollarWeekend.com or post on social media and tag me @noahkagan\nBringing Out Your Dreams\nIn a j-o-b, you must accept the system you are in. As an entrepreneur, you get to design your own system\nThe challenge of your business—and your life—is designing a system that optimizes for your overall happiness\nDream Year Checklist\nstart by writing down how you’d love this year to turn out for you. This Dream Year isn’t just “I’m gonna have a nice\nhouse and my business will rock it.” Include the specifics—where you’re living, what you’re doing, how you feel, where you travel to, etc.\nThis is to inspire you about all the things you can do in your life. Then really dial in the ones that feel important to you\nThis is a DREAM YEAR. That means dreaming big and not worrying about the how. All you’re doing right now is creating a vision for the year that fills you with excitement\nOnce you have a clear picture of your Dream Year, then you can focus on making it come true.\nInstead of being reactive throughout the year and getting thrown off course, you have a chance to focus on what would be an incredible\nyear for YOU and to write it all down.\nCHALLENGEWrite out your Dream Year.Make the checklist detailed and\nspecific\nTurn Your Dream Year into Goals\nNow that you have created your Dream Year, it’s time to take your dreams and choose\nand organize them into your goals. This is your life, so PICK the things from your dream list you’re MOST excited about. Another key thing is consistency—it’s a GOOD thing if you’re continuing goals from previous years. Also, I prefer to have fewer things to accomplish but\nI’m very excited to do them.\nCategorize them into four sections: Work, Health, Personal, and Travel.\nBut feel free to change or add to these however you’d like, it’s YOUR life!\nHere are the ones I picked from the above\nyear:\nWork:\n$30 million for AppSumo 500,000 YouTube subscribers Finish Million Dollar Weekend book\nHealth:\nBike across America\n75,000 push-ups\nPersonal:\nComplete pilot’s license and fly to Albuquerque\nEither donate all the money you make or spend it on yourself and friends\nGet a nice house in Austin\nTravel\nDo one week of solo travel Visit a mountain biking city (Asheville, Sun Valley, Jackson Hole, Sedona) Trip with parents and brother Key things about your goals:\nDon’t worry about doing everything in your dream year. Really think about which ones would excite you. My rule of thumb is if you’re hesitating on the dream, then it shouldn’t make your goals list. I don’t always accomplish everything on my lists every year. And that’s okay. This list is to help you prioritize your time, which we’ll talk about next. You can schedule and make sure you are working toward the things you really want to do\nOver the past ten years I’ve tried to set super-aggressive goals, but I’ve\nfound that it’s better to aim for more sustainable goals. It’s more impressive to find and stick with something than burn out after being impressive for one year\nThis list works for you, not the\nother way around. If midyear you realize something doesn’t matter, change it. I aim to review and update this list only twice a year\nThe best way to make sure you accomplish your goals is to see them often\nFind one person to send your yearly goals to.This can be someone who invested $1 in you early on, a friend . . . anyone you trust to check in with you regularly and\nchallenge you on your BS as they help you follow through on your promises\nCHALLENGE\nYearly goals list.Use the four categories to flush out your yearly goals.Work Health\nPersonal Travel\nColoring Your Calendar\nIf you fail to plan, you are planning to fail.—Benjamin Franklin\nPut everything in a Category. Assign a Color Code to your categories. Schedule with color your key weekly priorities. Perform a weekly Sunday accountability (p)review.\nBlue = Work Green = Health Purple = Personal Yellow = Travel questions I use to prioritize my time:\n1. How do I pick what to actually do\neach week?\nEvery Sunday, I spend fifteen minutes looking over the past week and setting my tasks for the next one\n2. How do I know if these tasks are moving me in the right direction of my goal?\n3. What if I want to be lazy, do I need to schedule it?\n4. How can I double down on activities that move me toward my goals?\nNever Entrepreneur Alone\nGreat entrepreneurs have great entrepreneurial communities. There’s no such thing as self-made. Everyone is team\nmade\nthree ways to meet the right people to help you on your business journey\n1. Get an Accountability Buddy\nWe make better choices and work harder when someone else is observing our behavior. Researchers call it the Hawthorne effect. I call it my number one productivity hack.\nFind someone you respect, probably a peer working toward similar goals, and establish this Sunday ritual to help each other on your journeys\nCHALLENGEAccountability buddy.My accountability buddy is:\nFind one person to send your weekly goals to. For the past ten years, I’ve worked\nwith Adam Gilbert from mybodytutor.com every week on my yearly goals. Accountability is a superpower. Go to MillionDollarWeekend.com and join our newsletter. I’ll try to connect you with an accountability buddy.\nYou found an accountability buddy, but how can you meet others to help you succeed at business? Here are two ways that work!\n2. Target Prefluencers\nI always make an effort to connect with ambitious people BEFORE they make it. It’s so\nmuch easier to connect with them, help each other, and build actual relationships.\nHere are three principles to help you find Prefluencers:\nWho’s doing work you’re impressed by? AND who doesn’t have a ton of attention and is likely to reply? AND what can you do to help this person? CHALLENGEConnect with a Prefluencer.The easiest way to connect with anyone is to compliment them first WITHOUT asking for anything in return.The Prefluencer I’m reaching out to\nSend this message:Hey [first name],LOVING what you’re putting out. [Insert specifically what you liked or how it impacted your life]Keep going!\nFrom here, the person will likely respond and you can open up a dialogue to talk about working together or helping each other in the future\nrelationships like the above script is just sending a compliment without any expectations.\n3. Build Your VIP Network with Referrals\nAfter meeting someone new, Andrew would send them a thank-you email. In it, he would include:\nHighlights from the chat he found interesting Follow-ups and to-dos Request to meet more people When he got a new list of people to meet, Andrew would send an intro email with three\nkey points:\nShort blurb about himself Value he could provide (that is to say, what’s in it for them?) Why he was excited to meet them\nTelling someone why you are interesting\nhow you can help, and why you want to meet works like gangbusters. If you fail to include these points for the person you’re reaching out to, expect to be ignored\nCHALLENGEAsk your friends for one referral.\nTell me the first person that comes to mind. Who’s the most\nimpressive friend you know?\nSend this message to that friend:\nHey \u003cfriend\u003eYou are the most impressive friend I\nknow and I’d love your help in expanding my network.I love: VR, 3D printers, email marketing.Who’s one person you think I should connect with?If no one comes to mind, no pressure\nI like asking for just one person to make it easier to think about. And then say no pressure on the other person vs give them an assignment of having to introduce me to someone\nAfter you’ve had a great meeting\nwith that person, thank your original friend and ask the new one for a referral.",
    "description": "I took a lot of highlights with this one. Motivational, inspiring, and practical. I will be coming back to these notes over and over as I embark on my business ventures. Don’t be afraid to ask for what you want. In fact, develop your asking powers like a muscle. Also, don’t try to figure out how to do something before you start. Just start and figure out how along the way.",
    "tags": [],
    "title": "Million Dollar Weekend(8/10)",
    "uri": "/booknotes/million-dollar-weekend/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Desktop",
    "content": "When you first download Fedora Workstation, it’s going to be a little hard to figure out how to make it usable. Especially if you’ve never tinkered with Linux before.\nThis is because Fedora with Gnome desktop is a blank canvas. The point is to let you customize it to your needs. When I first install Fedora, I pull my justfile to install most of the programs I use:\n`curl -sL https://raw.githubusercontent.com/linuxreader/dotfiles/main/dot_justfile -o ~/.justfile` Install just and run the justfile To run the just file, I then install the just program and run it on the justfile:\ndnf install just\njust first-install\nThis is my current .justfile:\nfirst-install: # Install flatpacks flatpak install --noninteractive \\ flathub com.bitwarden.desktop \\ flathub com.brave.Browser \\ flathub org.gimp.GIMP \\ flathub org.gnome.Snapshot \\ flathub org.libreoffice.LibreOffice \\ flathub org.remmina.Remmina \\ flathub com.termius.Termius \\ flathub com.slack.Slack \\ flathub org.keepassxc.KeePassXC \\ flathub md.obsidian.Obsidian \\ flathub com.calibre_ebook.calibre \\ flathub org.mozilla.Thunderbird \\ flathub us.zoom.Zoom \\ flathub org.wireshark.Wireshark \\ flathub com.nextcloud.desktopclient.nextcloud \\ flathub com.google.Chrome \\ flathub io.github.shiftey.Desktop \\ flathub io.github.dvlv.boxbuddyrs \\ flathub com.github.tchx84.Flatseal \\ flathub io.github.flattool.Warehouse \\ flathub io.missioncenter.MissionCenter \\ flathub org.gnome.World.PikaBackup \\ flathub com.github.rafostar.Clapper \\ flathub com.mattjakeman.ExtensionManager \\ flathub com.jgraph.drawio.desktop \\ flathub org.adishatz.Screenshot \\ flatpak com.github.finefindus.eyedropper \\ flatpak com.github.johnfactotum.Foliate \\ flatpak com.usebottles.bottles \\ flatpak com.obsproject.Studio \\ flatpak net.lutris.Lutris \\ flatpak com.vivaldi.Vivaldi \\ flatpak com.vscodium.codium \\ flatpak io.podman_desktop.PodmanDesktop \\ flatpak org.kde.kdenlive # Install Homebrew sudo dnf -y groupinstall \\ \"Development Tools\" /bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\" echo 'eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"' \u003e\u003e ~/.bash_profile eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\" # Configure dnf for faster speeds sudo bash -c 'echo \"fastestmirror=True\" \u003e\u003e /etc/dnf/dnf.conf' sudo bash -c 'echo \"max_parallel_downloads=10\" \u003e\u003e /etc/dnf/dnf.conf' sudo bash -c 'echo \"defaultyes=True\" \u003e\u003e /etc/dnf/dnf.conf' sudo bash -c 'echo \"keepcache=True\" \u003e\u003e /etc/dnf/dnf.conf' # Other software, updates, etc. sudo dnf -y update sudo dnf install -y gnome-screenshot sudo dnf -y groupupdate core sudo flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo sudo dnf install -y wireguard-tools sudo dnf install gnome-tweaks sudo dnf -y install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm \\ https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm sudo dnf -y update sudo dnf install gnome-themes-extra gsettings set org.gnome.desktop.interface gtk-theme \"Adwaita-dark\" sudo dnf install -y go echo 'export PATH=$PATH:/usr/local/go/bin' \u003e\u003e ~/.bashrc source ~/.bashrc gsettings set org.gnome.mutter experimental-features \"['scale-monitor-framebuffer']\" homebrew: brew install \\ chezmoi \\ hugo \\ virt-manager Install Homebrew Stuff: then run just homebrew after a reboot to install packages with brew\nvisudo config Add to /etc/sudoers to make Vim default for visudo\nDefaults editor=/usr/bin/vim\nVirt Manager sudo dnf install @virtualization sudo vi /etc/libvirt/libvirtd.conf Uncomment the line: unix_sock_group = \"libvirt\"\nAdjust the UNIX socket permissions for the R/W socket: unix_sock_rw_perms = \"0770\"\nStart the service: systemctl enable --now libvirtd\nAdd user to group:\nsudo usermod -a -G libvirt $(whoami) \u0026\u0026 sudo usermod -a -G kvm $(whoami) use the Tweaks app to set the appearance of Legacy Applications to ‘adwaita-dark’.\nConfigure Howdy Howdy is a tool for using an IR webcam for authentication:\nsudo dnf copr enable principis/howdy sudo dnf --refresh install -y howdy https://copr.fedorainfracloud.org/coprs/principis/howdy/ https://github.com/boltgolt/howdy\nSeahorse I was using this to fix the Login Keyring error that is common with Fedora, but it no longer works. sudo dnf -y install seahorse \u0026\u0026 seahorse\nApplications \u003e Passwords and Keys \u003e Passwords \u003e Right-click Login \u003e Change Password to blank.\nhttps://itsfoss.com/seahorse/\nInitialize Chezmoi Chezmoi let’s you easy sync your dotfiles with Github and your other computers. Just init Chezmoi and add your Github username. This assumes your dotfiles in Github are saved in the proper format. `chezmoi init –apply linuxreader\nAdd badname user (if needed) If you need to use username with the format firstname.lastname, use the badname flag with the adduser command. You will have to create a normal user first, because you can’t do this during the initial install: $ adduser --badname firstname.lastname $ sudo usermod -aG wheel username\n# uncomment this line in the visudo file $ sudo visudo %wheel ALL=(ALL) ALL Delete the other user: $ userdel username\nAdditional DNF stuff: Clear cache (do this occasionally): sudo dnf clean dbcache or sudo dnf clean all\nUpdate DNF: sudo dnf -y update\nAdditional DNF commands: https://docs.fedoraproject.org/en-US/fedora/latest/system-administrators-guide/package-management/DNF/\nSet up RPM Fusion RPM Fusion give you more accessibility to various software packages.\nInstall:\nsudo dnf -y install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm https://rpmfusion.org/\nAppStream metadata Use AppStream to enable users to install packages using Gnome Software/KDE Discover:\nsudo dnf -y groupupdate core Flatpaks To enable Flatpaks (this may no longer be needed:\nflatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo https://flatpak.org/setup/Fedora\nSet a hostname Set a hostname for the system. This will show after next reboot: sudo hostnamectl set-hostname \"New_Custom_Name\"\nOther Stuff Here is some other stuff I install from the software center.\nInput Leap Input Leap let’s you share a mouse and keyboard between two workstations.\nI don’t know what this is or why it is here: installing Git and a bunch of other stuff?\nsudo dnf install git cmake make gcc-c++ xorg-x11-server-devel \\ libcurl-devel avahi-compat-libdns_sd-devel \\ libXtst-devel qt5-qtbase qt5-qtbase-devel \\ qt5-qttools-devel libICE-devel libSM-devel \\ openssl-devel libXrandr-devel libXinerama-devel Virtual machine Manager The best way to manage VMs on desktop.\nBox Buddy For managing containers.\nWarehouse Managing installed applications.\nMission Center Task Manager like application.\nPika Backup For backing up your desktop. Clapper Video player.\nAnd some extensions installed through Extension Manager: Install Gnome Screenshot tool:\nInstall the extention: https://extensions.gnome.org/extension/1112/screenshot-tool/\nYou also need to install from DNF for some reason: dnf install -y gnome-screenshot\nAirpods not pairing Issue If you ever have the issue where Airpods won’t pair. Remove them from the pairing list, force them in pairing mode, and pair them back. This can be made easy with bluetoothctl:\nJust in case, restart the bluetooth service:\nsudo systemctl restart bluetooth systemctl status bluetooth Show devices:\n# bluetoothctl [bluetooth] $ devices Device 42:42:42:42:42:42 My AirPods \u003c-- grab the name here [bluetooth] $ remove 42:42:42:42:42:42 Now, make sure your Airpods are in the charging case, close the lid, wait 15 seconds, then open the lid. Press and hold the setup button on the case for up to 10 seconds. The status light should flash white, which means that your Airpods are ready to connect.\nPair them back:\n[bluetooth] $ pair 42:42:42:42:42:42 Enable Fractional Scaling This lets you change display scaling in smaller increments. You’ll need to make sure Wayland is turned on.\nTurn on the feature then reboot: gsettings set org.gnome.mutter experimental-features \"['scale-monitor-framebuffer']\"\nreboot\nRemove pasted characters ^ Kept having pasted format characters ^ mess up my groove. Here’s the fix.\nOpen your inputrc file and add the line below: vim ~/.inputrc\n\"\\C-v\": \"\" Install gimp sudo dnf install gimp enable in screenshot tool after install for gimp {f}\nInstall Arrows https://graphicdesign.stackexchange.com/questions/44797/how-do-i-insert-arrows-into-a-picture-in-gimp\nGo to your home folder Go to .config/GIMP Go to the folder with a version number (2.10 for me) Go to scripts Download the arrow.scm file and place it here. Don't forget to unzip. Open GIMP and draw a path From Tools menu, select Arrow\n= h.265 main 10 profile media codec error =\nDistrobox See distrobox\nZSH For Humans GitHub - romkatv/zsh4humans: A turnkey configuration for Zsh\nInstall Starcraft on Fedora https://www.youtube.com/watch?v=eefsL9K2w4k\nInstall your latest gpu driver https://github.com/lutris/docs/blob/master/InstallingDrivers.md I am just running off of built in AMD graphics. So we just need to install support for Vulkan API sudo dnf install vulkan-loader vulkan-loader.i686\nInstall Wine $ sudo dnf -y install wine\nInstall Lutris Install the Flatpak version in software center.\nFedora Hotkeys Terminal Close Terminal shift + c + q\nPrevious Tab c + Page Up\nNext Tab c + Page Down\nMove to Specific Tab Alt + #\nFull Screen F11\nNew Window Shift + Ctrl + t\nClose Tab Shift + Ctrl + w\nDesktop Run a command super + F2\nSwitch Between Applications Alt + Esc\nMove Window to Left Monitor Shift + Super + \u003c-\nMove Window to Right Monitor Shift + Super + -\u003e\nMinimize Current Window Super + H\nClose Current Appllication Ctrl + Q\nBrowser Firefox Switch Between Tabs Ctrl + Tab\nSwitch Between Tabs in Reverse Ctrl + Shift + Tab\nDetach Tab Extension https://addons.mozilla.org/en-US/firefox/addon/detach-tab/\nDetach Tab Ctrl _ Shift _ Space\nReattach Tab Ctrl + Shift + v\nSlack Installing via package manager because of screen sharing issue.\nUpgrade dnf and download the slack rpm from the website.\nScreen Sharing in Slack:\nvim /usr/share/applications/slack.desktop Update the exec line to:\nExec=/usr/bin/slack --enable-features=WebRTCPipeWireCapturer %U Actual Budget https://github.com/actualbudget/actual\nSet Vim to default editor for visudo add Defaults editor=/usr/bin/vim to top of visudo file.su",
    "description": "My Fedora Setup",
    "tags": [],
    "title": "My Fedora Setup",
    "uri": "/desktop/my-fedora-setup/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "NFS Basics and Configuration Same tools for mounting and unmounting a filesystem.\nMounted and accessed the same way as local filesystems. Network protocol that allows file sharing over the network. Multi-platform Multiple clients can access a single share at the same time. Reduced overhead and storage cost. Give users access to uniform data. Consolidate scattered user home directories. May cause client to hang if share is not accessible. Share stays mounted until manually unmounted or the client shuts down. Does not support wildcard characters or environment variables. NFS Supported versions RHEL 9 Supports versions 3,4.0,4.1, and 4.2 (default) NFSv3 supports: TCP and UDP. asynchronous writes. 64-bit files sizes. Access files larger than 2GB. NFSv4.x supports: All features of NFSv3. Transit firewalls and work on internet. Enhanced security and support for encrypted transfers and ACLs. Better scalability Better cross-platform Better system crash handling Use usernames and group names rather than UID and GID. Uses TCP by default. Can use UDP for backwards compatibility. Version 4.2 only supports TCP Network File System service Export shares to mount on remote clients Exporting When the NFS server makes shares available. Mounting When a client mounts an exported share locally. Mount point should be empty before trying to mount a share on it. System can be both client and server. Entire directory tree of the share is shared. Cannot re-share a subdirectory of a share. A mounted share cannot be exported from the client. A single exported share is mounted on a directory mount point. Make sure to update the fstab file on the client. NFS Server and Client Configuration How to export a share Add entry of the share to /etc/exports using exportfs command Add firewall rule to allow access Mount a share from the client side Use mount and add the filesystem to the fstab file. Lab: Export Share on NFS Server Install nfs-utils sudo dnf -y install nfs-utils Create /common sudo mkdir /common Add full permissions sudo chmod 777 /common Add NFS service persistently to the firewalld configuration to allow NFS traffic and load the new rule: sudo firewall-cmd --permanent --add-service nfs sudo firewall-cmd --reload Start the NFS service and enable it to autostart at system reboots: sudo systemctl --now enable nfs-server Verify Operational Status of the NFS services: sudo systemctl status nfs-server Open /etc/exports and add entry for /common to export it to server10 with read/write: /common server10(rw) Export the entry defined in /etc/exports/. -a option exports all entries in the file. -v is verbose. sudo exportfs -av Unexport the share (-u): sudo exportfs -u server10:/common Re-export the share: sudo exportfs -av LAB: Mount share on NFS client Install nfs-utils sudo dnf -y install nfs-utils Create /local mount point sudo mkdir /local Mount the share manually: sudo mount server20:/common /local Confirm using mount: (shows nfs version) mount | grep local Confirm using df: df -h | grep local Add to /fstab for persistence: server20:/common /local nfs _netdev 0 0 Note:\n_netdev option makes system wait for networking to come up before trying to mount the share. Unmount share manually using umount then remount to validate accuracy of the entry in /fstab: sudo umount /local sudo mount -a Verify: df -h Create a file in /local/ and verify: touch /local/nfsfile ls -l /local Confirm the sync on server 2 ls -l /common/ Update fstab AutoFS Automatically mount and unmount on clients during runtime and system reboots. Triggers mount or unmount action based on mount point activity. Client-side service Mount an NFS share on demand Entry placed in AutoFS config files. Automatically mounts share upon detecting activity in it’s mount point. (touch, ls, cd) unmounts share if the share hasn’t been accessed for a predefined period of time. Mounts managed with autofs should not be mounted manually via /etc/fstab to avoid inconsistencies. Saves Kernel from having to maintain unused NFS shares. (Improved performance!) NFS shares are defined in config files called maps (/etc/ or /etc/auto.master.d/) Does not use /etc/fstab. Does not require root to mount a share (fstab does). Prevents client from hanging if share is down. Share is unmounted if not accessed for 5 minutes (default) Supports wildcard characters or environment variables. Automount daemon in the userland mounts configured shares automatically upon access. invoked at system boot. Reads AutoFS master map and create initial mount point entries. (not mounting yet) Does not mount shares until user activity is detected. Unmounts after set timeframe of inactivity. Use the mount command on a share to verify the path of the AutoFS map, file system type, and options used during mount. /etc/autofs.conf/ preset Directives: master_map_name=auto.master timeout = 300 negative_timeout = 60 mount_nfs_default_protocol = 4 logging = none\nAdditional directives: master_map_name\nName of the master map. Default is /etc/auto.master timeout\nTime in second to unmount a share. negative_timeout\nTimeout (in seconds) value for failed mount attempts. (1 minute default) mount_nfs_default_protocol\nSets the NFS version used to mount shares. logging\nLogging level (none, verbose, debug)\nDefault is none (disabled)\nNormally left to their default values.\nAutoFS Maps Where AutoFS finds the shares to mount and their locations. Also tells Autofs what options to use. Map Types:\nmaster direct indirect Master Map\nDefine entries for indirect and direct maps.\n/etc/auto.master is default Default is defined in /etc/autofs.conf with master_map_name directive. May be used to define entries for indirect and direct maps. But it is recommended to store user-defined maps in /etc/auto.master.d/ AutoFS service parses this at startup. You can append an option to auto.master but it will apply globally to all subentries in the specified map file. Map entry format examples:\n/- /etc/auto.master.d/auto.direct \\# Line 1 /misc /etc/auto.misc \\# Line 2 Direct Map /- /etc/auto.master.d/auto.direct \u003c-- defines direct map and points to auto.direct for details Mount shares on unrelated mount points\nAlways visible to users Can exist with an indirect share under one parent directory Accessing a directory containing many direct mount points mounts all shares. Each direct map entry places a separate share entry to /etc/mtab /etc/mtab maintains a list of all mounted file systems whether they are local or remote. Updated whenever a local file system, removable file system, or a network share is mounted or unmounted. Indirect Map /misc /etc/auto.misc \u003c-- indirect map and points to auto.misc for details Automount removable filesystems\nMount point /misc precedes mount point entries in /etc/auto.miscq Used to automount removable file systems (CD, DVD, USB disks, etc.) Custom indirect map files should be located in /etc/auto.master.d/ Preferred over direct mount for mounting all shares under one common parent directory. Become visible only after they have been accessed. Local and indirect mounted shares cannot coexist under the same parent directory. One entry in /etc/mtab gets added for each indirect map. Usually better to use indirect map for automounting NFS shares. Lab: Access NFS Share Using Direct Map (server10) Install Autofs sudo dnf install -y autofs Create mount point /autodir using mkdir sudo mkdir /autodir Add an entry to /etc/auto.master to point the AutoFS service to the auto.dir file for more information: /- /etc/auto.master.d/auto.dir Create /etc/auto.master.d/auto.dir and add the mount point, NFS server, and share info: /autodir server20:/common Start AutoFS service and enable it at startup: sudo systemctl enable --now autofs Make sure AUtoFS service is running. Use -l and –no-pager options to show full details without piping the output to a pager program (pg) sudo systemctl status autofs -l --no-pager Run ls on the mount point then verify the share is automounted and accessible with mount. ls /autodir mount | grep autodir Wait 5 minutes and run the mount command again to see it has disappeared. mount | grep autodir Exercise 16-4: Access NFS Share Using Indirect Map configure an indirect map to automount the NFS share /common that is available from server20. install the relevant software and set up AutoFS maps to support the automatic mounting. Observe that the specified mount point “autoindir” is created automatically under /misc. Note that /common is already mounted on the /local mount point via the fstab file and it is also configured via a direct map for automounting on /autodir. There should occur no conflict in configuration or functionality among the three.\n1. Install the autofs software package if it is not already there:\n2. Confirm the entry for the indirect map /misc in the /etc/auto.master file exists:\n[root@server30 common]# grep ^/misc /etc/auto.master /misc\t/etc/auto.misc 3. Edit the /etc/auto.misc file and add the mount point, NFS server, and share information to it:\nautoindir server30:/common 4. Start the AutoFS service now and set it to autostart at system reboots:\n[root@server40 /]# systemctl enable --now autofs 5. Verify the operational status of the AutoFS service. Use the -l and --no-pager options to show full details without piping the output to a pager program (the pg command in this case):\n[root@server40 /]# systemctl status autofs -l --no-pager 6. Run the ls command on the mount point /misc/autoindir and then grep for both auto.misc and autoindir on the mount command output to verify that the share is automounted and accessible:\n[root@server40 /]# ls /misc/autoindir test.text [root@server40 /]# mount | egrep 'auto.misc|autoindir' /etc/auto.misc on /misc type autofs (rw,relatime,fd=7,pgrp=3321,timeout=300,minproto=5,maxproto=5,indirect,pipe_ino=31779) server30:/common on /misc/autoindir type nfs4 (rw,relatime,vers=4.2,rsize=262144,wsize=262144,namlen=255,hard,proto=tcp,timeo=600,retrans=2,sec=sys,clientaddr=192.168.0.40,local_lock=none,addr=192.168.0.30) /misc/autoindir has been auto generated. You can use the umbrella mount point /misc to mount additional auto-generated mount points. Automounting User Home Directories \\ AutoFS allows us to automount user home directories by exploiting two special characters in indirect maps.\nasterisk (*)\nReplaces the references to specific mount points ampersand (\u0026)\nSubstitutes the references to NFS servers and shared subdirectories.\nWith user home directories located under /home, on one or more NFS servers, the AutoFS service will connect with all of them simultaneously when a user attempts to log on to a client.\nThe service will mount only that specific user’s home directory rather than the entire /home.\nThe indirect map entry for this type of substitution is defined in an indirect map, such as /etc/auto.master.d/auto.home.\n* -rw \u0026:/home/\u0026\nWith this entry in place, there is no need to update any AutoFS configuration files if additional NFS servers with /home shared are added or removed.\nIf user home directories are added or deleted, there will be no impact on the functionality of AutoFS.\nIf there is only one NFS server sharing the home directories, you can simply specify its name in lieu of the first \u0026 symbol in the above entry.\nExercise 16-5: Automount User Home Directories Using Indirect Map There are two portions for this exercise. The first portion should be done on server20 (NFS server) and the second portion on server10 (NFS client) as user1 with sudo where required.\nfirst portion\ncreate a user account called user30 with UID 3000. add the /home directory to the list of NFS shares so that it becomes available for remote mount. second portion\ncreate a user account called user30 with UID 3000, base directory /nfshome, and no home directory. create an umbrella mount point called /nfshome for mounting the user home directory from the NFS server. install the relevant software and establish an indirect map to automount the remote home directory of user30 under /nfshome. observe that the home directory is automounted under /nfshome when you sign in as user30. On NFS server server20:\n1. Create a user account called user30 with UID 3000 (-u) and assign password “password1”:\n[root@server30 common]# useradd -u 3000 user30 [root@server30 common]# echo password1 | sudo passwd --stdin user30 Changing password for user user30. passwd: all authentication tokens updated successfully. 2. Edit the /etc/exports file and add an entry for /home (do not modify or remove the previous entry): /home server40(rw)\n3. Export all the shares listed in the /etc/exports file:\n[root@server30 common]# sudo exportfs -avr exporting server40.example.com:/home exporting server40.example.com:/common On NFS client server10:\n1. Install the autofs software package if it is not already there: dnf install autofs\n2. Create a user account called user30 with UID 3000 (-u), base home directory location /nfshome (-b), no home directory (-M), and password “password1”:\n[root@server40 misc]# sudo useradd -u 3000 -b /nfshome -M user30 [root@server40 misc]# echo password1 | sudo passwd --stdin user30 This is to ensure that the UID for the user is consistent on the server and the client to avoid access issues.\n3. Create the umbrella mount point /nfshome to automount the user’s home directory:\nsudo mkdir /nfshome 4. Edit the /etc/auto.master file and add the mount point and indirect map location to it: /nfshome /etc/auto.master.d/auto.home\n5. Create the /etc/auto.master.d/auto.home file and add the following information to it: * -rw server30:/home/\u0026\nFor multiple user setup, you can replace “user30” with the \u0026 character, but ensure that those users exist on both the server and the client with consistent UIDs.\n6. Start the AutoFS service now and set it to autostart at system reboots. This step is not required if AutoFS is already running and enabled. systemctl enable --now autofs\n7. Verify the operational status of the AutoFS service. Use the -l and --no-pager options to show full details without piping the output to a pager program (the pg command): systemctl status autofs -l --no-pager\n8. Log in as user30 and run the pwd, ls, and df commands for verification:\n[root@server40 nfshome]# su - user30 [user30@server40 ~]$ ls user30.txt [user30@server40 ~]$ pwd /nfshome/user30 [user30@server40 ~]$ df -h Filesystem Size Used Avail Use% Mounted on devtmpfs 4.0M 0 4.0M 0% /dev tmpfs 888M 0 888M 0% /dev/shm tmpfs 356M 5.1M 351M 2% /run /dev/mapper/rhel-root 17G 2.2G 15G 13% / /dev/sda1 960M 344M 617M 36% /boot tmpfs 178M 0 178M 0% /run/user/0 server30:/common 17G 2.2G 15G 13% /local server30:/home/user30 17G 2.2G 15G 13% /nfshome/user30 EXAM TIP: You may need to configure AutoFS for mounting a remote user home directory.\nNFS DIY Labs Lab: Configure NFS Share and Automount with Direct Map As user1 with sudo on server30, share directory /sharenfs (create it) in read/write mode using NFS. [root@server30 /]# mkdir /sharenfs [root@server30 /]# chmod 777 /sharenfs [root@server30 /]# vim /etc/exports # Add -\u003e /sharenfs server40(rw) [root@server30 /]# dnf -y install nfs-utils [root@server30 /]# firewall-cmd --permanent --add-service nfs [root@server30 /]# firewall-cmd --reload success [root@server30 /]# systemctl --now enable nfs-server [root@server30 /]# exportfs -av exporting server40.example.com:/sharenfs On server40 as user1 with sudo, install the AutoFS software and start the service. [root@server40 nfshome]# dnf -y install autofs Configure the master and a direct map to automount the share on /mntauto (create it). [root@server40 ~]# vim /etc/auto.master /- /etc/auto.master.d/auto.dir [root@server40 ~]# vim /etc/auto.master.d/auto.dir /mntauto server30:/sharenfs [root@server40 /]# mkdir /mntauto [root@server40 ~]# systemctl enable --now autofs Run ls on /mntauto to trigger the mount. [root@server40 /]# mount | grep mntauto /etc/auto.master.d/auto.dir on /mntauto type autofs (rw,relatime,fd=10,pgrp=6211,timeout=300,minproto=5,maxproto=5,direct,pipe_ino=40247) server30:/sharenfs on /mntauto type nfs4 (rw,relatime,vers=4.2,rsize=262144,wsize=262144,namlen=255,hard,proto=tcp,timeo=600,retrans=2,sec=sys,clientaddr=192.168.0.40,local_lock=none,addr=192.168.0.30) Use df -h to confirm. [root@server40 /]# df -h | grep mntauto server30:/sharenfs 17G 2.2G 15G 13% /mntauto Lab: Automount NFS Share with Indirect Map As user1 with sudo on server40, configure the master and an indirect map to automount the share under /autoindir (create it). [root@server40 /]# mkdir /autoindir [root@server40 etc]# vim /etc/auto.master /autoindir /etc/auto.misc [root@server40 etc]# vim /etc/auto.misc sharenfs server30:/common [root@server40 etc]# systemctl restart autofs Run ls on /autoindir/sharenfs to trigger the mount. [root@server40 etc]# ls /autoindir/sharenfs test.text Use df -h to confirm. [root@server40 etc]# df -h Filesystem Size Used Avail Use% Mounted on devtmpfs 4.0M 0 4.0M 0% /dev tmpfs 888M 0 888M 0% /dev/shm tmpfs 356M 5.1M 351M 2% /run /dev/mapper/rhel-root 17G 2.2G 15G 13% / /dev/sda1 960M 344M 617M 36% /boot tmpfs 178M 0 178M 0% /run/user/0 server30:/common 17G 2.2G 15G 13% /autoindir/sharenfs",
    "description": "Managing NFS and AutoFS",
    "tags": [],
    "title": "Network File System (NFS)",
    "uri": "/redhat/network-file-system-nfs/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Networking",
    "content": "Hostname “-”, “_ “, and “. \" characters are allowed. Up to 253 characters. Stored in /etc/hostname. Can be viewed with several different commands, such as hostname, hostnamectl, uname, and nmcli, as well as by displaying the content of the /etc/hostname file. View the hostname:\nhostnamectl --static hostname uname -n cat /etc/hostname Lab: Change the Hostname Server1\nOpen /etc/hostname and change the entry to server10.example.com Restart the systemd-hostnamed service daemon sudo systemctl restart systemd-hostnamed confirm hostname server2\nChange the hostname with hostnamectl: sudo hostnamectl set-hostname server21.example.com Log out and back in for the prompt to update\nChange the hostname using nmcli\nnmcli general hostname server20.example.com Hardware and IP Addressing Ethernet Address 48-bit address that is used to identify the correct destination node for data packets transmitted from the source node. The data packets include hardware addresses for the source and the destination node. Also referred to as the hardware, physical, link layer, or MAC address. List all network interfaces with their ethernet addresses:\nip addr | grep ether Subnetting Network address space is divided into several smaller and more manageable logical subnetworks (subnets). Benefits: Reduced network traffic Improved network performance de-centralized and easier administration uses the node bits only Results in the reduction of usable addresses. All nodes in a given subnet have the same subnet mask. Each subnet acts as an isolated network and requires a router to talk to other subnets. The first and the last IP address in a subnet are reserved. The first address points to the subnet itself, and the last address is the broadcast address. IPv4 View current ipv4 address:\nip addr Classful Network Addressing See Classful ipv4\nIPv6 Address See ipv6\nThe ip addr command also shows IPv6 addresses for the interfaces:\n[root@server200 ~]# ip addr 1: lo: \u003cLOOPBACK,UP,LOWER_UP\u003e mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: enp0s3: \u003cBROADCAST,MULTICAST,UP,LOWER_UP\u003e mtu 1500 qdisc fq_codel state UP group default qlen 1000 link/ether 08:00:27:b9:4e:ef brd ff:ff:ff:ff:ff:ff inet 172.16.1.155/20 brd 172.16.15.255 scope global dynamic noprefixroute enp0s3 valid_lft 79061sec preferred_lft 79061sec inet6 fe80::a00:27ff:feb9:4eef/64 scope link noprefixroute valid_lft forever preferred_lft forever Tools:\nping6 traceroute6 tracepath6 Protocols Defined in /etc/protocols Well known ports are defined in /etc/services cat /etc/protocols\nTCP and UDP Protocols See IP Transport and Applications and tcp_ip_basic\nICMP Send two pings to server 20\nping -c2 192.168.0.120 Ping the server’s loopback interface:\nping 127.0.0.1 Send a traceroute to server 20\ntraceroute 192.168.0.120 Or:\ntracepath 192.168.0.120 ICMPv6 IPv6 version of ICMP enabled by default Ping and ipv6 address:\nping6 Trace a route to an IPv6 address:\ntracepath6 traceroute6 Show IPv6 addresses:\nip addr | grep inet6 Network Manager Service Default service in RHEL for network:\ninterface and connection configuration. Administration. Monitoring. NetworkManager daemon\nResponsible for keeping interfaces and connection up and active. Includes: nmcli nmtui (text-based) nm-connection-editor (GUI) Does not manage loopback interfaces. Interface Connection Profiles Configuration file on each interface that defines IP assignments and other relevant parameters for it.\nThe networking subsystem reads this file and applies the settings at the time the connection is activated.\nConnection configuration files (or connection profiles) are stored in a central location under the /etc/NetworkManager/system-connections directory.\nThe filenames are identified by the interface connection names with nmconnection as the extension.\nSome instances of connection profiles are: enp0s3.nmconnection, ens160.nmconnection, and em1.nmconnection.\nOn server10 and server20, the device name for the first interface is enp0s3 with connection name enp0s3 and relevant connection information stored in the enp0s3.nmconnection file.\nThis connection was established at the time of RHEL installation. The current content of the file from server10 are presented below:\n[root@server200 system-connections]# cat /etc/NetworkManager/system-connections/enp0s3.nmconnection [connection] id=enp0s3 uuid=45d6a8ea-6bd7-38e0-8219-8c7a1b90afde type=ethernet autoconnect-priority=-999 interface-name=enp0s3 timestamp=1710367323 [ethernet] [ipv4] method=auto [ipv6] addr-gen-mode=eui64 method=auto [proxy] Each section defines a set of networking properties for the connection. Directives\nid\nAny description given to this connection. The default matches the interface name. uuid\nThe UUID associated with this connection type\nSpecifies the type of this connection autoconnect-priority\nIf the connection is set to autoconnect, connections with higher priority will be preferred. A higher number means higher priority. The range is between -999 and 999 with 0 being the default. interface_name\nSpecifies the device name for the network interface timestamp\nThe time, in seconds since the Unix Epoch that the connection was last activated successfully. This field is automatically populated each time the connection is activated. address1/method\nSpecifies the static IP for the connection if the method property is set to manual. /24 represents the subnet mask. addr-gen-mode/method\nGenerates an IPv6 address based on the hardware address of the interface. View additional directives:\nman nm-settings Naming rules for devices are governed by udevd service based on:\nDevice location Topology setting in firmware virtualization layer Understanding Hosts Table See DNS and Time Synchronization\n/etc/hosts file\nTable used to maintain hostname to IP mapping for systems on the local network, allowing us to access a system by simply employing its hostname. Each row in the file contains an IP address in column 1 followed by the official (or canonical) hostname in column 2, and one or more optional aliases thereafter.\nEXAM TIP: In the presence of an active DNS with all hostnames resolvable, there is no need to worry about updating the hosts file.\nAs expressed above, the use of the hosts file is common on small networks, and it should be updated on each individual system to reflect any changes for best inter-system connectivity experience.\nNetworking DIY Challenge Labs Lab: Update Hosts Table and Test Connectivity. Add both server10 and server20’s interfaces to both server’s /etc/host files: 192.168.0.110 server10.example.com server10 \u003c-- This is an alias 192.168.0.120 server20.example.com server20 172.10.10.110 server10s8.example.com server10s8 172.10.10.120 server20s8.example.com server20s8 Send 2 packets from server10 to server20’s IP address: ping -c2 192.168.0.120 Send 2 pings from server10 to server20’s hostname: ping -c2 server20 Lab 15-1: Add New Interface and Configure Connection Profile with nmcli Add a third network interface to rhel9server40 in VirtualBox. As user1 with sudo on server40, run ip a and verify the addition of the new interface. Use the nmcli command and assign IP 192.168.0.40/24 and gateway 192.168.0.1 [root@server40 ~]# nmcli c a type Ethernet ifname enp0s8 con-name enp0s8 ip4 192.168.0.40/24 gw4 192.168.0.1 Deactivate and reactivate this connection manually. [root@server40 ~]# nmcli c d enp0s8 Connection 'enp0s8' successfully deactivated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/3) [root@server40 ~]# nmcli c s NAME UUID TYPE DEVICE enp0s3 6e75a5e4-869b-3ed1-bdc4-c55d2d268285 ethernet enp0s3 lo 66809437-d3fa-4104-9777-7c3364b943a9 loopback lo enp0s8 9a32e279-84c2-4bba-b5c5-82a04f40a7df ethernet -- [root@server40 ~]# nmcli c u enp0s8 Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/4) [root@server40 ~]# nmcli c s NAME UUID TYPE DEVICE enp0s3 6e75a5e4-869b-3ed1-bdc4-c55d2d268285 ethernet enp0s3 enp0s8 9a32e279-84c2-4bba-b5c5-82a04f40a7df ethernet enp0s8 lo 66809437-d3fa-4104-9777-7c3364b943a9 loopback lo Add entry server40 to server30’s hosts table. [root@server30 ~]# vim /etc/hosts [root@server30 ~]# ping server40 PING server40.example.com (192.168.0.40) 56(84) bytes of data. 64 bytes from server40.example.com (192.168.0.40): icmp_seq=1 ttl=64 time=3.20 ms 64 bytes from server40.example.com (192.168.0.40): icmp_seq=2 ttl=64 time=0.628 ms 64 bytes from server40.example.com (192.168.0.40): icmp_seq=3 ttl=64 time=0.717 ms ^C --- server40.example.com ping statistics --- 3 packets transmitted, 3 received, 0% packet loss, time 2009ms rtt min/avg/max/mdev = 0.628/1.516/3.204/1.193 ms Lab: Add New Interface and Configure Connection Profile Manually (server30) Add a third network interface to RHEL9server30 in VirtualBox.\nrun ip a and verify the addition of the new interface.\nUse the nmcli command and assign IP 192.168.0.30/24 and gateway 192.168.0.1\nnmcli c a type Ethernet ifname enp0s8 con-name enp0s8 ip4 192.168.0.30/24 gw4 192.168.0.1 Deactivate and reactivate this connection manually. Add entry server30 to the hosts table of server 40\n[root@server30 system-connections]# nmcli c d enp0s8 Connection 'enp0s8' successfully deactivated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/3) [root@server30 system-connections]# nmcli c u enp0s8 Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/4) /etc/hosts 192.168.0.30 server30.example.com server30 ping tests to server30 from server 40\n[root@server40 ~]# ping server30 PING server30.example.com (192.168.0.30) 56(84) bytes of data. 64 bytes from server30.example.com (192.168.0.30): icmp_seq=1 ttl=64 time=1.59 ms 64 bytes from server30.example.com (192.168.0.30): icmp_seq=2 ttl=64 time=0.474 ms ^C --- server30.example.com ping statistics --- 2 packets transmitted, 2 received, 0% packet loss, time 999ms rtt min/avg/max/mdev = 0.474/1.032/1.590/0.558 ms Or create the profile manually and restart network manager:\n[connection] id=enp0s8 type=ethernet interface-name=enp0s8 uuid=92db4c65-2f13-4952-b81f-2779b1d24a49 [ethernet] [ipv4] method=manual address1=10.1.13.3/24,10.1.13.1 [ipv6] addr-gen-mode=default method=auto [proxy] Administration Tools ip Display monitor and manage network interfaces, routing, connections, traffic, etc. ifup\nBrings up an interface ifdown\nBrings down an interface nmcli\nCreates, updates, deletes, activates, and deactivates a connection profile. nmcli command Create, view, modify, remove, activate, and deactivate network connections. Control and report network device status. Supports abbreviation of commands. Operates on 7 different object categories.\ngeneral networking connection (c)(con) device (d)(dev) radio monitor agent [root@server200 system-connections]# nmcli --help Usage: nmcli [OPTIONS] OBJECT { COMMAND | help } OPTIONS -a, --ask ask for missing parameters -c, --colors auto|yes|no whether to use colors in output -e, --escape yes|no escape columns separators in values -f, --fields \u003cfield,...\u003e|all|common specify fields to output -g, --get-values \u003cfield,...\u003e|all|common shortcut for -m tabular -t -f -h, --help print this help -m, --mode tabular|multiline output mode -o, --overview overview mode -p, --pretty pretty output -s, --show-secrets allow displaying passwords -t, --terse terse output -v, --version show program version -w, --wait \u003cseconds\u003e set timeout waiting for finishing operations OBJECT g[eneral] NetworkManager\\'s general status and operations n[etworking] overall networking control r[adio] NetworkManager radio switches c[onnection] NetworkManager\\'s connections d[evice] devices managed by NetworkManager a[gent] NetworkManager secret agent or polkit agent m[onitor] monitor NetworkManager changes 3. connection Activates, deactivates, and administers network connections. Options:\nshow (list connections) up/down (Brings connection up or down) add(a) (adds a connection) edit (edit connection or add a new one) modify (modify properties of a connection) delete(d) (delete a connection) reload (re-read all connection profiles) load (re-read a connection profile) 4. Device Options:\nstatus (Displays device status) show (Displays info about device(s) Show all connections, inactive or active:\nnmcli c s Deactivate the connection enp0s8:\nsudo nmcli c down enp0s8 Note:\nThe connection profile gets detached from the device, disabling the connection. Activate the connection enp0s8:\n$ sudo nmcli c up enp0s8 # connection profile re-attaches to the device. Display the status of all network devices:\nnmcli d s Lab: Add Network Devices to server10 and one to server20 using VirtualBox Shut down your servers (follow each step for both servers) sudo shutdown now Add network interface in Virtualbox then power on the VMs Select machine \u003e settings \u003e Network \u003e Adapter 2 \u003e Enable Network Adapter \u003e Internal Network \u003e ok Verify the new interfaces: ip a Lab: Configure New Network Connection Using nmcli (server20) Verify the interface that was added from virtualbox: nmcli d status | grep enp Add connection profile and attach it to the interface: sudo nmcli c a type Ethernet ifname enp0s8 con-name enp0s8 ip4 172.10.10.120/24 gw4 172.10.10.1 Confirm connection status nmcli d status | grep enp Verify ip address ip a Check the content of the connection profile cat /etc/NetworkManager/system-connections/enp0s8.nmconnection",
    "description": "Hostname, IP addressing, network protocols, network manager, tools, etc.",
    "tags": [],
    "title": "Networking Network Devices and Network Connections",
    "uri": "/networking/networking-network-devices-and-network-connections/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Ansible",
    "content": "3 modules for managing the networking on nodes:\nservice daemon system settings",
    "description": "Networking with Ansible",
    "tags": [],
    "title": "Networking with Ansible",
    "uri": "/ansible/networking-with-ansible/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Storage",
    "content": "I’m going to show you how to set up your own, self-hosted Nextcloud server using Alma Linux 9 and Apache.\nWhat is Nextcloud? Nextcloud is so many things. It offers so many features and options, it deserves a bulleted list:\nFree and open source Cloud storage and syncing Email client Custom browser dashboard with widgets Office suite RSS newsfeed Project organization (deck) Notebook Calender Task manager Connect to decentralized social media (like Mastodon) Replacement for all of google’s services Create web forms or surveys It is also free and open source. This mean the source code is available to all. And hosting yourself means you can guarantee that your data isn’t being shared.\nAs you can see. Nextcloud is feature packed and offers an all in one solution for many needs. The set up is fairly simple.\nYou will need:\nDomain hosted through CloudFlare or other hosting. Server with Alma Linux 9 with a dedicated public ip address. Nextcloud dependencies:\nPHP 8.3 Apache sql database (This tutorial uses MariaDB) Official docs: https://docs.nextcloud.com/server/latest/admin_manual/installation/source_installation.html\nSetting up dependencies Install latest supported PHP I used this guide to help get a supported php version. As php 2 installed from dnf repos by default: https://orcacore.com/php83-installation-almalinux9-rockylinux9/\nMake sure dnf is up to date:\nsudo dnf update -y sudo dnf upgrade -y Set up the epel repository:\nsudo dnf install epel-release -y Set up remi to manage php modules:\nsudo dnf install -y dnf-utils http://rpms.remirepo.net/enterprise/remi-release-9.rpm sudo dnf update -y Remove old versions of php:\nsudo dnf remove php* -y List available php streams:\nsudo dnf module list reset php -y Last metadata expiration check: 1:03:46 ago on Sun 29 Dec 2024 03:34:52 AM MST. AlmaLinux 9 - AppStream Name Stream Profiles Summary php 8.1 common [d], devel, minimal PHP scripting language php 8.2 common [d], devel, minimal PHP scripting language Remi's Modular repository for Enterprise Linux 9 - x86_64 Name Stream Profiles Summary php remi-7.4 common [d], devel, minimal PHP scripting language php remi-8.0 common [d], devel, minimal PHP scripting language php remi-8.1 common [d], devel, minimal PHP scripting language php remi-8.2 common [d], devel, minimal PHP scripting language php remi-8.3 [e] common [d], devel, minimal PHP scripting language php remi-8.4 common [d], devel, minimal PHP scripting language Enable the correct stream:\nsudo dnf module enable php:remi-8.3 Now the default to install is version 8.3, install it like this:\nsudo dnf install php -y php -v Let’s install git, as it’s also needed in this setup: sudo dnf -y install git\nInstall Composer for managing php modules:\ncd \u0026\u0026 curl -sS https://getcomposer.org/installer | php sudo mv composer.phar /usr/local/bin/composer Install needed PHP modules: sudo dnf install php-process php-zip php-gd php-mysqlnd\nUpgrade php memory limit: sudo vim /etc/php.ini\nmemory_limit = 512M Apache setup Add Apache config for vhost: sudo vim /etc/httpd/conf.d/nextcloud.conf\n\u003cVirtualHost *:80\u003e DocumentRoot /var/www/nextcloud/ ServerName {subdomain}.{example}.com \u003cDirectory /var/www/nextcloud/\u003e Require all granted AllowOverride All Options FollowSymLinks MultiViews \u003cIfModule mod_dav.c\u003e Dav off \u003c/IfModule\u003e \u003c/Directory\u003e \u003c/VirtualHost\u003e Set up the mysql database Install: sudo dnf install mariadb-server -y\nEnable the service: sudo systemctl enable --now mariadb\nNextcloud needs some tables setup in order to store information in a database. First set up a secure sql database:\nsudo mysql_secure_installation Say “Yes” to the prompts and enter root password:\nSwitch to unix_socket authentication [Y/n]: Y Change the root password? [Y/n]: Y\t# enter password. Remove anonymous users? [Y/n]: Y Disallow root login remotely? [Y/n]: Y Remove test database and access to it? [Y/n]: Y Reload privilege tables now? [Y/n]: Y Sign in to your SQL database with the password you just chose:\nmysql -u root -p Create the database: While signed in with the mysql command, enter the commands below one at a time. Make sure to replace the username and password. But leave localhost as is:\nCREATE DATABASE nextcloud; GRANT ALL ON nextcloud.* TO '{username}'@'localhost' IDENTIFIED BY '{password}'; FLUSH PRIVILEGES; EXIT; Nextcloud Install Clone the git repo into /var/www/nextcloud: git clone https://github.com/nextcloud/server.git /var/www/nextcloud \u0026\u0026 cd /var/www/nextcloud\nAdd an exception for git to access the directory:\ngit config --global --add safe.directory /var/www/nextcloud Initialize the git submodule that handles the subfolder “3rdpartysudo”:\ncd /var/www/nextcloud \u0026\u0026 sudo git submodule update --init Change the nextcloud folder ownership to apache and add permissions: sudo chmod -R 755 /var/www/nextcloud sudo chown -R apache:apache /var/www/nextcloud\nSelinux:\nsudo semanage fcontext -a -t httpd_sys_content_t \"/var/www/nextcloud(/.*)?\" \u0026\u0026 \\ sudo semanage fcontext -a -t httpd_sys_rw_content_t \"/var/www/nextcloud/(config|data|apps)(/.*)?\" \u0026\u0026 \\ sudo restorecon -Rv /var/www/nextcloud/ Now we can actually install Nextcloud. cd to the /var/www/nextcloud directory and run occ with these settings to install:\nsudo -u apache php occ maintenance:install \\ --database='mysql' --database-name='nextcloud' \\ --database-user='root' --database-pass='{password}' \\ --admin-user='admin' --admin-pass='{password}' Create a CNAME record for DNS. Before you go any further, you will need to have a domain name set up for your server. I use Cloudflare to manage my DNS records. You will want to make a CNAME record for your nextcloud subdomain.\nJust add “nextcloud” as the name and “yourwebsite.com” as the content. This will make it so “nextcloud.yourwebsite.com” is the site for your nextcloud dashboard. Also, make sure to select “DNS Only” under proxy status.\nHere’s what my CloudFlare domain setup looks with this blog as the main site, and cloud.perfectdarkmode.com as the nextcloud site:\nThen you need to update trusted domains in /var/www/nextcloud/config/config.php:\n'trusted_domains' =\u003e [ '{subdomain}.{domain}.com', 'localhost' ], Restart httpd systemctl restart httpd\nInstall SSL with Certbot Obtain an SSL certificate. (See my Obsidian site setup post for information about Certbot and Apache setup.)\nsudo certbot -d {subdomain}.{domain}.com Now log into nextcloud with your admin account using the DNS name you set earlier:\nI recommend setting up a normal user account instead of doing everything as “admin”. Just hit the “A” icon at the top right and go to “Accounts”. Then just select “New Account” and create a user account with whatever privileges you want.\nI may make a post about which Nextcloud apps I recommend and customize the setup a bit. Let me know if that’s something you’d like to see. That’s all for now.",
    "description": "Nextcloud setup guide on a RHEL based server",
    "tags": [],
    "title": "Nextcloud on RHEL Based Systems",
    "uri": "/storage/nextcloud-on-rhel-based-systems/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Tools",
    "content": "I’m going to show you how to set up your own, self-hosted Nextcloud server using Alma Linux 9 and Apache.\nWhat is Nextcloud? Nextcloud is so many things. It offers so many features and options, it deserves a bulleted list:\nFree and open source Cloud storage and syncing Email client Custom browser dashboard with widgets Office suite RSS newsfeed Project organization (deck) Notebook Calender Task manager Connect to decentralized social media (like Mastodon) Replacement for all of google’s services Create web forms or surveys It is also free and open source. This mean the source code is available to all. And hosting yourself means you can guarantee that your data isn’t being shared.\nAs you can see. Nextcloud is feature packed and offers an all in one solution for many needs. The set up is fairly simple.\nYou will need:\nDomain hosted through CloudFlare or other hosting. Server with Alma Linux 9 with a dedicated public ip address. Nextcloud dependencies:\nPHP 8.3 Apache sql database (This tutorial uses MariaDB) Official docs: https://docs.nextcloud.com/server/latest/admin_manual/installation/source_installation.html\nServer Specs Hard drives: 120g main 500g data 250g backup\nOS: Alma 9 CPU: 4 sockets 8 cores RAM: 32768\nip 10.0.10.56/24 root: { password } davidt: { password }\nStorage setup mkdir /var/www/nextcloud/ -p mkdir /home/databkup parted /dev/sdb mklabel gpt parted /dev/sdb mkpart primary 0% 100% parted /dev/sdc mklabel gpt parted /dev/sdc mkpart primary 0% 100% mkfs.xfs /dev/sdb1 mkfs.xfs /dev/sdc1 lsblk blkid /dev/sdb1 \u003e\u003e /etc/fstab blkid /dev/sdc1 \u003e\u003e /etc/fstab vim /etc/fstab mount -a [root@dt-lab2 ~]# lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sda 8:0 0 120G 0 disk ├─sda1 8:1 0 1G 0 part /boot └─sda2 8:2 0 119G 0 part ├─almalinux-root 253:0 0 70G 0 lvm / ├─almalinux-swap 253:1 0 12G 0 lvm [SWAP] └─almalinux-home 253:2 0 37G 0 lvm /home sdb 8:16 0 500G 0 disk └─sdb1 8:17 0 500G 0 part /var/www/nextcloud sdc 8:32 0 250G 0 disk └─sdc1 8:33 0 250G 0 part /home/databkup Setting up dependencies Install latest supported PHP I used this guide to help get a supported php version. As php 2 installed from dnf repos by default: https://orcacore.com/php83-installation-almalinux9-rockylinux9/\nMake sure dnf is up to date:\nsudo dnf update -y sudo dnf upgrade -y Set up the epel repository:\nsudo dnf install epel-release -y Set up remi to manage php modules:\nsudo dnf install -y dnf-utils http://rpms.remirepo.net/enterprise/remi-release-9.rpm sudo dnf update -y Remove old versions of php:\nsudo dnf remove php* -y List available php streams:\nsudo dnf module list reset php -y Last metadata expiration check: 1:03:46 ago on Sun 29 Dec 2024 03:34:52 AM MST. AlmaLinux 9 - AppStream Name Stream Profiles Summary php 8.1 common [d], devel, minimal PHP scripting language php 8.2 common [d], devel, minimal PHP scripting language Remi's Modular repository for Enterprise Linux 9 - x86_64 Name Stream Profiles Summary php remi-7.4 common [d], devel, minimal PHP scripting language php remi-8.0 common [d], devel, minimal PHP scripting language php remi-8.1 common [d], devel, minimal PHP scripting language php remi-8.2 common [d], devel, minimal PHP scripting language php remi-8.3 [e] common [d], devel, minimal PHP scripting language php remi-8.4 common [d], devel, minimal PHP scripting language Enable the correct stream:\nsudo dnf module enable php:remi-8.3 Now the default to install is version 8.3, install it like this:\nsudo dnf install php -y php -v Let’s install git, as it’s also needed in this setup: sudo dnf -y install git\nInstall Composer for managing php modules:\ncd \u0026\u0026 curl -sS https://getcomposer.org/installer | php sudo mv composer.phar /usr/local/bin/composer Install needed PHP modules: sudo dnf -y install php-process php-zip php-gd php-mysqlnd php-ldap php-imagick php-bcmath php-gmp php-intl\nUpgrade php memory limit: sudo vim /etc/php.ini\nmemory_limit = 512M Apache setup Add Apache config for vhost: sudo vim /etc/httpd/conf.d/nextcloud.conf\n\u003cVirtualHost *:80\u003e DocumentRoot /var/www/nextcloud/ ServerName cloud.{ site-name }.com \u003cDirectory /var/www/nextcloud/\u003e Require all granted AllowOverride All Options FollowSymLinks MultiViews \u003cIfModule mod_dav.c\u003e Dav off \u003c/IfModule\u003e \u003c/Directory\u003e \u003c/VirtualHost\u003e Set up the mysql database Install: sudo dnf install mariadb-server -y\nEnable the service: sudo systemctl enable --now mariadb\nNextcloud needs some tables setup in order to store information in a database. First set up a secure sql database:\nsudo mysql_secure_installation Say “Yes” to the prompts and enter root password:\nSwitch to unix_socket authentication [Y/n]: Y Change the root password? [Y/n]: Y\t# enter password. Remove anonymous users? [Y/n]: Y Disallow root login remotely? [Y/n]: Y Remove test database and access to it? [Y/n]: Y Reload privilege tables now? [Y/n]: Y Sign in to your SQL database with the password you just chose:\nmysql -u root -p Create the database: While signed in with the mysql command, enter the commands below one at a time. Make sure to replace the username and password. But leave localhost as is:\nCREATE DATABASE nextcloud; GRANT ALL ON nextcloud.* TO 'root'@'localhost' IDENTIFIED BY '{ password }'; FLUSH PRIVILEGES; EXIT; Nextcloud Install Download nextcloud onto the server. Extract the contents to /var/www/nextcloud tar -xjf nextcloud-31.0.4.tar.bz2 -C /var/www/ --strip-components=1\nChange the nextcloud folder ownership to apache and add permissions: sudo chmod -R 755 /var/www/nextcloud sudo chown -R apache:apache /var/www/nextcloud\nSelinux:\nsudo semanage fcontext -a -t httpd_sys_content_t \"/var/www/nextcloud(/.*)?\" \u0026\u0026 \\ sudo semanage fcontext -a -t httpd_sys_rw_content_t \"/var/www/nextcloud/(config|data|apps)(/.*)?\" \u0026\u0026 \\ sudo semanage fcontext -a -t httpd_sys_rw_content_t \"/var/www/nextcloud/data(/.*)?\" sudo restorecon -Rv /var/www/nextcloud/ Now we can actually install Nextcloud. cd to the /var/www/nextcloud directory and run occ with these settings to install:\nsudo -u apache php occ maintenance:install \\ --database='mysql' --database-name='nextcloud' \\ --database-user='root' --database-pass='{ password }' \\ --admin-user='admin' --admin-pass='{ password }' Create a CNAME record for DNS. Before you go any further, you will need to have a domain name set up for your server. I use Cloudflare to manage my DNS records. You will want to make a CNAME record for your nextcloud subdomain.\nJust add “nextcloud” as the name and “yourwebsite.com” as the content. This will make it so “nextcloud.yourwebsite.com” is the site for your nextcloud dashboard. Also, make sure to select “DNS Only” under proxy status.\nHere’s what my CloudFlare domain setup looks with this blog as the main site, and cloud.perfectdarkmode.com as the nextcloud site:\nThen you need to update trusted domains in /var/www/nextcloud/config/config.php:\n'trusted_domains' =\u003e [ 'cloud.{ site-name }.com', 'localhost' ], Install Apache Install: sudo dnf -y install httpd\nEnable: systemctl enable --now httpd\nRestart httpd systemctl restart httpd\nFirewall rules:\nsudo firewall-cmd --add-service https --permanent sudo firewall-cmd --add-service http --permanent sudo firewall-cmd --reload Install SSL with Certbot Install certbot: sudo dnf install certbot python3-certbot-apache -y\nObtain an SSL certificate. (See my Obsidian site setup post for information about Certbot and Apache setup.)\nsudo certbot -d {subdomain}.{domain}.com Now log into nextcloud with your admin account using the DNS name you set earlier:\nI recommend setting up a normal user account instead of doing everything as “admin”. Just hit the “A” icon at the top right and go to “Accounts”. Then just select “New Account” and create a user account with whatever privileges you want.\nI may make a post about which Nextcloud apps I recommend and customize the setup a bit. Let me know if that’s something you’d like to see. That’s all for now.\nMake log dir: mkdir /var/log/nextcloud touch /var/log/nextcloud.log chown apache:apache -R /var/log/nextcloud Change apps to read only semanage fcontext -a -t httpd_sys_content_t \"/var/www/nextcloud/apps(/.*)?\" restorecon -R /var/www/nextcloud/apps Allow outbound network: sudo setsebool -P httpd_can_network_connect 1 sudo setsebool -P httpd_graceful_shutdown 1 sudo setsebool -P httpd_can_network_relay 1 sudo ausearch -c 'php-fpm' --raw | audit2allow -M my-phpfpm sudo semodule -X 300 -i my-phpfpm.pp Backup mkdir /home/databkup chown -R apache:apache /home/databkup\nvim /root/cleanbackups.sh\n#!/bin/bash find /home/backup -type f -mtime +5 -exec rm {} \\; chmod +x /root/cleanbackups.sh\ncrontab -e\n# Clean up old backups every day at midnight 0 0 * * * /root/cleanbackups.sh \u003e /dev/null 2\u003e\u00261 # Backup MySQL database every 12 hours 0 */12 * * * bash -c '/usr/bin/mysqldump --single-transaction -u root -p{password} nextcloud \u003e /home/backup/nextclouddb-backup_$(date +\"\\%Y\\%m\\%d\\%H\\%M\\%S\").bak' # Rsync Nextcloud data directory every day at midnight 15 0 * * * /usr/bin/rsync -Aavx /var/www/nextcloud/ /home/databkup/ --delete-before mkdir /home/backup\nUpdate Mariadb: systemctl stop mariadb.service dnf module switch-to mariadb:10.11 systemctl start mariadb.service mariadb-upgrade --user=root --password='{ password }' mariadb --version Mimetype migration error: sudo -u apache /var/www/nextcloud/occ maintenance:repair --include-expensive\nIndices error: sudo -u apache /var/www/nextcloud/occ db:add-missing-indices\nRedis install for memcache This setup uses Redis for File locking and APCu for memcache\ndnf -y install redis php-pecl-redis php-pecl-apcu\nsystemctl enable --now redis\nAdd to config.php:\n'memcache.locking' =\u003e '\\OC\\Memcache\\Redis', 'memcache.local' =\u003e '\\OC\\Memcache\\APCu', 'redis' =\u003e [ 'host' =\u003e '/run/redis/redis-server.sock', 'port' =\u003e 0, ], Update /etc/redis/redis.conf vim /etc/redis/redis.conf change port to port 0/\nuncomment the socket options under “Unix Socket” and change to:\nunixsocket /run/redis/redis-server.sock unixsocketperm 770 Update permissions for redis usermod -a -G redis apache\nUncomment the line in /etc/php.d/40-apcu.ini and change from 32M to 256M vim /etc/php.d/40-apcu.ini apc.shm_size=256M\nRestart apache and redis:\nsystemctl restart redis systemctl restart httpd Added logging and phone region to config.php: mkdir /var/log/nextcloud/\n'log_type' =\u003e 'file', 'logfile' =\u003e '/var/log/nextcloud/nextcloud.log', 'logfilemode' =\u003e 416, 'default_phone_region' =\u003e 'US', 'logtimezone' =\u003e 'America/Phoenix', 'loglevel' =\u003e '1', 'logdateformat' =\u003e 'F d, Y H:i:s', OP-Cache error Change opcache.interned_strings_buffer to 16 and uncomment:\nvim /etc/php.d/10-opcache.ini\nopcache.interned_strings_buffer=16 systemctl restart php-fpm httpd\nLast job execution ran 2 months ago. Something seems wrong. Set up cron job for the Apache user: crontab -u apache -e\nAdd to file that shows up:\n*/5 * * * * php -f /var/www/nextcloud/cron.php Other Errors The “files_reminders” app needs the notification app to work properly. You should either enable notifications or disable files_reminder. Disabled files_reminder app\nServer has no maintenance window start time configured. This means resource intensive daily background jobs will also be executed during your main usage time. We recommend to set it to a time of low usage, so users are less impacted by the load caused from these heavy tasks. For more details see the documentation ↗. Added 'maintenance_window_start' =\u003e 1, to config.php\nSome headers are not set correctly on your instance - The Strict-Transport-Security HTTP header is not set (should be at least 15552000 seconds). For enhanced security, it is recommended to enable HSTS. For more details see the documentation ↗. Added after closing directory line in SSL config:\nvim nextcloud-le-ssl.conf Header always set Strict-Transport-Security \"max-age=15552000; includeSubDomains; preload\" And add to the bottom of /var/www/nextcloud/.htaccess: \"Header always set Strict-Transport-Security \"max-age=15552000; includeSubDomains\"\nChange this line in config.php from localhost to server name:\n'overwrite.cli.url' =\u003e 'http://cloud.{ site-name }.com', Integrity checker has been disabled. Integrity cannot be verified. Ignore this\nYour webserver does not serve .mjs files using the JavaScript MIME type. This will break some apps by preventing browsers from executing the JavaScript files. You should configure your webserver to serve .mjs files with either the text/javascript or application/javascript MIME type.\nsudo vim /etc/httpd/conf.d/nextcloud.conf ad AddType text/javascript .mjs inside the virtual host block. Restart apache. Your web server is not properly set up to resolve “/ocm-provider/”. This is most likely related to a web server configuration that was not updated to deliver this folder directly. Please compare your configuration against the shipped rewrite rules in “.htaccess” for Apache add to vim /var/www/nextcloud/.htaccess\n\u003cIfModule mod_rewrite.c\u003e RewriteEngine on RewriteRule ^ocm-provider/(.*)$ /index.php/apps/ocm/$1 [QSA,L] \u003c/IfModule\u003e Your web server is not properly set up to resolve .well-known URLs, failed on: /.well-known/caldav\nadded to vim /var/www/nextcloud/.htaccess\n# .well-known URLs for CalDAV/CardDAV and other services \u003cIfModule mod_rewrite.c\u003e RewriteEngine On RewriteRule ^\\.well-known/caldav$ /remote.php/dav/ [R=301,L] RewriteRule ^\\.well-known/carddav$ /remote.php/dav/ [R=301,L] RewriteRule ^\\.well-known/webfinger$ /index.php/.well-known/webfinger [R=301,L] RewriteRule ^\\.well-known/nodeinfo$ /index.php/.well-known/nodeinfo [R=301,L] RewriteRule ^\\.well-known/acme-challenge/.*$ - [L] \u003c/IfModule\u003e PHP configuration option “output_buffering” must be disabled vim /etc/php.ini\noutput_buffering = Off\n[root@oort31 nextcloud]# echo \"output_buffering=off\" \u003e .user.ini [root@oort31 nextcloud]# chown apache:apache .user.ini chmod 644 .user.ini [root@oort31 nextcloud]# systemctl restart httpd Installed tmux dnf -y install tmux\nApps Disabled File Reminders app\nAdd fail2ban sudo dnf -y install fail2ban\nvim /etc/fail2ban/jail.local\n[DEFAULT] bantime = 24h ignoreip = 10.0.0.0/8 usedns = no [sshd] enabled = true maxretry = 3 findtime = 43200 bantime = 86400 systemctl enable –now fail2ban fail2ban-client status sshd",
    "description": "Nextcloud setup guide on a RHEL based server",
    "tags": [],
    "title": "Nextcloud on RHEL Based Systems",
    "uri": "/tools/nextcloud-on-rhel-based-systems/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "Easy concepts to grasp, challenging to apply to the real world. This is how we communicate with other people. I have been trying some of the methods and mindset while I was reading this book. Sometimes the strategies of using empathy and getting to know the needs behind words and behaviors have helped resolve tensions but other times it falls flat on it’s face due to me being very mechanistic about the whole thing. This is going to need a re-read at some point.\nThere is clear direction in my mind about what other areas to study in order to get better at this:\nGetting better at Empathy Being in touch with your own needs and feelings Saying “No” without Feeling Guilty Negotiating without compromising (Identify and satisfy the needs of both sides) Summary and Highlights When we give from the heart, we do so out of the joy that springs forth whenever we willingly enrich another person’s life.\nThis kind of giving benefits both the giver and the receiver. The receiver enjoys the gift without worrying about the consequences that accompany gifts given out of fear, guilt, shame, or desire for gain.\nThe giver benefits from the enhanced self-esteem that results when we see our efforts contributing to someone’s well-being.\nFour components of NVC:\nobservations feelings needs requests Helps us connect with each other and ourselves in a way that allows our natural compassion to flourish.\nGuides us to reframe the way we express ourselves and listen to others by focusing our consciousness on four areas: what we are observing, feeling, and needing, and what we are requesting to enrich our lives.\nFosters deep listening, respect, and empathy and engenders a mutual desire to give from the heart.\nSome people use NVC to respond compassionately to themselves, some to create greater depth in their personal relationships, and still others to build effective relationships at work or in the political arena.\nMoralistic judgments that imply wrongness or badness on the part of people who don’t act in harmony with our values.\nFirst component of NVC entails the separation of observation from evaluation. When we combine observation with evaluation, others are apt to hear criticism and resist what we are saying. NVC is a process language that discourages static generalizations. Instead, observations are to be made specific to time and context, for example, “Hank Smith has not scored a goal in twenty games,” rather than “Hank Smith is a poor soccer player.”\nA common confusion, generated by the English language, is our use of the word feel without actually expressing a feeling\nIn general, feelings are not being clearly expressed when the word feel is followed by:\nWords such as that, like, as if: “I feel that you should know better.” “I feel like a failure.” “I feel as if I’m living with a wall.” The pronouns I, you, he, she, they, it: “I feel I am constantly on call.” “I feel it is useless.” Names or nouns referring to people: “I feel Amy has been pretty responsible.” “I feel my boss is being manipulative.”\nExpressions of actual feelings: “I feel disappointed in myself as a guitar player.” “I feel impatient with myself as a guitar player.” “I feel frustrated with myself as a guitar player.”\nHow we are likely to feel when our needs are being met:\nabsorbed adventurous affectionate alert alive amazed amused animated appreciative ardent aroused astonished blissful breathless buoyant calm carefree cheerful comfortable complacent composed concerned confident contented cool curious dazzled delighted eager ebullient ecstatic effervescent elated enchanted encouraged energetic engrossed enlivened enthusiastic excited exhilarated expansive expectant exultant fascinated free friendly fulfilled glad gleeful glorious glowing good-humored grateful gratified happy helpful hopeful inquisitive inspired intense interested intrigued invigorated involved joyous, joyful jubilant keyed-up loving mellow merry mirthful moved optimistic overjoyed overwhelmed peaceful perky pleasant pleased proud quiet radiant rapturous refreshed relaxed relieved satisfied secure sensitive serene spellbound splendid stimulated surprised tender thankful thrilled touched tranquil trusting upbeat warm wide-awake wonderful zestful How we are likely to feel when our needs are not being met:\nafraid aggravated agitated alarmed aloof angry anguished annoyed anxious apathetic apprehensive aroused ashamed beat bewildered bitter blah blue bored brokenhearted chagrined cold concerned confused cool cross dejected depressed despairing despondent detached disaffected disappointed discouraged disenchanted disgruntled disgusted disheartened dismayed displeased disquieted distressed disturbed downcast downhearted dull edgy embarrassed embittered exasperated exhausted fatigued fearful fidgety forlorn frightened frustrated furious gloomy guilty harried heavy helpless hesitant horrible horrified hostile hot humdrum hurt impatient indifferent intense irate irked irritated jealous jittery keyed-up lazy leery lethargic listless lonely mad mean miserable mopey morose mournful nervous nettled numb overwhelmed panicky passive perplexed pessimistic puzzled rancorous reluctant repelled resentful restless sad scared sensitive shaky shocked skeptical sleepy sorrowful sorry spiritless startled surprised suspicious tepid terrified tired troubled uncomfortable unconcerned uneasy unglued unhappy unnerved unsteady upset uptight vexed weary wistful withdrawn woeful worried wretched We accept the other person’s judgment and blame ourselves. blame others. sense our own feelings and needs. sense others’ feelings and needs. Connect your feeling with your need: “I feel … because I need …”\nDevelopment toward a state of emotional liberation, most of us experience three stages in the way we relate to others.\nStage 1: In this stage, which I refer to as emotional slavery, we believe ourselves responsible for the feelings of others.\nWe think we must constantly strive to keep everyone happy. If they don’t appear happy, we feel responsible and compelled to do something about it. This can easily lead us to see the very people who are closest to us as burdens.\nStage 2: In this stage, we become aware of the high costs of assuming responsibility for others’ feelings and trying to accommodate them at our own expense. When we notice how much of our lives we’ve missed and how little we have responded to the call of our own soul, we may get angry.\nStage 3: At the third stage, emotional liberation, we respond to the needs of others out of compassion, never out of fear, guilt, or shame.\nUsing Positive Action Language Express what we are requesting rather than what we are not requesting.\nRequests may sound like demands when unaccompanied by the speaker’s feelings and needs.\nOur requests are received as demands when others believe they will be blamed or punished if they do not comply.\nWhen people hear a demand, they see only two options: submission or rebellion. Either way, the person requesting is perceived as coercive, and the listener’s capacity to respond compassionately to the request is diminished.\nThe more we have in the past blamed, punished, or “laid guilt trips” on others when they haven’t responded to our requests, the higher the likelihood that our requests will now be heard as demands.\nChoosing to request rather than demand.\nDoes not mean we give up when someone says no to our request.\nThe fourth component of NVC addresses the question of what we would like to request of each other to enrich each of our lives.\nTry to avoid vague, abstract, or ambiguous phrasing, and remember to use positive action language by stating what we are requesting rather than what we are not.\nEach time we speak, the clearer we are about what we want back, the more likely we are to get it. Since the message we send is not always the message that’s received, we need to learn how to find out if our message has been accurately heard.\nCommon behaviors that prevent us from being sufficiently present to connect empathically with others:\nAdvising: “I think you should … ” “How come you didn’t … ?” One-upping: “That’s nothing; wait’ll you hear what happened to me.” Educating: “This could turn into a very positive experience for you if you just … ” Consoling: “It wasn’t your fault; you did the best you could.” Story-telling: “That reminds me of the time … ” Shutting down: “Cheer up. Don’t feel so bad.” Sympathizing: “Oh, you poor thing … ” Interrogating: “When did this begin?” Explaining: “I would have called but … ” Correcting: “That’s not how it happened.”\nIntellectual understanding blocks empathy.\nAfter we focus our attention and hear what others are observing, feeling, and needing and what they are requesting to enrich their lives, we may wish to reflect back by paraphrasing what we have understood.\nOur tone communicates that we’re asking whether we have understood—not claiming that we have understood.\nBehind all those messages we’ve allowed ourselves to be intimidated by are just individuals with unmet needs appealing to us to contribute to their well-being.\nEmpathy is a respectful understanding of what others are experiencing. We often have a strong urge to give advice or reassurance and to explain our own position or feeling. Empathy, however, calls upon us to empty our mind and listen to others with our whole being.\nCarl Rogers - “When … someone really hears you without passing judgment on you, without trying to take responsibility for you, without trying to mold you, it feels damn good! … When I have been listened to and when I have been heard, I am able to reperceive my world in a new way and to go on. It is astonishing how elements that seem insoluble become soluble when someone listens, how confusions that seem irremediable turn into relatively clear flowing streams when one is heard.”\nConversations that are lifeless for the listener are equally so for the speaker.\nOur ability to offer empathy can allow us to stay vulnerable, defuse potential violence, hear the word no without taking it as a rejection, revive a lifeless conversation, and even hear the feelings and needs expressed through silence.\nMourning in NVC The process of fully connecting with the unmet needs and the feelings that are generated when we have been less than perfect\nExperience of regret, but regret that helps us learn from what we have done without blaming or hating ourselves.\nMoralistic judgments we use when blaming ourselves tend to obscure such possibilities and to perpetuate a state of self-punishment.\nSelf-Forgiveness When I behaved in the way which I now regret, what need of mine was I trying to meet?\nDon’t Do Anything That Isn’t Play!\nAn important form of self-compassion is to make choices motivated purely by our desire to contribute to life rather than out of fear, guilt, shame, duty, or obligation.\nTranslating “Have to” to “Choose to”\nStep 1 List any activity you dread but do anyway because you perceive yourself to have no choice.\nStep 2 Acknowledge to yourself that you are doing these things because you choose to do them, not because you have to. Insert the words “I choose to … “ in front of each item you listed.\nStep 3 After having acknowledged that you choose to do a particular activity, get in touch with the intention behind your choice by completing the statement, I choose to … because I want ….\nWhen we do things solely in the spirit of enhancing life, we will find others appreciating us. Their appreciation, however, is only a feedback mechanism confirming that our efforts had the intended effect. The recognition that we have chosen to use our power to serve life and have done so successfully brings us the genuine joy of celebrating ourselves in a way that approval from others can never offer.\nWhen we speak a language that denies choice, we forfeit the life in ourselves for a robotlike mentality that disconnects us from our own core.\nAnger We are never angry because of what others say or do.\nAnger is a result of life-alienating thinking that is disconnected from needs. It indicates that we have moved up to our head to analyze and judge somebody rather than focus on which of our needs are not getting met.\nAnger can be valuable if we use it as an alarm clock to wake us up—to realize we have a need that isn’t being met and that we are thinking in a way that makes it unlikely to be met\nAll violence is the result of people tricking themselves, as did this young man, into believing that their pain derives from other people and that consequently those people deserve to be punished.\nWhy would people want to tell the truth, knowing they will be judged and punished for doing so?\nThe more people hear blame and judgment, the more defensive and aggressive they become and the less they will care about our needs in the future\nFour Steps to Expressing Anger:\nStop and do nothing except to breathe. Identify the thoughts that are making us angry. Connect to the needs behind those thoughts Open our mouth and speak the anger—but the anger has been transformed into needs and need-connected feelings. The more we empathize with what leads them to behave in the ways that are not meeting our needs, the more likely it is that they will be able to reciprocate afterwards.\nExercise: List the judgments that float most frequently in your head by using the cue, “I don’t like people who are … ” Collect all such negative judgments in your head and then ask yourself, “When I make that judgment of a person, what am I needing and not getting?”\nConflict Resolution and Mediation Creating a connection between the people who are in conflict is the most important thing.\nIt’s not until you have forged that connection that each side will seek to know exactly what the other side is feeling and needing. The parties also need to know from the start that the objective is not to get the other side to do what they want them to do. And once the two sides understand that, it becomes possible—sometimes even easy—to have a conversation about how to meet their needs.\nUse the word satisfaction instead of compromise!\nOur objective is to meet everyone’s needs fully.\nIf we had a clear statement of each person’s needs—what those parties need right now from each other—we will then discover what can be done to get everybody’s needs met.\nConflict Resolution Steps:\nExpress our own needs. Search for the real needs of the other person. Verify that we both accurately recognize the other person’s needs. Provide as much empathy as is required for us to mutually hear each other’s needs accurately. Propose strategies for resolving the conflict, framing them in positive action language. Needs contain no reference to anybody taking any particular action.\nStrategies, which may appear in the form of requests, desires, wants, and “solutions,” refer to specific actions that specific people may take.\nInstead of expressing needs, they were doing analysis, which is easily heard as criticism by a listener.\nWhen we reflect back incorrect guesses to others, it may help them get in touch with their true needs.\nHave the Needs Been Heard?\nWhen people are upset, they often need empathy before they can hear what is being said to them\nUsing Present and Positive Action Language to Resolve Conflict.\nAvoid moving hastily into strategies, as this may result in a compromise that lacks the deep quality of authentic resolution that is possible.\nIt is the presentation of strategies in clear, present, positive action language that moves conflicts toward resolution.\nPresent language statement refers to what is wanted at this moment.\n“Would you be willing to …”\nIn the absence of present language, a request such as “I’d like you to go to the show with me Saturday night” fails to convey what’s being asked of the listener at that moment.\n“Would you be willing to tell me whether you will go to the show with me Saturday night?,”\nSupports clarity and ongoing connection in the exchange. We can further clarify the request by indicating what we may want from the other person in the present moment, “Would you be willing to tell me how you feel about going to the show with me Saturday night?”\nUsing Action Verbs Focus on what we do want rather than what we do not want. Talking about what one doesn’t want can easily create confusion and resistance among conflicting parties.\nIt’s not unusual, if someone tells us they’d like us to listen when they are talking, for us to hear accusations and thus feel some resentment.\nA situation that is typical in conflicts when parties use vague words like “listen” to express strategies.\nUse of action verbs to capture something that we can see or hear happening—something that can be recorded with a video camera. “Listening” occurs inside a person’s head; another person cannot see whether it is happening or not. One way to determine that someone is actually listening is to have that person reflect back what had been said: we ask the person to take an action that we ourselves can see or hear. If the other party can tell us what was just said, we know that person heard and was indeed listening to us.\nMaintaining respect is a key element in successful conflict resolution.\nWhen they say “no,” they’re saying they have a need that keeps them from saying “yes” to what we are asking.\nKeep the Conversation in the Present\nIt is likely that we will hear a lot of discussion about what happened in the past and what people want to happen differently in the future. However, conflict resolution can only happen right now, so now is where we need to focus.\nUse role-play to speed up the mediation process.\nSometimes mediations get heated, with people shouting at or talking over one another. To keep the process on track under such circumstances, we need to get comfortable with interrupting.\nThe purpose of interrupting is to restore the process.\nWhen we witness behaviors that raise concern in us First thing we do is to empathize with the needs of the person who is behaving in the way we dislike.\nThe Protective Use of Force NVC requires us to differentiate between the protective and the punitive uses of force.\nThe intention behind the protective use of force is to prevent injury or injustice. The intention behind the punitive use of force is to cause individuals to suffer for their perceived misdeeds.\nPeople behave in ways injurious to themselves and others due to some form of ignorance. The corrective process is therefore one of education, not punishment.\nIgnorance includes: (1) a lack of awareness of the consequences of our actions. (2) an inability to see how our needs may be met without injury to others. (3) the belief that we have the right to punish or hurt others because they “deserve” it. (4) delusional thinking that involves, for example, hearing a voice that instructs us to kill someone.\nPunitive action, on the other hand, is based on the assumption that people commit offenses because they are bad or evil, and to correct the situation, they need to be made to repent. Their “correction” is undertaken through punitive action designed to make them: (1) suffer enough to see the error of their ways (2) repent (3) change\nIn practice, however, punitive action, rather than evoking repentance and learning, is just as likely to generate resentment and hostility and to reinforce resistance to the very behavior we are seeking.\nChildren’s fear of corporal punishment may obscure their awareness of the compassion that underlies parental demands.\nOther uses of force also qualify as punishment. One is the use of blame to discredit another person; for example, a parent may label a child as “wrong,” “selfish,” or “immature” when a child doesn’t behave in a certain way. Another form of punitive force is the withholding of some means of gratification, such as parents’ curtailing allowances or driving privileges. In this vein, the withdrawal of caring or respect is one of the most powerful threats of all.\nWhen we submit to doing something solely for the purpose of avoiding punishment, our attention is distracted from the value of the action itself.\nThe job gets done, but morale suffers.\nSooner or later, productivity will decrease.\nPunishment is costly in terms of goodwill. The more we are seen as agents of punishment, the harder it is for others to respond compassionately to our needs.\nTwo Questions That Reveal the Limitations of Punishment What do I want this person to do that’s different from what he or she is currently doing? What do I want this person’s reasons to be for doing what I’m asking?\nPunishment and reward interfere with people’s ability to do things motivated by the reasons we’d like them to have.\nNVC, however, fosters a level of moral development based on autonomy and interdependence, whereby we acknowledge responsibility for our own actions and are aware that our own well-being and that of others are one and the same.\nFreeing Ourselves From Old Programming Pain engendered by damaging cultural conditioning is such an integral part of our lives that we can no longer distinguish its presence.\nResolving Internal Conflicts\nErnest Becker attributes depression to “cognitively arrested alternatives.”\nWhen we have a judgmental dialogue going on within, we become alienated from what we are needing and cannot then act to meet those needs. Depression is indicative of a state of alienation from our own needs.\nExpressing Appreciation in Nonviolent Communication When we use NVC to express appreciation, it is purely to celebrate, not to get something in return.\nThree Components of Appreciation:\nActions that have contributed to our well-being Particular needs of ours that have been fulfilled Pleasureful feelings engendered by the fulfillment of those needs Saying “thank you” in NVC: “This is what you did; this is what I feel; this is the need of mine that was met.”\nReceive appreciation without feelings of superiority or false humility.\n“Our deepest fear is not that we are inadequate. Our deepest fear is that we are powerful beyond measure.” - Marianne Williamson\nBe more aware of what others around me are doing that enriches my life, and to hone my skills in expressing this appreciation.\nSome Basic Needs We All Have Autonomy\nChoosing dreams/goals/values Choosing plans for fulfilling one’s dreams, goals, values Celebration\nCelebrating the creation of life and dreams fulfilled Celebrating losses: loved ones, dreams, etc. (mourning) Integrity\nAuthenticity Creativity Meaning Self-worth Interdependence\nAcceptance Appreciation Closeness Community Consideration Contribution to the enrichment of life Emotional Safety Empathy Honesty (the empowering honesty that enables us to learn from our limitations) Love Reassurance Respect Support Trust Understanding Physical Nurturance\nAir Food Movement, exercise Protection from life-threatening forms of life: viruses, bacteria, insects, predatory animals Rest Sexual Expression Shelter Touch Water Play Fun Laughter Spiritual Communion\nBeauty Harmony Inspiration Order Peace Books mentioned: How to Make Yourself Miserable, Dan Greenburg The Color Purple, Alice Walker Building a Peace System, Robert Irwin The Revolution in Psychiatry, Ernest Becker The Secret of Staying in Love, John Powell",
    "description": "Easy concepts to grasp, challenging to apply to the real world. This is how we communicate with other people. I have been trying some of the methods and mindset while I was reading this book. Sometimes the strategies of using empathy and getting to know the needs behind words and behaviors have helped resolve tensions but other times it falls flat on it’s face due to me being very mechanistic about the whole thing. This is going to need a re-read at some point.",
    "tags": [],
    "title": "Nonviolent Communication (8/10)",
    "uri": "/booknotes/nonviolent-communication/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Storage",
    "content": "Partition Information (MBR and GPT) Partition information is stored on the disk in a small region. Read by the operating system at boot time. Master Boot Record (MBR) on the BIOS-based systems GUID Partition Table (GPT) on the UEFI-based systems. At system boot, the BIOS/UEFI: scans all storage devices, detects the presence of MBR/GPT areas, identifies the boot disks, loads the bootloader program in memory from the default boot disk, executes the boot code to read the partition table and identify the /boot partition, loads the kernel in memory, and passes control over to it. MBR and GPT store disk partition information and the boot code. Master Boot Record (MBR) Resides on the first sector of the boot disk.\nwas the preferred choice for saving partition table information on x86-based computers.\nwith the arrival of bigger and larger hard drives, a new firmware specification (UEFI) was introduced.\nstill widely used, but its use is diminishing in favor of UEFI.\nallows the creation of three types of partition on a single disk.\nprimary, extended, and logical\nonly primary and logical can be used for data storage\nextended is a mere enclosure for holding the logical partitions and it is not meant for data storage.\nsupports the creation of up to four primary partitions numbered 1 through 4 at a time.\nIn case additional partitions are required, one of the primary partitions must be deleted and replaced with an extended partition to be able to add logical partitions (up to 11) within that extended partition.\nNumbering for logical partitions begins at 5.\nsupports a maximum of 14 usable partitions (3 primary and 11 logical) on a single disk.\nCannot address storage space beyond 2TB due to its 32-bit nature and its 512-byte disk sector size.\nnon-redundant; the record it contains is not replicated, resulting in an unbootable system in the event of corruption.\nIf your disk is smaller than 2TB and you don’t intend to build more than 14 usable partitions, you can use MBR without issues.\nGUID Partition Table (GPT) ability to construct up to 128 partitions (no concept of extended or logical partitions) utilize disks larger than 2TB use 4KB sector size store a copy of the partition information before the end of the disk for redundancy allows a BIOS-based system to boot from a GPT disk using the bootloader program stored in a protective MBR at the first disk sector UEFI firmware also supports the secure boot feature, which only allows signed binaries to boot MBR Storage Management with parted parted (partition editor)\ncan be used to partition disks run interactively or directly from the command prompt. understands and supports both MBR and GPT schemes can be used to create up to 128 partitions on a single GPT disk viewing, labeling, adding, naming, and deleting partitions. print Displays the partition table that includes disk geometry and partition number, start and end, size, type, file system type, and relevant flags.\nmklabel Applies a label to the disk. Common labels are gpt and msdos.\nmkpart Makes a new partition\nname Assigns a name to a partition\nrm Removes the specified partition\nuse the print subcommand to ensure you created what you wanted. /proc/partitions file is also updated to reflect the results of partition management operations. Lab: Create an MBR Partition (server2) Assign partition type “msdos” to /dev/sdb for using it as an MBR disk create and confirm a 100MB primary partition on the disk. 1. Execute parted on /dev/sdb to view the current partition information:\n[root@server2 ~]# sudo parted /dev/sdb print Error: /dev/sdb: unrecognised disk label Model: ATA VBOX HARDDISK (scsi) Disk /dev/sdb: 262MB Sector size (logical/physical): 512B/512B Partition Table: unknown Disk Flags: There is an error on line 1 of the output, indicating an unrecognized label. disk must be labeled before it can be partitioned.\n2. Assign disk label “msdos” to the disk with mklabel. This operation is performed only once on a disk.\n[root@server2 ~]# sudo parted /dev/sdb mklabel msdos Information: You may need to update /etc/fstab. [root@server2 ~]# sudo parted /dev/sdb print Model: ATA VBOX HARDDISK (scsi) Disk /dev/sdb: 262MB Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags To use the GPT partition table type, run “sudo parted /dev/sdb mklabel gpt” instead.\n3. Create a 100MB primary partition starting at 1MB (beginning of the disk) using mkpart:\n[root@server2 ~]# sudo parted /dev/sdb mkpart primary 1 101m Information: You may need to update /etc/fstab. 4. Verify the new partition with print:\n[root@server2 ~]# sudo parted /dev/sdb print Model: ATA VBOX HARDDISK (scsi) Disk /dev/sdb: 262MB Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 1 1049kB 101MB 99.6MB primary Partition numbering begins at 1 by default.\n5. Confirm the new partition with the lsblk command:\n[root@server2 ~]# lsblk /dev/sdb NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sdb 8:16 0 250M 0 disk └─sdb1 8:17 0 95M 0 part The device file for the first partition on the sdb disk is sdb1 as identified on the bottom line. The partition size is 95MB.\nDifferent tools will have variance in reporting partition sizes. ignore minor differences.\n6. Check the /proc/partitions file also:\n[root@server2 ~]# cat /proc/partitions | grep sdb 8 16 256000 sdb 8 17 97280 sdb1 Exercise 13-3: Delete an MBR Partition (server2) delete the sdb1 partition that was created in Exercise 13-2 confirm the deletion.\n1. Execute parted on /dev/sdb with the rm subcommand to remove partition number 1:\n[root@server2 ~]# sudo parted /dev/sdb rm 1 Information: You may need to update /etc/fstab. 2. Confirm the partition deletion with print:\n[root@server2 ~]# sudo parted /dev/sdb print Model: ATA VBOX HARDDISK (scsi) Disk /dev/sdb: 262MB Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 3. Check the /proc/partitions file:\n[root@server2 ~]# cat /proc/partitions | grep sdb 8 16 256000 sdb can also run the lsblk command for further verification. T\nEXAM TIP: Knowing either parted or gdisk for the exam is enough.\nGPT Storage Management with gdisk gdisk (GPT disk) Command partitions disks using the GPT format.\ntext-based, menu-driven program\nshow, add, verify, modify, and delete partitions\ncan create up to 128 partitions on a single disk on systems with UEFI firmware.\nMain interface of gdisk can be invoked by specifying a disk device name such as /dev/sdc with the command. Type help or ? (question mark) at the prompt to view available subcommands.\n[root@server2 ~]# sudo gdisk /dev/sdc GPT fdisk (gdisk) version 1.0.7 Partition table scan: MBR: not present BSD: not present APM: not present GPT: not present Creating new GPT entries in memory. Command (? for help): ? b\tback up GPT data to a file c\tchange a partition's name d\tdelete a partition i\tshow detailed information on a partition l\tlist known partition types n\tadd a new partition o\tcreate a new empty GUID partition table (GPT) p\tprint the partition table q\tquit without saving changes r\trecovery and transformation options (experts only) s\tsort partitions t\tchange a partition's type code v\tverify disk w\twrite table to disk and exit x\textra functionality (experts only) ?\tprint this menu Command (? for help): Exercise 13-4: Create a GPT Partition (server2) Assign partition type “gpt” to /dev/sdc for using it as a GPT disk. create and confirm a 200MB partition on the disk. 1. Execute gdisk on /dev/sdc to view the current partition information:\n[root@server2 ~]# sudo gdisk /dev/sdc GPT fdisk (gdisk) version 1.0.7 Partition table scan: MBR: not present BSD: not present APM: not present GPT: not present Creating new GPT entries in memory. Command (? for help): The disk currently does not have any partition table on it.\n2. Assign “gpt” as the partition table type to the disk using the o subcommand. Enter “y” for confirmation to proceed. This operation is performed only once on a disk.\nCommand (? for help): o This option deletes all partitions and creates a new protective MBR. Proceed? (Y/N): y 3. Run the p subcommand to view disk information and confirm the GUID partition table creation:\nCommand (? for help): p Disk /dev/sdc: 512000 sectors, 250.0 MiB Model: VBOX HARDDISK Sector size (logical/physical): 512/512 bytes Disk identifier (GUID): 9446222A-28AC-4F96-816F-518510F95019 Partition table holds up to 128 entries Main partition table begins at sector 2 and ends at sector 33 First usable sector is 34, last usable sector is 511966 Partitions will be aligned on 2048-sector boundaries Total free space is 511933 sectors (250.0 MiB) Number Start (sector) End (sector) Size Code Name The output returns the assigned GUID and states that the partition table can hold up to 128 partition entries.\n4. Create the first partition of size 200MB starting at the default sector with default type “Linux filesystem” using the n subcommand:\nCommand (? for help): n Partition number (1-128, default 1): First sector (34-511966, default = 2048) or {+-}size{KMGTP}: Last sector (2048-511966, default = 511966) or {+-}size{KMGTP}: +200M Current type is 8300 (Linux filesystem) Hex code or GUID (L to show codes, Enter = 8300): Changed type of partition to 'Linux filesystem' 5. Verify the new partition with p:\nCommand (? for help): p Disk /dev/sdc: 512000 sectors, 250.0 MiB Model: VBOX HARDDISK Sector size (logical/physical): 512/512 bytes Disk identifier (GUID): 9446222A-28AC-4F96-816F-518510F95019 Partition table holds up to 128 entries Main partition table begins at sector 2 and ends at sector 33 First usable sector is 34, last usable sector is 511966 Partitions will be aligned on 2048-sector boundaries Total free space is 102333 sectors (50.0 MiB) Number Start (sector) End (sector) Size Code Name 1 2048 411647 200.0 MiB 8300 Linux filesystem 6. Run w to write the partition information to the partition table and exit out of the interface. Enter “y” to confirm when prompted.\nCommand (? for help): w Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING PARTITIONS!! Do you want to proceed? (Y/N): y OK; writing new GUID partition table (GPT) to /dev/sdc. The operation has completed successfully. You may need to run the partprobe command after exiting the gdisk utility to inform the kernel of partition table changes.\n7. Verify the new partition by issuing either of the following at the command prompt:\n[root@server2 ~]# grep sdc /proc/partitions 8 32 256000 sdc 8 33 204800 sdc1 [root@server2 ~]# lsblk /dev/sdc NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sdc 8:32 0 250M 0 disk └─sdc1 8:33 0 200M 0 part Exercise 13-5: Delete a GPT Partition(server2) Delete the sdc1 partition that was created in Exercise 13-4 and confirm the removal. 1. Execute gdisk on /dev/sdc and run d1 at the utility’s prompt to delete partition number 1:\n[root@server2 ~]# gdisk /dev/sdc GPT fdisk (gdisk) version 1.0.7 Partition table scan: MBR: protective BSD: not present APM: not present GPT: present Found valid GPT with protective MBR; using GPT. Command (? for help): d1 Using 1 2. Confirm the partition deletion with p:\nCommand (? for help): p Disk /dev/sdc: 512000 sectors, 250.0 MiB Model: VBOX HARDDISK Sector size (logical/physical): 512/512 bytes Disk identifier (GUID): 9446222A-28AC-4F96-816F-518510F95019 Partition table holds up to 128 entries Main partition table begins at sector 2 and ends at sector 33 First usable sector is 34, last usable sector is 511966 Partitions will be aligned on 2048-sector boundaries Total free space is 511933 sectors (250.0 MiB) Number Start (sector) End (sector) Size Code Name 3. Write the updated partition information to the disk with w and quit gdisk:\nCommand (? for help): w Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING PARTITIONS!! Do you want to proceed? (Y/N): y OK; writing new GUID partition table (GPT) to /dev/sdc. The operation has completed successfully. 4. Verify the partition deletion by issuing either of the following at the command prompt:\n[root@server2 ~]# grep sdc /proc/partitions 8 32 256000 sdc [root@server2 ~]# lsblk /dev/sdc NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sdc 8:32 0 250M 0 disk Disk Partitions Be careful when adding a new partition to elude data corruption with overlapping an extant partition or wasting storage by leaving unused space between adjacent partitions. Disk allocated at the time of installation is recognized as sda (s for SATA, SAS, or SCSI device) disk a, first partition identified as sda1 and the second partition as sda2. Any subsequent disks added to the system will be known as sdb, sdc, sdd, and so on, and will use 1, 2, 3, etc. for partition numbering. Use lsblk to list disk and partition information.\n[root@server1 ~]# lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sda 8:0 0 10G 0 disk ├─sda1 8:1 0 1G 0 part /boot └─sda2 8:2 0 9G 0 part ├─rhel-root 253:0 0 8G 0 lvm / └─rhel-swap 253:1 0 1G 0 lvm [SWAP] sr0 11:0 1 9.8G 0 rom /mnt sr0 represents the ISO image mounted as an optical medium:\n[root@server1 ~]# sudo fdisk -l Disk /dev/sda: 10 GiB, 10737418240 bytes, 20971520 sectors Disk model: VBOX HARDDISK Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disklabel type: dos Disk identifier: 0xfc8b3804 Device Boot Start End Sectors Size Id Type /dev/sda1 * 2048 2099199 2097152 1G 83 Linux /dev/sda2 2099200 20971519 18872320 9G 8e Linux LVM Disk /dev/mapper/rhel-root: 8 GiB, 8585740288 bytes, 16769024 sectors Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk /dev/mapper/rhel-swap: 1 GiB, 1073741824 bytes, 2097152 sectors Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes identifiers 83 and 8e are hexadecimal values for the partition types\nStorage Management Tools parted, gdisk, and LVM Partitions created with a combination of most of these tools and toolsets can coexist on the same disk.\nparted understands both MBR and GPT formats.\ngdisk\nsupport the GPT format only may be used as a replacement of parted. LVM\nfeature-rich logical volume management solution that gives flexibility in storage management.",
    "description": "Partitions and their management.",
    "tags": [],
    "title": "Partitioning, MBR, and GPT",
    "uri": "/storage/partitioning-mbr-and-gpt/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "Processes and Priorities Process\na unit for provisioning system resources. any program, application, or command that runs on the system. created in memory when a program, application, or command is initiated. organized in a hierarchical fashion. Each process has a parent process (a.k.a. a calling process) that spawns it. A single parent process may have one or many child processes passes many of its attributes to them at the time of their creation. Each process is assigned an exclusive identification number (Process IDentifier (PID)) is used by the kernel to manage and control the process through its lifecycle. When a process completes its lifespan or is terminated, this event is reported back to its parent process, and all the resources provisioned to it (cpu cycles, memory, etc.) are then freed and the PID is removed from the system. background system processes are called daemons which sit in the memory and wait for an event to trigger a request to use their services. /proc Where information for each running process is recorded and maintained. Referenced by ps and other commands Process States Five basic process states: running being executed by the system CPU. sleeping waiting for input from a user or another process. waiting has received the input it was waiting for and is now ready to run as soon as its turn comes. stopped currently halted and will not run even when its turn comes unless a signal is sent to change its behavior. zombie Dead. Exists in the process table alongside other process entries takes up no resources. entry is retained until its parent process permits it to die also called a defunct process. ps command Lists processes specific to the terminal where this command is issued. Shows: PID terminal (TTY) the process spawned in cumulative time (TIME) the system CPU has given to the process name of the command or program (CMD) being executed. may be customized to view only desired columns can use ps to list a process by it’s ownership or owning group. Output with -ef UID UID of process owner PID Process ID PPID Parent Process ID C CPU utilization STIME Start time TTY Controlling terminal ? daemon process console system console TIME Aggregated execution time CMD command or program name Flags -e every -f full format -F Extra full format -l long format -efl Detailed process report –forest tree like hierarchy -x include daemon processes -o user-defined format Make sure there are no white spaces between comma separated values. -C command list list processes that match a specific command name. -U or -u List user supplied as argument. -G or -g List processes owned by a specific group top command Display processes in real time q or ctrl+c to quit Hotkeys while in top o re-sequence the process list. f add or remove fields F select the field to sort on h help summary portion First 5 lines 1 system uptime, number of users logged in, and system load averages over the period of 1, 5, and 15 minutes. 2 task (or process) information total number of tasks running How many of the total are running, sleeping, stopped, and zombie 3 processor usage CPU time in percentage spent in running user and system processes, in idling and waiting, and so on. 4 memory utilization total, free, used, and allocated for buffering and caching 5 swap useage total, free, and in use avail Mem estimate of memory available for starting processes without using swap. tasks portion details for each process 12 columns 1 and 2 Process identifier (PID) and owner (USER) 3 and 4 Process priority (PR) and nice value (NI) 5 and 6 Depict amounts of virtual memory (VIRT) and non-swapped resident memory (RES) in use 7 Shows the amount of shareable memory available to the process (SHR) 8 Represents the process status (S) 9 and 10 Express the CPU (%CPU) and memory (%MEM) utilization 11 Exhibits the CPU time in hundredths of a second (TIME+) 12 Identifies the process name (COMMAND) Listing a Specific Process pidof and pgrep command List only the PID of a specific process pass a process name as an argument to view its PID identical if used without any options Listing Processes by User and Group Ownership can use ps to list a process by it’s ownership or owning group. Process Niceness and Priority A process is spawned at a certain priority, priority is established based on the nice value. Higher niceness lowers execution priority of a process Lower niceness increase priority. Child process inherits nice value of it’s calling process. Can choose a nicenes based on urgency, importance, or system load. Normal users can only increase niceness of their processes. Root can raise or lower niceness of any process. 40 nice values -20 highest and most favorable +19 lowest and least favorable 0 default Showing nice and priority with ps niceness of 0 corresponds to priority of 80 -20 corresponds to priority of 60 Showing nice and priority with top. niceness of 0 corresponds to priority of 20 -20 corresponds to priority of 0 nice command Launch a program at a non-default priority. renice command Alter the priority of a running program Controlling Processes with Signals terminating the process gracefully killing it abruptly forcing it to re-read its configuration. Ordinary users can kill processes that they own, while the root user privilege is needed to kill any process on the system. Processes in a waiting state ignore the soft termination signal. kill command Pass a signal to a process Requires one or more PIDs Flags\n-l view a list of signals Common signals - 1 SIGHUP (hangup) - causes a process to disconnect itself from a closed terminal that it was tied to - instruct a running daemon to re-read its configuration without a restart. - 2 SIGINT - ^c (Ctrl+c) signal issued on the controlling terminal to interrupt the execution of a process. - 9 SIGKILL - Terminates a process abruptly - 15 SIGTERM (default) - Soft termination signal to stop a process in an orderly fashion. - Default signal if none is specified with the command. - 18 SIGCONT - Same as using the bg command to resume - 19 SIGSTOP - Same as using Ctrl+z to suspend a job - 20 SIGTSTP - Same as using the fg command\npkill command pass a signal to a process requires one or more process names to send a signal to. Job Scheduling Run a command at a specified time. One time or periodic. One time command can be used to run a command at a time with low system usage. Periodic examples: creating a compressed archive trimming log files monitoring the system running a custom script removing unwanted files from the system. atd and crond manage jobs atd Run one time jobs. atd daemon retries a missed job at the same time next day. Does not need a restart with changes crond Run periodic scheduled jobs. Daemon reads the schedules in files located in the /var/spool/cron and /etc/cron.d directories. scans these files in short intervals updates the in-memory schedules to reflect any modifications. runs a job at its scheduled time only does not entertain any missed jobs. Does not need a restart with changes Controlling user access all users can schedule jobs access to job scheduling can be edited must add users to allowed or deny file in /etc /etc/at.allow \u0026 /etc/cron.allow Does not exist by default. /etc/at.deny \u0026 /etc/cron.deny Exists by default list one username per line root user is always permitted Denial message appears if unauthorized user attempts to use at or cron. Only if there is an entry for the calling user in the deny files. at.allow / cron.allow at.deny / cron.deny Impact Exists, and contains user entries Existence does not matter All users listed in allow files are permitted Exists, but is empty Existence does not matter No users are permitted Does not exist Exists, and contains user entries All users, other than those listed in deny files, are permitted Does not exist Exists, but is empty All users are permitted Does not exist Does not exist No users are permitted Scheduler Log File /var/log/cron - Logs for both atd and cron Shows - time of activity - hostname - process name and PID - owner - message for each invocation - service start time and delays - must have root privileges to view\nat command schedule a one-time execution of a program in the future. Submitted jobs are spooled in the /var/spool/at/ and executed by the atd daemon at the specified time. file created containing the settings for establishing the user’s shell environment to ensure a successful execution. also includes the name of the command or program to be run. no need to restart the daemon after a job submission. assumes the current year and today’s date if the year and date are not mentioned. ways to express time: at 1:15am (executes the task at the next 1:15 a.m.) at noon (executes the task at 12:00 p.m.) at 23:45 (executes the task at 11:45 p.m.) at midnight (executes the task at 12:00 a.m.) at 17:05 tomorrow (executes the task at 5:05 p.m. on the next day) at now + 5 hours (executes the task 5 hours from now. We can specify minutes, days, or weeks in place of hours) at 3:00 10/15/20 (executes the task at 3:00 a.m. on October 15, 2020) Flags -f supply a filename Crontab crontab command other method for scheduling tasks for running in the future. Unlike atd, crond executes cron jobs on a regular basis as defined in the /etc/crontab file. Crontables (another name for crontab files) are located in the /var/spool/cron directory. Each authorized user with a scheduled job has a file matching their login name in this directory. such as /var/spool/cron/user1 /etc/crontab/ \u0026 /etc/cron.d/ Other locations for system crontables. Only root can create, modify, or delete them. crond daemon scans entries in all 3 directories. adds log entry to /var/log/cronfile no need to start after modifying cron jobs. flags -e edit crontables -l list crontables -r remove crontables. Do not run crontab -r if you do not wish to remove the crontab file. Instead, edit the file with crontab -e and just erase the entry. -u modify a different user’s crontable provided they are allowed to do so and the other user is listed in the cron.allow file. root user can use the -u flag to alter other users’ crontables even if the affected users are not listed in the allow file. Syntax of User Crontables /etc/crontab Specifies the syntax that each user cron job must comply with in order for crond to interpret and execute it successfully. Each entry for a user crontable has 6 lines 1-5 schedule 6 login name of executing user rest for command or program to be executed. example crontable line 20 1,12 1-15 feb * ls\u003e /tmp/ls.out Field Content Description 1 Minute of the hour Valid values are 0 (the exact hour) to 59. This field can have one specific value as in field 1, multiple comma-separated values as in field 2, a range of values as in field 3, a mix of fields 2 and 3 (1-5,6-19), or an * representing every minute of the hour as in field 5. 2 Hour of the day Valid values are 0 (midnight) to 23. Same usage applies as described for field 1. 3 Day of the month Valid values are 1 to 31. Same usage applies as described for field 1. 4 Month of the year Valid values are 1 to 12 or jan to dec. Same usage applies as described for field 1. 5 Day of the week Valid values are 0 to 7 or sun to sat, with 0 and 7 representing Sunday, 1 representing Monday, and so on. Same usage applies as described for field 1. 6 Command or program to execute Specifies the full path name of the command or program to be executed, along with any options or arguments that it requires. /etc/crontab contents: Step values may be used with * and ranges in the crontables using the forward slash character (/). Step values allow the number of skips for a given value. Example: /2 in the minute field every second minute /3 in the minute field every third minute, 0-59/4 in the minute field every 4th minute Make sure you understand and memorize the order of the fields defined in crontables.\nAnacron service that runs after every system reboot checks for any cron and at jobs that were scheduled for execution during the time the system was down and were missed as a result. useful on laptop, desktop, and similar purpose systems with extended periods of frequent downtimes and are not intended for 24/7 operations. Scans the /etc/cron.hourly/0anacron file for three factors to learn whether to run missed jobs. May be run manually at the command line. Run anacron to run all jobs in /etc/anacrontab that were missed. /var/spool/anacron Where anacron stores job execution dates 3 factors must be true for anacron to execute scripts in /etc/cron.daily, /etc/cron.weekly, and /etc/cron.monthly Presence of the /var/spool/anacron/cron.daily file. Elapsed time of 24 hours since it was last run. System is plugged in to an AC source. settings defined in /etc/anacrontab 5 variables defined by default: SHELL and PATH Set the shell and path to be used for executing the programs. MAILTO Defines the login name or an email of the user who is to be sent any output and error messages. RANDOM_DELAY Expresses the maximum arbitrary delay in minutes added to the base delay of the jobs as defined in column 2 of the last three lines. START_HOURS_RANGE States the hour duration within which the missed jobs could be run. Bottom 3 lines define the schedule and the programs to be executed: Column 1: Period in days (or @daily, @weekly, @monthly, or @yearly) How often to run the specified job. Column 2: How many minutes to wait after system boot to execute the job. Column 3: Unique job identifier Columns 4 to 6: Command to be used to execute the scripts located under the /etc/cron.daily, /etc/cron.weekly, and /etc/cron.monthly directories. By default, the run-parts command is invoked for execution at the default niceness. For each job: Examines whether the job was already run during the specified period (column 1). Executes it after waiting for the number of minutes (column 2) plus the RANDOM_DELAY value if it wasn’t. When all missed jobs have been carried out and there is none pending, Anacron exits. Process and Task Scheduling Labs Lab: ps ps ps Check manual pages: man ps Run with “every” and “full format” flags: ps -ef Produce an output with the command name in column 1, PID in column 2, PPID in column 3, and owner name in column 4, run it as follows: ps -o comm,pid,ppid,user Check how many sshd processes are currently running on the system: ps -C sshd Lab: top top top View manual page: man top Lab: List a specific process list the PID of the rsyslogd daemon pidof rsyslogd or pgrep rsyslogd Lab: Listing Processes by User and Group Ownership List processes owned by user1: ps -U user1 List processes owned by group root: ps -G root Lab: nice View the default nice value: nice List priority and niceness for all processes: ps -efl Lab: Start Processes at Non-Default Priorities (2 terminals) Run the top command at the default priority/niceness in Terminal 1: top Check the priority and niceness for the top command in Terminal 2 using the ps command: ps -efl | grep top Terminate the top session in Terminal 1 by pressing the letter q and relaunch it at a lower priority with a nice value of +2: nice -n 2 top \\Check the priority and niceness for the top command in Terminal 2 using the ps command: ps -efl | grep top Terminate the top session in Terminal 1 by pressing the letter q and relaunch it at a higher priority with a nice value of -10. Use sudo for root privileges. sudo nice -n -10 top Check the priority and niceness for the top command in Terminal 2 using the ps command: ps -efl | grep top Terminate the top session by pressing the letter q. Lab: Alter Process Priorities (2 terminals) Run the top command at the default priority/niceness in Terminal 1: top Check the priority and niceness for the top command in Terminal 2 using the ps command: ps -efl | grep top While the top session is running in Terminal 1, increase its priority by renicing it to -5. Use the command substitution to get the PID of top. Prepend the renice command by sudo. The output indicates the old (0) and new (-5) priorities for the process. sudo renice -n -5 $(pidof top) Validate the above change with ps. Focus on columns 7 and 8. ps -efl | grep top Repeat the above but set the process to run at a lower priority by renicing it to 8: The output indicates the old (-5) and new (8) priorities for the process. sudo renice -n 8 $(pidof top) Validate the above change with ps. Focus on columns 7 and 8. ps -efl | grep top Lab: Controlling Processes with Signals Pass the soft termination signal to the crond daemon, use either of the following: sudo pkill crond # or sudo kill $(pidof crond) Confirm: ps -ef | grep crond Forcefully kill crond: sudo pkill -9 crond # or sudo pkill -s SIGKILL crond # or sudo kill -9 $(pgrep crond) Kill all crond processes: sudo killall crond View manual pages: man kill man pkill man killall Lab: cron and atd View log files for cron and atd sudo cat /var/log/cron Lab: at and crond run /home/user1/.bash_profile file for user1 2 hours from now: at -f ~/.bash_profile now + 2 hours Consult crontab manual pages: man crontab Lab: Submit, View, List, and Erase an at Job 1.Run the at command and specify the correct execution time and date for the job. Type the entire command at the first at\u003e prompt and press Enter. Press Ctrl+d at the second at\u003e prompt to complete the job submission and return to the shell prompt.\nat 1:30pm 3/31/20 date \u0026\u003e /tmp/date.out The system assigned job ID 5 to it, and the output also pinpoints the job’s execution time.\n2.List the job file created in the /var/spool/at directory:\nsudo ls -l /var/spool/at/ 3.List the spooled job with the at command. You may alternatively use atq to list it.\nat -l # or atq 4.Display the contents of this file with the at command and specify the job ID:\nat -c 5 5.Remove the spooled job with the at command by specifying its job ID. You may alternatively run atrm 5 to delete it.\nat -d 5 This should erase the job file from the /var/spool/at directory. You can\nconfirm the deletion by running atq or at -l. atq Lab: Add, List, and Erase a Cron Job assume that all users are currently denied access to cron\nEdit the /etc/cron.allow file and add user1 to it: sudo vim /etc/cron.allow user1 Switch to user1 Open the crontable and append the following schedule to it. Save the file when done and exit out of the editor. crontab -e */5 10-11 5,20 * * echo \"Hello, this is a cron test.\" \u003e /tmp/hello.out Check for the presence of a new file by the name user1 under the /var/spool/cron directory: sudo ls -l /var/spool/cron List the contents of the crontable: crontab -l Remove the crontable and confirm the deletion: crontab -r crontab -l Lab: Anacron View the default content of /etc/anacrontab without commented or empty lines: cat /etc/anacrontab | grep -ve ^# -ve ^$ View anacron man pages: man anacron Lab 8-1: Nice and Renice a Process As user1 with sudo on server1, open two terminal sessions. Run the top command in terminal 1. Run the pgrep or ps command in terminal 2 to determine the PID and the nice value of top. ps -efl | grep top Stop top on terminal 1 and relaunch at a lower priority (+8). nice -n 8 top Confirm the new nice value of the process in terminal 2. ps -efl | grep top Issue the renice command in terminal 2 and increase the priority of top to -10: renice -n -10 $(pidof top) Confirm: ps -efl | grep top Lab 8-2: Configure a User Crontab File As user1 on server1, run the tty and date commands to determine the terminal file (assume /dev/pts/1) and current system time.\ntty date Create a cron entry to display “Hello World” on the terminal. Schedule echo “Hello World” \u003e /dev/tty/1 to run 3 minutes from the current system time.\ncrontab -e */3 * * * * echo \"Hello World\" \u003e /dev/pts/2 As root, ensure user1 can schedule cron jobs.\nsudo vim /etc/cron.allow user1",
    "description": "Processes, priorities, and scheduling jobs.",
    "tags": [],
    "title": "Process and Task Scheduling",
    "uri": "/redhat/process-and-task-scheduling/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Networking",
    "content": "There are a lot of great CCNA resources out there. This list does not include all of them. Only the ones that I personally used to pass the CCNA 200-301 exam.\nMaterials for CCNA are generally separated into 5 categories:\nBooks Video courses Labs Practice test Flashcards Books Wendell Odom OCG Official cert guide library To me, this is the king of CCNA study materials. Some people do not like reading but this will give you more depth than any other resource on this list. Link.\nTodd Lammle Books Yes, I read both the OCG and Todd Lammle books cover to cover. No, I do not recommend doing this. Todd has a great way of adding humor into networking. If you need to build up your networking from the ground up. These books are great. Link.\nVideo Courses CBT Nuggets Jeremy Ciara makes learning networking so much fun. This was a great course but is not enough for you to pass the exam on it’s own. Also, a CBT nuggets monthly subscription will set you back $59 per month. Link.\nJeremy’s IT Lab Jermey’s IT lab course was the most informative for me. Jeremy is really great at explaining the more complex topics. Jeremy’s course also includes Packet Tracer labs and and in depth Anki flashcard deck for free. Link.\nLabs David Bombal’s Packet Tracer Labs These labs will really make you think. Although they do steer off the exam objectives a bit. Link.\nJeremy’s IT labs These were my favorite labs by far. Very easy to set up with clear instructions and video explanations. Link.\nPractice test Boson Exsim I can’t stress this enough. if there is one resource that you invest some money into. it’s the Boson practice exams. This is a test simulator that is very close to what the actual test will be like. Exsim comes with 3 exams.\nAfter taking one of these practice tests you will get a breakdown of your scores per category. You will also get to go through all of your questions and see detailed explantations for why each answer is right or wrong.\nThese practice exams were crucial for me to understand where my knowledge gaps were. Link.\nSubnettingpractice.com You can learn subnetting pretty good. Then forget some of the steps a month later and have to learn all over again. It was very helpful to go over some of these subnetting questions once in a while. Link.\nFlashcards Anki Deck These are the only flashcards I used. It is very nice not to have to create your own flashcards. Having the Anki app on your phone is very convenient. You can study whenever you have a few minutes of downtime.\nAnki also used spaced-repetition. It will give you harder flashcards more often based on how you rate their difficulty.\nThis particular deck goes along with the OCG. You can filter by chapter and add more as you get through the book.\nI will be using Anki flashcards for every exam in the future. Link.\nMy Top 3 Be careful not to use too many resources. You may get a bit overwhelmed. Especially if this is your first certification like it was for me. You will be building study habits and learning how to read questions correctly. So focus on quality over quantity.\nIf I had to study for the CCNA again, I would use these three resources:\nOCG Boson Exsim Anki Flashcards If you like these posts, please let me know so i can keep making more like them!",
    "description": "Resources for passing the CCNA exam",
    "tags": [],
    "title": "Resources for Passing CCNA",
    "uri": "/networking/resources-for-passing-ccna/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "https://www.youtube.com/watch?v=Me6Y12-sux8\u0026list=PLz70mC333bic8uSAtRaB31CPUr6Ixi5SX\u0026index=2\nBe aware of the timer for the exam\nEach task has a revisit and done button for you reference. The exam system does not take these into account.\nClick activities \u003e terminal to bring up a new terminal. You ssh into the lab vms from there.\nFor vm manager activities \u003e vm manager\nIp addresses are located in config information\nCan also open a console from VM manager\nFrom vm manager, you can select “Rebuild node # vm” to erase and reset the vm.\nTry not to use keyboard shortcuts, as it may not behave well in the environment.\nCan open chat icon to take a break. Exam timer is still running during break. May have to perform room scan when you start back up.\nContact proctor if you need help.\nExam setup https://www.youtube.com/watch?v=TmrS7FhaaRA\u0026list=PLz70mC333bic8uSAtRaB31CPUr6Ixi5SX\u0026index=3\nNeed an 8gb usb and fedora media writer 4gb free space on laptop 4g RAM minimum wired mouse two webcams (laptop builtin and external) High speed internet ID Proof No electronic devices No paper or any helping material You can skip questions if you want and go back.\nYou set up exam environment laptop. You will get an email with the details and the exam image.\nFound a PDF on the setup but it may not be up to date: https://learn.redhat.com/t5/Certification-Resources/Getting-Ready-for-your-Red-Hat-Remote-Exam/ba-p/33528?attachment-id=166\nMax Marks: 300 Passing marks: 70% (210) 1 free exam retake",
    "description": "Exam environment guide for RHCSA",
    "tags": [],
    "title": "RHCSA Exam Environment Guide",
    "uri": "/redhat/rhcsa-exam-environment/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "Here are my notes from Asghar Gori’s RHCSA book. Buy the book or read the reviews here.\nTrack my RHCSA progress: RHCSA Study Tracker\nInstallation Interaction File Management Advanced File Management Basic User Management Advanced User Management Bash Shell Process and Task Scheduling Basic Package Management Advanced Package Management Boot Process, Grub2, and Kernel System Initialization, Message Logging, and System Tuning Partitioning, MBR, and GPT Local File Systems and Swap Networking Network Devices and Network Connections Network File System (NFS) DNS and Time Synchronization The Secure Shell Service The Linux Firewall Security Enhanced Linux Shell Scripting Containers Sample Exams Sample exam 2 Sample Exam 3 Sample Exam 4 Extra Resourses Using Man Pages RHCSA Exam Environment",
    "description": "My notes from RHCSA",
    "tags": [],
    "title": "RHCSA Notes",
    "uri": "/redhat/rhcsa-notes/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "Chapter Read/ Highlight Outline/labs Review/Labs 3 Review/Labs 4 Review/Labs Chapter Installation X X X X X 1 Interaction X X X X X 2 File Management X X X X X 3 Advanced File Management X X X X X 4 Basic User Management X X X X X 5 Advanced User Management X X X X 6 Bash Shell X X X X 7 Process and Task Scheduling X X X X 8 Basic Package Management X X X X 9 Advanced Package Management X X X X 10 Boot Process, Grub2, and Kernel X X X X 11 System Initialization, Message Logging, and System Tuning X X X X 12 Partitioning, MBR, and GPT X X X 13 Local File Systems and Swap X X X 14 Networking Network Devices and Network Connections X X X 15 Network File System (NFS) X X X 16 DNS and Time Synchronization X X X 17 The Secure Shell Service X X X 18 The Linux Firewall X X X 19 Security Enhanced Linux X X X 20 Shell Scripting X X X 21 Containers X X X 22 Sample Exams X X X 23 Sample exam 2 X X X 24 Sample Exam 3 X X 25 Sample Exam 4 X X 26",
    "description": "Spaced repitition RHCSA Study Calendar",
    "tags": [],
    "title": "RHCSA Study Tracker",
    "uri": "/redhat/rhcsa-study-tracker/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "We are going to use Vagrant to set up two RHEL 8 servers with some custom configuration options. I will include some helpful Vagrant commands at the end if you get stuck.\nIn this guide, I will be using Fedora 38 as my main operating system. I use Fedora because it is similar in features to Red Hat Linux Distributions. This will give me even more practice for the RHCSA exam as I use it in day-to-day operations.\nNote, if you are using Windows, you will need to install ssh. This can be done by installing Git. Which automatically installs ssh for you.\nYou will also need to have the latest version of Virtualbox installed.\nHere are the steps: Download and install Vagrant Make a new directory for your vagrant lab to live in Add the vagrant box Install the Vagrant disk size plugin Initialize the Vagrant box and Edit the Vagrant file Bring up the Vagrant box 1. Download and install Vagrant. In Fedora, this is very easy. Run the following command to download and install Vagrant:\nsudo dnf install vagrant\n2. Make a new directory for your vagrant lab to live in. Make your vagrant directory and make it your current working directory:\ncd Vagrant Add the Vagrant box. vagrant box add generic/rhel8\nInstall the Vagrant disk size plugin. The disk size program will help us set up custom storage sizes. Since we will be re-partitioning storage, this is a useful feature.\nvagrant plugin install vagrant-disksize\nInitialize the Vagrant box and edit the Vagrant file. First, initialize the Vagrant box in the vagrant directory: vagrant init generic/rhel8\nAfter completion, there will now be a file called “Vagrantfile” in your current directory. Since Vim is on the RHCSA exam, it’s wise to practice with it whenever you can. So let’s open the file in Vim:\nvim Vagrantfile\nYou will see a bunch of lines commented out, and a few lines without comments. Go ahead and comment out everything and paste this at the end of the file:\nVagrant.configure(\"2\") do |config config.vm.box = \"generic/rhel8\" config.vm.define \"server1\" do |server1| server1.vm.hostname = \"server1.example.com\" server1.vm.network \"private_network\", ip: \"192.168.2.110\" config.disksize.size = '10GB' end config.vm.define \"server2\" do |server2| server2.vm.hostname = \"server2.example.com\" server2.vm.network \"private_network\", ip: \"192.168.2.120\" config.disksize.size = '16GB' end config.vm.provider \"virtualbox\" do |vb| vb.memory = \"2048\" end end| The configuration file is fairly self-explanatory. Save Vagrantfile and exit Vim. Then, create /etc/vbox/networks.conf and add the following:\n* 10.0.0.0/8 192.168.0.0/1 * 2001::/646 This will allow you to be more flexible with what network addresses can be used in VirtualBox.\nBring up the Vagrant box. Now, we bring up the Vagrant box. This will open two Virtual machines in Virtualbox named server1 and server2 in headless mode (there is no GUI).\nvagrant up\nGreat! Now we can use Vagrant to ssh into server1:\nvagrant ssh server 1\nFrom server1 ssh into server2 using its IP address:\n[vagrant@server1 ~]$ ssh 192.168.2.120\nNow you are in and ready to stir things up. The last thing you need is some commands to manage your Vagrant machines.\nHelpful Vagrant commands. Shut down Vagrant machines:\nvagrant halt Suspend or resume a machine:\nvagrant suspend vagrand resume Restart a virtual machine:\nvagrant reload\nDestroy a Vagrant machine:\nvagrant destroy [machine-name]\nShow running VMs:\nvagrant status\nList other Vagrant options:\nvagrant\nIf you are going for RHCSA, there is no doubt that you will also use Vagrant sometime in the future. And as you can see, it’s pretty quick and simple to get started.\nFeel free to reach out with questions.",
    "description": "Lab setup for RHCSA using Vagrant",
    "tags": [],
    "title": "RHCSA Vagrant Lab Setup",
    "uri": "/redhat/rhcsa-vagrant-lab-setup/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "Appendix A: Sample RHCSA Exam 1 Time Duration:3 hours Passing Score:70% (210 out of 300)\nAll settings performed in the virtual machines must survive system reboots, or you will lose marks.\nSetup for Sample Exam 1: RHEL 9 Server with GUI 20GB disk for the OS with default partitioning. 2x300MB disks and a network interface. (.293GiB for virt-manager) Do not configure the network interface or create a normal user account during installation.\nTasks: Task 01: Assuming the root user password is lost, and your system is running in multi-user target with no current root session open. Reboot the system into an appropriate target level and reset the root user password to root1234. (Exercise 11-2). After completing this task, log in as the root user and perform the remaining tasks presented below. *done\nTask 02: Configure a network connection on the primary network device with:\nIP address 192.168.0.241/24 gateway 192.168.0.1 nameserver 192.168.0.1 Use different IP assignments based on your lab setup. *done\nTask 03: Using a manual method (modify file by hand), set the system hostname to rhcsa1.example.com and alias rhcsa1. Make sure that the new hostname is reflected in the command prompt. *done\nTask 04: Set the default boot target to multi-user. *done\nTask 05: Set SELinux to permissive mode. *done\nTask 06: Perform a case-insensitive search for all lines in the /usr/share/dict/linux.words file that begin with the pattern “essential”. Redirect the output to /var/tmp/pattern.txt file. Make sure that empty lines are omitted. *done\nTask 07: Change the primary command prompt for the root user to display the hostname, username, and current working directory information in that order. Update the per-user initialization file for permanence. *done\nTask 08: Create user accounts called user10, user20, and user30. Set their passwords to Temp1234. Make user10 and user30 accounts to expire on December 31, 2023. *done\nTask 09: Create a group called group10 and add user20 and user30 as secondary members. *done\nTask 10: Create a user account called user40 with UID 2929. Set the password to user1234. *done\nTask 11: Attach the RHEL 9 ISO image to the VM and mount it persistently to /mnt/cdrom. Define access to both repositories and confirm. *done\nTask 12: Create a logical volume called lvol1 of size 280MB in vgtest volume group. Mount the ext4 file system persistently to /mnt/mnt1 *30 minutes in done\nTask 13: Change group membership on /mnt/mnt1 to group10. Set read/write/execute permissions on /mnt/mnt1 for group members and revoke all permissions for public. *done\nTask 14: Create a logical volume called lvswap of size 280MB in vgtest volume group. Initialize the logical volume for swap use. Use the UUID and place an entry for persistence. *done\nTask 15: Use the combination of tar and bzip2 commands to create a compressed archive of the /usr/lib directory. Store the archive under /var/tmp as usr.tar.bz2. *done\nTask 16: Create a directory hierarchy /dir1/dir2/dir3/dir4 and apply SELinux contexts of /etc on it recursively. *done\nTask 17: Enable access to the atd service for user20 and deny for user30. *done\nTask 18: Add a custom message “This is RHCSA sample exam on $(date) by $LOGNAME” to the /var/log/messages file as the root user. Use regular expression to confirm the message entry to the log file. *done\nTask 19: Allow user20 to use sudo without being prompted for their password. *done\nTask 20: Write a bash shell script to create three user accounts—user555, user666, and user777—with no login shell and passwords matching their usernames. The script should also extract the three usernames from the /etc/passwd file and redirect them into /var/tmp/newusers. *done (1 hour in)\nTask 21: Launch a container as user20 using the latest version of ubi8 image. Configure the container to auto-start at system reboots without the need for user20 to log in. *done\nTask 22: Launch a container as user20 using the latest version of ubi9 image with two environment variables SHELL and HOSTNAME. Configure the container to auto-start via systemd without the need for user20 to log in. Connect to the container and verify variable settings. *done\nReboot the system and validate the configuration.\nAppendix B: Sample RHCSA Exam 2 Started at 13:15 on the first timer\nSetup for Sample Exam 2: Build a virtual machine with RHEL 9 Server with GUI Use a 20GB disk for the OS with default partitioning. Add 1x400MB disk and a network interface. (.381GiB in Virt-Manager) Do not configure the network interface or create a normal user account during installation. Tasks: Task 01: Using the nmcli command,\nConfigure a network connection on the primary network device: IP address 192.168.0.242/24, gateway 192.168.0.1, and nameserver 192.168.0.1. Use different IP assignments based on your lab environment. *done\nTask 02: Using the hostnamectl command,\nset the system hostname to rhcsa2.example.com and alias rhcsa2. Make sure that the new hostname is reflected in the command prompt. *done Task 03: Create a user account called user70\nWith UID 7000 and Comments “I am user70” Set the maximum allowable inactivity for this user to 30 days. *done Task 04: Create a user account called user50\nWith a non-interactive shell. *done Task 05: Attach the RHEL 9 ISO image to the VM and mount it persistently to /mnt/dvdrom.\nDefine access to both repositories and confirm. *done 13:15 minutes in Task 06: Create a logical volume called lv1\nSize equal to 10 LEs in vg1 volume group (create vg1 with PE size 8MB in a partition on the 400MB disk). Initialize the logical volume with XFS type and mount it on /mnt/lvfs1. Create a file called lv1file1 in the mount point. Set the file system to automatically mount at each system reboot. *done Task 07: Add a group called group20\nChange group membership on /mnt/lvfs1 to group20. Set read/write/execute permissions on /mnt/lvfs1 for the owner, group members, and others. *done Task 08: Extend the file system in the logical volume lv1 by 64MB without unmounting it and without losing any data.\nConfirm the new size for the logical volume and the file system. *done Task 09: Create a swap partition of size 85MB on the 400MB disk. Use its UUID and ensure it is activated after every system reboot. *done\nTask 10: Create a disk partition of size 100MB on the 400MB disk\nFormat it with Ext4 file system structures. Assign label stdlabel to the file system. Mount the file system on /mnt/stdfs1 persistently using the label. Create file stdfile1 in the mount point. *done 43 minutes in Task 11: Use the tar and gzip command combination\ncreate a compressed archive of the /etc directory. Store the archive under /var/tmp using a filename of your choice. *done Task 12: Create a directory /direct01\napply SELinux contexts for /root to it. *done Task 13: Set up a cron job for user70\nTo search for files by the name “core” in the /var directory and copy them to the directory /var/tmp/coredir1. This job should run every Monday at 1:20 a.m. *done Task 14: Search for all files in the entire directory structure\nThat have been modified in the past 30 days and save the file listing in the /var/tmp/modfiles.txt file. *done Task 15: Modify the bootloader program and set the default autoboot timer value to 2 seconds. *boot\nTask 16: Determine the recommended tuning profile for the system and apply it. *done\nTask 17: Configure Chrony to synchronize system time with the hardware clock. Remove all other NTP sources. *done\nTask 18: Install package group called “Development Tools”\ncapture its information in /var/tmp/systemtools.out file. *done 1hour 13 in Task 19: Lock user account user70.\nUse regular expressions to capture the line that shows the lock and store the output in file /var/tmp/user70.lock. *bash Task 20: Write a bash shell script\nso that it prints RHCSA when RHCE is passed as an argument, and vice versa. If no argument is provided, the script should print a usage message and quit with exit value 5. *done 1 hour 43 in Task 21: Launch a rootful container and configure it to auto-start via systemd. *done\nTask 22: Launch a rootless container\nAs user80 with /data01 mapped to /data01 using the latest version of the ubi9 image. Configure a systemd service to auto-start the container on system reboots without the need for user80 to log in. Create files under the shared mount point and validate data persistence. *done 1 hour 54 minutes Appendix C: Sample RHCSA Exam 3 Setup for Sample Exam 3: Two virtual machines with RHEL 9 Server with GUI\nUse a 20GB disk for the OS with default partitioning. Add 1x5GB disk to VM1 and a network interface to both virtual machines. Do not configure the network interfaces or create a normal user account during installation. Tasks: Task 01: On VM1, set the system hostname to rhcsa3.example.com and alias rhcsa3 using the hostnamectl command.\nMake sure that the new hostname is reflected in the command prompt. Task 02: On rhcsa3, configure a network connection on the primary network device:\nIP address 192.168.0.243/24, gateway 192.168.0.1, and nameserver 192.168.0.1 using the nmcli command Task 03: On VM2, set the system hostname to rhcsa4.example.com\nalias rhcsa4 using a manual method (modify file by hand). Make sure that the new hostname is reflected in the command prompt. Task 04: On rhcsa4, configure a network connection on the primary network device\nIP address 192.168.0.244/24, gateway 192.168.0.1, and nameserver 192.168.0.1 using a manual method (create/modify files by hand). Task 05: Run “ping -c2 rhcsa4” on rhcsa3.\nRun “ping -c2 rhcsa3” on rhcsa4. You should see 0% loss in both outputs. Task 06: On rhcsa3 and rhcsa4, attach the RHEL 9 ISO image to the VM and mount it persistently to /mnt/sr0.\nDefine access to both repositories and confirm. Task 07: On rhcsa3, add HTTP port 8300/TCP to the SELinux policy database persistently.\nTask 08: On rhcsa3, create LVM VDO volume\nCalled vdo1 on the 5GB disk logical size 20GB and mounted with Ext4 structures on /mnt/vdo1. Task 09: Configure NFS service on rhcsa3\nshare /rh_share3 with rhcsa4. Configure AutoFS direct map on rhcsa4 to mount /rh_share3 on /mnt/rh_share4. User user80 (create on both systems) should be able to create files under the share on the NFS server as well as under the mount point on the NFS client. Task 09: Configure NFS service on rhcsa3\nshare /rh_share3 with rhcsa4. Configure AutoFS direct map on rhcsa4 to mount /rh_share3 on /mnt/rh_share4. User user80 (create on both systems) should be able to create files under the share on the NFS server as well as under the mount point on the NFS client. Task 10: Configure NFS service on rhcsa4 and\nshare the home directory for user60 (create user60 on both systems) with rhcsa3. Configure AutoFS indirect map on rhcsa3 to automatically mount the home directory under /nfsdir when user60 logs on to rhcsa3. Task 11: On rhcsa3, create a group called group30 with GID 3000\nadd user60 and user80 to this group. Create a directory called /sdata, enable setgid bit on it. Add write permission bit for group members. Set ownership and owning group to root and group30. Create a file called file1 under /sdata as user60 and modify the file as user80 successfully. Task 12: On rhcsa3, create directory /var/dir1\nwith full permissions for everyone. Disallow non-owners to remove files. Test by creating file /var/dir1/stkfile1 as user60 and removing it as user80. Task 13: On rhcsa3, search for all manual pages for the description containing the keyword “password”.\nredirect the output to file /var/tmp/man.out. Task 14: On rhcsa3, create file lnfile1 under /var/tmp\nCreate one hard link /var/tmp/lnfile2 and one soft link /boot/file1. Edit lnfile1 using one link at a time and confirm. Task 15: On rhcsa3, install software group called “Legacy UNIX Compatibility”.\nTask 16: On rhcsa3, add the http service to “external” firewalld zone persistently.\nTask 17: On rhcsa3, set SELinux type shadow_t on a new file testfile1 in /usr\nensure that the context is not affected by a SELinux relabeling. Task 18: Configure passwordless ssh access for user60 from rhcsa3 to rhcsa4. (Exercise 18-2).\nTask 19: Write a bash shell script\nChecks for the existence of files (not directories) under the /usr/bin directory That begin with the letters “ac” and display their statistics (the stat command). Task 20: On rhcsa3, write a containerfile to include the ls and pwd commands in a custom ubi8 image.\nLaunch a named rootless container as user60 using this image. Confirm command execution. Task 21: On rhcsa3, launch a named rootless container as user60\nwith host port 10000 mapped to container port 80. Employ the latest version of the ubi8 image. Configure a systemd service to autostart the container without the need for user60 to log in. Validate port mapping using an appropriate podman subcommand. Task 22: On rhcsa3, launch another named rootless container (use a unique name for the container) as user60 with /host_data01 mapped to /container_data01, one variable ENVIRON=Exam, and host port 1050 mapped to container port 1050. Use the latest version of the ubi9 image. Configure a separate systemd service to auto-start the container without the need for user60 to log in. Create a file under the shared directory and validate data persistence. Verify port mapping and variable settings using appropriate podman subcommands.\nAppendix D: Sample RHCSA Exam 4 (Using server1 and server2)\nSetup for Sample Exam 4: Build two virtual machines with RHEL 9 Server with GUI (Exercises 1-1 and 1-2). Use a 20GB disk for the OS with default partitioning. Add 1x5GB disk to VM2 and a network interface to both virtual machines. Do not configure the network interfaces or create a normal user account during installation.\nTasks: Task 01: On VM1, set the system hostname to rhcsa5.example.com and alias rhcsa5 using the hostnamectl command. Make sure that the new hostname is reflected in the command prompt. (Exercises 15-1 and 15-5). *done\nTask 02: On rhcsa5, configure a network connection on the primary network device with IP address 192.168.0.245/24, gateway 192.168.0.1, and nameserver 192.168.0.1 using the nmcli command. Use different IP assignments based on your lab environment. (Exercise 15-4). *done\nTask 03: On VM2, set the system hostname to rhcsa6.example.com and alias rhcsa6 using a manual method (modify file by hand). Make sure that the new hostname is reflected in the command prompt. (Exercises 15-1 and 15-5). *done\nTask 04: On rhcsa6, configure a network connection on the primary network device with IP address 192.168.0.246/24, gateway 192.168.0.1, and nameserver 192.168.0.1 using a manual method (create/modify files by hand). Use different IP assignments based on your lab environment. (Exercise 15-3). *done\nTask 05: Run “ping -c2 rhcsa6” on rhcsa5. Run “ping -c2 rhcsa5” on rhcsa6. You should see 0% loss in both outputs. (Exercise 15-5). *done\nTask 06: On rhcsa5 and rhcsa6, attach the RHEL 9 ISO image to the VM and mount it persistently to /mnt/sr0. Define access to both repositories and confirm. (Exercise 9-1). *done 30 minutes in\nTask 07: Export /share5 on rhcsa5 and mount it to /share6 persistently on rhcsa6. (Exercises 16-1 and 16-2). *done (used notes) 1.5 hours in\nTask 08: Use NFS to export home directories for all users (u1, u2, and u3) on rhcsa6 so that tregistry.access.redhat.com/ubi9heir home directories become available under /home1 when they log on to rhcsa5. Create u1, u2, and u3. *done used notes 2 hours in\nTask 09: On rhcsa5, add HTTP port 8400/UDP to the public firewall zone persistently. *done\nTask 10: Configure passwordless ssh access for u1 from rhcsa5 to rhcsa6. Copy the directory /etc/sysconfig from rhcsa5 to rhcsa6 under /var/tmp/remote securely. *done (2.5 hour in used notes)\nTask 11: On rhcsa6, create LVM VDO volume vdo2 on the 5GB disk with logical size 20GB and mounted persistently with XFS structures on /mnt/vdo2. *done 3 hours (used notes)\nTask 12: On rhcsa6, flip the value of the Boolean nfs_export_all_rw persistently. *done\nTask 13: On rhcsa5 and rhcsa6, set the tuning profile to powersave. *done\nTask 14: On rhcsa5, create file lnfile1 under /var/tmp and create three hard links called hard1, hard2, and hard3 for it. Identify the inode number associated with all four files. Edit any of the files and observe the metadata for all the files for confirmation. *done (on rhcsa6, oops)\nTask 15: On rhcsa5, members (user100 and user200) of group100 should be able to collaborate on files under /shared but cannot delete each other’s files. *4 hours in (done used notes)\nTask 16: On rhcsa6, list all files that are part of the “setup” package, and use regular expressions and I/O redirection to send the output lines containing “hosts” to /var/tmp/setup.pkg. *done\nTask 17: On rhcsa5, check the current version of the Linux kernel. Download and install the latest version of the kernel from Red Hat website. Ensure that the existing kernel and its configuration remain intact. Reboot the system and confirm the newregistry.access.redhat.com/ubi9 version is loaded. *done with dnf instead of downloading from site (4.5hours in)\nTask 18: On rhcsa5, configure journald to store messages permanently under /var/log/journal and fall back to memory-only option if /var/log/journal directory does not exist or has permission/access issues. *done\nTask 19: Write a bash shell script that defines an environment variable called ENV1=book1 and creates a user account that matches the value of the variable. *done\nTask 20: On rhcsa5, launch a named rootful container with host port 443 mapped to container port 443. Employ the latest version of the ubi9 image. Configure a systemd service to auto-start the container at system reboots. Validate port mapping using an appropriate podman subcommand. *done\nTask 21: On rhcsa5, launch a named rootless container as user100 with /data01 mapped to /data01 and two variables KERN=$(uname -r) and SHELL defined. Use the latest version of the ubi8 image. Configure a systemd service to auto-start the container at system reboots without the need for user100 to log in. Create a file under the shared mount point and validate data persistence. *done (5 hours in)\nTask 22: On rhcsa5, write a containerfile to include the PATH environment variable output in a custom ubi9 image. Launch a named rootless container as user100 using this image. Confirm command execution. *done (5hours 10 minutes)",
    "description": "Sample Exams 1-4 in the book",
    "tags": [],
    "title": "Sample Exams",
    "uri": "/redhat/sample-exams/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Cyber Security",
    "content": "SELinux Terminology Implementation of the Mandatory Access Control (MAC) architecture\ndeveloped by the U.S. National Security Agency (NSA) flexible, enriched, and granular security controls in Linux. integrated into the Linux kernel as a set of patches using the Linux Security Modules (LSM) framework allows the kernel to support various security implementations provides an added layer of protection above and beyond the standard Linux Discretionary Access Control (DAC) security architecture. DAC includes: traditional file and directory permissions extended attribute settings setuid/setgid bits su/sudo privileges etc. Limits the ability of a subject (Linux user or process) to access an object (file, directory, file system, device, network interface/connection, port, pipe, socket, etc.) To reduce or eliminate the potential damage the subject may be able to inflict on the system if compromised. MAC controls\nFine-grained Protect other services in the event one service is negotiated. Example: If the HTTP service process is compromised, the attacker can only damage the files the hacked process will have access to, and not the other processes running on the system, or the objects the other processes will have access to. To ensure this coarse-grained control, MAC uses a set of defined authorization rules called policy to examine security attributes associated with subjects and objects when a subject tries to access an object, and decides whether to permit the access attempt. These attributes are stored in contexts (a.k.a. labels), and are applied to both subjects and objects. SELinux decisions are stored in a special cache area called Access Vector Cache (AVC).\nThis cache area is checked for each access attempt by a process to determine whether the access attempt was previously allowed.\nWith this mechanism in place, SELinux does not have to check the policy ruleset repeatedly, thus improving performance.\nSELinux is enabled by default\nConfines processes to the bare minimum privileges that they need to function. Key Terms Subject\nAny user or process that accesses an object. Examples: system_u for the SELinux system user unconfined_u for subjects that are not bound by the SELinux policy Stored in field 1 of the context. Object\nA resource, such as a file, directory, hardware device, network interface/connection, port, pipe, or socket, that a subject accesses. Examples: object_r for general objects system_r for system-owned objects unconfined_r for objects that are not bound by the SELinux policy. Access\nAn action performed by the subject on an object. Examples: creating, reading, or updating a file creating or navigating a directory accessing a network port or socket Policy\nA defined ruleset that is enforced system-wide Used to analyze security attributes assigned to subjects and objects. Referenced to decide whether to permit a subject’s access attempt to an object, or a subject’s attempt to interact with another subject. The default behavior of SELinux in the absence of a rule is to deny the access. Standard preconfigured policies: targeted (default) Any process that is targeted runs in a confined domain Any process that is not targeted runs in an unconfined domain. Example: SELinux runs logged-in users in the unconfined domain, and the httpd process in a confined domain by default. Any subject running unconfined is more vulnerable than the one running confined. mls Places tight security controls at deeper levels. minimum light version of the targeted policy designed to protect only selected processes. Context (label)\nA tag to store security attributes for subjects and objects. Every subject and object has a context assigned Consists of a SELinux user, role, type (or domain), and sensitivity level. Used by SELinux to make access control decisions. Labeling\nMapping of files with their stored contexts. SELinux User\nSeveral predefined SELinux user identities that are authorized for a particular set of roles. Linux user to SELinux user identity mapping to place SELinux user restrictions on Linux users. Controls what roles and levels a process (with a particular SELinux user identity) can enter. Example: A Linux user cannot run the su and sudo commands or the programs located in their home directories if they are mapped to the SELinux user user_u. Role\nAn attribute of the Role-Based Access Control (RBAC) security model that is part of SELinux. Classifies who (subject) is allowed to access what (domains or types). SELinux users are authorized for roles, and roles are authorized for domains and types. Each subject has an associated role to ensure that the system and user processes are separated. A subject can transition into a new role to gain access to other domains and types. Examples: user_r for ordinary users sysadm_r for administrators system_r for processes that initiate under the system_r role Stored in field 2 of the context. Type Enforcement (TE)\nIdentifies and limits a subject’s ability to access domains for processes, and types for files. References the contexts of the subjects and objects for this enforcement. Type\nAttribute of type enforcement. Group of objects based on uniformity in their security requirements. Objects such as files and directories with common security requirements, are grouped within a specific type. Examples: user_home_dir_t for objects located in user home directories usr_t for most objects stored in the /usr directory. Stored in field 3 of a file context. Domain\nDetermines the type of access that a process has. Processes with common security requirements are grouped within a specific domain type, and they run confined within that domain. Examples: init_t for the systemd process firewalld_t for the firewalld process unconfined_t for all processes that are not bound by SELinux policy. Stored in field 3 of a process context. Rules\nOutline how types can access each other, domains can access types, and domains can access each other. Level\nAn attribute of Multi-Level Security (MLS) and Multi-Category Security (MCS). Pair of sensitivity:category values that defines the level of security in the context. category may be defined as a single value or a range of values, such as c0.c4 to represent c0 through c4. In RHEL 9, the targeted policy is used as the default, which enforces MCS (MCS supports only one sensitivity level (s0) with 0 to 1023 different categories). SELinux Contexts SELinux Contexts for Users SELinux contexts define security attributes placed on subjects and objects. Each context contains a type and a security level with subject and object information. Use the id command with the -Z option to view the context set on Linux users:\n[root@server30 ~]# id -Z unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 Output:\nMapped to the SELinux unconfined_u user\nNo SELinux restrictions placed on this user.\nAll Linux users, including root, run unconfined by default, (full system access)\nSeven confined user identities with restricted access to objects.\nMapped to Linux users via SELinux policy. Helps safeguard the system from potential damage that Linux users might inflict on the system. Use the seinfo query command to list the SELinux users; however, the setools-console software package must be installed before doing so.\n[root@server30 ~]# seinfo -u Users: 8 guest_u root staff_u sysadm_u system_u unconfined_u user_u xguest_u Use the semanage command to view the mapping between Linux and SELinux users:\n[root@server30 ~]# semanage login -l Login Name SELinux User MLS/MCS Range Service __default__ unconfined_u s0-s0:c0.c1023 * root unconfined_u s0-s0:c0.c1023 * MLS/MCS Range\nAssociated security level and the context for the Linux user (the * represents all services). By default, all non-root Linux users are represented as __default__, which is mapped to the unconfined_u user in the policy. SELinux Contexts for Processes Determine the context for processes using the ps command with the -Z flag:\n[root@server30 ~]# ps -eZ | head -2 LABEL PID TTY TIME CMD system_u:system_r:init_t:s0 1 ? 00:00:02 systemd Output:\nThe subject system_u is a SELinux username (mapped to Linux user root)\nObject is system_r\nDomain init_t reveals the type of protection applied to the process.\nLevel of security s0\nA process that is unprotected will run in the unconfined_t domain.\nSELinux Contexts for Files ls -Z\nView context for files and directories. Show the four attributes set on the /etc/passwd file:\n[root@server30 ~]# ls -lZ /etc/passwd -rw-r--r--. 1 root root system_u:object_r:passwd_file_t:s0 2806 Jul 19 21:54 /etc/passwd Subject system_u Object object_r Type passwd_file_t Security level s0 for the passwd file. /etc/selinux/targeted/contexts/files/file_contexts /etc/selinux/targeted/contexts/files/file_contexts.local\nStores contexts for system-installed and user-created files. Policy files. Can be updated using the semanage command. Copying, Moving, and Archiving Files with SELinux Contexts All files in RHEL are labeled with an SELINUX security context by default. New files inherit the parent directory’s context at the time of creation. Rules for copy move and archive:\nIf a file is copied to a different directory, the destination file will receive the destination directory’s context, unless the --preserve=context switch is specified with the cp command to retain the source file’s original context.\nIf a copy operation overwrites the destination file in the same or different directory, the file being copied will receive the context of the overwritten file, unless the --preserve=context switch is specified with the cp command to preserve the source file’s original context.\nIf a file is moved to the same or different directory, the SELinux context will remain intact, which may differ from the destination directory’s context.\nIf a file is archived with the tar command, use the --selinux option to preserve the context.\nSELinux Contexts for Ports View attributes for network ports with the semanage command:\n[root@server30 ~]# semanage port -l | head -7 SELinux Port Type Proto Port Number afs3_callback_port_t tcp 7001 afs3_callback_port_t udp 7001 afs_bos_port_t udp 7007 afs_fs_port_t tcp 2040 afs_fs_port_t udp 7000, 7005 By default, SELinux allows services to listen on a restricted set of network ports only. Domain Transitioning SELinux allows a process running in one domain to enter another domain to execute an application that is restricted to run in that domain only. A rule must exist in the policy to support such transition. entrypoint Permission setting Control processes that can transition into another domain. Example: What happens when a Linux user attempts to change their password using the /usr/bin/passwd command.\nThe passwd command is labeled with the passwd_exec_t type:\n[root@server30 ~]# ls -lZ /usr/bin/passwd -rwsr-xr-x. 1 root root system_u:object_r:passwd_exec_t:s0 32648 Aug 10 2021 /usr/bin/passwd The passwd command requires access to the /etc/shadow file in order to modify a user password. The shadow file has a different type set on it (shadow_t):\n**[root@server30 ~]# ls -lZ /etc/shadow ----------. 1 root root system_u:object_r:shadow_t:s0 2756 Jul 19 21:54 /etc/shadow The SELinux policy has rules that specifically allow processes running in domain passwd_t to read and modify the files with type shadow_t, and allow them entrypoint permission into domain passwd_exec_t. This rule enables the user’s shell process executing the passwd command to switch into the passwd_t domain and update the shadow file. Open two terminal windows. In window 1, issue the passwd command as user1 and wait at the prompt:\n[user1@server30 root]$ passwd Changing password for user user1. Current password: In window 2, run the ps command:\n[root@server30 ~]# ps -eZ | grep passwd unconfined_u:unconfined_r:passwd_t:s0-s0:c0.c1023 13001 pts/1 00:00:00 passwd The passwd command (process) transitioned into the passwd_t domain to change the user password. SELinux Booleans on/off switches that SELinux uses to determine whether to permit an action. Activate or deactivate certain rule in the SELinux policy immediately and without the need to recompile or reload the policy. For instance, the ftpd_anon_write Boolean can be turned on to enable anonymous users to upload files. This privilege can be revoked by turning this Boolean off. Boolean values are stored in virtual files located in /sys/fs/selinux/booleans/. The filenames match the Boolean names. A sample listing of this directory is provided below:\n[root@server30 ~]# ls -l /sys/fs/selinux/booleans/ | head -7 total 0 -rw-r--r--. 1 root root 0 Jul 23 04:44 abrt_anon_write -rw-r--r--. 1 root root 0 Jul 23 04:44 abrt_handle_event -rw-r--r--. 1 root root 0 Jul 23 04:44 abrt_upload_watch_anon_write -rw-r--r--. 1 root root 0 Jul 23 04:44 antivirus_can_scan_system -rw-r--r--. 1 root root 0 Jul 23 04:44 antivirus_use_jit -rw-r--r--. 1 root root 0 Jul 23 04:44 auditadm_exec_content The manual pages of the Booleans are available through the selinux-policy-doc package.\nOnce installed, use the -K option with the man command to bring the pages up for a specific Boolean.\nFor instance, issue man -K abrt_anon_write to view the manual pages for the abrt_anon_write Boolean.\nCan be viewed, and flipped temporarily or for permanence.\nNew value takes effect right away.\nTemporary changes are stored as a “1” or “0” in the corresponding Boolean file in the /sys/fs/selinux/booleans/\nPermanent changes are saved in the policy database.\nSELinux Administration Controlling the activation mode, checking operational status, setting security contexts on subjects and objects, and switching Boolean values. Utilities and the commands they provide\nlibselinux-utils getenforce getsebool policycoreutils sestatus setsebool restorecon policycoreutils-python-utils semanage setools-console seinfo sesearch SELinux Alert Browser\nGraphical tool for viewing alerts and debugging SELinux issues.\nPart of the setroubleshoot-server package.\nIn order to fully manage SELinux, you need to ensure that all these packages are installed on the system.\nManagement Commands SELinux delivers a variety of commands for effective administration. Table 20-1 lists and describes the commands mentioned above plus a few more under various management categories.\nMode Management\ngetenforce\nDisplays the current mode of operation grubby\nUpdates and displays information about the configuration files for the grub2 boot loader sestatus\nShows SELinux runtime status and Boolean values setenforce\nSwitches the operating mode between enforcing and permissive temporarily Context Management\nchcon\nChanges context on files (changes do not survive file system relabeling) restorecon\nRestores default contexts on files by referencing the files in /etc/selinux/targeted/contexts/files/ semanage Changes context on files with the fcontext subcommand (changes survive file system relabeling) Policy Management\nseinfo Provides information on policy components semanage\nManages policy database sesearch\nSearches rules in the policy database Boolean Management\ngetsebool\nDisplays Booleans and their current settings. setsebool\nModifies Boolean values temporarily, or in the policy database. semanage\nModifies Boolean values in the policy database with the booleansubcommand. Troubleshooting\nsealert\nThe graphical troubleshooting tool Viewing and Controlling SELinux Operational State /etc/selinux/config\nOne of the key configuration files that controls the SELinux operational state, and sets its default type The default content of the file is displayed below:\n[root@server30 ~]# cat /etc/selinux/config # This file controls the state of SELinux on the system. # SELINUX= can take one of these three values: # enforcing - SELinux security policy is enforced. # permissive - SELinux prints warnings instead of enforcing. # disabled - No SELinux policy is loaded. # See also: # https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_selinux/changing-selinux-states-and-modes_using-selinux#changing-selinux-modes-at-boot-time_changing-selinux-states-and-modes # # NOTE: Up to RHEL 8 release included, SELINUX=disabled would also # fully disable SELinux during boot. If you need a system with SELinux # fully disabled instead of SELinux running with no policy loaded, you # need to pass selinux=0 to the kernel command line. You can use grubby # to persistently set the bootloader to boot with selinux=0: # # grubby --update-kernel ALL --args selinux=0 # # To revert back to SELinux enabled: # # grubby --update-kernel ALL --remove-args selinux # SELINUX=enforcing # SELINUXTYPE= can take one of these three values: # targeted - Targeted processes are protected, # minimum - Modification of targeted policy. Only selected processes are protected. # mls - Multi Level Security protection. SELINUXTYPE=targeted Directives:\nSELINUX\nSets the activation mode for SELinux. Enforcing activates it and allows or denies actions based on the policy rules. Permissive activates SELinux, but permits all actions. It records all security violations. Useful for troubleshooting and developing or tuning the policy. The third option is to completely turn SELinux off. When running in enforcing mode SELINUXTYPE\nDictates the type of policy to be enforced. Default is targeted. Determine the current operating mode: getenforce\nChange the state to permissive and verify:\n[root@server30 ~]# setenforce permissive [root@server30 ~]# getenforce Permissive Can also “0” for permissive and a “1” for enforcing. Changes will be lost at the next system reboot. Edit /etc/selinux/config SELINUX directive to the desired mode for persistence. EXAM TIP: You may switch SELinux to permissive for troubleshooting a non-functioning service. Don’t forget to change it back to enforcing when the issue is resolved.\nDisable SELinux persistently: grubby --update-kernel ALL --args selinux=0\nAppends the selinux=0 setting to the end of the “options” line in the bootloader configuration file located in the /boot/loader/entries directory: cat /boot/loader/entries/dcb323fab47049e8b89dae2ae00d41e8-5.14.0-427.26.1.el9_4.x86_64.conf Revert the above: grubby --update-kernel ALL --remove-args selinux=0\nQuerying Status sestatus Command\nView the current runtime status of SELinux Displays the location of principal directories, the policy in effect, and the activation mode. [root@server30 ~]# sestatus SELinux status: enabled SELinuxfs mount: /sys/fs/selinux SELinux root directory: /etc/selinux Loaded policy name: targeted Current mode: permissive Mode from config file: enforcing Policy MLS status: enabled Policy deny_unknown status: allowed Memory protection checking: actual (secure) Max kernel policy version: 33 -v Report on security contexts set on files and processes, as listed in /etc/sestatus.conf . Reports the contexts for the current process (Current context) and the init (systemd) process (Init context) under Process Contexts. Reveals the file contexts for the controlling terminal and associated files under File Contexts. [root@server30 ~]# cat /etc/sestatus.conf [files] /etc/passwd /etc/shadow /bin/bash /bin/login /bin/sh /sbin/agetty /sbin/init /sbin/mingetty /usr/sbin/sshd /lib/libc.so.6 /lib/ld-linux.so.2 /lib/ld.so.1 [process] /sbin/mingetty /sbin/agetty /usr/sbin/sshd [root@server30 ~]# sestatus -v SELinux status: enabled SELinuxfs mount: /sys/fs/selinux SELinux root directory: /etc/selinux Loaded policy name: targeted Current mode: permissive Mode from config file: enforcing Policy MLS status: enabled Policy deny_unknown status: allowed Memory protection checking: actual (secure) Max kernel policy version: 33 Process contexts: Current context: unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 Init context: system_u:system_r:init_t:s0 /sbin/agetty system_u:system_r:getty_t:s0-s0:c0.c1023 /usr/sbin/sshd system_u:system_r:sshd_t:s0-s0:c0.c1023 File contexts: Controlling terminal: unconfined_u:object_r:user_devpts_t:s0 /etc/passwd system_u:object_r:passwd_file_t:s0 /etc/shadow system_u:object_r:shadow_t:s0 /bin/bash system_u:object_r:shell_exec_t:s0 /bin/login system_u:object_r:login_exec_t:s0 /bin/sh system_u:object_r:bin_t:s0 -\u003e system_u:object_r:shell_exec_t:s0 /sbin/agetty system_u:object_r:getty_exec_t:s0 /sbin/init system_u:object_r:bin_t:s0 -\u003e system_u:object_r:init_exec_t:s0 /usr/sbin/sshd system_u:object_r:sshd_exec_t:s0 Lab: Modify SELinux File Context Create a directory sedir1 under /tmp and a file sefile1 under sedir1. Check the context on the directory and file. Change the SELinux user and type to user_u and public_content_t on both and verify. 1. Create the hierarchy sedir1/sefile1 under /tmp:\n[root@server30 ~]# cd /tmp [root@server30 tmp]# mkdir sedir1 [root@server30 tmp]# touch sedir1/sefile1 2. Determine the context on the new directory and file:\n[root@server30 tmp]# ls -ldZ sedir1 drwxr-xr-x. 2 root root unconfined_u:object_r:user_tmp_t:s0 21 Jul 28 15:12 sedir1 [root@server30 tmp]# ls -ldZ sedir1/sefile1 -rw-r--r--. 1 root root unconfined_u:object_r:user_tmp_t:s0 0 Jul 28 15:12 sedir1/sefile1 3. Modify the SELinux user (-u) on the directory to user_u and type (-t) to public_content_t recursively (-R) with the chcon command:\n[root@server30 tmp]# chcon -vu user_u -t public_content_t sedir1 -R changing security context of 'sedir1/sefile1' changing security context of 'sedir1' 4. Validate the new context:\n[root@server30 tmp]# ls -ldZ sedir1 drwxr-xr-x. 2 root root user_u:object_r:public_content_t:s0 21 Jul 28 15:12 sedir1 [root@server30 tmp]# ls -ldZ sedir1/sefile1 -rw-r--r--. 1 root root user_u:object_r:public_content_t:s0 0 Jul 28 15:12 sedir1/sefile1 Lab: Add and Apply File Context Add the current context on sedir1 to the SELinux policy database to ensure a relabeling will not reset it to its previous value Change the context on the directory to some random values. Restore the default context from the policy database back to the directory recursively. Determine the current context: [root@server30 tmp]# ls -ldZ sedir1 drwxr-xr-x. 2 root root user_u:object_r:public_content_t:s0 21 Jul 28 15:12 sedir1 [root@server30 tmp]# ls -ldZ sedir1/sefile1 -rw-r--r--. 1 root root user_u:object_r:public_content_t:s0 0 Jul 28 15:12 sedir1/sefile1 Add (-a) the directory recursively to the policy database using the semanage command with the fcontext subcommand: [root@server30 tmp]# semanage fcontext -a -s user_u -t public_content_t \"/tmp/sedir1(/.*)?\" The regular expression (/.*)? instructs the command to include all files and subdirectories under /tmp/sedir1. Needed only if recursion is required. The above command added the context to the /etc/selinux/targeted/contexts/files/file_contexts.local file.\nValidate the addition by listing (-l) the recent changes (-C) in the policy database: [root@server30 tmp]# semanage fcontext -Cl | grep sedir /tmp/sedir1(/.*)? all files user_u:object_r:public_content_t:s0 Change the current context on sedir1 to something random (staff_u/etc_t) with the chcon command: root@server30 tmp]# chcon -vu staff_u -t etc_t sedir1 -R changing security context of 'sedir1/sefile1' changing security context of 'sedir1' The security context is changed successfully. Confirm with the ls command: [root@server30 tmp]# ls -ldZ sedir1 ; ls -lZ sedir1/sefile1 drwxr-xr-x. 2 root root staff_u:object_r:etc_t:s0 21 Jul 28 15:12 sedir1 -rw-r--r--. 1 root root staff_u:object_r:etc_t:s0 0 Jul 28 15:12 sedir1/sefile1 Reinstate the context on the sedir1 directory recursively (-R) as stored in the policy database using the restorecon command: (-F option will update all attributes, only does type by default. ) $ restorecon -R -v -F sedir1 Relabeled /tmp/sedir1 from unconfined_u:object_r:public_content_t:s0 to user_u:object_r:public_content_t:s0 Relabeled /tmp/sedir1/sefile1 from unconfined_u:object_r:public_content_t:s0 to user_u:object_r:public_content_t:s0 Lab: Add and Delete Network Ports Add a non-standard network port 8010 to the SELinux policy database for the httpd service. Confirm the addition. Remove the port from the policy and verify the deletion. List (-l) the ports for the httpd service as defined in the SELinux policy database: [root@server10 ~]# semanage port -l | grep ^http_port http_port_t tcp 80, 81, 443, 488, 8008, 8009, 8443, 9000 The output reveals eight network ports the httpd process is currently allowed to listen on.\nAdd port 8010 with type http_port_t and protocol tcp to the policy: [root@server10 ~]# semanage port -at http_port_t -p tcp 8010 Confirm the addition: [root@server10 ~]# semanage port -l | grep ^http_port http_port_t tcp 8010, 80, 81, 443, 488, 8008, 8009, 8443, 9000 Delete port 8010 from the policy and confirm: [root@server10 ~]# semanage port -dp tcp 8010 [root@server10 ~]# semanage port -l | grep ^http_port http_port_t tcp 80, 81, 443, 488, 8008, 8009, 8443, 9000 EXAM TIP: Any non-standard port you want to use for any service, make certain to add it to the SELinux policy database with the correct type.\nLab: Copy Files with and without Context Create a file called sefile2 under /tmp and display its context. Copy this file to the /etc/default directory, and observe the change in the context. Remove sefile2 from /etc/default, and copy it again to the same destination, ensuring that the target file receives the source file’s context. 1. Create file sefile2 under /tmp and show context:\n[root@server10 ~]# touch /tmp/sefile2 [root@server10 ~]# ls -lZ /tmp/sefile2 -rw-r--r--. 1 root root unconfined_u:object_r:user_tmp_t:s0 0 Jul 29 08:44 /tmp/sefile2 2. Copy this file to the /etc/default directory, and check the context again:\n[root@server10 ~]# cp /tmp/sefile2 /etc/default/ [root@server10 ~]# ls -lZ /etc/default/sefile2 -rw-r--r--. 1 root root unconfined_u:object_r:etc_t:s0 0 Jul 29 08:45 /etc/default/sefile2 3. Erase the /etc/default/sefile2 file, and copy it again with the --preserve=context option:\n[root@server10 ~]# rm /etc/default/sefile2 [root@server10 ~]# cp --preserve=context /tmp/sefile2 /etc/default 4. List the file to view the context:\n[root@server10 ~]# ls -lZ /etc/default/sefile2 -rw-r--r--. 1 root root unconfined_u:object_r:user_tmp_t:s0 0 Jul 29 08:49 /etc/default/sefile2 Exercise 20-5: View and Toggle SELinux Boolean Values Display the current state of the Boolean nfs_export_all_rw. Toggle its value temporarily, and reboot the system. Flip its value persistently after the system has been back up. 1. Display the current setting of the Boolean nfs_export_all_rw using three different commands—getsebool, sestatus, and semanage:\n[root@server10 ~]# getsebool -a | grep nfs_export_all_rw nfs_export_all_rw --\u003e on [root@server10 ~]# sestatus -b | grep nfs_export_all_rw nfs_export_all_rw on [root@server10 ~]# semanage boolean -l | grep nfs_export_all_rw nfs_export_all_rw (on , on) Allow nfs to export all rw [root@server10 ~]# 2. Turn off the value of nfs_export_all_rw using the setsebool command by simply furnishing “off” or “0” with it and confirm:\n[root@server10 ~]# setsebool nfs_export_all_rw 0 [root@server10 ~]# getsebool -a | grep nfs_export_all_rw nfs_export_all_rw --\u003e off 3. Reboot the system and rerun the getsebool command to check the Boolean state:\n[root@server10 ~]# getsebool -a | grep nfs_export_all_rw nfs_export_all_rw --\u003e on 4. Set the value of the Boolean persistently (-P or -m as needed) using either of the following:\n[root@server10 ~]# setsebool -P nfs_export_all_rw off [root@server10 ~]# semanage boolean -m -0 nfs_export_all_rw 5. Validate the new value using the getsebool, sestatus, or semanage command:\n[root@server10 ~]# sestatus -b | grep nfs_export_all_rw nfs_export_all_rw off [root@server10 ~]# semanage boolean -l | grep nfs_export_all_rw nfs_export_all_rw (off , off) Allow nfs to export all rw [root@server10 ~]# semanage boolean -l | grep nfs_export_all_rw nfs_export_all_rw (off , off) Allow nfs to export all rw Monitoring and Analyzing SELinux Violations SELinux generates alerts for system activities when it runs in enforcing or permissive mode.\nIt writes the alerts to /var/log/audit/audit.logif the auditd daemon is running, or to /var/log/messages via the rsyslog daemon in the absence of auditd.\nSELinux also logs the alerts that are generated due to denial of an action, and identifies them with a type tag AVC (Access Vector Cache) in the audit.log file.\nIt also writes the rejection in the messages file with a message ID, and how to view the message details.\nSELinux denial messages are analyzed, and the audit data is examined to identify the potential cause of the rejection.\nThe results of the analysis are recorded with recommendations on how to fix it.\nThese results can be reviewed to aid in troubleshooting, and recommended actions taken to address the issue.\nSELinux runs a service daemon called setroubleshootd that performs this analysis and examination in the background.\nThis service also has a client interface called SELinux Troubleshooter (the sealert command) that reads the data and displays it for assessment.\nThe client tool has both text and graphical interfaces.\nThe server and client components are part of the setroubleshoot-server software package that must be installed on the system prior to using this service.\nHow SELinux handles an incoming access request (from a subject) to a target object:\nSubject (eg: a process) makes an Action request (eg: read) \u003e SELinux Security Server checks the SELinux Policy Database \u003e if permission is not granted the AVC Denied Message is diaplayed. If Permission is granted, then access to object (eg: a file) is granted.\nsu to root from user1 and view the log:\n[root@server10 ~]# cat /var/log/audit/audit.log | tail -10 ... type=USER_START msg=audit(1722274070.748:90): pid=1394 uid=1000 auid=0 ses=1 subj=unconfined_u:unconfined_r:unconfined_t:s0- s0:c0.c1023 msg='op=PAM:session_open grantors=pam_keyinit,pam_limits,pam_systemd,pam_unix, pam_umask,pam_xauth acct=\"root\" exe=\"/usr/bin/su\" hostname=? addr=? terminal=/dev/pts/0 res=success'UID=\"user1\" AUID=\"root\" WIll show avc denied if denied.\nLab Get an AVC deny message Change the SELinux type on the shadow file to something random (etc_t). Issue the passwd command as user1 to modify the password. Restored the type on the shadow file with restorecon /etc/shadow. ' Re-try the password change. Change the SELinux type on /etc/shadow to something random (etc_t) [root@server10 ~]# chcon -vt etc_t /etc/shadow changing security context of '/etc/shadow' Issue the passwd command as user1 to modify the password: [root@server10 ~]# su user1 [user1@server10 root]$ passwd Changing password for user user1. Current password: roopasswd: Authentication token manipulation error The following is a sample denial record from the same file in raw format:\nAVC type Related to the passwd command (comm) Source context (scontext) unconfined_u:unconfined_r:passwd_t:s0-s0:c0.c1023 nshadow file (name) with file type (tclass) “file” Target context (tcontext) system_u:object_r:etc_t:s0 Indicates the SELinux operating mode, which is enforcing permissive=0. This message indicates that the /etc/shadow file does not have the correct context set on it, and that’s why SELinux prevented the passwd command from updating the user’s password. Use sealert to analyze (-a) all AVC records in the audit.log file. This command produces a formatted report with all relevant details:\nSELinux DIY Labs Lab: Disable and Enable the SELinux Operating Mode Check and make a note of the current SELinux operating mode. [root@server30 ~]# getenforce Enforcing Modify the configuration file and set the mode to disabled. [root@server30 ~]# vim /etc/selinux/config SELINUX=disabled Reboot the system to apply the change. [root@server30 ~]# reboot Run sudo getenforce to confirm the change when the system is up. [root@server30 ~]# getenforce Disabled Restore the directive’s value to enforcing in the configuration file, and reboot to apply the new mode. [root@server30 ~]# vim /etc/selinux/config SELINUX=enforcing [root@server30 ~]# reboot Run sudo getenforce to confirm the mode when the system is up. [root@server30 ~]# getenforce Enforcing Lab: Modify Context on Files Create directory hierarchy /tmp/d1/d2. mkdir -p /tmp/d1/d2 Check the contexts on /tmp/d1 and /tmp/d1/d2. [root@server30 d1]# ls -ldZ /tmp/d1 drwxr-xr-x. 3 root root unconfined_u:object_r:user_tmp_t:s0 16 Jul 29 13:17 /tmp/d1 [root@server30 d1]# ls -ldZ /tmp/d1/d2 drwxr-xr-x. 2 root root unconfined_u:object_r:user_tmp_t:s0 6 Jul 29 13:17 /tmp/d1/d2 Change the SELinux type on /tmp/d1 to etc_t recursively with the chcon command and confirm. [root@server30 tmp]# chcon -Rv -t etc_t /tmp/d1 changing security context of '/tmp/d1/d2' changing security context of '/tmp/d1' [root@server30 tmp]# ls -ldZ /tmp/d1 drwxr-xr-x. 3 root root unconfined_u:object_r:etc_t:s0 16 Jul 29 13:17 /tmp/d1 [root@server30 tmp]# ls -ldZ /tmp/d1/d2 drwxr-xr-x. 2 root root unconfined_u:object_r:etc_t:s0 6 Jul 29 13:17 /tmp/d1/d2 Add /tmp/d1 to the policy database with the semanage command to ensure the new context is persistent on the directory hierarchy. [root@server30 tmp]# semanage fcontext -a -t etc_t /tmp/d1 [root@server30 tmp]# reboot [root@server30 ~]# ls -ldZ /tmp/d1 drwxr-xr-x. 3 root root unconfined_u:object_r:etc_t:s0 16 Jul 29 13:17 /tmp/d1 [root@server30 ~]# ls -ldZ /tmp/d1/d2 drwxr-xr-x. 2 root root unconfined_u:object_r:etc_t:s0 6 Jul 29 13:17 /tmp/d1/d2 Lab: Add Network Port to Policy Database Add network port 9005 to the SELinux policy database for the secure HTTP service using the semanage command. [root@server30 ~]# semanage port -l | grep ^http_port http_port_t tcp 80, 81, 443, 488, 8008, 8009, 8443, 9000 [root@server30 ~]# semanage port -at http_port_t -p tcp 9005 Verify the addition. [root@server30 ~]# semanage port -l | grep ^http_port http_port_t tcp 9005, 80, 81, 443, 488, 8008, 8009, 8443, 9000 Lab: Copy Files with and without Context Create file sef1 under /tmp. [root@server30 ~]# touch /tmp/sef1 Copy the file to the /usr/local directory. [root@server30 ~]# cp /tmp/sef1 /usr/local Check and compare the contexts on both source and destination files. [root@server30 ~]# ls -lZ /tmp/sef1 -rw-r--r--. 1 root root unconfined_u:object_r:user_tmp_t:s0 0 Jul 29 13:33 /tmp/sef1 [root@server30 ~]# ls -lZ /usr/local/sef1 -rw-r--r--. 1 root root unconfined_u:object_r:usr_t:s0 0 Jul 29 13:33 /usr/local/sef1 Create another file sef2 under /tmp and copy it to the /var/local directory using the --preserve=context option with the cp command. [root@server30 ~]# touch /tmp/sef2 [root@server30 ~]# cp --preserve=context /tmp/sef2 /var/local/ Check and compare the contexts on both source and destination files. [root@server30 ~]# ls -lZ /tmp/sef2 /var/local/sef2 -rw-r--r--. 1 root root unconfined_u:object_r:user_tmp_t:s0 0 Jul 29 13:35 /tmp/sef2 -rw-r--r--. 1 root root unconfined_u:object_r:user_tmp_t:s0 0 Jul 29 13:36 /var/local/sef2 Lab: Flip SELinux Booleans Check the current value of Boolean ssh_use_tcpd using the getsebool and sestatus commands. [root@server30 ~]# getsebool -a | grep ssh_use_tcpd ssh_use_tcpd --\u003e off Use the setsebool command and toggle the value of the directive. [root@server30 ~]# setsebool ssh_use_tcpd 1 Confirm the new value with the getsebool, semanage, or sestatus command. [root@server30 ~]# getsebool -a | grep ssh_use_tcpd ssh_use_tcpd --\u003e on [root@server30 ~]# sestatus -b | grep ssh_use_tcpd ssh_use_tcpd on [root@server30 ~]# semanage boolean -l | grep ssh_use_tcpd ssh_use_tcpd (on , off) Allow ssh to use tcpd",
    "description": "The confusing world of SELinux",
    "tags": [],
    "title": "Security Enhanced Linux",
    "uri": "/cyber-security/security-enhanced-linux/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Storage",
    "content": "This is a step-by-step guide to setting up Nextcloud on a Debian server. You will need a server hosted by a VPS like Vultr. And a Domain hosted by a DNS provider such as Cloudflare\nWhat is Nextcloud? Nextcloud is so many things. It offers so many features and options, it deserves a bulleted list:\nFree and open source Cloud storage and syncing Email client Custom browser dashboard with widgets Office suite RSS newsfeed Project organization (deck) Notebook Calender Task manager Connect to decentralized social media (like Mastodon) Replacement for all of google’s services Create web forms or surveys It is also free and open source. This mean the source code is available to all. And hosting yourself means you can guarantee that your data isn’t being shared.\nAs you can see. Nextcloud is feature packed and offers an all in one solution for many needs. The set up is fairly simple!\nInstall Dependencies sudo apt update Sury Dependencies sudo apt install software-properties-common ca-certificates lsb-release apt-transport-https Enable Sury Repository sudo sh -c 'echo \"deb https://packages.sury.org/php/ $(lsb_release -sc) main\" \u003e /etc/apt/sources.list.d/php.list' Import the GPG key for the repository wget -qO - https://packages.sury.org/php/apt.gpg | sudo apt-key add - Install PHP 8.2 https://computingforgeeks.com/how-to-install-php-8-2-on-debian/?expand_article=1 (This is also part of the other dependencies install command below)\nsudo apt install php8.2 Install other dependencies: apt install -y nginx python3-certbot-nginx mariadb-server php8.2 php8.2-{fpm,bcmath,bz2,intl,gd,mbstring,mysql,zip,xml,curl} Improving Nextcloud server performance Adding more child processes for PHP to use:\nvim /etc/php/8.2/fpm/pool.d/www.conf # update the following parameters in the file pm = dynamic pm.max_children = 120 pm.start_servers = 12 pm.min_spare_servers = 6 pm.max_spare_servers = 18 Start your MariaDB server: systemctl enable mariadb --now Set up a SQL Database Nextcloud needs some tables setup in order to store information in a database. First set up a secure sql database:\nsudo mysql_secure_installation Say “Yes” to the prompts and enter root password:\nSwitch to unix_socket authentication [Y/n]: Y Change the root password? [Y/n]: Y\t# enter password. Remove anonymous users? [Y/n]: Y Disallow root login remotely? [Y/n]: Y Remove test database and access to it? [Y/n]: Y Reload privilege tables now? [Y/n]: Y Sign in to your SQL database with the password you just chose:\nmysql -u root -p Creating a database for NextCloud While signed in with the mysql command, enter the commands below one at a time. Make sure to replace the username and password. But leave localhost as is:\nCREATE DATABASE nextcloud; GRANT ALL ON nextcloud.* TO 'david'@'localhost' IDENTIFIED BY '@Rfanext12!'; FLUSH PRIVILEGES; EXIT; Install SSL with Certbot Obtain an SSL certificate. See my website setup post for information about Certbot and nginx setup.\ncertbot certonly --nginx -d nextcloud.example.com Create a CNAME record for DNS. You will need to have a domain name set up for your server. I use Cloudflare to manage my DNS records. You will want to make a CNAME record for your nextcloud subdomain.\nJust add “nextcloud” as the name and “yourwebsite.com” as the content. This will make it so “nextcloud.yourwebsite.com”. Make sure to select “DNS Only” under proxy status.\nNginx Setup Edit your sites-available config at /etc/nginx/sites-available/nextcloud. See comments in the following text box:\nvim /etc/nginx/sites-available/nextcloud # Add this to the file: # replace example.org with your domain name # use the following vim command to make this easier # :%s/example.org/perfectdarkmode.com/g # ^ this will replace all instances of example.org with perfectdarkmode.com. Replace with yur domain upstream php-handler { server unix:/var/run/php/php8.2-fpm.sock; server 127.0.0.1:9000; } map $arg_v $asset_immutable { \"\" \"\"; default \"immutable\"; } server { listen 80; listen [::]:80; server_name nextcloud.example.org ; return 301 https://$server_name$request_uri; } server { listen 443 ssl http2; listen [::]:443 ssl http2; server_name nextcloud.example.org ; root /var/www/nextcloud; ssl_certificate /etc/letsencrypt/live/nextcloud.example.org/fullchain.pem ; ssl_certificate_key /etc/letsencrypt/live/nextcloud.example.org/privkey.pem ; client_max_body_size 512M; client_body_timeout 300s; fastcgi_buffers 64 4K; gzip on; gzip_vary on; gzip_comp_level 4; gzip_min_length 256; gzip_proxied expired no-cache no-store private no_last_modified no_etag auth; gzip_types application/atom+xml application/javascript application/json application/ld+json application/manifest+json application/rss+xml application/vnd.geo+json application/vnd.ms-fontobject application/wasm application/x-font-ttf application/x-web-app-manifest+json application/xhtml+xml application/xml font/opentype image/bmp image/svg+xml image/x-icon text/cache-manifest text/css text/plain text/vcard text/vnd.rim.location.xloc text/vtt text/x-component text/x-cross-domain-policy; client_body_buffer_size 512k; add_header Referrer-Policy \"no-referrer\" always; add_header X-Content-Type-Options \"nosniff\" always; add_header X-Download-Options \"noopen\" always; add_header X-Frame-Options \"SAMEORIGIN\" always; add_header X-Permitted-Cross-Domain-Policies \"none\" always; add_header X-Robots-Tag \"none\" always; add_header X-XSS-Protection \"1; mode=block\" always; fastcgi_hide_header X-Powered-By; index index.php index.html /index.php$request_uri; location = / { if ( $http_user_agent ~ ^DavClnt ) { return 302 /remote.php/webdav/$is_args$args; } } location = /robots.txt { allow all; log_not_found off; access_log off; } location ^~ /.well-known { location = /.well-known/carddav { return 301 /remote.php/dav/; } location = /.well-known/caldav { return 301 /remote.php/dav/; } location /.well-known/acme-challenge { try_files $uri $uri/ =404; } location /.well-known/pki-validation { try_files $uri $uri/ =404; } return 301 /index.php$request_uri; } location ~ ^/(?:build|tests|config|lib|3rdparty|templates|data)(?:$|/) { return 404; } location ~ ^/(?:\\.|autotest|occ|issue|indie|db_|console) { return 404; } location ~ \\.php(?:$|/) { # Required for legacy support rewrite ^/(?!index|remote|public|cron|core\\/ajax\\/update|status|ocs\\/v[12]|updater\\/.+|oc[ms]-provider\\/.+|.+\\/richdocumentscode\\/proxy) /index.php$request_uri; fastcgi_split_path_info ^(.+?\\.php)(/.*)$; set $path_info $fastcgi_path_info; try_files $fastcgi_script_name =404; include fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param PATH_INFO $path_info; fastcgi_param HTTPS on; fastcgi_param modHeadersAvailable true; fastcgi_param front_controller_active true; fastcgi_pass php-handler; fastcgi_intercept_errors on; fastcgi_request_buffering off; fastcgi_max_temp_file_size 0; } location ~ \\.(?:css|js|svg|gif|png|jpg|ico|wasm|tflite|map)$ { try_files $uri /index.php$request_uri; add_header Cache-Control \"public, max-age=15778463, $asset_immutable\"; access_log off; # Optional: Don't log access to assets location ~ \\.wasm$ { default_type application/wasm; } } location ~ \\.woff2?$ { try_files $uri /index.php$request_uri; expires 7d; access_log off; } location /remote { return 301 /remote.php$request_uri; } location / { try_files $uri $uri/ /index.php$request_uri; } } Enable the site Create a link between the file you just made and /etc/nginx/sites-enabled\nln -s /etc/nginx/sites-available/nextcloud /etc/nginx/sites-enabled/ Install Nextcloud Download the latest Nextcloud version. Then extract into /var/www/. Also, update the file’s permissions to give nginx access:\nwget https://download.nextcloud.com/server/releases/latest.tar.bz2 tar -xjf latest.tar.bz2 -C /var/www chown -R www-data:www-data /var/www/nextcloud chmod -R 755 /var/www/nextcloud Start and enable php-fpm on startup \u003csystemctl enable php8.2fpm --now](\u003e\u003c--may not need this. # Do need this-\u003e sudo systemctl enable php8.2-fpm.service --now Reload nginx systemctl reload nginx Nextcloud occ tool Here is a built in Nextcloud tool just in case things break. Here is a guide on troubleshooting with occ. The basic command is as follows:\nsudo -u www-data php /var/www/nextcloud/occ Add this as an alias in ~/.bashrc for ease of use.\nYou are ready to log in to Nextcloud! Go to your nextcloud domain in a browser. In my case, I head to nextcloud.perfectdarkmode.com. Fill out the form to create your first Nextcloud user:\nChoose an admin username and secure password. Leave Data folder as the default value. For Database user, enter the user you set for the SQL database. For Database password, enter the password you chose for the new user in MariaDB. For Database name, enter: nextcloud Leave “localhost” as “localhost”. Click Finish. Now that you are signed in. Here are a few things you can do to start you off:\nDownload the desktop and mobile app and sync all of your data. (covered below) Look at different apps to consolodate your programs all in one place. Put the Nextcloud dashboard as your default browser homepage and customize themes. Set up email integration. NextCloud desktop synchronization Install the desktop client (Fedora)\nSudo dnf install nextcloudclient Install on other distros: https://help.nextcloud.com/t/install-nextcloud-client-for-opensuse-arch-linux-fedora-ubuntu-based-android-ios/13657\nRun the nextcloud desktop app and sign in. Choose folders to sync. Folder will be ~/Nextcloud. Move everything into your nextcloud folder. This may break things with filepaths so beware. Now you are ready to use and explore nextcloud. Here is a video from TechHut to get you started down the NextCloud rabbit hole.\nChange max upload size (default is 500mg) /var/www/nextcloud/.user.ini php_value upload_max_filesize = 16G php_value post_max_size = 16G\nRemove file locks Put Nextcloud in maintenance mode: Edit config/config.php and change this line:\n'maintenance' =\u003e true,\nEmpty table oc_file_locks: Use tools such as phpmyadmin or connect directly to your database and run (the default table prefix is oc_, this prefix can be different or even empty):\nDELETE FROM oc_file_locks WHERE 1\ndisable maintenance mode (undo first step). Make sure your cron-jobs run properly (you admin page tells you when cron ran the last time): https://docs.nextcloud.org/server/13/admin_manual/configuration_server/background_jobs_configuration.html 2.7k mysql -u root -p MariaDB [(none)]\u003e use nextcloud; MariaDB [nextcloud]\u003e DELETE FROM oc_file_locks WHERE 1; *figure out redis install if this happens regularly* [https://docs.nextcloud.org/server/13/admin_manual/configuration_server/caching_configuration.html#id4 9.1k](https://docs.nextcloud.org/server/13/admin_manual/configuration_server/caching_configuration.html#id4)",
    "description": "Self hosting a Nextcloud server",
    "tags": [],
    "title": "Self hosting a Nextcloud Server",
    "uri": "/storage/setting-up-a-self-hosted-nextcloud-server/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Ansible",
    "content": "Requirements for Ansible Python 3 on control node and managed nodes sudo ssh access to managed nodes Ansible installed on the Control node Lab Setup For this lab, we will need three virtual machines using RHEL 9. 1 control node and 2 managed nodes. Use IP addresses based on your lab network environment:\nHostname pretty hostname ip addreess RAM Storage vCPUs control.example.com control 192.168.124.200 2048MB 20G 2 ansible1.example.com ansible1 192.168.124.201 2048MB 20G 2 ansible2.example.com ansible2 192.168.124.202 2048MB 20G 2 I have set these VMs up in virt-manager, then cloned them so I can rebuild the lab later. You can automate this using Vagrant or Ansible but that will come later. Ignore the Win10 VM. It’s a necessary evil: Setting hostnames and verifying dependencies Set a hostname on all three machines:\n[root@localhost ~]# hostnamectl set-hostname control.example.com [root@localhost ~]# hostnamectl set-hostname --pretty control Install Ansible on Control Node\n[root@localhost ~]# dnf -y install ansible-core ... Verify python3 is installed:\n[root@localhost ~]# python --version Python 3.9.18 Configure Ansible user and SSH Add a user for Ansible. This can be any username you like, but we will use “ansible” as our lab user. Also, the ansible user needs sudo access. We will also make it so no password is required for convenience. You will need to do this on the control node and both managed nodes:\n[root@control ~]# useradd ansible [root@control ~]# visudo Add this line to the file that comes up: ansible ALL=(ALL) NOPASSWD: ALL\nConfigure a password for the ansible user:\n[root@control ~]# passwd ansible Changing password for user ansible. New password: BAD PASSWORD: The password is shorter than 8 characters Retype new password: passwd: all authentication tokens updated successfully. On the control node only: Add host names of the nodes to /etc/hosts:\necho \"192.168.124.201 ansible1 \u003e\u003e /etc/hosts \u003e ^C [root@control ~]# echo \"192.168.124.201 ansible1\" \u003e\u003e /etc/hosts [root@control ~]# echo \"192.168.124.202 ansible2\" \u003e\u003e /etc/hosts [root@control ~]# cat /etc/hosts 127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 192.168.124.201 ansible1 192.168.124.202 ansible2 Log in to the ansible user account for the remaining steps. Note, Ansible assumes passwordless (key-based) login for ssh. If you insist on using passwords, add the –ask-pass (-k) flag to your Ansible commands. (This may require sshpass package to work)\nOn the control node only: Generate an ssh key to send to the hosts for passwordless Login:\n[ansible@control ~]$ ssh-keygen -N \"\" -q Enter file in which to save the key (/home/ansible/.ssh/id_rsa): Copy the public key to the nodes and test passwordless access and test passwordless login to the managed nodes:\n^C[ansible@control ~]$ ssh-copy-id ansible@ansible1 /usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: \"/home/ansible/.ssh/id_rsa.pub\" /usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed /usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys ansible@ansible1's password: Number of key(s) added: 1 Now try logging into the machine, with: \"ssh 'ansible@ansible1'\" and check to make sure that only the key(s) you wanted were added. [ansible@control ~]$ ssh-copy-id ansible@ansible2 /usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: \"/home/ansible/.ssh/id_rsa.pub\" The authenticity of host 'ansible2 (192.168.124.202)' can't be established. ED25519 key fingerprint is SHA256:r47sLc/WzVA4W4ifKk6w1gTnxB3Iim8K2K0KB82X9yo. This key is not known by any other names Are you sure you want to continue connecting (yes/no/[fingerprint])? yes /usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed /usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys ansible@ansible2's password: Number of key(s) added: 1 Now try logging into the machine, with: \"ssh 'ansible@ansible2'\" and check to make sure that only the key(s) you wanted were added. [ansible@control ~]$ ssh ansible1 Register this system with Red Hat Insights: insights-client --register Create an account or view all your systems at https://red.ht/insights-dashboard Last failed login: Thu Apr 3 05:34:20 MST 2025 from 192.168.124.200 on ssh:notty There was 1 failed login attempt since the last successful login. [ansible@ansible1 ~]$ logout Connection to ansible1 closed. [ansible@control ~]$ ssh ansible2 Register this system with Red Hat Insights: insights-client --register Create an account or view all your systems at https://red.ht/insights-dashboard [ansible@ansible2 ~]$ logout Connection to ansible2 closed. Install lab stuff from the RHCE guide: sudo dnf -y install git\n[ansible@control base]$ cd [ansible@control ~]$ git clone https://github.com/sandervanvugt/rhce8-book Cloning into 'rhce8-book'... remote: Enumerating objects: 283, done. remote: Counting objects: 100% (283/283), done. remote: Compressing objects: 100% (233/233), done. remote: Total 283 (delta 27), reused 278 (delta 24), pack-reused 0 (from 0) Receiving objects: 100% (283/283), 62.79 KiB | 357.00 KiB/s, done. Resolving deltas: 100% (27/27), done.",
    "description": "Basic Ansible lab for RHCE",
    "tags": [],
    "title": "Setting up an Ansible Lab",
    "uri": "/ansible/1-setting-up-an-ansible-lab/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Bash Scripting",
    "content": "Shell Scripts A group of Linux commands along with control structures and optional comments stored in a text file.\nCan be executed directly at the Linux command prompt.\nDo not need to be compiled as they are interpreted by the shell line by line.\nManaging packages and users, administering partitions and file systems, monitoring file system utilization, trimming log files, archiving and compressing files, finding and removing unnecessary files, starting and stopping database services and applications, and producing reports.\nRun by the shell one at a time in the order in which they are listed.\nEach line is executed as if it is typed and run at the command prompt.\nControl structures are utilized for creating and managing conditional and looping constructs.\nComments are also generally included to add information about the script such as the author name, creation date, previous modification dates, purpose, and usage.\nIf the script encounters an error during execution, the error message is printed on the screen.\nCan use the nl command to enumerate the lines for troubleshooting.\nCan store your scripts in the /usr/local/bin directory, which is included in the PATH of all users by default.\nScript01: Displaying System Information Create the first script called sys_info.sh in /usr/local/bin/ Use the vim editor with sudo to write the script. #!/bin/bash echo \"Display Basic System Information\" echo \"==================================\" echo echo \"The hostname, hardware, and OS information is:\" /usr/bin/hostnamectl echo echo \"The Following users are currently logged in:\" /usr/bin/who Within vim, press the ESC key and then type :set nu to view line numbers associated with each line entry. Must add execute bit to run the script Executing a Script chmod +x /usr/local/bin/sys_info.sh ll /usr/local/bin/sys_info.sh -rwxr-xr-x. 1 root root 244 Jul 30 09:47 /usr/local/bin/sys_info.sh\u003e) Any user on the system can now run this script using either its name or the full path. Let’s run the script and see what the output will look like:\n$ sys_info.sh Display Basic System Information ================================== The hostname, hardware, and OS information is: Static hostname: server30 Icon name: computer-vm Chassis: vm 🖴 Machine ID: eaa6174e108d4a27bd619754… Boot ID: 13d8b3c167b24757b3678e4f… Virtualization: oracle Operating System: Red Hat Enterprise Linux… CPE OS Name: cpe:/o:redhat:enterprise… Kernel: Linux 5.14.0-362.24.1.el… Architecture: x86-64 Hardware Vendor: innotek GmbH Hardware Model: VirtualBox Firmware Version: VirtualBox The Following users are currently logged in: root pts/0 2024-07-30 07:22 (172.16.7.95) Debugging a Script Can either append the -x option to the “#!/bin/bash” at the beginning of the script to look like “#!/bin/bash -x”, or execute the script as follows:\n[root@server30 ~]# bash -x sys_info.sh + echo 'Display Basic System Information' Display Basic System Information + echo ================================== ================================== + echo + echo 'The hostname, hardware, and OS information is:' The hostname, hardware, and OS information is: + /usr/bin/hostnamectl Static hostname: server30 Icon name: computer-vm Chassis: vm 🖴 Machine ID: eaa6174e108d4a27bd6197548ce77270 Boot ID: 13d8b3c167b24757b3678e4fd3fe19ee Virtualization: oracle Operating System: Red Hat Enterprise Linux 9.3 (Plow) CPE OS Name: cpe:/o:redhat:enterprise_linux:9::baseos Kernel: Linux 5.14.0-362.24.1.el9_3.x86_64 Architecture: x86-64 Hardware Vendor: innotek GmbH Hardware Model: VirtualBox Firmware Version: VirtualBox + echo + echo 'The Following users are currently logged in:' The Following users are currently logged in: + /usr/bin/who root pts/0 2024-07-30 07:22 (172.16.7.95) Actual lines from the script prefixed by the + sign and followed by the command execution result. Shows the line number of the problem line in the output if there is any. This way you can identify any issues pertaining to the path, command name, use of special characters, etc., and address it quickly. Change one of the echo commands in the script to “iecho” and re-run the script in the debug mode to see the error:\n[root@server30 ~]# bash -x sys_info.sh + echo 'Display Basic System Information' Display Basic System Information + echo ================================== ================================== + iecho /usr/local/bin/sys_info.sh: line 4: iecho: command not found + echo 'The hostname, hardware, and OS information is:' The hostname, hardware, and OS information is: + /usr/bin/hostnamectl Static hostname: server30 Icon name: computer-vm Chassis: vm 🖴 Machine ID: eaa6174e108d4a27bd6197548ce77270 Boot ID: 13d8b3c167b24757b3678e4fd3fe19ee Virtualization: oracle Operating System: Red Hat Enterprise Linux 9.3 (Plow) CPE OS Name: cpe:/o:redhat:enterprise_linux:9::baseos Kernel: Linux 5.14.0-362.24.1.el9_3.x86_64 Architecture: x86-64 Hardware Vendor: innotek GmbH Hardware Model: VirtualBox Firmware Version: VirtualBox + echo + echo 'The Following users are currently logged in:' The Following users are currently logged in: + /usr/bin/who root pts/0 2024-07-30 07:22 (172.16.7.95) Script02: Using Local Variables Create a script called use_var.sh Define a local variable and display its value on the screen. Re-check the value of the variable after the script execution has completed. [root@server30 ~]# vim /usr/local/bin/use_var.sh #!/bin/bash echo \"Setting a Local Variable\" echo \"========================\" SYSNAME=server30.example.com echo \"The hostname of this system is $SYSNAME\" [root@server30 ~]# chmod +x /usr/local/bin/use_var.sh [root@server30 ~]# use_var.sh Setting a Local Variable ======================== The hostname of this system is server30.example.com If you run the echo command to see what is stored in the SYSNAME variable, you will get nothing:\n[root@server30 ~]# echo $SYSNAME Script03: Using Pre-Defined Environment Variables The following script called pre_env.sh will display the values of SHELL and LOGNAME environment variables:\n[root@server30 ~]# vim /usr/local/bin/pre_env.sh #!/bin/bash echo \"The location of my shell command is:\" echo $SHELL echo \"I am logged in as $LOGNAME\" [root@server30 ~]# chmod +x /usr/local/bin/pre_env.sh [root@server30 ~]# pre_env.sh The location of my shell command is: /bin/bash I am logged in as root Script04: Using Command Substitution Can use the command substitution feature of the bash shell and store the output generated by the command into a variable.\nTwo different ways to use command substitution: Backtics or subshell\n#!/bin/bash SYSNAME=$(hostname) KERNVER=`uname -r` echo \"The hostname is $SYSNAME\" echo \"The kernel version is $KERNVER\" [root@server30 ~]# vim /usr/local/bin/cmd_out.sh [root@server30 ~]# chmod +x /usr/local/bin/cmd_out.sh [root@server30 ~]# cmd_out.sh The hostname is server30 The kernel version is 5.14.0-362.24.1.el9_3.x86_64 Shell Parameters An entity that holds a value such as a name, special character, or number. The parameter that holds a name is referred to as a variable A parameter that holds a special character is referred to as a special parameter Represents the command or script itself ($0), count of supplied arguments ($* or $@), all arguments ($#), and PID of the process ($$) One or more digits, except for 0 is referred to as a positional parameter (a command line argument). ($1, $2, $3 . . .) is an argument supplied to a script at the time of its invocation Position is determined by the shell based on its location with respect to the calling script. Positional parameters beyond 9 are to be enclosed in curly brackets. Just like the variable and command substitutions, the shell uses the dollar ($) sign for special and positional parameter expansions as well. Script05: Using Special and Positional Parameters Create com_line_arg.sh to show the supplied arguments, total count, value of the first argument, and PID of the script:\n[root@server30 ~]# vim /usr/local/bin/com_line_arg.sh #!/bin/bash echo \"There are $# arguments specified at the command line\" echo \"The arguments supplied are: $*\" echo \"The first argument is: $1\" echo \"The Process ID of the script is: $$\" [root@server30 ~]# chmod +x /usr/local/bin/com_line_arg.sh [root@server30 ~]# com_line_arg.sh There are 0 arguments specified at the command line The arguments supplied are: The first argument is: The Process ID of the script is: 1935 [root@server30 ~]# com_line_arg.sh the dog jumped over the frog There are 6 arguments specified at the command line The arguments supplied are: the dog jumped over the frog The first argument is: the The Process ID of the script is: 1936 Script06: Shifting Command Line Arguments shift command\nUsed to move arguments one position to the left. During this move, the value of the first argument is lost. [root@server30 ~]# vim /usr/local/bin/com_line_arg_shift.sh #!/bin/bash echo \"There are $# arguments specified at the command line\" echo \"The arguments supplied are: $*\" echo \"The first argument is: $1\" echo \"The Process ID of the script is: $$\" shift echo \"The new first argument after the first shift is: $1\" shift echo \"The new first argument after the second shift is: $1\" [root@server30 ~]# chmod +x /usr/local/bin/com_line_arg_shift.sh [root@server30 ~]# com_line_arg_shift.sh There are 0 arguments specified at the command line The arguments supplied are: The first argument is: The Process ID of the script is: 1941 The new first argument after the first shift is: The new first argument after the second shift is: [root@server30 ~]# com_line_arg_shift.sh the dog jumped over the frog There are 6 arguments specified at the command line The arguments supplied are: the dog jumped over the frog The first argument is: the The Process ID of the script is: 1942 The new first argument after the first shift is: dog The new first argument after the second shift is: jumped Multiple shifts in a single attempt may be performed by furnishing a count of desired shifts to the shift command as an argument. For example, “shift 2” will carry out two shifts, “shift 3” will make three shifts, and so on. Logical Constructs Use test conditions, which decides what to do next based on the true or false status of the condition. The shell offers two logical constructs: if-then-fi case\nExit Codes (exit values)\nRefer to the value returned by a command when it finishes execution. Value is based on the outcome of the command. If the command runs successfully, you typically get a zero exit code(return code), otherwise you get a non-zero value. Return code is stored in a special shell parameter called ? (question mark). Let’s look at the following two examples to understand their usage:\n[root@server30 ~]# pwd /root [root@server30 ~]# echo $? 0 [root@server30 ~]# man What manual page do you want? For example, try 'man man'. [root@server30 ~]# echo $? 1 Exit code was returned and stored in the ?. Non-zero exit code was stored in ? with an error. Can define exit codes within a script at different locations to help debug the script by knowing where exactly it terminated. Test Conditions\nUsed in logical constructs to decide what to do next. Can be set on integer values, string values, or files using the test command or by enclosing them within the square brackets []. man test Operation on Integer Value\ninteger1 -eq (-ne) integer2\nInteger1 is equal (not equal) to integer2 integer1 -lt (-gt) integer2 Integer1 is less (greater) than integer2 integer1 -le (-ge) integer2\nInteger1 is less (greater) than or equal to integer2 Operation on String Value\nstring1=(!=)string2\nTests whether the two strings are identical (not identical) -l string or -z string\nTests whether the string length is zero string or -n string\nTests whether the string length is non-zero Operation on File\n-b (-c) file\nTests whether the file is a block (character) device file -d (-f) file\nTests whether the file is a directory (normal file) -e (-s) file\nTests whether the file exists (non-empty) -L file\nTests whether the file is a symlink -r (-w) (-x) file\nTests whether the file is readable (writable) (executable) -u (-g) (-k) file\nTests whether the file has the setuid (setgid) (sticky) bit file1 -nt (-ot) file2\nTests whether file1 is newer (older) than file2 Logical Operators\n!\nThe logical NOT operator -a or \u0026\u0026 (two ampersand characters)\nThe logical AND operator. Both operands must be true for the condition to be true. Syntax: [ -b file1 \u0026\u0026 -r file1 ] -o or || (two pipe characters)\nThe logical OR operator. Either of the two or both operands must be true for the condition to be true. Syntax: [ (x == 1 -o y == 2) ] if-then-fi Construct Evaluates the condition for true or false. Executes the specified action if the condition is true. Otherwise, it exits the construct. Begins with an if and ends with a fi Can execute an action only if the specified condition is true. It quits the statement if the condition is untrue. The general syntax of this statement is as follows:\nif condition \u003e then \u003e action \u003e fi\nScript07: The if-then-fi Construct Create if_then_fi.sh to determine the number of arguments and print an error message if there are none provided:\n[root@server30 ~]# vim /usr/local/bin/if_then_fi.sh #!/bin/bash if [ $# -ne 2 ] # Ensure there is a space after [ and before ] then echo \"Error: Invalid number of arguments supplied\" echo \"Usage: $0 source_file destination_file\" exit 2 fi echo \"Script terminated\" [root@server30 ~]# chmod +x /usr/local/bin/if_then_fi.sh [root@server30 ~]# if_then_fi.sh Error: Invalid number of arguments supplied Usage: /usr/local/bin/if_then_fi.sh source_file destination_file This script will display the following messages on the screen if it is executed without exactly two arguments specified at the command line:\n[root@server30 ~]# if_then_fi.sh Error: Invalid number of arguments supplied Usage: /usr/local/bin/if_then_fi.sh source_file destination_file Return code value reflects the exit code in the script .\n[root@server30 ~]# echo $? 2 Return code will be 0 if you supply a pair of arguments:\n[root@server30 ~]# if_then_fi.sh a b Script terminated [root@server30 ~]# echo $? 0 if-then-else-fi Construct Can execute an action if the condition is true and another action if the condition is false. The general syntax of this statement is as follows:\nif condition \u003e then \u003e action1 \u003e else \u003e action2 \u003e fi\nScript08: The if-then-else-fi Construct Create a script called if_then_else_fi.sh that will accept an integer value as an argument and tell if the value is positive or negative:\nvim /usr/local/bin/if_then_else_fi.sh #!/bin/bash if [ $1 -gt 0 ] then echo \"$1 is a positive integer value\" else echo \"$1 is a negative integer value\" fi [root@server30 ~]# chmod +x /usr/local/bin/if_then_else_fi.sh [root@server30 ~]# if_then_else_fi.sh /usr/local/bin/if_then_else_fi.sh: line 2: [: -gt: unary operator expected is a negative integer value [root@server30 ~]# if_then_else_fi.sh 3 3 is a positive integer value [root@server30 ~]# if_then_else_fi.sh -3 -3 is a negative integer value [root@server30 ~]# if_then_else_fi.sh a /usr/local/bin/if_then_else_fi.sh: line 2: [: a: integer expression expected a is a negative integer value [root@server30 ~]# echo $? 0 The if-then-elif-fi Construct Can define multiple conditions and associate an action with each one of them. The action corresponding to the true condition is performed. The general syntax of this statement is as follows:\nif condition1 \u003e then action1 \u003e elif condition2 \u003e then action2 \u003e elif condition3 \u003e then action3 \u003e else \u003e action(n) \u003e fi\nScript09: The if-then-elif-fi Construct (Example 1) Create if_then_elif_fi.sh script to accept an integer value as an argument and tell if the integer is positive, negative, or zero. If a non-integer value or no argument is supplied, the script will complain. Employ the exit command after each action to help you identify where it exited.\n[root@server30 ~]# vim /usr/local/bin/if_then_elif_fi.sh #!/bin/bash if [ $1 -gt 0 ] then echo \"$1 is a positive integer value\" exit 1 elif [ $1 -eq 0 ] then echo \"$1 is a zero integer value\" exit 2 elif [ $1 -lt 0 ] then echo \"$1 is a negative integer value\" exit 3 else echo \"$1 is not an integer value. Please supply an i nteger.\" exit 4 fi [root@server30 ~]# if_then_elif_fi.sh -0 -0 is a zero integer value [root@server30 ~]# echo $? 2 [root@server30 ~]# if_then_elif_fi.sh -1 -1 is a negative integer value [root@server30 ~]# echo $? 3 [root@server30 ~]# if_then_elif_fi.sh 10 10 is a positive integer value [root@server30 ~]# echo $? 1 [root@server30 ~]# if_then_elif_fi.sh abd /usr/local/bin/if_then_elif_fi.sh: line 2: [: abd: integer expression expected /usr/local/bin/if_then_elif_fi.sh: line 6: [: abd: integer expression expected /usr/local/bin/if_then_elif_fi.sh: line 10: [: abd: integer expression expected abd is not an integer value. Please supply an i nteger.\u003e) [root@server30 ~]# echo $? 4 Script10: The if-then-elif-fi Construct (Example 2) Create ex200_ex294.sh to display the name of the Red Hat exam RHCSA or RHCE in the output based on the input argument (ex200 or ex294). If a random or no argument is provided, it will print “Usage: Acceptable values are ex200 and ex294”. Add white spaces in the conditions.\n[root@server30 ~]# vim /usr/local/bin/ex200_ex294.sh #!/bin/bash if [ \"$1\" = ex200 ] then echo \"RHCSA\" elif [ \"$1\" = ex294 ] then echo \"RHCE\" else echo \"Usage: Acceptable values are ex200 and ex294\" fi [root@server30 ~]# chmod +x /usr/local/bin/ex200_ex294.sh [root@server30 ~]# ex200_ex294.sh ex200 RHCSA [root@server30 ~]# ex200_ex294.sh ex294 RHCE [root@server30 ~]# ex200_ex294.sh frog Usage: Acceptable values are ex200 and ex294 Looping Constructs Perform certain task on a number of given elements. Or repeatedly until a specified condition becomes true or false. Examples: if plenty of disks need to be initialized for use in LVM, you can either run the pvcreate command on each disk one at a time manually or employ a loop to do it for you. Based on a condition, you may want a program to continue to run until that condition becomes true or false. Three looping constructs: for-do-done\nfor loop is also referred to as the foreach loop. iterates on a list of given values until the list is exhausted. while-do-done while loop runs repeatedly until the specified condition becomes false. until-do-done until loop does just the opposite of the while loop Performs an operation repeatedly until the specified condition becomes true. Test Conditions let command\nUsed in looping constructs to evaluate a condition at each iteration. Compares the value stored in a variable against a pre-defined value Each time the loop does an iteration, the variable value is altered. Can enclose the condition for arithmetic evaluation within a pair of parentheses (( )) or quotation marks (\" “) instead of using the let command explicitly. Operators used in test conditions\n!\nNegation + / – / * / /\nAddition / subtraction /multiplication / division %\nRemainder \u003c / \u003c=\nLess than / less than or equal to \u003e / \u003e=\nGreater than / greater than or equal to =\nAssignment == / !=\nComparison for equality /non-equality The for Loop Executed on an array of elements until all the elements in the array are consumed. Each element is assigned to a variable one after the other for processing. The general syntax of this construct is as follows:\nfor VAR in list \u003e do \u003e action \u003e done\nScript11: Print Alphabets Using for Loop Create script for_do_done.sh script that initializes the variable COUNT to 0. The for loop will read each letter sequentially from the range placed within curly brackets (no spaces before the letter A and after the letter Z), assign it to another variable LETTER, and display the value on the screen. The expr command is an arithmetic processor, and it is used here to increment the COUNT by 1 at each loop iteration.\n[root@server10 ~]# vim /usr/local/bin/for_do_done.sh #!/bin/bash COUNT=0 for LETTER in {A..Z} do COUNT=`/usr/bin/expr $COUNT + 1` echo \"Letter $COUNT is [$LETTER]\" done [root@server10 ~]# chmod +x /usr/local/bin/for_do_done.sh [root@server10 ~]# for_do_done.sh Letter 1 is [A] Letter 2 is [B] Letter 3 is [C] Letter 4 is [D] Letter 5 is [E] Letter 6 is [F] Letter 7 is [G] Letter 8 is [H] Letter 9 is [I] Letter 10 is [J] Letter 11 is [K] Letter 12 is [L] Letter 13 is [M] Letter 14 is [N] Letter 15 is [O] Letter 16 is [P] Letter 17 is [Q] Letter 18 is [R] Letter 19 is [S] Letter 20 is [T] Letter 21 is [U] Letter 22 is [V] Letter 23 is [W] Letter 24 is [X] Letter 25 is [Y] Letter 26 is [Z] Script12: Create Users Using for Loop Create script create_user.sh script to create several Linux user accounts. As each account is created, the value of the variable ? is checked. If the value is 0, a message saying the account is created successfully will be displayed, otherwise the script will terminate. In case of a successful account creation, the passwd command will be invoked to assign the user the same password as their username.\n[root@server10 ~]# vim /usr/local/bin/create_user.sh #!/bin/bash for USER in user{10..12} do echo \"Create account for user $USER\" /usr/sbin/useradd $USER if [ $? = 0 ] then echo $USER | /usr/bin/passwd --stdin $USER echo \"$USER is created successfully\" else echo \"Failed to create account $USER\" exit fi done [root@server10 ~]# chmod +x /usr/local/bin/create_user.sh [root@server10 ~]# create_user.sh Create account for user user10 Changing password for user user10. passwd: all authentication tokens updated successfully. user10 is created successfully Create account for user user11 Changing password for user user11. passwd: all authentication tokens updated successfully. user11 is created successfully Create account for user user12 Changing password for user user12. passwd: all authentication tokens updated successfully. user12 is created successfully Script fails if ran again:\n[root@server10 ~]# create_user.sh Create account for user user10 useradd: user 'user10' already exists Failed to create account user10 Shell Scripting DIY Labs Lab: Write Script to Create Logical Volumes Present 2x1GB virtual disks to server40 in VirtualBox Manager. As user1 with sudo on server40, write a single bash script to create 2x400MB partitions on each disk using parted and then bring both partitions into LVM control with the pvcreate command. vim /usr/local/bin/lvscript.sh Create a volume group called vgscript and add both physical volumes to it. Create three logical volumes each of size 200MB and name them lvscript1, lvscript2, and lvscript3. #!/bin/bash for DEVICE in \"/dev/sd\"{b..c} do echo \"Creating partition 1 with the size of 400MB on $DEVICE\" parted $DEVICE mklabel msdos parted $DEVICE mkpart primary 1 401 pvcreate $DEVICE[1] echo \"Creating partition 2 with the size of 400MB on $DEVICE\" parted $DEVICE mkpart primary 402 802 pvcreate $DEVICE[2] vgcreate vgscript $DEVICE[1] $DEVICE[2] done for LV in \"lvscript\"{1..3} do echo \"Creating logical volume $LV in volume group vgscript with the size of 200MB\" lvcreate vgscript -L 200MB -n $LV done Lab: Write Script to Create File Systems Write another bash script to create xfs, ext4, and vfat file system structures in the logical volumes, respectively. Create mount points /mnt/xfs, /mnt/ext4, and /mnt/vfat, and mount the file systems. Include the df command with -h in the script to list the mounted file systems. vim /usr/local/bin/fsscript.sh [root@server40 ~]# chmod +x /usr/local/bin/fsscript.sh #!/bin/bash for DEVICE in lvscript{1..3} do if [ \"$DEVICE\" = lvscript1 ] then echo \"Creating xfs filesystem on logical volume lvscript1\" echo mkfs.xfs /dev/vgscript/lvscript1 echo \"Creating /mnt/xfs\" mkdir /mnt/xfs echo \"Mounting filesystem\" mount /dev/vgscript/lvscript1 /mnt/xfs elif [ \"$DEVICE\" = lvscript2 ] then echo \"Creating ext4 filesystem on logical volume lvscript2\" echo mkfs.ext4 /dev/vgscript/lvscript2 echo \"Creating /mnt/ext4\" mkdir /mnt/ext4 echo \"Mounting filesystem\" mount /dev/vgscript/lvscript2 /mnt/ext4 elif [ \"$DEVICE\" = lvscript3 ] then echo \"Creating vfat filesystem on logical volume lvscript3\" echo mkfs.vfat /dev/vgscript/lvscript3 echo \"Creating /mnt/vfat\" mkdir /mnt/vfat echo \"Mounting filesystem\" mount /dev/vgscript/lvscript3 /mnt/vfat echo echo echo \"Done!\" df -h else echo fi done [root@server40 ~]# fsscript.sh Creating xfs filesystem on logical volume lvscript1 Filesystem should be larger than 300MB. Log size should be at least 64MB. Support for filesystems like this one is deprecated and they will not be supported in future releases. meta-data=/dev/vgscript/lvscript1 isize=512 agcount=4, agsize=12800 blks = sectsz=512 attr=2, projid32bit=1 = crc=1 finobt=1, sparse=1, rmapbt=0 = reflink=1 bigtime=1 inobtcount=1 nrext64=0 data = bsize=4096 blocks=51200, imaxpct=25 = sunit=0 swidth=0 blks naming =version 2 bsize=4096 ascii-ci=0, ftype=1 log =internal log bsize=4096 blocks=1368, version=2 = sectsz=512 sunit=0 blks, lazy- count=1 realtime =none extsz=4096 blocks=0, rtextents=0 Creating /mnt/xfs Mounting filesystem Creating ext4 filesystem on logical volume lvscript2 mke2fs 1.46.5 (30-Dec-2021) Creating filesystem with 204800 1k blocks and 51200 inodes Filesystem UUID: b16383bf-7b65-4a00-bb6d-c297733f60b3 Superblock backups stored on blocks: 8193, 24577, 40961, 57345, 73729 Allocating group tables: done Writing inode tables: done Creating journal (4096 blocks): done Writing superblocks and filesystem accounting information: done Creating /mnt/ext4 Mounting filesystem Creating vfat filesystem on logical volume lvscript3 mkfs.fat 4.2 (2021-01-31) Creating /mnt/vfat Mounting filesystem Done! Lab 21-3: Write Script to Configure New Network Connection Profile Present a new network interface to server40 in VirtualBox Manager. As user1 with sudo on server40, write a single bash script to run the nmcli command to configure custom IP assignments (choose your own settings) on the new network device. Make a copy of the /etc/hosts file as part of this script. Choose a hostname of your choice and add a mapping to the /etc/hosts file without overwriting existing file content. [root@server40 ~]# vim /usr/local/bin/network.sh #!/bin/bash cp /etc/hosts /etc/hosts.bak \u0026\u0026 nmcli c a type Ethernet con-name enp0s9 ifname enp0s9 ip4 10.32.32.2/24 gw4 10.32.32.1 echo \"10.32.33.14 frog.example.com frog\" \u003e\u003e /etc/hosts [root@server40 ~]# chmod +x /usr/local/bin/network.sh [root@server40 ~]# network.sh Connection 'enp0s9' (5a342243-e77b-452e-88e2-8838d3ecea6d) successfully added. [root@server40 ~]# cat /etc/hosts 127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 10.32.33.14 frog.example.com frog [root@server40 ~]# ip a enp0s9: \u003cBROADCAST,MULTICAST,UP,LOWER_UP\u003e mtu 1500 qdisc fq_codel state UP group default qlen 1000 link/ether 08:00:27:1d:f4:c1 brd ff:ff:ff:ff:ff:ff inet 10.32.32.2/24 brd 10.32.32.255 scope global noprefixroute enp0s9 valid_lft forever preferred_lft forever inet6 fe80::2c5d:31cc:1d79:6b43/64 scope link noprefixroute valid_lft forever preferred_lft forever [root@server40 ~]# nmcli d s DEVICE TYPE STATE CONNECTION enp0s3 ethernet connected enp0s3 enp0s8 ethernet connected enp0s8 enp0s9 ethernet connected enp0s9 lo loopback connected (externally) lo",
    "description": "Shell scripting and logical constructs",
    "tags": [],
    "title": "Shell Scripting",
    "uri": "/bash-scripting/shell-scripting/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Desktop",
    "content": "Automated setup https://universal-blue.org/\nYou get all the benefits of using containers Separates system level packages from applications.\nSystem Level\nDesktop, kernel? Layering Apps at system level because containers aren’t as developed yet Locks to the fedora version you are on Layered package examples - gnome shell extensions - distrobox Uses rpm-ostree? https://coreos.github.io/rpm-ostree/administrator-handbook/\nFlatpacks\nRemove fedora flatpack stuff and use flathub repos instead https://flatpak.org/setup/Fedora\nSystemd unit for automatic flatpack updates\nUpdate every 4 hours to mirror ubuntu\nflatseal adjust permissions of flatpacks\ncheck out apps.gnome.org\nRebase into Universal Blue Rebase onto the “unsigned” image then reboot: rpm-ostree rebase ostree-unverified-registry:ghcr.io/ublue-os/silverblue-main:39 and\nThen the signed image and reboot: rpm-ostree rebase ostree-image-signed:docker://ghcr.io/ublue-os/silverblue-main:39\nThen do we you do after install, open the app store and install stuff via GUI or we\njust have a .justfile to install all flatpak/ homebrew packages https://universal-blue.discourse.group/t/introduction-to-just/42 https://just.systems/man/en/chapter_1.html\nMy justfile\nimport \"/usr/share/ublue-os/justfile\" # You can add your own commands here! For documentation, see: [https://ublue.it/guide/just/](https://ublue.it/guide/just/) first-install: flatpak install \\ flathub com.bitwarden.desktop \\ flathub com.brave.Browser \\ flathub com.discordapp.Discord \\ flathub net.cozic.joplin_desktop \\ flathub org.gimp.GIMP \\ flathub org.gnome.Snapshot \\ flathub org.libreoffice.LibreOffice \\ flathub org.remmina.Remmina \\ flathub com.termius.Termius \\ flathub net.devolutions.RDM \\ flathub com.slack.Slack \\ flathub org.keepassxc.KeePassXC \\ flathub md.obsidian.Obsidian \\ flathub com.calibre_ebook.calibre \\ flathub com.logseq.Logseq \\ flathub org.mozilla.Thunderbird \\ flathub us.zoom.Zoom \\ flathub org.wireshark.Wireshark \\ flathub com.nextcloud.desktopclient.nextcloud \\ flathub com.google.Chrome brew install \\ ansible \\ chezmoi \\ neovim \\ onedrive \\ wireguard-tools Set up github dotfiles repo\nInstall chezmoi and initialize: chezmoi init\nSync with Chezmoi: https://www.chezmoi.io/quick-start/\nAdd dotfiles chezmoi add ~/.bashrc\nEdit a dotfile chezmoi edit ~/.bashrc\nSee changes chezmoi diff\nApply changes chezmoi -v apply\nto sync chezmoi with git:\nchezmoi cd git remote add origin https://github.com/$GITHUB_USERNAME/dotfiles.git $ git push -u origin main $ exit For subsequent git pushes:\ngit commit -a -m \"commit\" \u0026\u0026 git push From a second machine: Install all dotfiles with a single command: chezmoi init --apply https://github.com/$GITHUB_USERNAME/dotfiles.git\nIf you use GitHub and your dotfiles repo is called dotfiles then this can be shortened to: $ chezmoi init --apply $GITHUB_USERNAME\nSee a list of full commands: chezmoi help\nOr you can initialize and choose what you want: chezmoi init https://github.com/$GITHUB_USERNAME/dotfiles.git\nSee what changes are awaiting: chezmoi diff\nApply changes: chezmoi apply -v\ncan also edit a file before applying: chezmoi edit $FILE\nOr merge the current file with new file: chezmoi merge $FILE\nFrom any machine, you can pull and apply changes from your repo: chezmoi update -v\nAdd the justfile: chezmoi add .justfile\nInstall Connect Tunnel Download from website Install java rpm-ostree install java\nRunn the connect tunnel install script\nCommands located in /var/usrlocal/Aventail must be ran as root `sudo ./startctui.sh",
    "description": "Fedora Silverblue",
    "tags": [],
    "title": "Silverblue",
    "uri": "/desktop/silverblue/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "System Initialization and Service Management systemd (system daemon)\nSystem initialization and service management mechanism.\nUnits and targets for initialization, service administration, and state changes\nHas fast-tracked system initialization and state transitioning by introducing:\nParallel processing of startup scripts Improved handling of service dependencies On-demand activation of services Supports snapshotting of system states.\nUsed to handle operational states of services\nBoots the system into one of several predefined targets\nTracks processes using control groups\nAutomatically maintains mount points.\nFirst process with PID 1 that spawns at boot\nLast process that terminates at shutdown.\nSpawns several processes during a service startup.\nPlaces the processes in a private hierarchy composed of control groups (or cgroups for short) to organize processes for the purposes of monitoring and controlling system resources such as:\nprocessor memory network bandwidth disk I/O Limit, isolate, and prioritize process usage of resources.\nResources distributed among users, databases, and applications based on need and priority\nInitiates distinct services concurrently, taking advantage of multiple CPU cores and other compute resources.\nCreates sockets for all enabled services that support socket-based activation at the very beginning of the initialization process.\nIt passes them on to service daemon processes as they attempt to start in parallel.\nThis lets systemd handle inter-service order dependencies\nAllows services to start without any delays.\nSystemd creates sockets first, starts daemons next, and caches any client requests to daemons that have not yet started in the socket buffer.\nFiles the pending client requests when the daemons they were awaiting come online.\nSocket\nCommunication method that allows a single process to talk to another process on the same or remote system. During the operational state, systemd:\nmaintains the sockets and uses them to reconnect other daemons and services that were interacting with an old instance of a daemon before that daemon was terminated or restarted. services that use activation based on D-Bus (Desktop Bus) are started when a client application attempts to communicate with them for the first time. Additional methods used by systemd for activation are device-based starting the service when a specific hardware type such as USB is plugged in path-based starting the service when a particular file or directory alters its state. D-Bus\nAllows multiple services running in parallel on a system or remote systems to talk to one another on-demand activation\nsystemd defers the startup of services—Bluetooth and printing—until they are actually needed. parallelization and on-demand activation\nsave time and compute resources. contribute to expediting the boot process considerably. benefit of parallelism witnessed at system boot is\nthe file systems are checked that may result in unnecessary delays. With autofs, the file systems are temporarily mounted on their normal mount points as soon as the checks on the file systems are finished, systemd remounts them using their standard devices. Parallelism in file system mounts does not affect the root and virtual file systems. Units Units\nsystemd objects used for organizing boot and maintenance tasks, such as:\nhardware initialization socket creation file system mounts service startups. Unit configuration is stored in their respective configuration files\nConfig files are:\nAuto-generated from other configurations Created dynamically from the system state Produced at runtime User-developed. Units operational states:\nactive inactive in the process of being activated deactivated failed. Units can be enabled or disabled\nenabled unit can be started to an active state disabled unit cannot be started. Units have a name and a type, and they are\nencoded in files with names in the form unitname.type. Some examples: tmp.mount sshd.service syslog.socket umount.target. There are two types of unit configuration files:\nSystem unit files distributed with installed packages and located in the /usr/lib/systemd/system/ User unit files user-defined and stored in the /etc/systemd/user/ View unit config file directories: ls -l /usr/lib/systemd/system ls -l /etc/systemd/user\npkg-config command:\nView systemd unit config directory information: pkg-config systemd --variable=systemdsystemunitdir pkg-config systemd --variable=systemduserconfdir\nadditional system units that are created at runtime and destroyed when they are no longer needed.\nlocated in /run/systemd/system/ runtime unit files take precedence over the system unit files\nuser unit files take priority over the runtime files.\nUnit configuration files\ndirect replacement of the initialization scripts found in /etc/rc.d/init.d/ in older RHEL releases. 11 unit types\nUnit Type Description Automount automount capabilities for on-demand mounting of file systems Device Exposes kernel devices in systemd and may be used to implement device-based activation Mount Controls when and how to mount or unmount file systems Path Activates a service when monitored files or directories are accessed Scope Manages foreign processes instead of starting them Service Starts, stops, restarts, or reloads service daemons and the processes they are made up of Slice May be used to group units, which manage system processes in a tree-like structure for resource management Socket Encapsulates local inter-process communication or network sockets for use by matching service units Swap Encapsulates swap partitions Target Defines logical grouping of units Timer Useful for triggering activation of other units based on timers Unit files contain common and specific configuration elements. Common elements\nfall under the [Unit] and [Install] sections description documentation location dependency information conflict information other options independent of the type of unit unit-specific configuration data located under the unit type section: [Service] for the service unit type [Socket] for the socket unit type so forth Sample unit file for sshd.service from the /usr/lib/systemd/system/:\ndavid@fedora:~$ cat /usr/lib/systemd/system/sshd.service [Unit] Description=OpenSSH server daemon Documentation=man:sshd(8) man:sshd_config(5) After=network.target sshd-keygen.target Wants=sshd-keygen.target # Migration for Fedora 38 change to remove group ownership for standard host keys # See https://fedoraproject.org/wiki/Changes/SSHKeySignSuidBit Wants=ssh-host-keys-migration.service [Service] Type=notify EnvironmentFile=-/etc/sysconfig/sshd ExecStart=/usr/sbin/sshd -D $OPTIONS ExecReload=/bin/kill -HUP $MAINPID KillMode=process Restart=on-failure RestartSec=42s [Install] WantedBy=multi-user.target Units can have dependencies based on a sequence (ordering) or a requirement. sequence outlines one or more actions that need to be taken before or after the activation of a unit (the Before and After directives). requirement specifies what must already be running (the Requires directive) or not running (the Conflicts directive) in order for the successful launch of a unit. Example:\nThe graphical.target unit file tells us that the system must already be operating in the multi-user mode and not in rescue mode in order for it to boot successfully into the graphical mode. Wants\nMay be used instead of Requires in the [Unit] or [Install] section so that the unit is not forced to fail activation if a required unit fails to start. Run man systemd.unit for details on systemd unit files.\nThere are also other types of dependencies systemd generally sets and maintains inter-service dependencies automatically This can be done manually if needed. Targets\nlogical collections of units special systemd unit type with the .target file extension. share the directory locations with other unit configuration files. used to execute a series of units. true for booting the system to a desired operational run level with all the required services up and running. Some targets inherit services from other targets and add their own to them. systemd includes several predefined targets Target Description halt Shuts down and halts the system poweroff Shuts down and powers off the system shutdown Shuts down the system rescue Single-user target for running administrative and recovery functions. All local file systems are mounted. Some essential services are started, but networking remains disabled. emergency Runs an emergency shell. The root file system is mounted in read-only mode; other file systems are not mounted. Networking and other services remain disabled. multi-user Multi-user target with full network support, but without GUI graphical Multi-user target with full network support and GUI reboot Shuts down and reboots the system default A special soft link that points to the default system boot target (multi-user.target or graphical.target) hibernate Puts the system into hibernation by saving the running state of the system on the hard disk and powering it off. When powered up, the system restores from its saved state rather than booting up. Systemd Targets Target unit files\ncontain all information under the [Unit] section description documentation location dependency and conflict information. Show the graphical target file (/usr/lib/systemd/system/graphical.target):\nroot@localhost ~]# cat /usr/lib/systemd/system/graphical.target [Unit] Description=Graphical Interface Documentation=man:systemd.special(7) Requires=multi-user.target Wants=display-manager.service Conflicts=rescue.service rescue.target After=multi-user.target rescue.service rescue.target display-manager.service AllowIsolate=yes Requires, Wants, Conflicts, and After suggests that the system must have already accomplished the rescue.service, rescue.target, multi-user.target, and display-manager.service levels in order to be declared running in the graphical target.\nRun man systemd.targetfor details\nsystemctl Command Performs administrative functions and supports plentiful subcommands and flags. Subcommand Description daemon-reload Re-reads and reloads all unit configuration files and recreates the entire user dependency tree. enable (disable) Activates (deactivates) a unit for autostart at system boot get-default (set-default) Shows (sets) the default boot target get-property (set-property) Returns (sets) the value of a property is-active Checks whether a unit is running is-enabled Displays whether a unit is set to autostart at system boot is-failed Checks whether a unit is in the failed state isolate Changes the running state of a system kill Terminates all processes for a unit list-dependencies Lists dependency tree for a unit list-sockets Lists units of type socket list-unit-files Lists installed unit files list-units Lists known units. This is the default behavior when systemctl is executed without any arguments. mask (unmask) Prohibits (permits) auto and manual activation of a unit to avoid potential conflict reload Forces a running unit to re-read its configuration file. This action does not change the PID of the running unit. restart Stops a running unit and restarts it show Shows unit properties start (stop) Starts (stops) a unit status Presents the unit status information Listing and Viewing Units List all units that are currently loaded in memory along with their status and description: systemctl\nOutput: UNIT column\nshows the name of the unit and its location in the tree LOAD column\nreflects whether the unit configuration file was properly loaded (loaded, not found, bad setting, error, and masked) ACTIVE column\nreturns the high-level activation state ( active, reloading, inactive, failed, activating, and deactivating) SUB column\ndepicts the low-level unit activation state (reports unit-specific information) DESCRIPTION column\nillustrates the unit’s content and functionality.\nsystemctl only lists active units by default\n--all\ninclude the inactive units: List all active and inactive units of type socket:\nsystemctl -t socket --all List all units of type socket currently loaded in memory and the service they activate, sorted by the listening address:\nsystemctl list-sockets List all unit files (column 1) installed on the system and their current state (column 2):\nsystemctl list-unit-files List all units that failed to start at the last system boot:\nsystemctl --failed List the hierarchy of all dependencies (required and wanted units) for the current default target:\nsystemctl list-dependencies List the hierarchy of all dependencies (required and wanted units) for a specific unit such as atd.service:\nsystemctl list-dependencies atd.service Managing Service Units systemctl subcommands to manage service units, including\nstarting stopping restarting checking status Check the current operational status and other details for the atd service:\nsystemctl status atd Output: service description\nread from /usr/lib/systemd/system/atd.service load status, which reveals the current load status of the unit configuration file in memory. Other possibilities for “Loaded” include “error” (if there was a problem loading the file) \"not-found\" (if no file associated with this unit was found) \"bad-setting\" (if a key setting was missing) \"masked\" (if the unit configuration file is masked) (enable or disable) for autostart at system boot. Active current activation status time the service was started Possible states: Active (running): The service is running with one or more processes Active (exited): Completed a one-time configuration Active (waiting): Running but waiting for an event Inactive: Not running Activating: In the process of being activated Deactivating: In the process of being deactivated Failed: If the service crashed or could not be started Also includes Main PID of the service process and more. Disable the atd service from autostarting at the next system reboot:\nsudo systemctl disable atd Re-enable atd to autostart at the next system reboot:\nsystemctl enable atd Check whether atd is set to autostart at the next system reboot:\nsystemctl is-enabled atd Check whether the atd service is running:\nsystemctl is-active atd Stop and restart atd, run either of the following:\nsystemctl stop atd ; systemctl start atd systemctl restart atd Show the details of the atd service:\nsystemctl show atd Prohibit atd from being enabled or disabled:\nsystemctl mask atd Try disabling or enabling atd and observe the effect of the previous command:\nsystemctl disable atd Reverse the effect of the mask subcommand and try disable and enable operations:\nsystemctl unmask atd \u0026\u0026 systemctl disable atd \u0026\u0026 systemctl enable atd Managing Target Units systemctl can also manage target units.\nview or change the default boot target switch from one running target into another View what units of type target are currently loaded and active:\nsystemctl -t target output:\ntarget unit’s name load state high-level and low-level activation states short description. –all option to the above\nsee all loaded targets in either active or inactive state. Viewing and Setting Default Boot Target\nview the current default boot target and to set it. get-default and set-default subcommands Check the current default boot target:\nYou may have to modify the default boot target persistently for the exam. Change the current default boot target from graphical.target to multi-user.target:\nsystemctl set-default multi-user removes the existing symlink (default.target) pointing to the old boot target and replaces it with the new target file path. revert the default boot target to graphical:\nsystemctl set-default graphical Switching into Specific Targets Use systemctl to transition the running system from one target state into another. graphical, multi-user, reboot, shutdown—are the most common rescue and emergency targets are for troubleshooting and system recovery purposes, poweroff and halt are similar to shutdown hibernate is suitable for mobile devices. Switch into multi-user using the isolate subcommand:\nsystemctl isolate multi-user This will stop the graphical service on the system and display the text-based console login screen. Type in a username such as user1 and enter the password to log in:\nLog in and return to the graphical target:\nsystemctl isolate graphical Shut down the system and power it off, use the following or simply run the poweroff command:\nsystemctl poweroff poweroff Shut down and reboot the system:\nsystemctl reboot reboot halt, poweroff, and reboot are symbolic links to the systemctl command:\n[root@localhost ~]# ls -l /usr/sbin/halt /usr/sbin/poweroff /usr/sbin/reboot lrwxrwxrwx. 1 root root 16 Aug 22 2023 /usr/sbin/halt -\u003e ../bin/systemctl lrwxrwxrwx. 1 root root 16 Aug 22 2023 /usr/sbin/poweroff -\u003e ../bin/systemctl lrwxrwxrwx. 1 root root 16 Aug 22 2023 /usr/sbin/reboot -\u003e ../bin/systemctl shutdown command options: -H now\nHalt -P now poweroff -r now reboot broadcasts a warning message to all logged-in users blocks new user login attempts waits for the specified amount of time for users to log off stops the services shut the system down to the specified target state. System Logging Log files need to be rotated periodically to prevent the file system space from filling up. Configuration files that define the default and custom locations to direct the log messages to and to configure rotation settings. system log file records custom messages sent to it. systemd includes a service for viewing and managing system logs in addition to the traditional logging service. This service maintains a log of runtime activities for faster retrieval and can be configured to store the information permanently. System logging (syslog for short)\ncapture messages generated by: kernel daemons commands user activities applications other events Forwards messages to various log files For security auditing, service malfunctioning, system troubleshooting, or informational purposes. rsyslogd daemon (rocket-fast system for log processing)\nResponsible for system logging Multi-threaded support for: enhanced filtering encryption-protected message relaying variety of configuration options. Reads its configuration file /etc/rsyslog.conf and the configuration files located in /etc/rsyslog.d/ at startup. /var/log Default depository for most system log files Other services such as audit, Apache, etc. have subdirectories here as well. rsyslog service\nmodular allows the modules listed in its configuration file to be dynamically loaded in the kernel when/as needed. Each module brings a new functionality to the system upon loading. rsyslogd daemon\ncan be stopped manually using systemctl stop rsyslog\nstart, restart, reload, and status options are also available\nA PID is assigned to the daemon at startup\nrsyslogd.pid file is created in the /run directory to save the PID.\nPID is stored to prevent multiple instances of this daemon.\nTheSyslog Configuration File /etc/rsyslog.conf\nprimary syslog configuration file View /etc/rsyslog.conf: cat /etc/rsyslog.conf\nOutput: Three sections:\nModules, Global Directives, and Rules.\nModules section default defines two modules imuxsock and imjournal loaded on demand. imuxsock module furnishes support for local system logging via the logger command imjournal module\nallows access to the systemd journal.\nGlobal Directives section\ncontains three active directives. Definitions in this section influence the overall functionality of the rsyslog service. first directive Sets the location for the storage of auxiliary files (/var/lib/rsyslog). second directive instructs the rsyslog service to save captured messages using traditional file formatting third directive directs the service to load additional configuration from files located in the /etc/rsyslogd.d/ directory. Rules section\nRight field is referred to as action. selector field left field of the rules section divided into two period-separated sub-fields called facility (left) representing one or more system process categories that generate messages priority (right) identifying the severity associated with the messages. semicolon (;) is used as a distinction mark if multiple facility.priority groups are present. action field determines the destination to send the messages to. numerous supported facilities: auth authpriv cron daemon kern lpr mail news syslog user uucp local0 throughv local7 asterisk (*) character represents all of them. supported priorities in the descending criticality order: emerg alert crit error warning notice info debug none If a lower priority is selected, the daemon logs all messages of the service at that and higher levels.\nAfter modifying the syslog configuration file, Inspect it and set the verbosity: rsyslogd -N 1 (-N inspect, 1 level 1)\nRestart or reload the rsyslog service in order for the changes to take effect. Rotating Log Files Log location is defined in the rsyslog configuration file.\nView the /var/log/ directory: ls -l /var/log\nsystemd unit file called logrotate.timer under the /usr/lib/systemd/system directory invokes the logrotate service (/usr/lib/systemd/system/logrotate.service) on a daily basis. Here is what this file contains:\n[root@localhost cron.daily]# systemctl cat logrotate.timer # /usr/lib/systemd/system/logrotate.timer [Unit] Description=Daily rotation of log files Documentation=man:logrotate(8) man:logrotate.conf(5) [Timer] OnCalendar=daily AccuracySec=1h Persistent=true [Install] WantedBy=timers.target The logrotate service runs rotations as per the schedule and other parameters defined in the /etc/logrotate.conf and additional log configuration files located in the /etc/logrotate.d directory.\n/etc/cron.daily/logrotate script invokes the logrotate command on a daily basis. runs a rotation as per the schedule defined in /etc/logrotate.conf and the configuration files for various services are located in /etc/logrotate.d/ The configuration files may be modified to alter the schedule or include additional tasks on log files such as: removing compressing emailing grep -v ^$ /etc/logrotate.conf # see \"man logrotate\" for details # global options do not affect preceding include directives # rotate log files weekly weekly # keep 4 weeks worth of backlogs rotate 4 # create new (empty) log files after rotating old ones create # use date as a suffix of the rotated file dateext # uncomment this if you want your log files compressed #compress # packages drop log rotation information into this directory include /etc/logrotate.d # system-specific logs may be also be configured here. content:\ndefault log rotation frequency (weekly).\nperiod of time (4 weeks) to retain the rotated logs before deleting them.\nEach time a log file is rotated:\nEmpty replacement file is created with the date as a suffix to its name rsyslog service is restarted script presents the option of compressing the rotated files using the gzip utility.\nlogrotate command checks for the presence of additional log configuration files in /etc/logrotate.d/ and includes them as necessary. directives defined in /etc/logrotate.conf file have a global effect on all log files can define custom settings for a specific log file in /etc/logrotate.conf/ or create a separate file in /etc/logrotate.d/ settings defined in user-defined files overrides the global settings. The /etc/logrotate.d/ directory includes additional configuration files for other service logs:\nls -l /etc/logrotate.d/ Show the file content for btmp (records of failed user login attempts) that is used to control the rotation behavior for /var/log/btmp:\ncat /etc/logrotate.d/btmp ``` - rotation is once a month. - replacement file created will get read/write permission bits for the owner (*root*) - owning group will be set to *utmp* - rsyslog service will maintain one rotated copy of the *btmp* log file. ### The Boot Log File Logs generated during the system startup: - Display the service startup sequence. - Status showing whether the service was started successfully. - May help in any post-boot troubleshooting if required. - /var/log/boot.log View /var/log/boot.log: sudo head /var/log/boot.log\noutput: - OK or FAILED - indicates if the service was started successfully or not. ### The System Log File /var/log/messages - default location for storing most system activities, as defined in the *rsyslog.conf* file - saves log information in plain text format - may be viewed with any file display utility (*cat*, *more*, *pg*, *less*, *head*, or *tail*.) - may be observed in real time using the *tail* command with the -f switch. The *messages* file - captures: - the date and time of the activity, - hostname of the system, - name and PID of the service - short description of the event being logged. View /var/log messages: ```bash tail /var/log/messages Logging Custom Messages The Modules section in the rsyslog.conf file\nProvides the support via the imuxsock module to record custom messages to the messages file using the logger command. logger command Add a note indicating the calling user has rebooted the system:\nlogger -i \"System rebooted by $USER\" observe the message recorded along with the timestamp, hostname, and PID:\ntail -l /var/log/messages -p option\nspecify a priority level either as a numerical value or in the facility.priority format. default priority user.notice. View logger man pages: man logger\nThe systemd Journal Systemd-based logging service for the collection and storage of logging data.\nImplemented via the systemd-journald daemon.\nGather, store, and display logging events from a variety of sources such as:\nthe kernel rsyslog and other services initial RAM disk alerts generated during the early boot stage. journals stored in the binary format files\nlocated in /run/log/journal/ (remember run is not a persistent directory)\nstructured and indexed for faster and easier searches\nMay be viewed and managed using the journalctl command.\nCan enable persistent storage for the logs if desired.\nRHEL runs both rsyslogd and systemd-journald concurrently.\ndata gathered by systemd-journald may be forwarded to rsyslogd for further processing and persistent storage in text format.\n/etc/systemd/journald.conf\nmain config file for journald contains numerous default settings that affect the overall functionality of the service. Retrieving and Viewing Messages journalctl command retrieve messages from the journal for viewing in a variety of ways using different options. run journalctl without any options to see all the messages generated since the last system reboot: journalctl\nformat of the messages is similar to that of the events logged to /var/log/messages Each line begins with a timestamp followed by the system hostname, process name with or without a PID, and the actual message. Display verbose output for each entry:\njournalctl -o verbose View all events since the last system reboot:\njournalctl -b -0 (default, since the last system reboot), -1 (the previous system reboot), -2 (two reboots before) 1 \u0026 2 only work if there are logs persistently stored.\nView only kernel-generated alerts since the last system reboot:\njournalctl -kb0 Limit the output to view 3 entries only:\njournalctl -n3 To show all alerts generated by a particular service, such as crond:\njournalctl /usr/sbin/crond Retrieve all messages logged for a certain process, such as the PID associated with the chronyd service:\njournalctl _PID=$(pgrep chronyd) Reveal all messages for a particular system unit, such as sshd.service:\njournalctl _SYSTEMD_UNIT=sshd.service View all error messages logged between a date range, such as October 10, 2019 and October 16, 2019:\njournalctl --since 2019-10-16 --until 2019-10-16 -p err Get all warning messages that have appeared today and display them in reverse chronological order:\njournalctl --since today -p warning -r Can specify the time range in hh:mm:ss format, or yesterday, today, or tomorrow as well. follow option\njournalctl -f man journalctl man systemd-journald Preserving Journal Information enable a separate storage location for the journal to save all its messages there persistently. default is under /var/log/journal/ The systemd-journald service supports four options with the Storage directive to control how the logging data is handled.\nOption Description volatile Stores data in memory only persistent Stores data permanently under /var/log/journal and falls back to memory-only option if this directory does not exist or has a permission or other issue. The service creates /var/log/journal in case of its non-existence. auto Similar to “persistent” but does not create /var/log/journal if it does not exist. This is the default option. none Disables both volatile and persistent storage options. Not recommended. Journal Data Storage Options create the /var/log/journal/ manually and use preferred “auto” option.\nfaster query responses from in-memory storage access to historical log data from on-disk storage. Lab: Configure Persistent Storage for Journal Information Run the necessary steps to enable and confirm persistent storage for the journals.\nCreate a subdirectory called journal under the /var/log/ directory and confirm: sudo mkdir /var/log/journal Restart the systemd-journald service and confirm: systemctl restart systemd-journald \u0026\u0026 systemctl status systemd- journald List the new directory and observe a subdirectory matching the machine ID of the system as defined in the /etc/machine-id file is created: ll /var/log/journal \u0026\u0026 cat /etc/machine-id This log file is rotated automatically once a month based on the settings in the journald.conf file. Check the manual pages of journal.conf\nman journald.conf System Tuning System tuning service\nMonitor connected devices Tweak their parameters to improve performance or conserve power. Recommended tuning profile may be identified and activated for optimal performance and power saving. tuned system tuning service monitor storage, networking, processor, audio, video, and a variety of other connected devices Adjusts their parameters for better performance or power saving based on a chosen profile. Several predefined tuning profiles may be activated either statically or dynamically. tuned service\nstatic behavior (default)\nactivates a selected profile at service startup and continues to use it until it is switched to a different profile. dynamic\nadjusts the system settings based on the live activity data received from monitored system components tuned tuning Profiles Nine profiles to support a variety of use cases. Can create custom profiles from nothing or by using one of the existing profiles as a template. Must to store the custom profile in /etc/tuned/ Three groups: (1) Performance (2) Power consumption (3) Balanced\nProfile Description Performance Desktop Based on the balanced profile for desktop systems. Offers improved throughput for interactive applications. Latency-performance For low-latency requirements Network-latency Based on the latency-performance for faster network throughput Network-throughput Based on the throughput-performance profile for maximum network throughput Virtual-guest Optimized for virtual machines Virtual-host Optimized for virtualized hosts Power Saving Powersave Saves maximum power at the cost of performance Balanced/Max Profiles Balanced Preferred choice for systems that require a balance between performance and power saving Throughput-performance Provides maximum performance and consumes maximum power Tuning Profiles Predefined profiles are located in /usr/lib/tuned/ in subdirectories matching their names.\nView predefined profiles:\nls -l /usr/lib/tuned The default active profile set on server1 and server2 is the virtual-guest profile, as the two systems are hosted in a VirtualBox virtualized environment.\nThe tuned-adm Command single profile management command that comes with tuned can list active and available profiles, query current settings, switch between profiles, and turn the tuning off. Can recommend the best profile for the system based on many system attributes. View the man pages:\nman tuned-adm Lab 12-2: Manage Tuning Profiles install the tuned service start it now enable it for auto-restart upon future system reboots. display all available profiles and the current active profile. switch to one of the available profiles and confirm. determine the recommended profile for the system and switch to it. deactivate tuning and reactivate it. confirm the activation Install the tuned package if it is not already installed: dnf install tuned Start the tuned service and set it to autostart at reboots: systemctl --now enable tuned Confirm the startup: systemctl status tuned Display the list of available and active tuning profiles: tuned-adm list List only the current active profile: tuned-adm active Switch to the powersave profile and confirm: tuned-adm profile powersave tuned-adm active Determine the recommended profile for server1 and switch to it: [root@localhost ~]# tuned-adm recommend virtual-guest [root@localhost ~]# tuned-adm profile virtual-guest [root@localhost ~]# tuned-adm active Current active profile: virtual-guest Turn off tuning: [root@localhost ~]# tuned-adm off [root@localhost ~]# tuned-adm active No current active profile. Reactivate tuning and confirm: [root@localhost ~]# tuned-adm profile virtual-guest [root@localhost ~]# tuned-adm active Current active profile: virtual-guest Sysinit, Logging, and Tuning Labs Lab: Modify Default Boot Target Modify the default boot target from graphical to multi-user, and reboot the system to test it. systemctl set-default multi-user Run the systemctl and who commands after the reboot for validation. Restore the default boot target back to graphical and reboot to verify. Lab: Record Custom Alerts Write the message “This is $LOGNAME adding this marker on $(date)” to /var/log/messages. logger -i \"This is $LOGNAME adding this marker on $(date)\" Ensure that variable and command expansions work. Verify the entry in the file. tail -l /var/log/messages Lab: Apply Tuning Profile identify the current system tuning profile with the tuned-adm command. tuned-adm active List all available profiles. tuned-adm list List the recommended profile for server1. tuned-adm recommend Apply the “balanced” profile and verify with tuned-adm. tuned-adm profile balanced tuned-adm active",
    "description": "System initialization, service management, tuning, and logging",
    "tags": [],
    "title": "System Initialization, Message Logging, and System Tuning",
    "uri": "/redhat/system-initialization-message-logging-and-system-tuning/"
  },
  {
    "breadcrumb": "Linux Reader",
    "content": "",
    "description": "",
    "tags": [],
    "title": "Tags",
    "uri": "/tags/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "This second half of the book was almost an identical copy of the second half of the book. But still filled with solid advice on establishing a vision, settings goals, measuring the effectiveness of your actions, and other tidbits about being effective and taking action.\nI have been implementing most of this and needed to go back through to make sure I’ve got down the process.\nI highly advise you make your own outline so you do not have to read everything “twice again”.\nSummary and Highlights The barrier between the life you are living and the life you want is effective execution. Getting in shape is not a knowledge problem, it’s an execution problem. In order to maintain effective execution, you must:\nFocus on the things that matter Maintain a sense of urgency Get rid of low value activity Annual goals remove the sense of urgency we need to achieve our goals. 12 weeks is long enough to get things done, but short enough to not let you lose sight of your goals. Every 12 weeks you get a fresh start.\nIf you have had a bad 12 week year you can shake it off and start fresh. If you have had a good 12 week year, then you can build off the momentum.\nAt the end of each 12 week year, take a week of to reflect, regroup, and re-energize. You have 4 times as many opportunities to set new goals and celebrate your accomplishments.\nEach weeks counts. And each day counts as you increase your focus on a few important daily tasks. Focusing on the short term keeps you from getting ahead of yourself.\nYou need a strong emotional stake in your goals Action is uncomfortable, you must have values in place. You must value your higher purpose more than your comfort. If you establish a compelling vision of the future. And align your short term goals and plans with that vision. Then it will be easier to cope with short term discomforts.\nQuestions to ask when creating your vision: What do you truly want to achieve? What legacy do you want to create? What do you want for yourself and your family? What do you want spiritually? What level of security do you seek? What level of income and fulfillment do you want from your career? What interests do you wish you could pursue? What do you really want to do with the time you have been allotted? You create things mentally before you create them physically. And you will never outpace your mental models. Vision is where you engage your thinking about what is possible for you.\nPeople focus on only their career or business. But those are only certain aspects of life. You need to establish a vision of your whole life, and align your business goals around that.\nYou need to make your vision compelling enough to act on it. This is what creates the emotional connection needed to act on your goals.\nThis creates passion.\nThe execution system The eight fundamental elements can be broken down into 5 disciplines and 3 principles.\n5 Disciplines\nVision Planning Process Control Measurement Time use 3 Principles\nAccountability Commitment Greatness in the moment How to create a personal vision Find out what you want in all areas of life:\nSpiritual Relationships Family Income Lifestyle Health Community Your career or business vision is is more powerful when it is developed in light of your personal vision. Once you have a personal vision, you can figure exactly the amount of income or production you need from your career or business.\nBy thinking about your vision often, your strengthen the areas of the brain that would help you make that happen.\nShift from a “How?” mindset to a “What if?” mindset. This helps you see your vision as possible. Then to “How might I?” and determine a plan. This helps you see your vision as probable.\nNext, Implement your plan. This moves your vision from probable to Given.\nThree time horizons for your vision Long term aspirations Mid-term (3 years) 12 weeks Long term aspirations Imagine and embrace all possibilities. What do you want to have, do, and be in your life? What is most important to you in each life category? How much free time? What level of income?\nWhat is your vision 5, 10, and 15 years into the future?\nMid-term (3 years) What do you want to create over the next 3 years based on your long term vision?\nAsk yourself these questions Why are these things important to you? What does your vision unlock for you? What will be different for you, and those around you, if you reach that goal? Who will you share your vision with? How often have you looked at your vision? What risks or barriers might get in the way?\nTeam or family vision Have each member work through their personal visions. Then come together and make a group vision that aligns with everyone’s personal visions.\nDo this Take your vision seriously. Keep it in front of you and align your plans with it. Review it often. Think BIG. Your vision should challenge you. Share your vision with others, print it out, review it daily. Find ways to make it more meaningful and vivid. Reflect on each day. Was it filled with activity that moved you toward your vision? What action will you take tomorrow? The 12 week year A vision without a plan is just a dream. Working from a plan helps you focus on the right things, saves you time, and reduces mistakes. You make your mistakes when writing your plan down on paper. A plan helps you cut through unimportant distractions that pop up every day.\nQuarterly goals are typically smaller goals that help you get to your annual goals. 12 week years are shrinking your annual goals into 12 weeks. Each 12 weeks stands alone.\n12 weeks is a more predictable time frame. The farther the goal, the more unpredictable. Which makes it harder and harder to plan for. it’s nearly impossible to predict what your actions should be 12 months into the future.\n12 weeks narrows your focus and keeps you from spreading yourself too thin. 12 weeks also gives you structure.\n1. Set goals Identify your 1-3 goals for the 12 weeks. This goals are the next 1-3 steps toward your long term vision. Then, create the tactics, or the daily or weekly actions you need to take to reach those goals.\nConsistent action on few critical tasks is what drives success. Like dropping water wearing away on a stone.\nSpend 20 minutes at the beginning of each week to review your previous week and plan the new one. Spend the first 5 minutes of each day reviewing your weekly plan and setting your plan for the day accordingly.\nCheck in with this plan multiple times per day and make sure you are executing on it. A good goal is specific and measurable, positively stated, realistic, and time bound.\nAsk yourself why this goal is important to you? What will be different if your achieve this goal?\nIs this in line with your vision?\n2. Create a plan Set the actions needed, and when they are to be acted on, as daily or weekly tasks. Brainstorm on a sheet of paper all of the things you need to do to or ideas to achieve your goal.\nWhat actions will you struggle with? What can you do to overcome those struggles? Select the smallest number of the brainstormed actions needed to achieve the goal.\nTrying to execute too many tactics will spread you thin.\nKeep it simple.\n3. Set up Process controls Process controls are what you do to keep your plan from breaking down in a lapse of willpower. The two elements of process control are a weekly plan, and peer support.\nA weekly plan gives you clarity. Not all is lost when you lose 50% of a week.\nPeer support creates room for getting help from others. Meet on a weekly basis to discuss progress, struggles, and challenges. Encourage one another. Form a group of 2-4 committed people.\nWeekly meeting agenda:\nIndividual report Results to date Weekly execution score Intentions for the coming week Feedback and suggestions from the group Discuss what has been working and how to incorporate that into each other’s plan Encouragement Weekly plan Take 15 minutes at the beginning of each week to plan the week on paper. Make sure you include all of your tasks for the week. Do not assume each week will be the same. And do not (usually) add extra tactics that weren’t in the original plan. Use this plan to guide your day.\nOnly change your plan if you have been executing and it’s not working.\nWeekly Score Measuring your success will tell you if what you are doing it working. And lets you know what adjustments to make. The data you get from measuring does not care about efforts or intentions. Only on outcomes. Are you getting the outcome you desire?\nThe sooner you confront yout outcomes, the sooner you can figure out what works and what doesn’t. Then you can shift your focus to what is working.\nMeasure lead and lag indicators.\nLag indicators measure overall results such as lbs lost, money made, etc. Lead indicators measure the activities that produce the results. Are you following through with your plan?\nYou can always control results, but you can control execution in real time. So Lead indicators should be your primary focus.\nIf you are not hitting your goals, is it a problem with the plan? Or with the execution of that plan? Is your strategy flawed? Or are you failing to implement that strategy? Once you identify your problem, you can address it head on.\nEstablish a set of lead and lag indicators for each of your goals. And measure your lead indicators as a percentage of tactics completed. (measuring execution, not results.) Score yourself on the percentage of tactics completed that week.\nStrive for excellence, not perfection. Aim for 85% and you will most likely achieve your objectives. Even 65-70% is better than nothing.\nFacing the reality of your actions is hard. You will be uncomfortable if you are not doing the things you need to do. (Productive tension)\nUse this as a catalyst for change, instead of running away.\nTeam/Family Process Control Does everyone have a plan for each week? Are they scoring each week? Are they participating in a weekly group meeting?\n4. Use your time with purpose Say no to things that go against your goals. Organize your life around your priorities that make progress toward your vision. Be intentional about how you allocate your time.\nT.V. may be beneficial in some ways, but helping us live a life of significance is not one of them.\nYou may be doing busy work that is actually unimportant to the goals at hand.\nAlign your time and energy with what you do best and what you enjoy doing.\n5. Performance time Blocking out time chunks to work on important tasks. There are three categories of performance time:\nStrategic blocks Buffer blocks Breakout blocks Strategic blocks 3 hour block of time scheduled early into each week. Block out every distractions and work on core tasks. Reschedule if this gets interrupted. Time to work on your business not in it. Focus on one thing at a time. NO DISTRACTIONS!\nConnect with your vision 12 week review Assess performance breakdowns Work on tactics Buffer blocks For unplanned and low value activities lie checking email, phone calls, organizing, etc. 1-2 30 minute buffer blocks per day.\nBreakout blocks Taking time away from work. 3 hours long and spent on things other than your business. Used to refresh and reinvigorate your mind. Helps prevent burnout and create free time.\n6. Creating a routine Create an ideal week calendar where your schedule your performance time and organize critical tasks so that you will be most productive. Consider when you tend to be at your best. And schedule important tasks around those times.\n7. Taking ownership Own your results regardless of circumstances. Tap into your resources and give it your best. Own the things you can control (Your thinking and actions). Be willing to confront the truth about your situation.\nLearn from failures and do not place blame.\nRemove the victim mindset. Stop feeling sorry for yourself.\nBe willing to take new and improved actions. And surround yourself with people who also take ownership.\nClarify expectations. Learn from life and focus on the future. Acknowledge reality.\nFocus on the things that you can control.\n8. 12 week commitments Commitments are not broken when things get hard. Commitment fosters trust, confidence, and improves results. You are bound emotionally to a course of action.\nWhen you are interested in something it can be abandoned. When you are committed, you are bound to results. You make no excuses.\nKeys to successful commitments You have a strong desire that is meaningful. You identify the one or two core actions that will give you the result. You identify the costs associated with keeping the commitment. You act on the commitments rather than on your feelings. 12 week commitments are easier that 12 months ones. With a true commitment, don’t give yourself an out. Even if you fail. You gave it your all.\nDon’t give up if you break a commitment once. And confront missed commitments.\nValue your word.\nDon’t over commit by taking on more than you can handle. Go public with your commitments and find a buddy.\nGreatness happens in the moment Your daily actions decide your greatness long before the results ever show up. The daily difference between mediocrity and greatness is slim. But the difference down the road is tremendous.\nIntentional imbalance Like balance is where you are purposeful about where your spend your time and efforts. It is not about spending equal time in all areas of life. You identify the most important areas of your life to work on, and set your 12 week goals to make progress in those areas.\nThen, re evaluate the areas of yourlife that need work for the next 12 weeks. Rate the areas of your life out of 10. (Spiritual, Relationships, Family, Income, Lifestyle, Health, Community)\nThen Work on the lowest ones.\nThe emotional cycle of change 5 stages people move through emotionally when changing their behavior\nUninformed Optimism We imagine all of the benefits but have not experienced the costs. Informed Pessimism You begin to experience the costs and wonder if they are worth the end goal. Valley of despair When most people give up. All of the pain of change is felt and the benefits seem far away or unimportant. Informed Optimism New actions are becoming routine and you start to feel the benefits. Success and fulfillment Cost of change are gone, benefits are fully realized Every time you complete this cycle, your capacity and confidence increase. Awareness of this cycle is important to help you manage negative emotions.\nAuthor book recommendations:\nSwitch by Chip and Dan Heath The Power of Habit by Charles Duhigg Feel the Fear and do it anyway by Susan Jeffers If you made it this far… Please consider giving me some feedback. I want to become a better writer and help others grow along with me. Feedback is invaluable for this goal.\nThanks for reading!",
    "description": "This second half of the book was almost an identical copy of the second half of the book. But still filled with solid advice on establishing a vision, settings goals, measuring the effectiveness of your actions, and other tidbits about being effective and taking action.\nI have been implementing most of this and needed to go back through to make sure I’ve got down the process.",
    "tags": [],
    "title": "The 12 Week Year (8/10)",
    "uri": "/booknotes/the-12-week-year/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "The Blog Startup - By Meera Kothand\nIf you are wanting to blog as a business, you need a sound strategy and business model. Filled with practical tips on identifying your audience, email strategy, branding, marketing, things to watch out for, etc. Definitely read this if you are wanting to start a blog.\nSummary and Highlights Have a business model.\nHave core core or brand that is responsible for attracting people to you.\nTwo approaches to a new blog: content first or offer first.\nWith content first, you start with no product or service and create content to attract, grow, and nurture your audience. Your blog serves as a content hub to get people in the door.\nYou get permission to be in touch with them via email.\nYou find out what type of content makes your audience tick.\nOnce you start attracting an audience, you promote your own digital or affiliate products or offer the services that are most aligned with their needs and your skill set or expertise.\nIn Method 2, you have existing products and services and your blog serves to support your business\nEven if you start with Method 1—like I did—you will eventually need to transition to Method 2\nYou need to figure out\n• The types of problems you want to solve for your audience.\nYour Business Model (Your pathway to making money. Because if you don’t monetize, you don’t\nhave a business.)\n• Your core or essence (Your brand, which will be responsible for attracting your ideal readers or buyers.)\nDOWNLOAD YOUR BONUS PACK AT HTTPS://THEBLOGSTARTUP.COM/BONUS\nsome myths you may have heard about niches:\n• If there are big, established blogs in a niche, stay away from it.\n• If you don’t have enough experience and knowledge in the niche, don’t even attempt it\nYour niche has to be original.\nIf there are several blogs in a niche, that nicheemis/emcrowded. But it also means that there is validation\nof an existing audience out there for your blog…\nThat there is demand for the information, products, and services related to that niche\nThat there are people who are actively looking to solve pain points or need support in this niche\nThose big blogs may take a chunk of your audience, but not everyone will resonate with the voice and style of the big blogs. That’s the reason several blogs are able to thrive alongside each other. Remember that people are more likely to be influenced by someone they like and can relate to—someone who’s at a level that seems\nattainable. The pieemis/embig enough for all of us\nThe basis of a good niche is four-fold:\n1. Your target audience’s pain points\n2. Your strengths and interests\nThink of your blog in terms of the problem it solves.\na niche is a solution to a problem\nPeople want to be better versions of themselves. This better version does not have to be about having more money. It could fall under\nany one of the following areas:\n• Personal development\n• Fitness\n• Food\n• Budgeting or personal finance\n• Fashion/Beauty\nLifestyle\n– Home decor\n– Organization\n– Travel\n– Outdoor/Survival\nThe missing puzzle pieces that people don’t consider before they pick a niche are\n3. Are there others in this niche who are\na. serving a similar audience (big or small) who have the same problem or pain points that you\nwant to help solve\nb. effectively monetizing their sites\nWho is participating in the conversation in this niche? Make a list of these people. Take note of their biz models: How are they monetizing their blogs? If you see that people are paying to get rid\nof pain or to gain something, then there’s certainly potential in that niche. You’re looking for signs of money flows in the niche. This could be via digital products, coaching, services, events, or even physical products\nYour niche does not target a one \u0026 done\nproblem\nYour niche needs to have recurring income potential. You don’t want to solve a problem that people only seek help for once. You want a niche where people have the opportunity to advance and fulfill their potential at various stages. How can they solve pain points of various intensities as\nthey progress\nhelp your audience through\nvarious tiny transformations\nOut of all your ideas, which ones do you have a clear monetization plan for\nwhat\ncan see yourself working on for at least the next 3–5 years?\nbring your topics under one overarching theme or topic. What is your main message to your audience? What is the one thing you want them to take away? What message combines your different topics?\nFrugality? Purposeful or intentional living? Happiness? Minimalism?\nPick a message, keep it at the center, and then work out your value proposition\nwhen you try to explain five other things at the same time. Too many messages get confusing.\nJot down ideas on what your niche could be and make sure it meets the four-fold criteria\ntheblogstartup.com/workbook\ncore message of your blog. This will form the basis for every single email, video, image, blog post, or product you create\nYour content has to educate, entertain, inspire, teach, or help your readers in some way\nHow can you come up with an all-encompassing purpose or value proposition for your blog? You start by defining your blog parameters and drilling down into them to get really specific\nState your big business umbrella\n• Drill down to the core business or niche.\n• State your Niche Level 1 (For who); i.e., what group/location\nDrill down to your Niche Level 2 (To do what); i.e., what problem you want to help them with\neducate/inspire/entertain/teach/help __________ who want to __________.\nI show __________ how __________.\nPsychographics\n• What frustrates them?\n• What worries do they have?\n• What websites do they visit?\nWhat blogs do they read?\n• What other hobbies or interests do they have?\n• What social media channels do they hang out on?\n• What mental block do they have to overcome?\n• What is preventing your ideal reader from\nachieving the desired change?\nMotivational Factors\n• What do they desire, want, and aspire to?\n• What are their fears, frustrations, and challenges?\n• What do they want to achieve in the next three\nyears?\ndefine clearly who I do notstrongwant to serve./strong\u003e\nMy ideal reader is unlikely to be…\n• My ideal reader is unlikely to identify with the\nterm…\n• My ideal reader is unlikely to be interested in\nResearch your ideal reader.\nCreate a persona based on that research\nJoin Facebook groups where your ideal audience members are likely to hang out\nOnce you have access to a Facebook group, use the “Search this group” box and type in the following keywords (including the quotation marks):\nneed help”\n• “desperate for”\n• “newbie”\n• “have no clue”\n• “advice about”\n• “question about”\nOther places you can mine for information on your ideal reader are Amazon, Udemy, and Product Hunt to name a few\nLook at products within your niche. What reviews and comments do they have? What are your audience saying\nkeep a swipe file of the exact ways your audience are describing their pain points, you can use these very words on your home page, about page, and landing pages to connect with them\nYourstrongBRAND/strongisn’t the logo or color palette you choose. Rather it’s the experience someone has with you\nWhat experience do you want to create? That’s what should influence your color palette. That’s what should influence your choice of font or logo\nYou can’t build a personal brand if you try to be all things for all people\nThe more you alienate people, the more you attract your own kind of people too.\nIf you were a well-known blogger, who would you be?”\nThere should be one or two people who immediately come to mind\nthink of who in the online space you most\nresonate with. What about them do you want to emulate for your brand? What aspects of their brand do you want to incorporate for your own blog and business? Do you know what you believe in? What you stand for?\nI want my target audience persona to feel that I’m ________ when they read my posts and watch/listen to my content (e.g., motivating, approachable).\nMost people would describe me as _________\ne.g., professional, confident, knowledgeable, fun).\n• My blog business believes in_________.\n• If I was a well-known blogger, I would be_______.\n• I would never want to be seen as ____________.\nwould never want my content to be ___________.\n• What feelings do I want my brand to evoke?\nA solid brand creates trust, recognition, and consistency\nThe words, tone, and style you use in your writing say a lot about it.\nYou need to be consistent in the voice you project across different content pieces and even platforms.\nif you’re not careful, you can end up with\na random concoction of voices and tones.\nPeople won't quite get what you're about\nYou'll start attracting different people and end up confusing your target audience.\nThis is why you don’t ever want to leave defining your brand to chance. You also don’t want to\nsound like others in your niche\nqualify what your brand isn’t. For instance, your brand is bold but not arrogant. Fun but not wishy-washy\nHonest\nbut not hurtful\nPut these together using the ADDE (Attribute Markers – Dos – Don’ts – Expressions) Formula. Do’s are a short description of what your attribute markers actually mean. Don’ts define how you\ndon’t want your brand voice to come across. And the expressions drill down into the tiny nuances of how your brand voice comes across.\nadd in special expressions that embellish your writing. How would you talk to that\nperson? Is your brand funny, warm, girly, or quirky? Or is it sophisticated, modern, and serious?\nSomething that’s right for someone else might not be right for you, so know yourself well\nWhen you write like everyone else and sound like everyone else and act like everyone else, you’re saying, ‘Our products are like everyone else’s, too.’ Or\nWould you go to a dinner\nparty and just repeat what the person to the right of you is saying all night long?\nAlways ask yourself, Does this sound and feel like you? Does this represent your brand?\nMake your own color palette at Adobe Color5 or explore predesigned color palettes at Color Hunt6\nUse the 60/30/10 rule for colors.\nA primary color should take up 60% of the space. For contrast, 30% of the space should be occupied by the secondary color. The remaining 10\nshould be used for the accent color.\nUse a word association exercise like the one at Viget7\nyou select your brand colors. Then head to FontPair8 to pick a set of complimentary fonts\nuse a maximum of 2–3 fonts on your site. You could use one font for your headers, one font for your body of text, and an accent font which you should use sparingly on your sidebar or\nimages\nGoogle fonts are safe for free\nand\ncommercial use.\nYou do not need a professionally designed logo\nGet a simple font logo instead\n3 MUST-ANSWER QUESTIONS BEFORE YOU PROCEED\nWHAT WILL BE YOUR PRIMARY CONTENT CHANNEL—THE MEDIUM YOU USE TO BUILD TRUST AND GROW YOUR AUDIENCE?\nblog to be your primary content channel\npick one when you’re starting out because you don’t want to spread yourself too thin.\npick ONE main traffic source (likely a social media platform) and one secondary traffic source\nprimary traffic source is the one that helps you with lead\ngeneration. It brings traffic to your site, and if your site is optimized well (which we’ll talk about in just bit)\nit’ll help you convert traffic to subscribers and grow your email list, i.e., your audience\nexamples of traffic sources\nPinterest\nYouTube\n• Instagram\n• LinkedIn\n• Borrowing others’ platforms (i.e., guest posting)\n• Influencers\npick one that’s aligned with your ideal audience.\nINSTAGRAM • Best place to reach teens and millennials. 59% of 18–29-year-olds use Instagram.\nFACEBOOK • Works in largely any market. 84% of 30–49-year-olds use Facebook.\n• But Facebook is clamping down heavily on diet, weight loss, etc. Check if your market\nis approved by their ToS\nPINTEREST • Marketing primarily to women, focusing on physical products. 45% of women online vs. 17% of men online.\nYOUTUBE • Involve keyword targeting. Reach predominantly male audience.\n• 55% of men online vs. 44% of women online.\nTWITTER • Younger market. More techy.\nLINKEDIN • 45% $75K+annual income.\nYour secondary traffic source is one that feeds your primary traffic source or your marketing goals\nGuest posting was a huge part of my strategy to grow my audience when I started out\nconnect with influencers by sharing their work.\nengaged with them on Twitter so that I could get on their radar and get them familiar with my name before I pitched them a post\nIf you’re stretched too thin, forego the secondary\nsource of traffic altogether and just focus on your primary traffic source.\nHOW WILL YOU BUILD AUTHORITY AND CREDIBILITY?\nCan you get featured on podcasts and guest posts?\nCan you coach or help people in exchange for a testimonial?\nHow can you work on displaying more authority markers such as “as seen in” logos?\ndid a ton of free site reviews and email sequence reviews for my readers when I started out\ndid guest\nposting as I mentioned earlier so that I could display “as seen in” logos on my site to build credibility and authority\nbook But I’m Not an Expert!\nyour ONE constant will be an email list.\nYou don’t own anything other than your email list. Your blog is a transient medium\nEmail is the only thing that gives you this undivided attention.\nYou think you need it only after building an audience but without it, it’s hard to nurture an audience as well. And even if you have a product ready for sale now, you wouldn’t be able\nto sell it because you don’t have a pool of subscribers to sell it to.\nYour primary content channel is to attract an audience, build trust, and entice them to sign up for your email\nlist\nWhat separates you from everyone else?\nHow is your content different? How is your business going to be different?\nYou don’t want to fit in. When you blend in too much with everyone else in your niche, you make it hard for readers to choose you.\nthis “the hook”—a simple pivot or deviation from something familiar meant to get your audience’s\nattention.\nbook The One Hour Content Plan\nthink about why someone should read your blog over the thousands of others on a similar subject matter?\nsix\nways to differentiate your business. Have a look at the diagram below.\nsaying it in a way that nobody else has before via your brand voice, style, or presentation\nAre you able to solve\nyour audience’s pain point in a better way than anyone else?\nEverything you do is centered around helping your audience tackle one specific challenge\ngiving your audience access to you is seen as a bad thing. But this is how you can\ndistinguish yourself\nGood service is a point of parity; it’s what you’re expected to have. So if this is your differentiator, your service has to be truly exceptional\nEvery brand has a spot in the marketplace. While low price does not necessarily equate to low quality, especially when you target the right audience, you don’t want to pick this as a differentiator. Because this often leads to a race\nthe bottom\nOnce you pick a point of differentiation, ask yourself the following:\nIs it relevant to your readers?\nWhat words do they use to describe your content and doing business with you? Is this aligned with how you want to differentiate yourself? Is that differentiation evident to your readers?\nYour differentiation strategy may need to change with time so always analyze the space and see that your differentiation strategy still holds true.\nDon’t fall for the most popular or\npromoted tool or service\nFree or cheapest is not always the best\nwhat you can expect to pay for in the early\nA premium mobile-optimized theme\n• Good hosting\n• An email service provider\n• Lead capture tools (landing pages \u0026 opt-in forms)\nAs you charge more for your products, you may want to create a better experience for your students\nAs you start to attract more people, maybe you want to outsource design rather than do it yourself.\nCan I make back this investment? Does this investment allow me to save time to (a) serve my audience better and (b) engage in business-building activities that would allow me to increase my income?\nThink of your content in terms of buckets. Each content category is a bucket and you can have 3–5 content buckets.\nthink about the content your target persona wants and needs. What does she want to know from you? What subjects do you have enough knowledge or experience in, that matter to her?\nIf I wanted to be known for just three topics, what would those be?”\nYour readers start to get a clear picture of what you are about and who you serve.\n• You’re seen as “an expert” or knowledgeable in a few topics rather than anything and everything.\nIt’s easier to work with brands because they’ll look at your main topics to see if they fit with their products.\n• It’s easier to secure clients\nThese will shift over time\nit’s easier to establish authority in 1–3 topics\nbank or vault to capture ideas in.\nwhere exactly are you going to get ideas from?\nLOOK AT YOUR OWN NICHE AND COMPETITION\nWhat articles have done well for them in terms of shares and comments?\nHow can you replicate this success?\nSign up for content curation sites. These are\nsites like\n- ContentGems\n- Scoop.it\n- BuzzSumo\nThese sites will send you lists of articles on topics you have selected in your notification\nsettings. These sources will give you the fuel to ensure your content bank is always filled.\nOnly attempt to replicate those topics if there is a gap that you can fill.\nThere are three characteristics of content that are deemed valuable\nFills an opportunity gap\nCould your content be better? Will your piece make a contribution to the existing content on this topic? Could you make it more helpful or\nuser-friendly with tutorials or videos? Can it go further in-depth?\n2. Has a clearly identifiable point of view\nIs there a viewpoint or angle that hasn’t been addressed in the existing content out there?\nDoes your content take a stance about the topics and\nproblems in your niche that others have not? Could your personality or brand voice give it a different slant?\n3. Breaks sacred cows\nAre there**** myths and beliefs that are immune from criticism or question? Does your content prove\nthese wrong?\nMETHOD 2: DO MORE OF WHAT’S WORKING FOR YOU\nMake sure you have Google Analytics installed for this step.\nIf you don’t have Google Analytics yet, get the free plug-in Google Analytics Dashboard for WP. This plug-in automatically adds the tracking code to all the pages on your site.\nThen go to Google Analytics and sign up for a free account.\nLook at your Google Analytics account to find your\nstrong/strong\u003e\n• Top Posts\nGo to Behavior \u003e Site Content \u003e All Pages.\nLook at your top ten posts.\n• Bounce rate\nGo to Behavior \u003e Site Content \u003e Landing Pages.\nLook for posts with a low bounce rate. Your readers are staying on these posts for a longer period of time.\nLook at your Pinterest Analytics\nClick on Analytics \u003e Overview \u003e Top Pins \u003e Links\nclicks. Identify the posts with the higher click-through rates.\nMETHOD 3: CREATE CONTENT FOR ALL LEVELS OF YOUR READERS\nEveryone who comes to your site is at a different place in the journey.\nSome may be aware of the problem your service or product solves. Some be actively shopping for a solution. Others may be at the very beginning and have no idea that they even have a problem to\nsolve in the first place.\nDepending on the stage your reader is at, they require different pieces of content to move them from one stage to another.\nTo effectively move your readers from one stage to another, answer the following question:\nWhat keeps my audience stuck in this phase and what do they need from me and my content to move forward?\nCreate different pieces of content to fuel the\nreader journey\nbooks The One Hour Content Plan and The Profitable Content System.\nYoast defines cornerstone content as the core of\nyour website. “It consists of the best, most important articles on your site; the pages or posts you want to rank highest in the search engines.”14\nideal topic for a cornerstone content piece is something that people are commonly searching for, without\ngetting satisfying results.”15\nThe content pieces that you want to tackle are those that\n• Raise your brand awareness\n• Establish authority and trust\n• Feed your funnel (helping you build an email list\nfor example)\nMinimum Viable Content Plan (MVCP). These\nTwo how-to or list posts on a pressing question the competition has failed to address.\n(Authority post showcasing your expertise\nOne polarizing or opinion post; e.g., X things you should never believe about…Why this is flawed\nWhat they don’t ever tell you about…\n(Authority post showcasing your expertise)\nNote: This post can quickly come across as a rant if you don’t have the credibility or authority to show for it yet. That doesn’t mean you have to shy away from writing opinionated posts\njust means that you need to show examples and substantiate your content with third-party sources such as reputable articles and quotes from authoritative sources.\nHOW TO OUTLINE YOUR POSTS\n1. DETERMINE THE PURPOSE OF THE POST\nAlways determine how each piece of content is going to fit into your entire blog and business. Ask yourself what’s the goal of the post.\nWhat do you want each post to do?\nWhen you write with the end in mind, you know what you want the post to do for you. You measure what that post is meant to do based on the tangible and intangible goals you set beforehand.\nA tangible goal\n• Drive opt-ins to gauge interest for a product.\n• Get opt-ins and then lead them down a sequence to a paid product.\n• Make an affiliate commission.\n• Pitch a sponsored post.\nEducate your reader (how-tos\nAn intangible goal\n• Position yourself as an expert or thought leader.\n• Network with influencers (through a roundup post).\n• Empower your readers (e.g., motivational\npieces, income reports).\n• Entertain with personal stories.\nThe goal of your content needs to center on action.\nIDENTIFY THE MAIN PAIN POINT\nPain always triumphs benefit. So always lead with the pain your audience is facing.\nWhat pain point are you hitting at in the post? Knowing this will help you with writing the introduction and conclusion of your posts. It will also make it easy for your audience to identify\nwith and relate to your post\nat least once a week or once every two weeks.\ngrow your email list while your blog\nis still a work in progress. This is what I refer to as Minimum Viable Email Marketing (MVEM).\nYour MVEM consists of the following:\n• One opt-in incentive or lead magnet\n• One landing page for your main opt-in incentive\nor lead magnet\n• Opt-in forms on three top posts\nCheck your Google Analytics to find out what these are. Head to Behavior \u003e Site Content \u003e All Pages.\nOne thank you page where you will direct new\nsubscribers to click confirm that they do indeed want to subscribe to get your opt-in incentive\nOne top bar/exit intent pop-up/slide-in to capture traffic\n• One welcome email that covers the 3Cs\n- Credibility\nWho are you? Why should they trust you or listen to you? What logos, features, special life incidents, beliefs, or viewpoints will build up your credibility?\n- Context\nWhy is what you’re talking about important\nnow?\n- Continuity\nHow can you create an open loop that keeps them looking forward to your next email? The postscript or P.S. is the best place to tease your next email in your nurture series or nurture\nfunnel.\n• Three emails in your nurture funnel\nOne myth or mistake email\nThe easiest way to get someone to trust you is to break a widely held myth or share something that gives them an “aha” or light\nbulb moment.\n- What breaks your heart or makes you cringe in your industry/niche?\nWhat do your ideal readers believe that they shouldn’t?\n- What’s the biggest excuse they make?\n- Identify the sacred cows and then break them.\nOne quick win/hack email\n- Answer a question that your ideal reader has or a question widely asked in your niche. Offer a quick hack; e.g., How to grow my email list, How to find my niche, How to set up\nWordPress, etc.\nOne email about your struggle\nLet’s discuss the elements in the MVEM in this chapter.\nI picked ConvertKit vs. Mailchimp21\npick a provider that’s not only within your budget but one that’s able to grow with your business and that has features and tools to deliver what you have in mind for your business plans.\nThe easiest way to grow your email list is to offer an opt-in incentive or lead magnet\nexamples\nSwipe files\n• Tool kits\n• How-to guides\n• Exclusive access to membership/Facebook groups\n• Test/Quiz/Assessment\nWebinar (prerecorded or live)\n• Cheat sheets\n• Bite-sized email series\n• Free assessment\n• Free consult\n• Coupons\nLoyalty program\nThink of your blog purpose statement as well as the content categories you have decided on. What incentive addresses a pain point of your audience and is closely aligned with the purpose of your\nblog?\nopt-in incentive has to act as a primer for a related product or service that you have to offer.\nthink about the problems that you want to solve for your audience. What do you\nwant to inspire, help, or educate them about?\nIn what categories and areas do you see yourself creating products or services\nbest opt-in incentives are quick to consume. They provide instant gratification and your\naudience should be able to immediately identify with the pain point that the incentive helps solve. You\ndo not need to create a massive guide to get subscribers.\nPROMOTE YOUR OPT-IN INCENTIVE\nIf you’re going on a podcast or are guest posting, share a link to a landing page\nAlways write descriptions for your opt-in incentives and share them where appropriate\nhow to construct an attractive description\nWrite from the perspective of the reader in a conversational tone.\nHave a call to action.\nUse one of these starters:\n- Have you ever been in a situation…?\n- Imagine…\n- Are you struggling with…?\n- Ever wonder how…?\n- Do you ask yourself…?\n- Did you ever notice that…?\nInsert starter and pain point.\n2. In this [what’s your opt-in?], I share [what’s in your freebie].\n3. With [state the name of your opt-in], you’ll [state the benefits]. Get it here!\n4. Insert LINK.\nhttp://meerakothand.com/send-email-list/\nPREPARE YOUR SITE TO CAPTURE TRAFFIC\nDon’t be afraid of placing too many opt-in forms on your site. People are so used to seeing opt-in forms that they skim right past them\nIf they’ve scrolled to the end of a post and enjoyed it and they don’t see an opt-in form there, most people are unlikely to take the trouble to scroll up to find one.\nAdd opt-in forms to your most popular posts and\none top bar or exit intent pop-up to grab their attention.\nHOW TO CRAFT YOUR OPT-IN FORMS AND LANDING PAGES\ndetermine what change your opt-in incentive gives your subscriber.\nLess organized to more organized\n• Anxious to calm and happy\n• Struggling to get traffic to plentiful page views and subscribers\nThen use the following formula on your opt-in form:\n“YES! SEND ME [NAME OF OPT-IN] SO THAT\nBENEFIT].” OR “[PROBLEM?] Get my [SOLUTION] and [RESULT].\nThen list down everything that your opt-in covers in bullet points.\nhere are a few ways you can present your bullet points:\n■ Add intrigue by hinting at a secret or a myth\n■ Give a warning.\n■ Add an “even if” statement.\n■ Specify a branded technique.\nAnother way to capture traffic is via a landing page. And the conversion rate of a landing page is a lot higher than that of an opt-in form.\nformula\nlanding page\nPROBLEM?] Get my [SOLUTION] and\nRESULT].”\nWRITE YOUR WELCOME EMAIL + WELCOME EMAIL SERIES\nforty-eight hours after a subscriber opts-in is when they are most engaged with your brand?\nhave a look at the open rates for your welcome email.\nopportunity to make a great first impression and start cultivating a relationship with your subscribers on the right note.\nwhat your welcome email should address:\nDeliver your opt-in incentive.\nShare some social proof in the form of testimonials or links to places you’ve been featured.\n• State why are you the best person to inspire, educate, or teach your subscriber about the\ntopic and why the topic is important.\n• Open a conversation loop. Ask them a specific question that will enable you to peek directly into what your subscriber needs.\nseries of 3–5 emails in a welcome email series on top of your single welcome email.\nEach email builds off the other to help reinforce your brand and get them acquainted with your best content, what you have to offer, and why\nyou’re the best person to help them.\nYou can set these emails in a sequence to go out on auto whenever a person signs up to your list.\nmasterclass here: https://meera.email/gold\nhome page\nrecommend focusing on the first one-third of your screen\nhaving an image or hero shot in that space with a statement that calls out your audience and states how you help them.\nPeople need to land on your site and know within five seconds if your site’s for them.\nhaving a call to action or\ninvitation to subscribe embedded within the header or right below the header as well social proof indicators.\nSocial proof indicators can be one of the following:\n• Testimonials\n• Press mentions or “as seen in” logos\nCustomer stories\n• Awards and accolades\n• Numbers (satisfied customers, rankings, subscribers, followers, etc.)\n• Reviews and ratings\nhave this header featured prominently in the top one-third of every page on your site.\nother elements\nCall to action\nBefore you craft your home page, think about all the people likely to visit your site. What problems are they trying to solve and what are the different needs these visitors will have? What offers or incentives (paid or free) would you want to feature?\nhome page can feature a prominent call to action\ncan also have additional buttons and links that are useful to your reader and present your body of work\nWhen in doubt, remember that your aim should be to get people onto your email list\nrather than feature all your products and services, let the focus be on getting someone onto your email list\nfrom there you can carve out a pathway (i.e., sequence of emails) to get their eyeballs on your products and services.\nLess is more when it comes to your site menu or navigation\nWhen your site’s new, you do not need to feature your blog categories. An overloaded menu will clutter your site and cause confusion for your site visitors\nsuggested navigation menu\nStart here/About me\nContact\n• Work with me\n• Shop\n• Resources\n• Link to main content channel (i.e., podcast, blog, YouTube channel)\nHero shot / Your first one-third\no Hook/Headline addressing their pain point and struggle\no How you can help them\no Why they should trust you\nAn image of you aligned with your brand attributes\nA fabulous about page\ncreates trust\n• establishes your credibility\n• builds rapport\n• injects your personality\nmost stellar about pages have five or more of the seven elements below\nUse YOU and WE instead of I\nyou should make your reader or customer the focus of your about page\nWrite as if you’re talking to a friend and acknowledging his/her worries\nTell them what you help with\nWhat is your website about? Who is it for and how does it help them?\nThe simple plug-and-play exercise below can help you be clear about who you are serving.\ndiv markdown=“1”\u003e I help__________ (parents/small business\n/div\u003e\nowners/women/photographers) to___________ (explain the benefit they’ll get through your website).\nThis blog/website is for________ (your target audience).\nam a _______ (entrepreneur/writer/blogger/freelancer).\nThis blog/website is for________ (your target audience).\nYou may be afraid of alienating certain groups of people, but your blog or business is not for everyone.\nAnd that’s how it should be.\nYou’d rather attract one hundred raving fans who get what your brand and message is about than\none thousand people who lurk around and show no engagement\nShow them you understand their pain points\nWhat’s troubling them?\nWhat are their motivations or aspirations?\nBy doing this, you’re establishing trust, and you’re telling your reader that you understand them.\nexamples.\nHave you ever said\n- I wish I could quit, but I need to pay the bills.\n- I need more time for myself, but I have so much to do.\n- I want a support group that doesn’t judge me.\nAre you\nDreading the thought of another meeting? /\n- Dreaming of the weekend every single workday? Tired of the long hours with little appreciation?\nCreate connection with THE story\nYour readers want to buy into YOUR story.\nMaybe you’re a few steps ahead of your readers.\nMaybe you’re several steps ahead. They want to know that they can get there—to the place where you’re already at.\nYou want them to think: If she can do it. I think I can.\nYou’re selling them your story and the possibility of a journey.\nThe same works if you’re a business\nWhat meaning does your business or product convey? What story are they buying into with your product?\nDig into your why\nFind a core message that ties your products together and create a story around your struggle.\nGive them a reason to listen to you\nthe little white space—your mini wall of fame where you list your achievements and establish credibility.\nWhere has your work been featured?\no How many companies have you worked with?\no How many websites have you designed?\nHow many years of experience do you have in the industry?\nBe upfront and position yourself as someone who is experiencing the same struggles and looking for a change.\nLet them know what to expect\nWhat kind of topics are you writing about?\no Do you have a posting schedule?\no When can they expect to hear from you?\nInclude ONE call to action\nWhat’s the purpose of your about page?\nIs it to get them to look at your store?\nIf you’re a blogger, is it to get them to sign up for your updates or newsletter?\nIf you’re running a consulting business or if you’re a coach, is it to get them to set up an appointment with you?\nTHANK YOU PAGE\nSubscribers are most engaged when they first sign up for your list\nHere are some elements you can include to make your thank you page work harder for you:\n• A picture of you\n• Clear instructions on what they should do next\n• Your social media links\nA request to share your site or freebie\n• Links to your best content\n• Testimonials from your readers\n• A personality (the most important thing!)\nWhat goals are important to you?\n- Adding credibility?\n- Increasing your following on Instagram?\nPromoting your opt-in freebie or lead magnet?\nadd 2–3 elements at most on your thank you page\nLAUNCH PLAN A\nYou launch with a landing page, an opt-in incentive, a thank you page, and a welcome email series/nurture sequence.\nUse social media posts to build hype surrounding your launch and your opt-in incentive\nwhat you need to start with Plan A:\nOne main traffic source\n• One landing page\n• One opt-in incentive\n• A Welcome email\n• At least three emails in a welcome email series\n• A thank you page for subscribers\n• A snippet/description of your opt-in incentive to\npromote on your chosen traffic source\nLAUNCH PLAN B\nThree pages\n- An about me page\n- A contact me page using a free plug-in\n- Home page\nThree posts from your Minimum Viable Content Plan. Refer back to chapter 9 for this\nYour Minimum Viable Email Marketing Plan. Refer back to chapter 10 for this\nDone is better than perfect\nspend the time creating posts or content for other sites via guest posting or podcasts so that your brand builds credibility and authority\nBut how do you monetize your blog? What will make it a business?\nblanket statements like “A membership site is for everyone” or “There’s a course in everyone” are dangerous statements.\nWhy?\nfirst, they don’t consider your zone of\ngenius. Second, they don’t consider the stage of growth your business is in.\nPlay to your strengths and do more of what's working for you even if that may not seem like the fastest way of growing your business\nwhen you operate in your zone of genius, you attract your ideal customers. You serve them better and start to get known for the work you do.\ntable below outlines different revenue streams you can incorporate into your business\nyour first product does not, and dare I say should not, be a premium course, especially if you’re new to marketing and selling, and if you’ve just started to grow your audience\nYou can and should add a digital product. But start with a small digital product\nunderestimated the time and resources that go into creating a modulated course\nA lower-priced item that would give\npeople a smaller win\nyou’ll feel more confident when you get a small product out fast\nYour first goal should be to give your audience a taste of your paid content\nonce they get a taste and they enjoy it, the chance of them coming back to buy more increases\nYour first milestone should be to hit that $1K\nYou will hit your $1K faster if you have an email list from Day 1 and you take efforts to nurture that list.\nTHE 2M+1 SYSTEM TO BUILD YOUR BUSINESS MODEL\nbased on having two main\nsources of blog income and one supplementary source rather than just relying on one income stream.\nexample\nOne tripwire\nOne small product\n• Affiliate marketing\nNow my model looks like this:\n• Self-publishing\n• Membership site\nPremium course\n• Tripwires\n• Affiliate marketing\nAs your business grows, you can diversify your income streams further.\nThe quickest way to monetize your blog is\nto offer a service\nif you love working with people one-on-one.\nhighly recommend creating a small product or tripwire\nbook Your First\n100\nA tripwire is a small-ticket item that you offer your subscriber as soon as they subscribe or early on in your email sequence\nThe idea isn’t to profit from that product but to quickly turn a subscriber into a buyer\nBecause people are more likely to\nopen their wallets and purses for you a second time if they’ve already crossed that first sale hurdle\nCREATING A SMALL PRODUCT OR TRIPWIRE\nIn the 90-day task list that you’ll find in your bonus PDF, I’ve suggested preparing for your first small digital product at the end of 3–6 months\ntwo signs that you are\nindeed ready to create a small product or tripwire.\n• You’re bringing in a consistent number of subscribers every day (no matter what this number is).\nYou’re getting engagement from your subscribers via your welcome email\nseries/nurture sequence (this is a sign that your audience are resonating with your content).\nHere\nare different product types that are valuable and that people will pay for:\n• Templates\nPrintables\n• Spreadsheets\n• E-books\n• Masterclasses\n• Workbooks\n• Minicourses (with 2–3 videos\nLive workshops\n• Mock-ups\n• Tools/System guides\nClues to what your first product should be:\n1. Is there an opt-in incentive that’s converting\nwell for you?\nIf yes, create an accompanying product to that opt-in incentive. Have a look at this diagram.\nYour first product has to sit right after the opt-in that you created. All email content that you’re creating should nudge the people who opted in toward that product or service.\nAre you known for a particular topic or do people come to you asking questions about a\nparticular topic?\nIs there a certain category of posts that gets you the most amount of traffic?\nGo back to the earlier question I asked: what do you want to be known for?\nDo you want to be a part of the conversation in a particular space?\nBefore you create a single worksheet or slide deck for your product, do some validation.\nYou need to find out if there is a need for this product in the market or in your niche.\nOne question I always get is…\nshould I run surveys and ask my audience what they want?\nDo your audience really know what they want?\nNo, they don’t.\nThis is why I don’t recommend running surveys\nOne of Henry Ford’s famous quotes was “If I had asked people what they wanted, they would have said faster horses.”\nInstead of forcing your audience to discuss solutions that they don’t yet appreciate or fully\nrecognize, get them to discuss problems or symptoms they have\nhow then can you test the viability of a product? How do you know if this is something people will buy\nLook at the market. A market consists of a group of products with similar characteristics\nScan the market for the existence of other similar offers. This shows you that there's a need—that people are looking for ways to solve this problem\nHow searched for is the problem that your offer solves?\ntool I’m loving right now is Keywords Everywhere\nAre there popular articles on BuzzSumo?\nAre there existing courses on Udemy or courses\ncreated by other players in your niche?\na few things to look out for when you’re doing your market research:\n• Hook\nLook for the hook that other product creators\nhave used\nYour hook is the promise of the product. In many cases, the hook is a mixture of promise + timeline.\nWhat exactly are they helping students achieve and how do they promise to help them achieve that?\nTestimonials\n– What are students saying? You want to look for gaps in the market for what people want and have not received and how you can fill in with your product.\n• Benefits\nFeatures\n• Bonuses\n• Results\n• Price point\nif you can’t answer why someone\nshould buy your product over someone else’s, then no one can.\nOnce you have certain ideas for the type of product you want to create and you’ve validated them, write targeted blog posts that show your expertise on the topic. You want your readers to\nassociate you with the topic of the product\nestablish your authority and expertise in it so that readers trust your views and teachings with regard to that topic.\nDon’t wait to monetize your site\nif you’re spending more time than you’re comfortable with, if you’re expending more energy than is worth what you’re getting back, that’s a revenue stream you should consider getting rid of.\nMarketing isn’t just about selling or promotion. It’s also about attracting and capturing your ideal customers.\nmarketing is made up of these four\nactivities: Attract – Capture – Engage – Convert\nsix parts:\n• Identify your target audience.\n• Attract them to your site.\n• Capture your target audience.\nNurture that target audience.\n• Convert them to buyers.\n• Turn them into brand advocates or repeat customers.\nWhen there are gaps in your marketing system\ngaps in any one of these six areas—your business\nwill often experience feast and famine cycles\nHave a look at the table below\nStranger They haven’t heard of you before at all. They probably clicked onto your site from seeing a pin image on Pinterest, a Facebook post that a friend of theirs shared, or a\ntweet on their Twitter feed.\nReader\nThey have some form of brand recognition. They’ve heard of you before via a podcast or have seen your guest post on a site they frequent. A friend of theirs has\nbeen raving about you. They’ve clicked through to your site to read your content\nSubscriber\nThey are new to your list. They visit your site likely from a link in your welcome email series. They\nmay have read something intriguing in your email sequence and wanted to have a look at your blog, YouTube channel, or other content platforms\nEngaged\nsubscriber\nHeard of a brand crush? That’s\nwhat these people have on you. They adore your style. Most of them cannot wait to get their hands on your paid products if they haven’t already\nCustomer\n\u0026 brand advocate\nThese are people who are\nattuned to your style. They’ve likely bought from you before—possibly more than once\nYour business needs to make an effort to\n1. Get more people on the front end. This is how you continuously fill your sales pipeline with leads or potential customers. You do this by having a system where you attract people to your site with your content\nYou ensure your site is optimized, and you have relevant opt-in forms and landing\npages especially at the “hot spots” your audience frequent.\n2. Nurture new subscribers so that they become engaged subscribers and customers\nto the next\nwith your content. The further down people are, the better it is for your business.\nfocus on what you need for your current stage of growth.\nthese rules guide you\nWill it make a direct impact on your business for your current stage of growth? Will this move the needle for your blog + businessstrongright now//strong\u003e?\nIs there a particular skill you need to acquire to move forward?\nWill you get back your ROI?\nIs there a deal or special discount?\nLIST OF THINGS YOU SHOULD NOT WORRY ABOUT IN THE FIRST 6 MONTHS\nCreating a tag line\n• Repurposing your content\n• Getting a branded photoshoot\n• Printing business cards (especially if you don’t have a local physical presence)\nPurchasing a designer logo (a simple font-based logo will do)\n• Segmenting your email list\n• Doing video\nPurchasing expensive tech and tools\nLIST OF THINGS YOU SHOULD NOT DO ASK FOR COMMENTS OR FEEDBACK ON YOUR OPT-IN INCENTIVE OR LOGO OR\nPRODUCT IDEA IN RANDOM FACEBOOK GROUPS.\nMine for what your audience is looking for. What are they saying? What are their thoughts and pain points?\nBRANCH OUT TO MULTIPLE PLATFORMS WITHIN THE FIRST YEAR\nBut be very clear on the goals you have for that platform. Why are you on a platform? What’s your main goal? Ad revenue? Subscribers? Reach\nBrand awareness?\nCOMPARE YOUR START TO SOMEONE ELSE’S MIDDLE\nHOW TO 10× YOUR PRODUCTIVITY\nBATCH\nWhen you mix too many different types of tasks per day, you’re not productive.\nI talk about this more in The Profitable Content System. Or\nPICK A FEW GOALS\nPick 1–3 goals a quarter depending on how ambitious you are.\nHere are some blogging goals:\n• Build authority and credibility.\n• Connect with influencers.\n• Nurture and build trust with subscribers.\n• Increase page views.\nhere’s what you can influence:\n• Create a specific lead magnet aligned with each post you write.\n• Pitch one site a week to guest post on.\n• Focus on building one social media platform where your target audience hangs out.\nRun a paid ad campaign\nBy focusing on actions you can directly influence, you won’t be tied down to metrics or statistics. You will also work toward tasks that you can directly impact\nENGAGE IN SPRINTS\nconcentrate on only one activity over a short period of time\nthings that benefit from the sprint technique:\n• Creating a lead magnet or e-book\n• Working on a short email course\nCrafting your launch marketing emails\n• Writing a guest post and submitting a pitch\nAVOID DECISION FATIGUE\nYou only have a couple of hours and you don’t want to spend that time debating what to do.\nThere are only two types of tasks you can do:\n• Tasks that grow your blog\n• Tasks that maintain your blog\nBlog growth tasks are\nCreating content\n• Research for product creation\n• Creating products\n• Writing blog posts\n• Engaging with your audience\n• Networking with influencers\nMarketing\nMaintenance tasks are\n• Website and theme updates\n• Website and visual design\n• Social media scheduling\nBookkeeping\n• Brand audit\nYou do one task from one category each day\nCREATE AN EDITORIAL CALENDAR AS SOON AS POSSIBLE\nome ideas to plan your content\n• Have themed Months. Take your readers\nthrough a topic for the entire month\nLock in launch dates, affiliate sales, events, and holidays that are relevant to your niche. Work your content around these crucial dates\nI designed and use the CREATE Blog \u0026 Editorial Planner. You can have a look at it here \u003e https://www.createplanner.com/editorial-planner/.\nWhen you feel overwhelmed, ask yourself\nWhat do you need to do right now to make progress?\nConsume content that’s aligned only with this\nunderstand the type of selling you’re comfortable with and feel good about. What type of selling will you not engage in? What line won’t/emyou cross no matter what?\nonce you’re aware of this, you won’t have to second-guess yourself every time you get a\nnasty email\nAny product you\ncreate needs a few iterations before you get the messaging correct. So don't shelve anything without giving it a chance to work for you\nFoundation vs. speed. You need the right balance\nI define a solid foundation as\na. Having systems in place to capture traffic and turn them into subscribers\nb. Having a system to nurture subscribers and convert them to buyers\nc. Having an idea of what the different content\nplatforms (email/blogging/vlogging) mean for you and how they are distinct from one another\nAuthority is your audience knowing they can trust you.\nIf you read the same ole blogs that your target audience are reading, how will you make new connections to the content out there? How will you enrich your audience with a different\nperspective?\nfind new sources to read. Find those that are out of your target audience’s content circle\nThen form new content connections that you can share with your audience. Break existing beliefs and myths (or sacred cows as they call it) and bring\nthem to light. That's the quickest way to build authority and trust.\nAlways reflect back on whether your vision still serves you\nIs the vision you have what you want or what people say it should be\nIs your business at odds with your vision for your life?",
    "description": "The Blog Startup - By Meera Kothand\nIf you are wanting to blog as a business, you need a sound strategy and business model. Filled with practical tips on identifying your audience, email strategy, branding, marketing, things to watch out for, etc. Definitely read this if you are wanting to start a blog.\nSummary and Highlights Have a business model.",
    "tags": [],
    "title": "The Blog Startup (8/10)",
    "uri": "/booknotes/the-blog-startup/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Cyber Security",
    "content": "firewalld Zones firewalld The host-based firewall solution employed in RHEL uses a kernel module called netfilter together with a filtering and packet classification framework called nftables for policing the traffic movement. It also supports other advanced features such as Network Address Translation (NAT) and port forwarding. This firewall solution inspects, modifies, drops, or routes incoming, outgoing, and forwarded network packets based on defined rulesets. Default host-based firewall management service in RHEL Ability to add, modify, or delete firewall rules immediately without disrupting current network connections or restarting the service process. Also allows to save rules persistently so that they are activated automatically at system reboots. Lets you perform management operations at the command line using the firewall-cmd command, graphically using the web console, or manually by editing rules files. Stores the default rules in files located in the /usr/lib/firewalld directory, and those that contain custom rules in the /etc/firewalld directory. The default rules files may be copied to the custom rules directory and modified. firewalld Zones Easier and transparent traffic management. Define policies based on the trust level of network connections and source IP addresses. A network connection can be part of only one zone at a time; A zone can have multiple network connections assigned to it. Zone configuration may include services, ports, and protocols that may be open or closed. May include rules for advanced configuration items such as masquerading, port forwarding, NAT’ing, ICMP filters, and rich language. Rules for each zone are defined and manipulated independent of other zones. Match source ip to zone that matches address \u003e match based on zone the interface is in \u003e matches default zone\nfirewalld inspects each incoming packet to determine the source IP address and applies the rules of the zone that has a match for the address.\nIn the event no zone configuration matches the address, it associates the packet with the zone that has the network connection defined, and applies the rules of that zone.\nIf neither works, firewalld associates the packet with the default zone, and enforces the rules of the default zone on the packet.\nSeveral predefined zone files that may be selected or customized.\nThese files include templates for traffic that must be blocked or dropped, and for traffic that is:\npublic-facing internal external home public trusted work-related. public zone is the default zone, and it is activated by default when the firewalld service is started.\nPredefined zones sorted based on the trust level from trusted to untrusted:\ntrusted\nAllow all incoming traffic internal\nReject all incoming traffic except for what is allowed. Intended for use on internal networks. home\nReject all incoming traffic except for what is allowed. Intended for use in homes. work\nReject all incoming traffic except for what is allowed. Intended for use at workplaces. dmz\nReject all incoming traffic except for what is allowed. Intended for use in publicly accessible demilitarized zones. external\nReject all incoming traffic except for what is allowed. Outgoing IPv4 traffic forwarded through this zone is masqueraded to look like it originated from the IPv4 address of an outgoing network interface. Intended for use on external networks with masquerading enabled. public\nReject all incoming traffic except for what is allowed. Default zone for any newly added network interfaces. Intended for us in public places. block\nReject all incoming traffic with icmp-host-prohibited message returned. Intended for use in secure places. drop\nDrop all incoming traffic without responding with ICMP errors.\nIntended for use in highly secure places.\nFor all the predefined zones, outgoing traffic is allowed by default.\nZone Configuration Files firewalld stores zone rules in XML format at two locations\nsystem-defined rules in the /usr/lib/firewalld/zones directory can be used as templates for adding new rules, or applied instantly to any available network connection automatically copied to the /etc/firewalld/zones directory if it is modified with a management tool user-defined rules in the /etc/firewalld/zones directory can copy the required zone file to the /etc/firewalld/zones directory manually, and make the necessary changes.\nThe firewalld service reads the files saved in this location, and applies the rules defined in them.\nView the system Zones:\n[root@server30 ~]# ll /usr/lib/firewalld/zones total 40 -rw-r--r--. 1 root root 312 Nov 6 2023 block.xml -rw-r--r--. 1 root root 306 Nov 6 2023 dmz.xml -rw-r--r--. 1 root root 304 Nov 6 2023 drop.xml -rw-r--r--. 1 root root 317 Nov 6 2023 external.xml -rw-r--r--. 1 root root 410 Nov 6 2023 home.xml -rw-r--r--. 1 root root 425 Nov 6 2023 internal.xml -rw-r--r--. 1 root root 729 Feb 21 23:44 nm-shared.xml -rw-r--r--. 1 root root 356 Nov 6 2023 public.xml -rw-r--r--. 1 root root 175 Nov 6 2023 trusted.xml -rw-r--r--. 1 root root 352 Nov 6 2023 work.xml View the public zone:\n[root@server30 ~]# cat /usr/lib/firewalld/zones/public.xml \u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e \u003czone\u003e \u003cshort\u003ePublic\u003c/short\u003e \u003cdescription\u003eFor use in public areas. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.\u003c/description\u003e \u003cservice name=\"ssh\"/\u003e \u003cservice name=\"dhcpv6-client\"/\u003e \u003cservice name=\"cockpit\"/\u003e \u003cforward/\u003e \u003c/zone\u003e See the manual pages for firewalld.zone for details on zone configuration files. firewalld Services For easier activation and deactivation of specific rules. Preconfigured firewall rules delineated for various services and stored in different files. The rules consist of necessary settings, such as the port number, protocol, and possibly helper modules, to support the loading of the service. Can be added to a zone. By default, firewalld blocks all traffic unless a service or port is explicitly opened. Service Configuration Files firewalld stores service rules in XML format at two locations: system-defined rules in the /usr/lib/firewalld/services directory Can be used as templates for adding new service rules, or activated instantly. A system service configuration file is automatically copied to the /etc/firewalld/services directory if it is modified with a management tool. user-defined rules in the /etc/firewalld/services directory. You can copy the required service file to the /etc/firewalld/services directory manually, and make the necessary changes. Service reads the files saved in this location, and applies the rules defined in them. A listing of the system service files is presented below:\nroot@server30 ~]# ll /usr/lib/firewalld/services total 884 -rw-r--r--. 1 root root 352 Nov 6 2023 afp.xml -rw-r--r--. 1 root root 399 Nov 6 2023 amanda-client.xml -rw-r--r--. 1 root root 427 Nov 6 2023 amanda-k5-client.xml -rw-r--r--. 1 root root 283 Nov 6 2023 amqps.xml -rw-r--r--. 1 root root 273 Nov 6 2023 amqp.xml -rw-r--r--. 1 root root 285 Nov 6 2023 apcupsd.xml -rw-r--r--. 1 root root 301 Nov 6 2023 audit.xml -rw-r--r--. 1 root root 436 Nov 6 2023 ausweisapp2.xml -rw-r--r--. 1 root root 320 Nov 6 2023 bacula-client.xml -rw-r--r--. 1 root root 346 Nov 6 2023 bacula.xml -rw-r--r--. 1 root root 390 Nov 6 2023 bareos-director.xml ... ... Shows the content of the ssh service file:\n[root@server30 ~]# cat /usr/lib/firewalld/services/ssh.xml \u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e \u003cservice\u003e \u003cshort\u003eSSH\u003c/short\u003e \u003cdescription\u003eSecure Shell (SSH) is a protocol for logging into and executing commands on remote machines. It provides secure encrypted communications. If you plan on accessing your machine remotely via SSH over a firewalled interface, enable this option. You need the openssh-server package installed for this option to be useful.\u003c/description\u003e \u003cport protocol=\"tcp\" port=\"22\"/\u003e \u003c/service\u003e Has a name and description Defines the port and protocol for the service. See the manual pages for firewalld.service for details on service configuration files. firewalld Management Listing, querying, adding, changing, and removing zones, services, ports, IP sources, and network connections. Three methods: firewall-cmd Web interface for graphical administration. Edit Zone and service templates manually firewall-cmd Command Add or remove rules from the runtime configuration, or save any modifications to service configuration for persistence. Supports numerous options for the management of zones, services, ports, connections, and so on Common options General --state\nDisplays the running status of firewalld --reload\nReloads firewall rules from zone files. All runtime changes are lost. --permanent\nStores a change persistently. The change only becomes active after a service reload or restart. Zones --get-default-zone\nShows the name of the default/active zone --set-default-zone\nChanges the default zone for both runtime and permanent configuration --get-zones\nPrints a list of available zones –get-active-zones\nDisplays the active zone and the assigned interfaces --list-all\nLists all settings for a zone --list-all-zones\nLists the settings for all available zones –zone\nSpecifies the name of the zone to work on. Without this option, the default zone is used. Services --get-services\nPrints predefined services --list-services\nLists services for a zone --add-service\nAdds a service to a zone --remove-service\nRemoves a service from a zone --query-service\nQueries for the presence of a service Ports --list-ports\nLists network ports --add-port\nAdds a port or a range of ports to a zone --remove-port\nRemoves a port from a zone --query-port\nQueries for the presence of a port Network Connections --list-interfaces\nLists network connections assigned to a zone --add-interface\nBinds a network connection to a zone --change-interface\nChanges the binding of a network connection to a different zone --remove-interface\nUnbinds a network connection from a zone IP Sources --list-sources\nLists IP sources assigned to a zone --add-source\nAdds an IP source to a zone --change-source\nChanges an IP source --remove-source\nRemoves an IP source from a zone --add and --remove options\n--permanent switch may be specified to ensure the rule is stored in the zone configuration file under the /etc/firewalld/zones directory for persistence. Querying the Operational Status of firewalld Check the running status of the firewalld service using either the systemctl or the firewall-cmd command.\n[root@server20 ~]# firewall-cmd --state running [root@server20 ~]# systemctl status firewalld -l --no-pager ● firewalld.service - firewalld - dynamic firewall daemon Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled; preset: enabled) Active: active (running) since Thu 2024-07-25 13:25:21 MST; 44min ago Docs: man:firewalld(1) Main PID: 829 (firewalld) Tasks: 2 (limit: 11108) Memory: 43.9M CPU: 599ms CGroup: /system.slice/firewalld.service └─829 /usr/bin/python3 -s /usr/sbin/firewalld --nofork --nopid Jul 25 13:25:21 server20 systemd[1]: Starting firewalld - dynamic firewall daemon... Jul 25 13:25:21 server20 systemd[1]: Started firewalld - dynamic firewall daemon. Lab: Add Services and Ports, and Manage Zones Determine the current active zone. Add and activate a permanent rule to allow HTTP traffic on port 80 Add a runtime rule for traffic intended for TCP port 443 (the HTTPS service). Add a permanent rule to the internal zone for TCP port range 5901 to 5910. Confirm the changes and display the contents of the affected zone files. Switch the default zone to the internal zone and activate it. 1. Determine the name of the current default zone:\n[root@server20 ~]# firewall-cmd --get-default-zone public 2. Add a permanent rule to allow HTTP traffic on its default port:\n[root@server20 ~]# firewall-cmd --permanent --add-service http success The command made a copy of the public.xml file from /usr/lib/firewalld/zones directory into the /etc/firewalld/zones directory, and added the rule for the HTTP service.\n3. Activate the new rule:\n[root@server20 zones]# firewall-cmd --reload success 4. Confirm the activation of the new rule:\n[root@server20 zones]# firewall-cmd --list-services cockpit dhcpv6-client http nfs ssh 5. Display the content of the default zone file to confirm the addition of the permanent rule:\n[root@server20 zones]# cat /etc/firewalld/zones/public.xml \u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e \u003czone\u003e \u003cshort\u003ePublic\u003c/short\u003e \u003cdescription\u003eFor use in public areas. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted. \u003c/description\u003e \u003cservice name=\"ssh\"/\u003e \u003cservice name=\"dhcpv6-client\"/\u003e \u003cservice name=\"cockpit\"/\u003e \u003cservice name=\"nfs\"/\u003e \u003cservice name=\"http\"/\u003e \u003cforward/\u003e \u003c/zone\u003e 6. Add a runtime rule to allow traffic on TCP port 443 and verify:\n[root@server20 zones]# firewall-cmd --add-port 443/tcp success [root@server20 zones]# firewall-cmd --list-ports 443/tcp 7. Add a permanent rule to the internal zone for TCP port range 5901 to 5910:\n[root@server20 zones]# firewall-cmd --add-port 5901-5910/tcp --permanent --zone internal success 8. Display the content of the internal zone file to confirm the addition of the permanent rule:\n[root@server20 zones]# cat /etc/firewalld/zones/internal.xml \u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e \u003czone\u003e \u003cshort\u003eInternal\u003c/short\u003e \u003cdescription\u003eFor use on internal networks. You mostly trust the other computers on the networks to not harm your computer. Only selected incoming connections are accepted. \u003c/description\u003e \u003cservice name=\"ssh\"/\u003e \u003cservice name=\"mdns\"/\u003e \u003cservice name=\"samba-client\"/\u003e \u003cservice name=\"dhcpv6-client\"/\u003e \u003cservice name=\"cockpit\"/\u003e \u003cport port=\"5901-5910\" protocol=\"tcp\"/\u003e \u003cforward/\u003e \u003c/zone\u003e The firewall-cmd command makes a backup of the affected zone file with a .old extension whenever an update is made to a zone. 9. Switch the default zone to internal and confirm:\n[root@server20 zones]# firewall-cmd --set-default-zone internal success [root@server20 zones]# firewall-cmd --get-default-zone internal 10. Activate the rules defined in the internal zone and list the port range added earlier:\n[root@server20 zones]# firewall-cmd --list-ports 5901-5910/tcp Lab: Remove Services and Ports, and Manage Zones Remove the two permanent rules that were added in the last lab. Switch the public zone back as the default zone, and confirm the changes. 1. Remove the permanent rule for HTTP from the public zone:\n[root@server20 zones]# firewall-cmd --remove-service=http --zone public --permanent success Must specify public zone as it is not the current default. 2. Remove the permanent rule for ports 5901 to 5910 from the internal zone:\n[root@server20 zones]# firewall-cmd --remove-port 5901- 5910/tcp --permanent success 3. Switch the default zone to public and validate:\n[root@server20 zones]# firewall-cmd --set-default- zone=public success [root@server20 zones]# firewall-cmd --get-default-zone public 4. Activate the public zone rules, and list the current services:\n[root@server20 zones]# firewall-cmd --reload success [root@server20 zones]# firewall-cmd --list-services cockpit dhcpv6-client nfs ssh Lab: Test the Effect of Firewall Rule Remove the sshd service rule from the runtime configuration on server20 Try to access the server from server10 using the ssh command. 1. Remove the rule for the sshd service on server20:\n[root@server20 zones]# firewall-cmd --remove-service ssh success 2. Issue the ssh command on server10 to access server20:\n[root@server10 ~]# ssh 192.168.0.37 ssh: connect to host 192.168.0.37 port 22: No route to host 3. Add the rule back for sshd on server20:\n[root@server20 zones]# firewall-cmd --add-service ssh success 4. Issue the ssh command on server10 to access server20. Enter “yes” if prompted and the password for user1.\n[root@server10 ~]# ssh 192.168.0.37 The authenticity of host '192.168.0.37 (192.168.0.37)' can't be established. ED25519 key fingerprint is SHA256:Z8nFu0Jj1ASZeXByiy3aAWHpUhGhUmDCr+Omu/iWTjs. This key is not known by any other names Are you sure you want to continue connecting (yes/no/[fingerprint])? yes Warning: Permanently added '192.168.0.37' (ED25519) to the list of known hosts. root@192.168.0.37's password: Web console: https://server20:9090/ or https://192.168.0.37:9090/ Register this system with Red Hat Insights: insights- client --register Create an account or view all your systems at https://red.ht/insights-dashboard Last login: Thu Jul 25 13:37:47 2024 from 192.168.0.21/ The Linux Firewall DIY Labs Lab: Add Service to Firewall Add and activate a permanent rule for HTTPs traffic to the default zone. [root@server20 ~]# firewall-cmd --add-service https --permanent success [root@server20 ~]# firewall-cmd --reload success Confirm the change by viewing the zone’s XML file and running the firewall-cmd command. [root@server20 ~]# cat /etc/firewalld/zones/public.xml \u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e \u003czone\u003e \u003cshort\u003ePublic\u003c/short\u003e \u003cdescription\u003eFor use in public areas. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.\u003c/description\u003e \u003cservice name=\"ssh\"/\u003e \u003cservice name=\"dhcpv6-client\"/\u003e \u003cservice name=\"cockpit\"/\u003e \u003cservice name=\"nfs\"/\u003e \u003cservice name=\"https\"/\u003e \u003cforward/\u003e \u003c/zone\u003e [root@server20 ~]# firewall-cmd --list-services cockpit dhcpv6-client https nfs ssh Lab: Add Port Range to Firewall Add and activate a permanent rule for the UDP port range 8000 to 8005 to the trusted zone. [root@server20 ~]# firewall-cmd --add-port 8000- 8005/udp --zone trusted --permanent success [root@server20 ~]# firewall-cmd --reload success Confirm the change by viewing the zone’s XML file and running the firewall-cmd command. [root@server20 ~]# firewall-cmd --list-ports -- zone trusted 8000-8005/udp [root@server20 ~]# cat /etc/firewalld/zones/trusted.xml \u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e \u003czone target=\"ACCEPT\"\u003e \u003cshort\u003eTrusted\u003c/short\u003e \u003cdescription\u003eAll network connections are accepted.\u003c/description\u003e \u003cport port=\"8000-8005\" protocol=\"udp\"/\u003e \u003cforward/\u003e \u003c/zone\u003e",
    "description": "Firewalld stuff mostly",
    "tags": [],
    "title": "The Linux Firewall",
    "uri": "/cyber-security/the-linux-firewall/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "This book is a no BS guide to dog training without being a jerk. Any dog can be training with progressive reinforcement techniques. The author even explains why aversive training not only doesn’t work, but it makes problems sprout up in other areas of your dogs life.\nLoaded with how-to’s on all of the basic things you should treat your dogs and dealing with common problems.\nSummary and Highlights All living things repeat behaviors that are rewarding and avoid behaviors that are not.\nYou don’t need to punish dog to make behavior not rewarding. Instead, figure out how to make the right behavior rewarding enough.\nReward behaviors you want. Ignore or prevent behaviors that you don’t want.\nTeach him the English words for those behaviors and make them very rewarding and fun. Dogs can only learn one behavior for any particular cue. Agree on which cues will be used for which behaviors and be consistent.\nThink in terms of what you want your dog to do, not what you want him not to do. Prevent your dog from being rewarded for behaviors that you don’t want. Reward consistently and generously for behaviors that you do want.\nTraining Cues Oops: The behavior you are doing will not earn you a reward, no reward marker, use sparingly.\nRelax: Lie flat on your side.\nSit: From whatever position you are in\nStand: Stand still on all four legs.\nStay: Don’t move from the position I left you in until I release you.\nTake: Take food or object into your mouth (beginning of teaching dog to retrieve).\nTouch: Touch your nose to designated target.\nWait: Pause, stop moving until I leave or release you.\nNegative reinforcement (bad) Dog’s behavior makes a bad thing go away.\nOperant conditioning Subject can manipulate it’s environment by his behavior. Choosing behaviors that are either rewarded or punished\nPositive punishment (bad) The dog’s behavior makes something undesirable happen, and a behavior decreases as a result. Can cause aggression and fear. Does not provide dog enough information to act.\nPositive reinforcement Dog’s behavior makes something desirable happen. As a result, behavior is likely to increase.\nNegative punishment The dog’s behavior makes something desirable go away and the behavior is likely to decrease as a result. (Turn and walk away)\nNegative reinforcement The dog’s behavior makes something undesirable go away. The behavior is likely to increase.\nBenefits of positive reinforcement Get dogs to voluntarily offer behaviors we want without force. Can phase out use of food as reward when behavior is solid enough. A dog is NEVER 100% reliable.\nNegative attention is still attention\nInstead of physically punishing, ignore dog by not making eye contact, not speaking to him, and turning your back on him until he does something good like sits, then reward with treats and attention.\nYou have to intervene when behavior is dangerous until they are better trained.\nIf they find something more rewarding then they will not answer you.\nReward with petting, praise, playing with a toy, making eye contact, opening the door, or throwing the ball.\nWrite down vocab list and post on the fridge for everyone to use.\nThey don’t know between right and wrong\nDogs are masters at reading body language\nWhen your dog makes a mistake, instead of saying “No, bad dog!” Say “oops” then show her the right way to do it.\nBody Language Be consistent with your body movements.\nDogs can learn to tolerate or love threatening behavior.\nTeach kids not to hug dogs they do not know and not to stare in their eyes.\nTeach your dog to love having his collar grabbed.\nTeach your dog to love eye contact.\nMove away rather than towards your dog if you want them to come.\nDogs see as a threat:\nEye contact Loud, firm, angry vocalizations Reaching over head (Grab collar under the chin for safety) Primate hovering Body Blocking Taking up space to prevent your dog from doing so.\nOnce you get good at it you can simply lean forward with your intent to occupy the space.\nNot good for dogs the resource guard\nCalming Signals Deference behaviors help keep the peace in a pack (canines are better described as deference hierarchies rather than dominance hierarchies)\nModerate behaviors in each of these categories are safer than extreme versions of these behaviors on either side.\nAppeasement (active submission) Increased activity and diminished posture.\nWants attention\nNuzzling (use negative punishment to stop) Licking (negative punishment or install incompatible behavior approach with toy) Jumping up (negative punishment or install incompatible behavior sit or down) Pawing motions (put on cue or replace with incompatible behavior four on floor) Smiling Teeth clacking (ignore or put on cue) Crouching (ignore or reinforce dog approaching taller) Pretzeling (put on cue) Play-bows (put on cue) Excitement urination Ears pulled back Tail wagging Deference (passive submission) Decreased activity and lowered body posture.\nWants attention to go away\nEars pressed flat against head Tail tucked Freezing Avoiding eye contact Urination Lowered body posture or belly up Displacement Behaviors performed in an effort to resolve an internal stress conflict.\nBlinking Chattering teeth Nose licking Scratching Shaking off when not wet Yawning Drooling/ foaming Excessive grooming Hyperactivity Immune system disorders Lack of focus Leaning/clinging Lips pulled back Lowered body posture Mouthing Obsessive compulsive disorders Panting Hair raised on back of neck Stiff movement Stretching Sweaty paws Trembling Whining Stress signs Anorexia Appeasement/ deference signals Avoidance Brow ridges Digestive disturbances Threat (dominance) displays Children do not recognize threat signals.\nBarking Freezing Growling Hard stare Lips pulled forward Nose bumping Snapping Snarling Training Equipment Motivators, reward markers, collars, and leashes\nMotivators (rewards) Food Lower value treats at home.\nDinner kibble Train before meal.\nHigher value reward in more distracting environment.\nHot dog Frozen liver Life Rewards Use when dog has learned a trick well\nToys Play Petting Praise Chase ball Walk Car ride Play with dog pals Reward Markers Every time you click or say yes the dog should get a treat.\nClick is always food treat.\nVerbal can be treat or life reward.\nBehaviors are marked the instant they happen (at least within one second).\nClicker Used to immediately signal to the dog he has done something good.\nTrain new behaviors with an actual clicker. You can use a badge reel to keep it on you.\nVerbal marker One syllable word such as “Yes!” Uttered once per reward.\nCollars If dog slips collar: Limited-slip collar (martingale or greyhound collar)\nHarness Can encourage dog to pull. But can also be used to put pulling on cue.\nEasy walking Harness Easy-walk Sense-ation Sense-ible K9 freedom harness No: Choke chains Prong collars Leashes 6 foot leash No roll up leashes Management tools Used for preventing unwanted behaviors before they happen.\nCrates Never a place for punishment Give lots of treats in crate Put on cue Toss treats in crate when you aren’t training Feed meals in crate with the door open Reward for being quiet in crate after fushing Tethers 3–6 ft plastic coated cable Used to keep dog in a spot when teaching manners Should be set up with a soft bed and chew toys Should be pleasant Baby Gates To keep dog out of restricted areas. Exercise Pen When they have to be left alone all day. Train them to love the pen before you leave. Head Halter Negative reinforcement. Can suppress behavior making training challenging. Behaviors Offered Behaviors Capturing When a dog offers the complete, perfected behavior that you are trying to train all on their own, the behavior is captured.\nShaping Break down trick into small steps. Click and reward at each step.\nElicited Behaviors Imitation Dogs are more likely to imitate other dogs than humans. Click and treat desired behaviors.\nLuring Using treat or target object to show them how to do the behaviors. This is good to use in combo with shaping.\nShould be faded away soon as possible, replace the lure with body language.\nModeling Physically assisting the dog into position.\nLeast desirable and effective method. Should be gentle and faded away quickly\nManagement Use a tether or crate to keep them away until you can train them otherwise.\nPositive Punishment Use positive punishment sparingly (dogs behavior makes bad things happen).\nShould work within one or two applications.\nNo Physical harm such as:\nShock collars Hanging Helicoptering Hitting Use NO! for life threatening situations only.\nBetter to use negative punishment (dogs behavior makes good thing go away) to change an unwelcome behavior.\nBasic Training Truly reliable recall (90% or better) in the face of serious distraction can take years to master.\nHave fun, don’t be too serious.\nIndoors for new tricks is better than outdoors.\nPractice in different environments after they know the behavior.\nMay need to back up a few steps in a new environment.\nGroup training classes can give them a good distracting environment to train.\nFind dozens of opportunities to let them know the trick happens everywhere.\nWill be able to learn new behaviors in distracting environments eventually.\nSix Steps for teaching a new behavior Get the behavior by capturing, shaping, or luring. Mark the behavior (click or verbal) Reward the behavior (Treat or life reward) Repeat the behavior until it happens easily at least 80% of the time. Add a verbal cue just before the dog does the behavior Use verbal cue to elicit behavior (After you say the word before the trick half a dozen to 2 dozen times) How often to train Several 5–15 minute sessions each day (30–45 minutes per day).\nTraining session:\nPick one or two tricks to focus on. Start with something they are good at to get them tuned into you. If either one or both of you start getting frustrated it’s time for a break End session on a positive note by having them do a trick they love. Jackpot! For extraordinary efforts. Click and say in an excited tone “Jackpot!” and give extra rewards.\nThe Clicker Click must happen the instant the dog is does or is doing the behavior you want to reinforce. Offering the treat is a separate step.\nClick and pause — then offer the treat (a second or two).\nEventually the time between click and treat can be lengthened.\nNo Reward Marker Tells dog they have not earned a reward for their behavior.\nOops!\nUse sparingly, if at all.\nKeep it positive.\nLeash Not a handle or a steering wheel.\nRestricts access to environmental rewards.\nCan stand on it or tie it to your belt.\nMust be loose (6 inch valley) unless restricting access to environmental reward.\nWeek 1: Core Exercises Charging the Clicker Muffle sound at first, click and treat several times \u003e unmuffle, click and treat several times.\nDo a couple dozen reps.\nDon’t click if they are doing a naughty behavior.\nCan use tape to muffle if needed then gradually peel back layers of tape over time.\nThe name game Say your dogs name, if he looks at you “click” and reward. Don’t say name more than once if he doesn’t look at you.\nMake a kissy noise and click and reward if they look at you. You can say name and click and treat even if they are already looking at you.\nFamily play version Get everyone with clickers in a circle and take turns saying his name and clicking and treating.\nAttention without name version Put leash on in low distraction environment. Any time he looks at you click and reward. Gradually increase the length of time between clicks.\nYou can add a “watch me” cue when he keeps his attention focused for several seconds.\nAfter he keeps attention for ten seconds or more, add distractions increasing in difficulty.\nThe goal is to get them to offer attention during training sessions.\nSit/ Down Don’t give treat while sitting, lure or shape.\nSay good boy when he sits\nPuppy Push Ups Teach sit from down position. Click for each up and down. Eventually can wait a few ups and downs between clicks.\nVary the amount so they never know how much they have to do.\nStand By Me Get them to stand near you. Let them nibble at treat to get them to stand longer.\nUse body movement to get the behavior.\nSpin and Twirl Spin is one way twirl is the other. Use shaping and lures.\nWeek 2 Come (recall) Never punish dog for coming to you. Stay positive, do not use intimidation, punishment or anger.\nSay in happy upbeat tone and make sure good things always happen when the dog arrives.\nIf you leave the dog park when she comes you are punishing her.\nBounce a ball or squeek a toy. Run away and get her to chase you Or gently grab her collar.\nTry come with all family members round robin style.\nGradually add distractions indoors — cat crossing the room, bouncing a ball, knock on the door, etc.\nCome and sit is better than come and jump up.\nIf they do not come outdoors, attach a 30 foot Nylon cord to make them easier to retrieve. Grab cord and use come then reward. Don’t drag.\nTouch Touch or target — teaching dog to touch a target with nose on cue. Can use if they don’t respond to come.\nUseful to teaching dog to ring bell, close doors, go bowling, play soccer, turn on the tv, agility obstacles, etc.\nTarget can replace food as a lure. Start using hand as target cause dog likes to sniff hands. Move hand around after they get it at nose level. Then you can teach it to a different target object.\nCan use as a tool for cueing behaviors that you can’t reach with your hand.\nHold treat and clicker behind back if it is distracting. Can drop treats on the ground or keep treats in a bowl on a nearby shelf\nNo Jumping Zone Whole family has to agree not to reward her for jumping up.\nTeach them to sit for attention. Wait for your dog to sit without being asked.\nOn-leash jump with strangers Have stranger approach with treat at chest height, click when dog sits then treat.\nIf dog jumps up for treat have the stranger pull treat away and cheerfully say “oops!”.\nRepeat with many people.\nThe On-Leash Jump with You Attach tether to stable object. Approach dog from ten feet away. Only approach while dog is sitting, stop when dog jumps up.\nYou aren’t asking for them to sit, you want them to offer sit on their own. Then you can click when you reach dog and they are still sitting.\nTry backing up a step when they get up.\nOff-Leash Jump As you walk in the front door, turn away and step away if dog jumps. Once they sit, click, treat, and pet. If they start to jump up again, turn and step away.\nBehavior Chain A series of behaviors that get chained together because dog thinks reward is dependent on all of the behaviors not just the last one.\nThey might learn chain behavior of jump up, sit, reward.\nCure: look for times they sit without jumping up.\nDon’t ignore your dog when they are doing good.\nAsking for an incompatible Behavior Say sit or down before they have a chance to jump up and click reward. This only works if they immediately respond to the replacement command.\nIf you have to repeat the cue several times with Rambo jumping up on you then you are rewarding them with attention for jumping and teaching them to ignore your commands.\nLet’s Walk When you tolerate pulling, your dog learns that pulling gets them where they want to go. If you want to get fancy, you can teach your dog different cues for walking in different positions.\nFor now, think of walks as training games rather than to get to a destination or exercise.\nKeep sessions short at first.\nDrive them to off leash play areas or other destinations until they get good at walking. And practice after they have burned off some excess energy.\nHang out and walk around for a bit, every time your dog is walking near you, click and treat.\nUse verbal “let’s walk” cue once they get the hang of it.\nGradually increase distractions\nTurn back on them if they get crazy.\nCan use oops cue.\nPick back up if they sit calmly.\nTake thrill out of they leash by picking it up randomly throughout the day.\nFor outside bring megasupply of treats and clicker.\nStand and wait if they hit the end of their leash.\nClick anytime the leash is loose.\nChange directions for more loose leash opportunities.\nDo not jerk the leash.\nDo not let them get environmental rewards for pulling.\nLet them earn environmental rewards with Cue “go sniff!”\nCan use touch command to show them what to do.\nUse front-clip no-pull harness for dog that drags.\nIf they pull back on treat shape them forward with clicks.\nDon’t let them get rewarded for stopping.\nUse high value treat for outdoors save that treat for only outdoors.\nRemember to back up a few steps if you get derailed.\nSit on a bench for an hour with treats to desensitize them to being outdoors.\nShake Try shaping, luring, or molding.\nLefty/Righty Add left and right verbal cue for each paw.\nHigh Five Click any touch of their paw to your palm and shape more vigorous responses.\nWave Hand signal — palm up and wiggle your fingers.\nGet them frustrated with no click until they jerk their hand higher, click and reward.\nTether Time out Use tether if dog is out of control.\nOnly use leash as tether if dog won’t chew on it.\nWatch them while tethered so they don’t learn chew on tether.\nPut comfortable rug or bed and chew toys at tether spots.\nWhen they get out of control say “too bad Luke, time out” and a few minutes on tether.\nCan pre-tether if you know they are going to flip out in a certain situation to prevent it from happening.\nIgnore barking or whining.\nOnly release when calm and quiet so they don’t learn that fussing gets them released.\nMust release them when they settle so they know that being calm earns freedom.\nYou can do another timeout right after if they rev up again.\nThis is a cheerful interlude, not a forceful punishment.\nWeek 3 Wait “Pause for a moment or two- don’t follow me”\nReminder for your dog to defer to you\nTeach manners by letting you go through doors first.\nCan use to pause them from chasing your cat.\nCan use to keep them from going to far ahead on off leash walks.\nLet him offer a sit at the door then say “wait”.\nCan use palm facing him wait signal.\nGradually open the door and clicking and treating each increment.\nIf he gets up, say “oops!” and have him sit again.\nLetting them out the door or playing in the yard can be a life reward for this.\nTry this on front door, car, outside, etc.\nMove back steps in the process if you lose progress.\nTake It! Almost as easy as charging the clicker.\nSay take it with a treat in your hand, click when the they take the treat.\nRepeat several times.\nHold treat different places (between your legs, get creative)\nTry with a toy, get him excited about it and say cue when you know he is going to take it.\nIt’s okay if they drop it after you give them treat. Hold is a later trick.\nWhen he is easily taking the toy from your hand try throwing it on the floor when you say take it, click and treat when he picks it up.\nGradually increase distance that you toss the toy (racing across the yard to take a toy).\nKeep take sessions short. Stop before they get tired or bored.\nVary the item you ask them to take.\nStart delaying the click for holds.\nPractice when they are full of energy and want to play if they will only take treats.\nTry high value toys (that have treats in or on them).\nLeave it! “Whatever you are looking at, I want you to leave it alone”\nHide high value treat under your foot or hand, click when they leave it alone.\nIncrease the time they have to be turned away and the click.\nClick and treat several times for staying away from the forbidden object.\nHide the object if they go for it again.\nWhen you move far from treat be prepared to dive an body block.\nRing Bell You can use touch to roll a ball, close a door, turn on a tv, ring bell to let you know he has to go out.\nAttach a bell to a string.\nHold bell in hand and ask dog to touch.\nAfter a few reps add verbal cue to ring it.\nHold bell so they will touch it even if they are aiming for your hand.\nMove hand further and further up the string and away from the bell.\nStart moving the bell around to have him ring in different locations.\nCan shape them to touch bell harder by only clicking harder and harder touches.\nCondition to ring bell to go outside.\nCan treat for potty if you only want him to use bell for potty.\nSit pretty Often called sit up or beg.\nStart with dog sitting and facing you.\nHold treat over nose so they have to stretch their head up to sniff it.\nClick and reward as paws come up high and higher.\nAdd verbal cue after the full sit up.\nAdd cue then lure the sit up and fade away the lure.\nCan put this on a raise the index finger cue.\nJumping Use “hugs” or similar cue.\nOnly gets reward if he is invited to jump up so he doesn’t get rewards for jumping uninvited.\nWeek 4 Go to Your Spot Place to send them to take a break from their undying devotion.\nPlace they go at dinner time.\nCan bring to have them settle at a public place.\nCan use doorbell as cue to go lay down in spot.\n“go to spot and lie down”\nUse shaping and click when they move toward spot.\nShaping will help her learn how to learn herself.\nCan help by looking at the spot they will look where you look.\nHide clicker and treats.\nCan also lure by saying “place” and learning them to their spot.\nAfter they get it start asking for a down at the spot in place of sit.\nAsk them to wait so they don’t jump up as soon as they get there.\nReward occasionally for just lying on the spot.\nGradually move farther and farther from place.\nCan bait the rug by putting treats on it.\nRelax Relax position for several seconds or more.\nCan use tummy rub or massage as life reward.\nLure or shape.\nStay “Stay in the position I left you until I tell you to get up”\nThree Elements to stay:\nDuration — How long dog stays.\nDistraction — Realiability.\nDistance — Distance you can move away from dog.\nWork on duration and distraction first.\nDo not ask for too much too soon.\nAsk them to sit for one second, click and treat and be calm so they don’t jump up.\nUse release word to encourage dog to get up.\nDon’t click the release cause you are training the stay behavior.\nStarts adding several seconds then the “stay” cue.\nSlowy increase seconds in stay.\nClick and reward during the stay several times.\nKeep reminding them with more “stay” cues.\nRelease before dog decides to move on their own.\nWisk treat behind back if dog gets up (negative punishment).\nProcess for “down” stay is the same.\nGradually fade the treat away from in front of them.\nAfter they stay for 10–20 seconds add distractions.\nStep to side click release, jump on one foot click release!\nTaking it gradually is the key here.\nThen add distance.\nTeach them that stay is never over until you return to them.\nAt higher levels you can call from stay 1 out of 10 times.\nAfter distance is mastered start combining the 3 elements.\nAlways return before they leave stay position.\nReturn to easier version if they start making mistakes.\nGive. Great for getting stuff out of puppy mouths.\nStart with toy in puppies mouth.\nSay give and hold out treat in hand, when she drops toy to ground click but hold treat until you pick up toy. Let her nibble on treat while you do this. Toss the toy again for life reward as well.\nPractice this with forbidden objects (accidently drop on near her so you don’t encourage playing with it).\nTry not to grab objects from the dog, instead play the give game.\nDo not do this for resource guarders.\nWeave Try touching the weave between the legs in a staggered stance.\nCan also lure.\nScore! Target a large ball by asking her to touch.\nBall needs to be too large to fit in their mouth.\nBring ball lowere and lower to ground and switch cue to score.\nShape harder and harder touches on ball so that the ball starts moving.\nSet up goal after they are pushing the ball a good distance.\nShape the score by only clicking when the ball goes through the goal.\nCan use toddlers legs spread as a v as a goal and they can pass back and forth.\nCan set up plastic bowling pins and use the same technique.\nPray Ask them to sit up (sitting pretty) and encourage them to rest their feet on a chair.\nShape this if they aren’t getting it.\nLure their nose down between their legs and click and treat.\nAdd cue.\nFade gestures away.\nWeek 5 Swing Moves dog to your side facing the same direction as you.\nGets your dog out of your way and into an approximate heel position, allowing you to walk forward together.\nCan put each side on a different cue.\nMove your dog to your left side.\nStart with dog sitting in front of you facing you close enough so you can pat them on the head.\nClicker in your left and and treats in your right.\nTake a long step straight back with your left foot.\nLure dog to your left and back with a treat.\nTurn dog toward you with the lure and bring them up along your left side.\nThen lift treat over their head to gett them to sit.\nCan use verbal sit cue if needed.\nAdd verbal cue after they are doing it easily.\nPut the treat where you want his nose to be.\nCan shape increasingly better sits.\nLeave It — Temptation Alley Learn how to leave it when you go on walks.\nSet up mildly interesting treats outside ten feet apart in an area where you can see them.\nWalk dog 5–10 minutes before you start to settle them a little.\nApproach the first pile. The instant the set their eyes on it say “leave it!” In a happy voice and stop moving.\nDo not jerk them back but do restrain so they can’t eat the goodies (prevention is key).\nThen wait, do not repeat the leave it cue and don’t pull him back. When they look away from the pile click and give a high value treat.\nThen go to the next pile and repeat.\nDo this until they can look awy from each pile with the verbal cue without a leash.\nChange this up by putting piles in different places, different location, with better treats and toys etc.\nTry off leash when they are responding 80% of the time.\nTake a step back if they oopsie and eat the pile.\nUp and Over Jump on and over objects.\nLay broomstick on the ground and have them walk over it.\nSay “over!” On an excited voice as they walk over it. Click an treat.\nRepeat several times until they have no hesitation.\nLift the stick up a few inches with a couple of books and repeat.\nStand on one side of the stick, tell them to wait and say “Over!”\nSlowly increase height.\nFade the lure.\nUp Exercise stepper is a good tool.\nPlace hand over platform and use touch to get them to touch your hand above it.\nPractice on different surfaces.\nShape it if they do not do it all at once.\nPlaying Possum Teach before roll over or it may be hard to get them to stop from rolling all the way over.\nNever try to force a dog onto their back.\nCan use to search for fleas ticks lumps and bumps.\nCan lure this.\nFade the lure.\nRoll Over Try multiple rolls in a row.\nTug Dog should know “give” before attempting tug.\nYou will always win the tug game.\nDogs seem to like the ones with three or four rope branches to choose from.\nRules:\nTug toy is only for playing tug put it away when the game is over.\nYou decide when it is time to play tug, don’t get it out when they ask for it, wait until they move on to something else.\nYou win 9 times out of 10.\nWork on give more if they don’t let it go.\nGame is over if their teeth touch graze your skin, wait a few minutes before you play again.\nDog only gets to grab the toy when you use the tug command. Say oops and hide it behind your back if they try to grab it.\nPlay growling is okay.\nSerious growls, snapping, or refusing to release toy ends the game. Put the toy away for at least 10 minutes.\nCan use “Yes!” Instead of clicker because your hands may be full.\nTrade for a treat if they don’t give up the rope.\nCan use the game itself as a reward.\nWeek 6 Excuse me Hold treat toward nose and let them nibble at it.\nMove the treat toward their chest and take a step toward her.\nClick after they take just one step back.\nShape as they do more and more steps back.\nDo this slowly.\nShould be doing 4–6 steps back before you add the cue.\nShape for straighter and straighter steps.\nIf they just sit then move the treat lower between their legs and click they instant they move their foot back.\nLong Distance Down Get your dog to drop on a dime at a distance.\nAsking them to do less to get them to stop chasing or doing something.\nTether dog or have a friend hold their leash.\nStand in front of dog facing them (they should be at the end of their leash facing toward you).\nTake a step back and give them a happy down cue.\nWhen dog lies down, click and step forward and treat.\nRepeat several times.\nVary the command when you step back so they don’t think that stepping back means down.\nGradually add more steps until they respond to cue across the room.\nStart adding distractions (reduce distance when you do this).\nIncrease distance with distractions.\nTry without a tether with reduced distance and distraction.\nStart asking for down when dog is in motion then in motion with distractions.\nDropped Leave It You drop and item and have them leave it.\nReward them for leaving it.\nReward when they look away from dropped item.\nStart dropping in less protected places than right next to you.\nThen say leave after the treat hits the floor.\nBe prepared to body block.\nHave someone drop something while you are walking with dog towards them.\nCross Paws Have dog lay down and tell them good boy.\nLure by moving treat left to right and shape the paw moving over.\nAdd verbal cue.\nSneak (Crawl on your belly like a reptile) Fade lure after they are crawling longer distances.\nBravo (bow) Start by luring them down and clicking for bent elbows bent then raise the treat back up before dog goes all the way down.\nCan try slipping hand or box under them so they do not go all the way down.\n“Bow” sounds too much like “down”.\nClick and Jackpot! Visualize the behavior you want your dog to do. Have a clear picture in your mind of the behavior you’re trying to achieve with your dog. Figure out how to prevent your dog from being rewarded for the behavior you don’t want. Reward him consistently and generously for the behavior you do want. The poisoned Cue Habituation occurs when your dog learns to ignore an environmental stimulus — a sound.\nSometimes sensitization occurs instead. Rather than habituating to a sound such as the doorbell, a dog may become more and more reactive each time the stimulus occurs. Thunder sensitivity is a perfect example of this.\nLearned irrelevance is similar to habituation. It applies to a dog who has learned to ignore a specific cue, rather than become accustomed to a startling stimulus. This is not deliberate willfulness on the dog’s part, but rather her lack of response to a cue that has failed to have consistent and sufficiently strong significance attached to it. The cue becomes meaningless if it doesn’t have a consequence.\n“poisoned cue.” A cue becomes poisoned when it sometimes has a negative consequence instead of a positive one.\nit will be easier for you to train her to come with a new cue than to try to make the association consistently positive.\nI have heard owners and trainers use words such as close, let’s go, and here in place of a poisoned Come.\nOnce you’ve trained a new Come cue, you have to remember not to poison that one too. If you have to do something to your dog that she’s not fond of, do something wonderful when she gets to you, and a few minutes later end the fun and do the not-so-nice thing.\nOr go get her instead of calling her to you. Meanwhile, make it a point to change her association with the things she doesn’t like. Teach her that a hand moving toward her collar makes yummy treats happen.\nTeach her that a hand moving toward her paw makes yummy treats happen. Then touching her paw. Then holding her paw. Then touching her paw with nail clippers. This process of counterconditioning and desensitization — changing the association with a stimulus — can be applied in countless training and behavior modification situations.\nIt works best when done gradually with numerous repetitions at each step, and not moving on until the dog is obviously happy about the process at each step.\nThe fewer things a dog must do in her world (or have done to her) that she doesn’t like, the less likely you are to poison her Come cue!\nSALIENCE When we say something is salient to a dog, we mean it has noticeable significance to her. Your dog learns to sit even in the face of distractions because the hotdog you are holding in front of her face is very salient.\nThe salient stimuli in the environment — you, your hotdogs, and the Sit cue — are more significant than the distractions. They overshadow the dog barking across the street, the skateboarder whizzing by on the road, the slamming of a car door down the block. If your dog is too distracted to respond to the Sit cue, then the distractions are more salient than you and your hotdogs.\nYou either need to move your training to a less distracting environment, or find a way to make you, your treats, and your cues more significant to your dog.\nBLOCKING when the use of a known cue overrides the dog’s ability to learn a new cue for the same behavior. Keep in mind that while dogs can only learn one response to a particular cue (sit must always mean “sit,” it can’t sometimes mean lie down), they can learn several cues that all mean the same behavior.\nI introduce the verbal cue and explain that any new cue being taught must always precede the known cue.\nI use a demo dog to show them that the dog doesn’t initially understand or respond to the word down until we associate it with the luring motion that means “down” to the dog.\nThe motion is salient to the dog — the word is not. I explain to my students that in order for the dog to hear the word and learn that it also has significance, they must say the word first, then lure the dog down.\nIf they give the verbal cue at the same time or after they lure, the lure blocks the dog’s ability to learn the new cue. With enough repetitions of the sequence — verbal cue, followed by lure (and click! and treat when the dog performs the behavior) — the dog will learn that the verbal cue also has salience, and you will no longer need to lure her down — she will lie down when you give her the verbal cue.\nFADING THE LURE One of the biggest complaints you’ll hear about positive training is that you always have to have food in your hand to get your dog to do what you ask. This is true only if you don’t make the effort to fade your lures — that is, to get your dog to respond to your cues when there’s no treat in sight. If you don’t fade lures fairly early in your training program, you and your dog can both become dependent on the presence of food to get behaviors to happen. The good news is it’s easy to fade lures; you just have to remember to follow the steps to do it. Let’s take Down as our example:\nLure the behavior: Move your treat toward the floor, clicking your dog for following, giving a nibble of treat with each click! Add the cue: When she lures down easily every time, say the Down cue each time just before you lure her down. Repeat a half-dozen times. Remember to click! and treat each time. Pause before luring: Now say “Down!” and pause. Wait for several seconds, then lure her down. Click! Treat. By following the word with the lure, you are translating, telling her that the word down means exactly the same thing as moving the treat toward the floor. Repeat several times. Add a little body language: As you say “Down!” or immediately thereafter, bend forward just a tiny bit from the waist. Since you probably bend forward when you lure, this little body language hint might jump-start your dog’s brain into moving down. If not, wait a few seconds and then lure. Watch for clues: Sometimes your dog will make small movements that tell you she’s starting to make the connection between the cue and the behavior. When you give the Down cue, she may look at the floor or lower her shoulders a little bit and then look at you as if to say, “Is this right? Is this what you mean?” If you catch these clues with a click! and quickly lure her the rest of the way, you’ve answered her question and she’ll probably understand and respond to the cue more quickly. EXTINCTION Extinction means taking a behavior that has been reinforced and making it go away by removing all reinforcement.\nYou can deliberately extinguish an unwelcome behavior by taking away any reinforcement your dog might be getting for it. We extinguish the behavior of jumping up by making sure no one pets, talks to, or looks at the dog when she jumps, and by stepping away so she doesn’t even have the pleasure of making contact with her paws.\nYou can also accidentally extinguish a desired behavior by forgetting to reinforce it or by not reinforcing it enough. Reinforcement isn’t always treats — it’s anything your dog likes: toys, play, eye contact, praise, pets, runs . . .\nWhen you use extinction to make a behavior go away, be aware that there is often an extinction burst — the behavior gets worse before it gets better because the dog is trying really hard to get reinforcement for a behavior that paid off in the past.\nYou want to be sure not to reinforce the dog during an extinction burst, or you’ve just taught her that trying harder gets reinforced. Don’t give in (unless the dog is in danger of injuring herself); comfort yourself with the knowledge that the extinction burst usually means you’re close to success.\nspontaneous recovery. Days, weeks, or even months after you extinguished a behavior, it suddenly rears its ugly head again.\nCircumstances occurred to refire the same old neuron pathway. The good news is, assuming you make sure the behavior isn’t reinforced, it should go away again quickly, and much more easily than the first time.\nPremack You can use a more rewarding behavior as the reinforcer for a less rewarding behavior, thereby improving the performance of the lesser behavior.\nFor example, if your dog would rather chase a bunny than come when you call her, you can use the Premack principle to teach her that she will get to chase a bunny — sometimes — if she comes to you first.\nYou start by using Premack indoors in a controlled environment to teach her how it works, and when she’s doing well there, move her outside. Leave your dog on a sit/stay and walk across the room. Your helper, with a plate of tasty treats, stands halfway between you and your dog, slightly off to one side. Your helper should also have a bowl to cover the treats when your dog tries to eat them. Now call your dog. If she stops to investigate the plate of treats, the helper covers the plate and doesn’t let her have a taste.\nYou keep calling your dog cheerfully and enthusiastically. When she finally comes to you, gently grasp her collar, say “Good girl!” then release her collar and say “Go get it!” Race with your dog back to the treats, now uncovered, and let her have a couple of bites.\nThen cover the plate and try it again. Eventually — sometimes surprisingly quickly — she will realize that she gets the treats sooner if she comes to you first and she will fly past the uncovered plate as fast as she can. This principle is also sometimes called Grandma’s Law, expressed as “You have to eat your vegetables before you can eat your dessert.”\nThere are a couple of drawbacks to using Premack in real life: (1) If the vegetables are too unpalatable, dessert may also lose its appeal; and (2) you can’t control the bunnies.\nGeneralization How do you help your dog learn to generalize operant behaviors? By doing exactly what your trainer probably told you to do — practice with her in as many different places as possible.\nCHAINING AND BACKCHAINING The behaviors are linked together so that each behavior is the signal for the next behavior in the chain, and the opportunity to perform the next behavior becomes the reinforcer for the previous one.\nBackchaining begins with the last behavior in the chain. Each step is added in reverse order, until the dog is performing the complete behavior. The theory is that when you teach the last thing first, your dog is always moving toward what she knows best, so she gains confidence as she learns the new links in the chain. The theory works.\nTHE PRINCIPLE OF PARSIMONY Unless there is evidence to the contrary, you must account for a phenomenon with the simplest explanation available.\nHouse Training Think in terms of what you want him to do.\nHousetraining, an ounce of prevention is worth many pounds of cure.\nWill start using the phrase Do It when he starts to eliminate. This will teach him to go to the bathroom on cue.\nSocial Misfits As they get older (8 to 16 weeks), they are given careful exposure to other stimuli — visits to the vet hospital and groomer; walks in town; rides on elevators and escalators; sounds of cars, motorcycles, and skateboards; people of different ages, sexes, and ethnic backgrounds; people who dress, talk, and move in strange ways; and people with umbrellas, crutches, wheelchairs, and facial hair. The more positive exposures a dog has to a wide variety of experiences during this period, the more confident and well adjusted she will be throughout her life, and the more easily she will accept new experiences, even without prior exposure.\nSteps to take to foster courage in an unsocialized canine:\nTeach your dog a reward marker. Reward-mark his entire meal. If the dog is extremely unsocialized — fearful even of you — let this be the only way she gets to eat: by being in your company and, eventually when she’s brave enough, by eating out of your hand. She needs to learn that you are the source of all good things. Reward-marking won’t work well for a free-roaming feral dog — she will have access to other food sources and won’t have to tolerate your presence to find food. Reward-mark her for calm behavior around others. Make a list of her fear triggers. Use counterconditioning and desensitization. Desensitization is the process of gradually acclimating the dog to the things she is afraid of. Counterconditioning means replacing her involuntary undesirable reaction — fear — with a more desirable one that is incompatible with fear, such as the eager anticipation of a tasty treat. Reward-mark while others feed treats. Teach her to target. Caution: Avoid Coddling!\nBe Happy Healthy dogs chew. They also bark, dig, and run around. These behaviors are natural and necessary for them.\nteach him to go to the bathroom at appropriate appropriate times, in appropriate places. You will be far more successful in dealing with the challenges of chewing, digging, and barking if you address these natural behaviors the same way.\nCHOOSE YOUR CHEWS Stuffed Kong toys, marrow bones, and other indestructible but inviting chew objects are better choices than items that resemble our valued human possessions. Discarded socks and old tennis shoes teach a pup to head for the closet floor and the laundry basket when the chewing urge is strong.\nCarrots, apples, and other hard raw fruits and vegetables are also ideal puppy chews.\nGoodie Ship stuffed with liver treats.\nChewing is also a good stress reliever, which is why dogs who are anxious about being left alone at home often become destructive.\nPuppies should gradually be conditioned to being left alone so they can overcome their very strong and natural instinct to always be in the company of their pack. Providing your dog with a desirable and appropriate chew object prior to your calm departure can often help prevent separation anxiety from becoming a problem.\nSafety First Dogs have been known to choke on rawhide, which can get soft and slimy when chewed.\nRope toys can shred, and if swallowed, the pieces of string can become entangled in a dog’s intestines — a life-threatening situation. Plastic eyes, noses, and squeakers from plush toys also pose a hazard to your dog’s well-being.\nThe black rubber Kong toys are among the toughest\nOldies but Goodies You can regularly give your dog chicken and turkey wings and necks. Note: These are fed raw, not cooked, as part of a complete diet plan.\nThe Whole Dog Journal is a good resource for information on feeding a natural, healthy diet, as are books by Dr. Ian Billinghurst.\nPunishing Jaws after you take a forbidden object away from him does no good — he is likely to think that the last thing he did (giving up the object) is what he’s being punished for. Jaws can learn very quickly that chewing on an item of high value to humans is a good thing to do because it will initiate a rousing game of chase the puppy. If you punish him after you catch him, you won’t teach him not to play the game; you’ll just teach him to run faster next time! Don’t let him suck you into his game — use management and supervision to interrupt and redirect him before he is doing doughnuts around the dining room table with your $150 running shoe in his mouth.\nDigging Dogs who are most likely to engage in inappropriate digging are those who are left to their own devices in the backyard for long periods.\nMy philosophy of dog-human relationships, they belong anyway. Dogs are companion animals, and they serve that function best when they share our homes (dens) with us. Dogs who are exiled to a pen or to the backyard are often excruciatingly bored and/or lonely, which gives rise to a long list of behavior problems, including barking, digging, escaping, hyperactivity, poor socialization, and aggression.\nIf you want, you can even encourage your dog to dig — in the right place. Just as you teach your dog when and where it’s okay to go to the bathroom, you can teach Dozer when and where it’s okay for him to dig.\nYou can build a wooden digging box frame — spacious enough to accommodate Dozer’s size with room to spare — and set it where you want him to dig. Dig up the dirt within the framed area so it is soft and inviting.\nIf your dirt is hard clay, add sand and potting soil to break up the soil and keep it soft. Now invite Dozer to dig in his box by burying a toy or bone just beneath the surface of the soil. Get excited and tell Dozer to go dig.\nThen help him dig up the toy. Repeat this game often, until he will run to his box and start digging from anywhere in the yard when you tell him to go dig.\nYou can bury toys and bones in the box when he’s not looking so that he never knows what he’ll find in there.\nIf you do see him starting to dig where he shouldn’t, say “Oops! Go dig!” to interrupt and invite him back to the box. If he doesn’t have lots of unsupervised time to reward himself for digging in the wrong places, he will eventually confine his digging to his box.\nAn additional benefit to teaching him the Go Dig cue is that you can use it anytime you are in a place where digging is allowed — like the beach, where digging in the sand is great fun for dogs and humans alike.\nYou can also make use of his talents when you need a hole dug — to plant a tree, put in fence posts, or perhaps bury a treasure.\nBarking Simply slapping a no-bark electric shock collar (shudder) around the backyard dog’s neck may stop the barking, but it does nothing to help the dog become less bored, lonely, or frustrated.\nMy answer to the dog owner who asks how to get a dog to stop barking in the backyard day and night is simply to bring him indoors. This relieves his loneliness because:\nHe is now more a part of the family It does away with boredom because there are more interesting things going on inside the house It shuts out the stimuli that frustrate him — like squirrels in the trees and cats on the fence It lifts the burden from his shoulders of feeling like he’s the only member of the pack who is guarding the den We just want to be able to turn the barking off when we want. You can do this with a positive interrupt, or you can get more inventive and teach Woofie to bark on cue in order to teach him to stop barking on cue.\nTo use the positive interrupt, begin by teaching Woofie that over here means “Turn toward me for a click! and a treat.” Practice this on-leash with a small distraction, like sniffing a bush, until Woofie looks to you eagerly when he hears the Over Here cue.\n“Over Here!” As soon as he stops barking and turns toward you for his treat, click! and tell him “Quiet. Good boy!” then click! again for the quiet and give him another treat. (I actually have my clients say “Thank you!” to their dogs when we do this, to remind them that we really do appreciate having our dogs alert us to unusual visitors and events.)\nWhatever it is that gets Woofie to bark — walking up the sidewalk, knocking on the door, opening the door, or whatever. The more you repeat it, the less excited\nWoofie will be about the knock on the door and the quicker he will be to turn toward you on the Over Here cue. Of course, the next time someone comes to the door, Woofie will be excited all over again — it takes time and numerous repetitions of this exercise to get Woofie to give up his deeply ingrained, out-of-control barking behavior.\nRemember that you are not using the Quiet cue to make your dog stop barking — you are waiting until he stops barking and then telling him that the behavior of not barking is called quiet.\nIn time, when Woofie has learned to associate the word with the behavior of being quiet, you will be able to get him to stop barking with the Quiet cue, but if you use it in the beginning while he’s barking, you will be teaching him that quiet actually means “bark.”\nIn fact, I honestly believe that a lot of dogs think their owners are barking with them when they are actually yelling at them to shut up! I avoid teaching dogs to bark on cue if they don’t already bark a lot, but for those who are problem barkers, it can be a superb solution to the barking behavior challenge.\nGetting the bark on cue is the easy part — barky dogs are usually more than willing to offer the behavior.\nYou probably already know what stimulates Woofie to bark. If it’s a knock on the door, then knock on the door, click! when he barks, and feed him a treat.\nIf this works, do it again, but say “Speak!” or “Who’s there?” just before you knock. When he barks, click! and treat. Because he likes to bark anyway, in very short order he will probably bark for you on just the verbal cue, without the knock.\nAside from using this exercise to teach Woofie to be quiet on cue, it can also be useful for self-protection. I had one client who taught her dog that What Do You Want? was the cue to start barking.\nShe could then use it if she felt threatened by an approaching stranger, and her very friendly dog would bark nonstop and quite convincingly keep the potential bad guy at a distance.\nNow that you have the bark on cue, you can teach Quiet or Enough by clicking and rewarding a pause in the barking.\nAgain, remember that in the beginning you won’t be asking Woofie to stop barking with the verbal cue; you’ll just be associating the quiet word with the cessation of barking.\nEventually, when you know he has made the connection between the word and the behavior, you will be able to use the cue to ask him to stop barking.\nRemember first to thank him for alerting you to something going on in the world.\nYou never know when he might be trying to tell you that there’s a burglar outside, that Timmy has fallen into the well, or that your horses are running down your driveway.\nSeparation Anxiety Separation anxiety (SA), the canine equivalent of a panic disorder.\nA less intense stress response in dogs over being left alone is called isolation distress (ID).\nSpend fifteen to twenty minutes in a hard play session every morning to take the edge off Shep’s energy level before you leave the house.\nProvide as much exercise as possible at other times of the day as well. A dog who has a reservoir of pent-up energy is more stressed than one who is tired. A tired dog is usually a happier and better-behaved dog.\nBe calm when you leave and return. Dramatic good-byes and hellos raise Shep’s anxiety level.\nGive Shep a Kong toy or marrow bone filled with peanut butter or cheese just before you leave.\nDo not crate Shep unless you know she stays calm in the crate while you are gone.\nBiting All dogs can bite. And under the right set of circumstances, the gentlest, most loving dog can be induced to bite.\nAggression is caused by stress. Each thing (stimulus) that causes a dog stress is a small building block (stressor) toward that dog’s bite threshold.\nA dozen or more commonly recognized classifications of aggression, including status-related aggression, fear-related aggression, maternal aggression (a mom protecting her puppies), play aggression (when a dog’s level of arousal escalates during play and turns into aggression), displaced aggression, pain aggression, territorial aggression, possession aggression, protection aggression, barrier aggression, and redirected aggression.\nResource Guarding You can build on this foundation by working with Gimme at her mealtimes in a four-week resource-guarding program. Begin by setting her dish on the counter and putting her kibble in it.\nDuring week one, feed her the entire meal by hand, one kibble at a time. Have other family members take turns feeding her, and even allow an occasional visitor to do it so that she really gets the concept that humans deliver resources.\nBe sure to include children in the mix — you want her to realize that having small humans around her food bowl is a good thing. In week two, set Gimme’s empty food bowl on the floor and put her meal in a second dish on the counter.\nNow drop a few kibbles into her dish, and while she is eating those, drop a few more. You want her to realize that when a human hand approaches her bowl it is not coming to take her food away; instead, more food is coming.\nAgain, have all the family participate, and include an occasional friend in the mealtime ritual. During week three, put her bowl on the floor with about ¼ of her meal already in it.\nAs she eats, continue to add more kibble, and occasionally add something really wonderful, like a slice of hot dog, chicken, or roast beef. Now you are teaching her that not only does the approaching hand bring more food, it actually brings better food.\nBy now she should be pretty well convinced that having humans around her food bowl is a wonderful idea. In the final week of your food bowl training, continue to drop kibble into her bowl as she eats.\nNow, assuming that she is showing absolutely no signs of food guarding when you reach toward her bowl, pick the bowl up while at the same time you drop pieces of her really wonderful treat on the floor.\nThe message you’re giving to Gimme is that food bowl going away = really wonderful food on the ground. While you have the food bowl in your hand, put a few more pieces of the really wonderful treat in it and set it back down on the ground after she has finished the treats you dropped.\nYou are simply reinforcing the concept that having humans mess with her food bowl is good — it returns to her with even better stuff in it.\nIf you, and others, for the rest of Gimme’s life, continue to occasionally drop great stuff in her bowl while she is eating, she will always recognize humans near her bowl as a good thing and should never develop a food-guarding problem.\nDogs do what feels good, or, as behaviorists say, behavior is reward driven. If your dog is doing something that you want to change, at some level it is rewarding to her.\nFind out what the reward is and you are well on your way to changing the behavior.\nYour attention is a huge reinforcer. Even negative attention (like yelling) is reinforcing — in your dog’s mind, something is better than nothing.\nBabies and Kids Make good things happen whenever babies were around.\nDon’t be stingy here — leave Lady’s dinner kibble at home. Instead, get out the hot dogs, cheese, steak, chicken — whatever Lady likes best — and keep feeding her one tiny piece at a time.\nYou don’t even need to click! her for this; you’re not trying to change or teach a behavior; you’re trying to influence the way that her brain responds to the presence of children. (This is called classical conditioning, like Pavlov’s salivating dogs.)\nWe just want Lady to realize that the presence of babies and small children is a reliable predictor of wonderful treats.\nYou can also have the babies’ parents or babysitters and some well-behaved small children feed treats to Lady and pet her gently so that she realizes that not only do good things happen when kids are around, some of the good things actually come from the children.\nNever leave dogs, babies, and/or small children (under age 10 — or older if the dog is large and active) together unsupervised. No matter how trustworthy the dog, a responsible adult must always be actively observing the interaction between dog and baby human(s).\nGive the dog an escape route. When Junior starts moving, he can be pretty determined and irritating.\nToddler fingers in her eyes, ears, and mouth. Teach Lady how to jump over a low barrier to reach safety if she has had enough baby for the moment.\nDogs who can’t escape their tiny tormentors are more likely to bite in self-defense.\nTeach your dog bite inhibition so that if she does feel compelled to bite in self-defense, she will give an inhibited warning bite rather than a serious bite. (See chapter 22, “A Biting Commentary.”)\nTeach your children to respect the dog. Children should handle dogs gently and kindly. As soon as Junior is old enough to understand, he needs to learn that it is not okay to hit, poke, kick, or pull Lady’s ears or tail. He should also be taught that Lady’s crate is her sanctuary — she is never to be disturbed there.\nUntil he is old enough to understand, it is the responsibility of the supervising adult to prevent Junior from tormenting Lady.\nTeach your children basic dog safety tips:\nNever approach an unfamiliar dog. Never run away from a dog. Never scream near a dog. Stand still when an unfamiliar dog approaches. Do not hug a dog unless an adult has told you that you can hug him. Do not stare into a dog’s eyes. Do not disturb a dog who is sleeping, eating, resting in his crate, or with or near her puppies. Do not play with a dog unless supervised by an adult. Choosing your animal care Association of Pet Dog Trainers (APDT), a nonprofit organization that promotes the use of positive training methods and provides educational opportunities for all trainers to learn more about the modern science of dog behavior and training. You can access the list of APDT member/trainers at the APDT Web site, www.apdt.com, to find an APDT trainer in your geographical area.\nTraining your dog should be fun! A competent instructor will allow and encourage you to observe a class prior to making the decision to enroll. In a well-run class, dogs and people will be enjoying themselves and having a successful learning experience. Look for an instructor who is approachable and who encourages participants to have a good time. If space permits, an instructor should welcome and encourage all family members and others who interact with the dog to attend class. A skilled class instructor will Provide a clear explanation of each lesson. Demonstrate the behavior(s) that students will be teaching to their dogs. Provide clear instructions and written handouts on how to teach the behavior(s). Give students ample time in class to begin practicing the day’s lesson. Assist students individually with proper implementation of techniques. A skilled and professional trainer will encourage dialogue and be courteous to both canine and human clients alike. You want to be comfortable with the training tools and methods used by the instructor. A skilled and professional dog trainer employs humane training methods that are not harmful to the dog and/or handler and avoids the practices of hanging, beating, kicking, shocking, and all similar procedures or training devices that could cause the dog great pain or distress, or that have imminent potential for physical harm. You have the absolute right to stop any trainer or other animal-care professional who, in your opinion, is causing your dog undue harm or distress. A conscientious trainer will stay informed about innovations in dog training and behavior tools and techniques. Check to see if the instructor is a member of any educational organizations such as the APDT, and whether s/he pursues ongoing educational opportunities. A good instructor will take care to protect your dog’s health in a group setting. Ask if dogs and puppies are required to be vaccinated prior to class and, if so, which vaccines are required. Make sure you and your veterinarian are comfortable with the vaccination requirements. Current clients are a valuable source of information for you. Attending a group class gives you the opportunity to ask clients how they feel about their experience — if they are enjoying the class and feel that their training needs and goals are being met. Because of variables in dog breeding and temperament and owner commitment and experience, a trainer cannot and should not guarantee the results of his/her training. However, an instructor can and should be willing to ensure client satisfaction with his/her professional services. Treats and Rewards Hot dogs or Vienna sausage (you can microwave them to make them less slimy); various kitty treats; trail mix; frozen Italian meatballs; chopped bologna; peanut butter; cream cheese; small cubes of cheddar cheese; chicken — boiled or, even better, fried; liver — freeze-dried or fried; minced steak or roast beef; and the several brands of meat rolls produced for dogs.\nSqueeze cheese is a favorite of mine for exceptionally fussy dogs, and baby food in a jar.\nA spoon or my finger, right out of the jar, or from a squeeze tube.\nFrench toast, Cheerios, croutons soaked in salad dressing, and cheese-filled tortellini.\nSmall chunks of apple and carrot.\nChocolate and onions can kill a dog if consumed in even moderate quantities. Grapes and raisins have also been implicated in numerous dog deaths.\nLIFE REWARDS Things other than food that your dog loves.\nThe more reliably your dog has learned a behavior, the more you can use life rewards in place of treat rewards.\nChasing a ball or a Frisbee Chasing squirrels or birds (in a safe environment) Going outside or coming inside Digging a hole Chewing a chew toy Playing tug of war or chase Taking a walk or going for a car ride Swimming Playing with other dogs Anything else your dog loves to do Training Cues All Done : You are released from whatever I was asking you to do.\nWatch Me: Look at me.\nClick (or a mouth click, finger snap, the words “Yes,” “Click,” or “Tick”): What you were doing at the exact moment you heard the click is earning you a food reward.\nCome: Run quickly to me. (You might also want it to mean “and sit right in front of me.”)\nDog’s Name: Look at me and wait for further instructions.\nDown: Lie down on the ground (not get off something or someone).\nExcuse Me: Walk backward.\nGood Boy: General praise — not a reward marker!\nHeel: Walk by my left side with your shoulder even with my knee.\nJackpot: Exceptionally good effort — you are earning extra rewards!\nLeave It: Whatever you are touching or paying attention to, leave it alone; get off someone or something; don’t touch.\nLet’s Walk: Walk with me without pulling on the leash, or walk closely with me with no leash, but not necessarily in the heel position.\nNo: What you are doing is very bad or dangerous — stop immediately! (Use very sparingly, just for life-threatening situations, and when you do use it, say it like you mean it!)\nOops (or Wrong, Mistake, Sorry): The behavior you are doing will not earn you a reward. (This is referred to as a no-reward marker and is also used sparingly.)\nRelax: Lie flat on your side.\nSit (not Sit Down): Put yourself in the sitting position from whatever position you are in now.\nStand: Stand still on all four legs. Stay: Don’t move from the position I left you in until I release you.\nTake It: Take food or an object into your mouth (the beginning of teaching a dog to retrieve).\nTouch: Touch your nose to a designated target. Wait: Pause. Stop moving, either until I leave or until I release you. (This is less formal than stay.)\nIf you made it this far… Please consider giving me some feedback. I want to become a better writer and help others grow along with me. Feedback is invaluable for this goal.\nThanks for reading!",
    "description": "This book is a no BS guide to dog training without being a jerk. Any dog can be training with progressive reinforcement techniques. The author even explains why aversive training not only doesn’t work, but it makes problems sprout up in other areas of your dogs life.\nLoaded with how-to’s on all of the basic things you should treat your dogs and dealing with common problems.",
    "tags": [],
    "title": "The Power of Positive Dog Training (9/10)",
    "uri": "/booknotes/the-power-of-positive-dog-training/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "Holy cow was this eye opening. Not only in regards to money, but the principles apply to many aspects of life. Strong story telling, clear and concise. Worth reading multiple times.\nSummary and Highlights You don’t have to be a genius to do well with money. You just need to have the proper set of emotional and behavioral skills. These skills have nothing to do with having a finance degree.\nYou must factor in luck when making financial decisions.\nWhat seems like a dumb financial decision to one person, may be smart from someone else’s point of view. Depending on their life outlook, their mental model of the world, goals, and current circumstances.\nThe world is too complex for an individual to dictate 100% of their outcomes. Remember luck and risk when judging others (or your own) financial success.\nPeople can get lucky when they just as well could have gotten unlucky. Even if it was the same decision. The outcome could have swayed either way.\nBased on this, careful when judging or looking up to people. Not all successful people got there because of hard work, and not all poverty is due to lazyness.\nExtreme cases of luck and risk cannot be applied to other people. The farther the extreme, the more likely the outcome was driven by luck and risk. So focus more on broad patterns, rather than on individuals or case studies. Common patterns are more likely to be applicable to your life.\nWhen things are good or bad, realize that luck or risk played a huge part in bringing you there. Both factors can turn your life around just as quick.\nPlay in a way that lets you no get wiped out from bad luck so you can keep playing until the odds fall in your favor.\nRecognize bad luck when judging yourself for failures.\nGet the goalpost to stop moving Do not risk what you have and need for what you don’t have and don’t need.\nAccept that you might have enough. Even if it’s less than those around you.\nThings not worth risking:\nFamily and friends reputation Freedom and Independence Being loved be people you want to love you. Happiness Compounding You don’t need tremendous force to gain big results over time.\nSmall efforts over long amounts of time give compounding it’s power.\nTime is the secret sauce.\nHigh returns are often one off cases of luck that can’t be repeated.\nFocus on earning pretty good returns that you can stick with for a long period of time.\nSurvival Getting money requires taking risks, being optimistic, and putting yourself out there.\nKeeping money requires humility, frugality, and fear that what you have can be taken away quickly.\nPast success is somewhat attributable to luck. So it can’t be relied on indefinitely.\nSurvival should be the conerstone of your strategy.\nLonegevity is what makes the best strategy, compunding, work wonders.\nPlan on you plan not going according to plan. Don’t rely on a single outcome.\nKnow that the path WILL be filled with ups and downs.\nTails Events A small number of events drives the majority of outcomes.\nDo not over react when things fail.\nThings failing more often than they succeed is normal.\nWhat you do today or tomorrow has less impact than what you do when the 1% amount of time when everyone else is going crazy.\nThe masters were wrong just as often as you were. They were just really right when they ended up being right.\nYou can be wrong more than half the time and still make a fortune.\nFreedom is time Highest form of weath is being able to choose what you do with your day.\nValue friendship, being a part of something bigger than yourself, spending quality, unstructured time with your children.\nYour kids want you more than they want things.\nPeople imagine themselves driving the nice car They do not think about the driver.\nWealth signaling does not get you admired.\nRespect and admiration is earned through humility, kindness, and empathy. Not fancy stuff.\nSpending money is the fastest way to having no money. Wealth is what you don’t see.\nIf you spend money on things then you will end up with things and not money.\nRich is current income. Wealth is money not spent. Wealth is opportunity to do whatever you want.\nIt’s hard to find wealth role models because the definition of success in wealth is hidden.\nSaving money Wealth has little to do with returns or income and much to do with your savings rate.\nLearning to be happy with less creates the gap between what you have and what you want.\nA powerful way to increase your savings is to increase your humility.\nDon’t give a damn about what others think of you.\nSave for no reason Life will throw curve balls at you.\nHaving extra money will give you more options to wait for the right opportunity. It lets you have time to think and to change course on your own terms.\nSoft skills - like communication, empathy, and flexibility, will give you an advantage in a world where Intelligence is hyper competitive.\nReasonable can be better than rational Reasonable helps you stick to it over the long haul. Which is what matters most when managing money.\nBeing able to sleep at night is more important than math.\nIt’s easier to justify “minimizing future regret” in real life than it is on paper.\n“Love your investments”\nDoing what you love provides the endurance to succeed. Rational thinking does not tie in your emotions to your results. Making it more likely that you will jump ship when the waters are rough.\n“Things that have never happened before happen all the time” History is not a map of the future.\nThe majority of historical outcomes are driven by events that were impossible to predict.\nYou can learn general takeaways from history, but stay away from things that are too specific.\nPlan on your plan not going according to plan Recognize that uncertanty and randomness are a part of life. Render the forcast unnecessary.\nHave a margin of safety. Plan so that you can endure a range of outcomes. So that you can survive long enough to let the odds fall in your favor.\nAssume your future returns will be slightly lower than historical average.\nDo not risk anything you are unwilling to lose.\nBarbell your money. Be paranoid with some, but unwilling to risk the other portion.\nTry to avoid single points of failurre. You can’t plan for the things that are too crazy to cross your mind.\nRelying on a paycheck with no savings is a single point of failure.\nYou will change Imagining goals is easy and fun. But the reality of hitting that goal may be not as good as you imagined.\nPeople are aware of how much they have changed in the past, but underestimate how much they will change in the future.\nAvoid extreme ends of financial planning. Balance at every point becomes important to minimize future regret and keep you in the game for the long haul.\nAccept the reality that you might change your mind. Move on as soon as possible.\nHave no sunk costs. They make you a prisoner of your past self.\nAbandon past goals without mercy. If they do not best suit your needs. The quicker it’s done, the sooner you can go back to compounding.\nNothing is free. We often don’t stick to things because we were unable to identify the price to succeed.\nThe price of successful investing is voliility, fear, doubt, uncertantly, and regret. Be willing to pay it.\nThis is a fee for getting where we want to go. Not a fine for doing something wrong.\nBeware of taking financial cues from people playing a different game than you are. Investors have different goals and time horizons. Factors that an investor pays attention to make different prices worth it or not worth it. Depending on those goals.\nWe can see how much others spend on assets. But we do not see their goals, worries, and aspirations.\nYou must understand your own time horizon and act on those. Rather than acting on the decisions of people playing a different game than you.\nThe seduction of pessimism Optimism sounds like a sales pitch, pessimism sounds like someone is trying to help you.\nOptimism recognises a possitive outcome even with setbacks along the way.\nProgress happens too slowly to notice. But setbacks happen too quickly to ignore.\nGrowth is driven by compoundings. Setbacks are driven by single points of failure or loss of confidence. Both of which can happen in an instant.\nStories are more powerful than statistics. The more you want something to be true, the higher chance you are to believe a story that over estimates the likelyhood of that thing to be true.\nThe biggest risk is that the likelyhood of what you want to be trues isn’t even close to reality.\nWe are overconfident in our beliefs because we fill in what we don’t know to make a mental model of the world. Relying on skill more than on unknowns.\nKey Takeaways Find humility when things go right. Find compassion and forgiveness when things go wrong.\nLess ego more wealth.\nManage your money in a way that helps you sleep at night.\nIncreasing your time horizon is the key to being a better investor.\nBe okay with things going wrong. You can be wrong more than half the time and still make a fortune.\nUse money to gain control of your time.\nBe nicer and less flashy.\nSave. For no reason.\nDefine the cost of success and be willing to pay it.\nWorship room for error.\nAvoid extreme ends of financial decisions.\nYou should like risk because it pays off over time.\nDefine the game you are playing.\nRespect the mess.\nHow Maintain a lifestyle below what you can afford. Avoid keeping up with the Joneses\nWe never want to be forced to sell the stocks we own.\nOwn low cost index funds. (Vanguard?)\nPick a strategy with the highest odds of success at reaching your financial goals.\nHigh savings rate patience optimism that the global economy will create value over the next several decades. History In the 1950’s, the country got rich by making the poor less poor. The gap widened starting in the 70’s\nIf you made it this far… Please consider giving me some feedback. I want to become a better writer and help others grow along with me. Feedback is invaluable for this goal.\nThanks for reading!",
    "description": "Holy cow was this eye opening. Not only in regards to money, but the principles apply to many aspects of life. Strong story telling, clear and concise. Worth reading multiple times.\nSummary and Highlights You don’t have to be a genius to do well with money. You just need to have the proper set of emotional and behavioral skills. These skills have nothing to do with having a finance degree.",
    "tags": [],
    "title": "The Psychology of Money (9/10)",
    "uri": "/booknotes/the-psychology-of-money/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "Summary and Highlights If you have a change of heart, your marriage will be on a new footing.\nA change of heart is the force that erases the distress in relationships and gives you a fresh start.\nA relationship dysfunction—a conflict, boredom or resentment—needs no healing time and is always reversible. A change of heart can occur in an instant.\nMany marriage counselors say the past its unexpressed emotions and habit patterns—and poor communication are the “bad guys” that cause mental and relationship distress. These are the symptoms of relationship distress, not the cause. The cause, the real bad guy, is insecurity.\nPainful memories, negative emotions, habit patterns and bad communication are all symptoms of insecurity.\nInsecurity is the source of distress and all counterproductive behavior.\nThoughts of insecurity periodically pass through our minds. If we dismiss these thoughts, we will remain secure, our ideal selves: easygoing, joyful, compassionate and wise. If we harbor our thoughts of insecurity, we end up in a state of distress.\nMarriage counseling doesn’t work because:\nTherapists tend to teach couples to struggle with their problems instead of giving them a fresh start. Therapists use low mood therapy instead of high mood therapy. Clients are given misinformation, the same misinformation that explains why so many therapists get divorced. When couples go to a marriage counselor there are three possible outcomes: (1) they get a fresh start, (2) they stay together and “cope with” a tense or sour marriage. (3) they separate.\nCoping involves struggling (a more honest term for “working on”) with problems and expressing your feeling about them. Coping takes time and work and provides only temporary relief.\nIt is about as effective as releasing steam without turning down the heat.\nThe strength of their marriages lies not in their ability to cope with their problems, but in their ability to keep their bearings and to stay close.\nPeople mistakenly believe that pain and effort are an inevitable part of relationships. They believe that analyzing their problems and living patterns will change them.\nAnalyzing problems makes you an expert on your problems. It doesn’t change you.\nWhen partners probe and analyze each other’s faults, as they learn to do in most marriage counseling, they become insecure, defensive and resistant to change. They bring out the worst in each other.\nLOW MOOD THERAPY\nThere are actually two kinds of therapy: low mood therapy and high mood therapy.\nDuring low mood therapy the client is in a low mood because he’s probing problems and other negative thoughts.\nIn high mood therapy, clients engage the thoughts we have in high moods—insights, non-contingent positive feelings and big-picture perspectives.\nTHE LOW MOOD THERAPY PROCESS\n1. The counselor asks clients to list their problems. This step makes all the problems vivid in the clients’ minds, thereby lowering their spirits.\nCounselor and clients delve into each problem in detail. They look at its cause, its implications and associated memories, emotions and fears.\nProblems now seem so formidable that clients are discouraged.\n2. From this discouraged state of mind, the counselor and clients attempt to solve relationship problems. The process is usually painful and unproductive.\nThe counselor concludes that the couple needs to put extensive “work” into their relationship. He or she then asks if they are willing to make the commitment. The couple considers how painful and unproductive their efforts have been and are reluctant to throw “good money after bad.”\nThe high mood therapist Sees that extracting misunderstandings, misinformation, overreactions, grudges and discouragement from relationships lays a foundation for a fresh start. This observation keeps the high mood therapist hopeful and patient.\nShe doesn’t focus on problems. Instead, she explains personality and mood distortions and shows how misinformation damages relationships.\nOnce this understanding strikes home, the couple begins to glimpse the same possibilities for their relationship that the therapist sees. They see the viability of a fresh start. At this point, the couple sees their relationship history as a nightmare from which they are awakening.\nA characteristic of very low moods is that every little problem looks like the tip of an iceberg.\nIn the ignorance of low moods, they think the “real” Ben and Jennifer have finally surfaced.\nTheir relationship is punctuated by insecurity, their mood held down by their fearful thoughts.\nThey bring their problem to a high mood therapist. Instead of analyzing their pattern of criticism and withdrawal, she reassures them that they have innocently brought out the worst in each other. She shows them that their behaviors have become exaggerated because they have been stuck in a low mood.\nShe explains how moods distort our thinking and perceptions. She explains that if they make allowances for them, moods will have no lasting effect on relationships.\nMoods are the constant shifts in perspective built into our experience of life. Our thinking and therefore our perceptions of life are a function of mood changes. Our thoughts are more optimistic, lighthearted, and wise when we are in a high mood.\nThis book emphasizes thinking because it is the steering wheel for a happy life and satisfying relationships. Thinking is like breathing—we do it continuously from birth to death.\nThinking is like a function that allows every human being to create a personal reality.\nEach thought creates a feeling that makes the thought appear real.\nThere is no way to enjoy a relationship if our minds are full of painful thoughts. We can’t enjoy anything while our minds are analyzing and criticizing.\nAs our thought processes get healthier, more responsive (less habitual), our relationships improve dramatically.\nWhat makes people so rigid, so predictable in their thinking?\nMind-sets, which we also could call thought systems, create unique realities for people in the same way a film creates an image on a movie screen.\nA mind-set predisposes us toward specific feelings and behaviors.\nMind-sets limit our perceived options and, in that way, cast our lot in life.\nOften people think of feelings as things to work through or deal with.\nBut feelings were meant to be a barometer to help us maintain our emotional equilibrium.\nFeelings provide our moment-to-moment experience of life. They tell us the extent to which our perceptions are distorted by our moods and thought systems.\nThe counselor finds and fans any spark of intimacy that exists between the partners. The couple begins to feel closer to each other and more hopeful about the relationship.\nThe counselor describes how insecurity distorts behavior in relationships.\nHe or she suggests that the relationship is not in as bad shape as it seems. The clients begin to see the spiral of emotional reactions that destroyed the closeness they want. They begin to see innocence in themselves and each other.\nThe counselor demonstrates that maintaining a sense of well-being is all it takes to make the relationship enjoyable and easy.\nThe counselor teaches them the building blocks of human psychological functioning: thinking, moods, mind-sets and feelings.\nUnderstanding these principles enables the couple to create and maintain a sense of well-being and to feel warm and respectful toward each other, even in hard times.\nAccording to the couple’s needs, the counselor discusses relationship-related subjects such as what the past really is, how to forgive and forget, how to use feeling as a compass of relationship well being and how compatibility is the result of the feeling, not the cause.\nTo get a fresh start in a marriage, we must know that the so-called “issues” in a marriage are symptoms and not causes of disharmony.\nA misunderstanding of the deeper dynamics of a relationship.\nCompatibility has to do with how you think and feel and not with how different you are.\nTHE COMPATIBILITY MYTH Don’t personalities have to be compatible for a marriage to be successful?\nA couple must feel compatible and close for a marriage to work.\nComplementary and incompatible are two conclusions about the same situation, two sides of the same coin.\nWhen differences are viewed with respect, partners are viewed as complementary.\nRespect and affinity are the feelings that turn the personality differences into assets in a relationship.\nThoughts of incompatibility are a sign that the respect and affinity level in the relationship has slipped. It is always humbling to realize that today’s incompatibility was yesterday’s refreshing difference.”\nThe two perspectives are just one thought apart.\nHOW THOUGHT CREATES INCOMPATIBILITY To be close to our mates and enjoy their company. Closeness, a warm feeling of affinity, is the cake and the frosting.\nDissimilar values and economic incompatibility don’t matter if the emotional connection is there.\nWarm feelings give people a positive outlook.\nIt is only when we lose good feelings that the qualities we think we want in a mate become important to us.\nIn fact, the number and strength of our wants is an excellent indicator of relationship well-being.\nWhen we start to feel we are not getting what we want in our marriage, we know our level of intimacy is low.\nBeing close helps us to get the things we want, such as a good sexual relationship or material luxury, because intimacy leads to good teamwork.\nCloseness brings out the best in each person.\nIt also inspires both partners to attend to the things that are important to their mates, making it easier to realize their joint and individual goals.\nIt is the thought of incompatibility that creates the feeling of incompatibility.\nNatural compatibility is upset by negative thoughts and judgments.\nIf I am with a person and I entertain negative thoughts about how that person lives or is, my positive feelings begin to disappear.\nWhen people are insecure, what they want and don’t want feels a lot more compelling to them.\nBut when our spirits are high, we’re more understanding.\nWe can see both sides more easily. We see that “issues” are not as important in the grand scheme of things as we thought they were.\nIn other words, it’s normal for us to be stubborn when we’re in a low mood and magnanimous when we’re in a higher frame of mind.\nThe cake is feeling contented inside. In your marriage, the cake is sharing good feelings as a couple. But couples can lose sight of the closeness in their marriage when they search for the specific conditions they think they want. Often, the only reason they want those specific conditions is that they assume they will bring more love.\nBe careful not to hurt each other’s feelings over the issue.\nWe have to be more gentle with each other and more open just to enjoy each other.\nThoughts of compatibility or incompatibility are a compass that reacts to your level-of-closeness to the other person. When you are feeling close to your mate, you will not entertain thoughts about how compatible you are.\nRemember that today’s incompatibilities were yesterday’s refreshing differences.\nThose differences represent opportunities to learn from each other. If you take the role of the student, the respect you show your mate will raise the level of the relationship.\nCommunication enhances a relationship that is on track. If a relationship is off track, communication is, at best, like brushing your teeth right before you eat candy.\nAt worst, communication is tantamount to brushing your teeth with a tooth brush dipped in plaque.\nTHE COMMUNICATION MYTH Doesn’t clear communication automatically improve the quality of a relationship?\nTHE GRAIN OF TRUTH\nPositive communication does deepen the feeling between two people.\nTHE CHANGE OF HEART\nThe couple told the counselor they had a “communication problem.” They said they had bad feelings toward each other. The counselor responded, “It’s a good thing your communication is poor. Just think how terrible you’d feel if you could get your ill feelings across to each other.” The counselor then helped the couple find a close, warm feeling in their relationship—he facilitated a change of heart. When they felt close, they saw the problem in their relationship was the feeling, not the communication.\nCommunication is a pipe through which feelings pass. If the feelings are positive, the relationship will be uplifted. If they are negative, the couple’s level of closeness will drop.\nIn a relationship, then, the quality of feelings that passes through the communication pipe determines the state of that union. What brings new closeness and goodwill to a relationship is more positive feelings—not more talk. Good feelings are expressed in all kinds of ways besides talk. They radiate from your presence.\nWhen we communicate from drunkenness, anger or happiness, what we say can only be understood within the context of that state of mind.\nIf the two of you start a discussion at 7:10 P.M. and at 7:30 you feel closer, you are making progress. Your level of closeness is a moment-to-moment measure of your progress.\nThere is no such thing as a productive discussion that alienates its parties.\nThere is no such thing as an unproductive discussion that brings two people closer together.\nCommunication takes care of itself. It’s the feelings that need to be tended to.\nEach of you is probably seeing things a little bit differently than before, a little more optimistically. (They nod.) If you share these positive thoughts, they will help the relationship to spiral up. Believe me, these positive thoughts are just as real as the negative thoughts. It’s only force of habit that makes you dismiss positive thoughts and stick with the negative.\nYou have to learn to trust it. Any time you can share hopeful, high-spirited thoughts, your relationship will benefit.\nPositive thoughts are just as real as negative thoughts and feelings. In fact, they’re more real! Negative thoughts are always associated with fears of the future and negative memories of the past, and only the present is real.\nLeft off here You don’t have to feel this way all the time to have a good marriage. You just have to remember that when you slip into the doldrums, your thoughts and perceptions will go with you. If that happens, don’t take your thoughts too seriously.\nIf you communicate those negative thoughts to each other, believe me, they’ll seem more real. If you must share them, though, warn the other person it’s your mood that’s speaking, not you\ncommunication isn’t nearly as important as how we feel when we communicate\nCommunication is to relationships what mopping up spills is to housecleaning. You need to clean up messes, but the idea is not to make them in the first place.\nWhen your spirits are low is when you are most compelled to “talk about things” and least advised to do so.\nMany of the statements you make then will seem false or damaging from the perspective of a higher mood.\nIf you must communicate when you are both down, head for the high ground—the positive and hopeful.\nYou can always share possibilities and visions, discuss how difficult it is to see things accurately in a low mood, how much you want the same thing, how deceiving appearances can be and the things for which you’re grateful. These subjects will lift your mood as you discuss them.\nListen for the spirit behind the communication. When you are touched by feelings, you have gotten what that person has tried to say.\nYou will feel enriched and the other person will feel heard.\nUse your level of closeness as a compass to assess how well your discussion is progressing. If, after ten minutes, you are feeling closer to each other, continue on the same track. If you feel more distant, stop, and give it another try later\nIf you want to continue, start all over and head the discussion in another direction. There is no such thing as progress in a discussion that alienates the participants\nWhen our thinking is negative, our feelings and perceptions will exactly reflect those negative thoughts and feelings in that moment. If we trust those perceptions and feelings, our lives will take a turn for the worse.\nTHE MOOD MYTH\nIsn’t “getting to the bottom of it” the best way for a couple to handle a low mood?\nTHE GRAIN OF TRUTH\nIt’s important for you to support your partner when he or she is feeling low\nThe best way to help a person in a low mood is to be understanding and overlook the effect mood has on his or her behavior\nIf you maintain your sense of well-being, your partner can make contact with your sense of well-being for support, much as a drowning person might reach toward someone on the shore.\nIf you try to reach out and pull the person to shore however, you are likely to end up in the water, too\nWhatever mood a person is in is his present reality. If you try to coax him out of it, you are likely to end up in a low mood yourself\nWarmth, understanding, compassion and a respectful sense of humor are the only forces that can help a person who is struggling with a low mood\nHuman beings constantly move up and down the mood continuum. Some mood shifts are dramatic and some are imperceptible.\nThe thinking that creates low feeling states often has many of the following characteristics:\n1. Our mental activity—or thinking velocity—increases.\n2. Our thinking gravitates to problems and dissatisfactions\n3. We experience a heightened but distorted sense of immediacy. For example, we think we must do something right away about our circumstances\n4. We feel self-conscious. It seems we are the center of everybody’s attention\n5. We have a pessimistic outlook. We notice limitations and are blind to possibilities\n6. We entertain many negative thoughts emotions and concerns\nIt is not the mood, the feeling state, itself, but how we relate to it that determines the quality of our life. It is our thoughts about our moods that cause us distress. We fear the moods are “real,” that they will last forever\nUnderstanding the relationship between thought and feeling determines our level of well-being independent of our moment to moment moods.\nWith this understanding we become grateful when our mood is high and graceful when it is low\nUnderstanding how our thinking is related to our feelings and perceptions allows us to calibrate to moods.\nWhen people don’t realize they have moods, they are hoodwinked into thinking it is “reality” that is changing, not just their thoughts.\nAll people tend to experience high moods in the same way—they’re relaxed, energetic, in good humor, patient, carefree and compassionate.\nThere is a large variation, however, in how people experience low moods\nSome get aggressive and belligerent when they are down. Others become quiet and distant\nMoods, even low moods, provide an important function in the human experience. Moods are a navigational system. The specific feeling state we are in at a given moment tells us the quality of our thinking in that specific moment.\nWe know that our thinking is the cause of the feeling even though we may not know what those specific thoughts are\nWhen people lose sight of the source of feelings, they mistakenly attribute their feelings to outside sources. They mistakenly think that our feelings inform us about the world at large\nare my feelings being generated from within via thought or are they being imposed on us somehow by circumstances and events beyond our control?\nThe conclusion is that all feelings come from our thoughts\nIf life is an elevator, moods are the floors we visit. Let’s explore five floors (among an infinite number):\nGloom and Doom My high school mates are doing so much better than I am\nI’m getting old and my job is a dead end. Why is everyone always judging me?\nAll Is Not Right With The World There are many villains out there\nI don’t like my life. It’s not fair that I put out fifty-two percent to my wife’s forty-eight. I can see many defects in my job\nI’m okay. Life’s okay My job is good when I have the right attitude. My mate isn’t as bad as I thought\nI feel contented.\n1. Gratitude\nPeople are so well meaning. There are so many great jobs\nI’ve got a better deal than my mate. Life is so interesting\nInspiration My work energizes me\nThere is no way to go wrong in life. My mate is my best friend. I have more ideas than I can use\nIf you could remember that thoughts and feelings coincide, you would be a comfort to Helen. You would also be less likely to get carried away by your work during your temporary moments of insecurity. Also, you wouldn’t take Helen’s words and actions personally when she’s in a bad mood. You’d be able to relate to what she is going through. Your heart would go out to her—not in sympathy but in compassion for what it’s like to be frightened by your own thoughts. As you begin to see past her moods, she will begin to see past them, too.\nSoon, moods will just come and go without any drama or conflict\nNothing needs to be “done” about moods. They come and go on their own. The less attention we give them, the better.\nWhen you are in a low mood, don’t make important life decisions. Your thinking is not as sound as it is in a higher state of mind.\nWhen others are in a low state of mind, put everything they say or do in that context. Don’t hold it against them or try to argue with them.\nBeing understanding will help others to feel better.\nAs you begin to see people’s moods, you will see how to stay out of their way when they are low. You will also learn to what extent you can trust what they say and do.\nStay open to the possibility that your mood might change at any minute. Just realizing that “it is just your thinking” will usher in new thought that will change your feeling state\nPeople generally handle emotion in one of two ways:\nThey indulge their emotions and ride an uncomfortable roller coaster\nThey run away from them and become distracted and hardened\nThere is a third alternative: realize that emotions are only thoughts.\nenjoy emotional stability, while staying in touch with their feelings.\nTHE NEGATIVE EMOTIONS MYTH\nDon’t negative emotions have to be expressed to clear the air?\nTHE GRAIN OF TRUTH\nYou want to be aware that you are in a negative frame of mind.\nTHE CHANGE OF HEART\nUnpleasant or negative emotions are thoughts that contaminate the natural good feelings that exist between people. If you eliminate your negative thoughts, you will experience greater warmth and love toward your partner.\nrealizations that can offset negative emotions:\nNegative emotions are just thoughts; they have no life of their own.\nWhen a thought is not in your mind, it does not exist.\nNegative emotions only rear their ugly heads when we are in a troubled state of mind. When we are feeling magnanimous, we experience positive thoughts.\nYou will see that the same event or person provokes different feelings when your state of mind changes.\nYou might see a car as a “clunker” if you’re in a bad mood—and a “classic” in a good one.\nThe easiest way to rid your mind of negative emotions is to dismiss them as you would any distracting thought.\nWe constantly can and do dismiss thoughts we deem extraneous and nonproductive\nIt is only our misguided judgment about what is extraneous and unproductive that supports the presence of negative thoughts in relationships\nHuman emotions are illusory\neach emotion was a mirage created by the convergence of circumstance, perception and interpretation\nEach emotion was understandable in context. As the interpretation changed, the emotion changed accordingly\nIf emotions can be set aside during emergencies, can they be set aside anytime? Sure\nAs you take the incident less personally, your feelings become more positive\nYour emotions are always a perfect indicator of how subjectively you are viewing life.\nEmotions do not provide information about the world around us. They do serve as a compass that indicates the quality of our thinking and our present capacity to make sound judgments\nEmotions are like goldfish. They will grow to any size depending on how much attention they get\nNegative emotion tells us our mental health is suffering, just as physical pain signals that we are abusing our bodies\nA change in perspective is needed to right our thinking and regain feelings of well-being\nresentments are just thoughts that can be dropped\nall you’re doing is following a ritual: you give yourself permission to drop the thought as soon as you express it\nNegative thoughts that sit in our minds tend to take on increased focus and importance.\nThey’re like a burr under a saddle that causes more irritation the longer it stays there. This increased focus and importance cause what you referred t as the “build-up” in your head.\nBut these thoughts don’t have a life of their own.\nThey gain importance and attention only because you give it to them\nThe importance you place on a thought is subjective. The importance you assign it determines the power that thought has over you.\nIn this case, you’ve given great importance to resentments\nYou believe resentments are more important and less “dismissible” than other thoughts.\neach person’s belief system writes the script and we innocently\nact it out\nDon’t take negative emotions seriously\nthey provide information about the state of your mind, not the state of the world.\nWhen your thinking is contaminated by negative emotions, make as few decisions and engage in as few interactions as possible. This keeps these emotions from\nspilling over into your life.\nWhen negative emotions occupy your mind, quiet your thinking until they pass.\nIf your heart goes out to the “wrong-doer,” you will feel compassion rather than resentment\nTHE COMPASSION MYTH\nIsn’t there such a thing as being too understanding?\nTHE GRAIN OF TRUTH\nThere is such a thing as acting against your better judgment because you feel sorry for someone.\nTHE CHANGE OF HEART\nCompassion is a wonderful, warm feeling. To suggest you could have too much of it is like suggesting you could have too much joy or too\nmuch health\nunpleasant feelings distort our thinking and lead us to actions we later regret\nCompassion is misunderstood and undervalued. Without compassion and understanding, interpersonal friction erodes the good feelings in a relationship.\nCompassion is our innate interpersonal lubricant. It is a\nblanket of warm feelings that protects us from the rough edges of personalities\nWhenever people exhibit counterproductive behavior, you can be sure they are in an insecure state of mind\nIf they were feeling more secure, they would have the wisdom to avoid those behaviors.\nWhen we perceive counterproductive behaviors in others\nour response is either resentment or compassion.\nWe feel resentful if we focus on the behavior and how it affects us. We are compassionate if we look beyond the behavior to the troubled state of mind that motivated it\nWe remember how this state of mind wreaks\nhavoc with our common sense. Our hearts go out to the person\nCompassion also protects us against harsh self-judgment. We gain tolerance of our own imperfections. When we feel compassion we can identify with the humanness of life’s\npredicaments\nWe are reminded of how we all occasionally get lost in our thoughts and lose our perspective. Our feelings of humanity are rejuvenated and our spirits rise. The other person gains hope because our spirits have risen from contact with him or her.\nThus, compassion helps the troubled person as much as it protects you. Warm, respectful, hopeful feelings are the best gift you can give a person in distress. Compassion provides the proper emotional environment for the person to recover his or her sense of\nsecurity. Compassion always delivers an “I understand” message.\nWhen another person appears to be imposing on us, we are at a crossroads. One fork in the road takes us to resentment, and the other to compassion. Which road we take depends on whether we think of ourselves or the other person\nThe following illustrates one\nperson’s experience of the two forks in the road.\nCompassion insulated the father from the annoyance of the crying sounds\nthere is nothing more impractical in life than resentment. Compassionate feelings protect us.\nResentment\nand hate obstruct our view of life and impair our objectivity\nCompassion protects us from reacting unproductively to the behavior of others. It calms us down and makes us feel more secure\nTo feel resentment, you look for malice and notice how incidents affect you. To feel\ncompassion you notice the pain that motivated negative behavior\npeople relax and perform better in the presence of a supportive person than they do under the watchful eye of a perfectionist.\nHuman connectedness comes in two forms: sympathy and compassion\nWhen we\nsympathize, we identify with another person’s specific plight\nWe relate it to a similar event that happened to us and re-experience all the same emotions\nWhen we are compassionate, however, we connect with the general human feeling of the other person\nfeelings of identity and understanding allow us to be appropriately\npatient with the frailties of others (and ourselves\nsympathy forces us to re-experience painful memories. Compassion, on the other\nhand, is a here-and-now recognition of the true nature of life—that we all get crunched by our thought systems sometimes\nchart below summarizes the differences between these two types of human connectedness:\nSYMPATHY\nCOMPASSION\nAccompanying Feeling:\nSadness\nWarmth\nWhat You Identify With:\nThe Specific Problem\nThe Impersonal Fact of Pain and Loss in Life\nHow You Feel Afterwards:\nDrained\nExhilarated\nHow They Feel Afterwards:\nConcerned\nExpanded and Strengthened\nBetween the extremes of compassion and anger/resentment, there exists a wide range of\nresponses\nTAKING IT PERSONALLY\nYou read malice into the situation. You feel outraged and vengeful.\nUPSET\nBehavior is seen as intentional. You feel angry and upset\nBOTHERED\nBehavior is seen as negligent and unacceptable. You feel irritated and annoyed\nACCEPTING\nBehavior looks innocent. You find the incident interesting\nUNDERSTANDING\nYou see the insecurity behind the behavior. Your heart goes out to him. You feel warmth, compassion\nAMUSED\nWe all have our moments.” You see the big picture and enjoy it.\nRemember that compassion helps you\nand others.\nBelieve that every person deserves to be understood. There is probably someone who would list you as an exception to this rule just as you may be tempted to list others.\nTo find compassion, look beyond the behavior to the troubled state of mind that motivated the behavior\nDISSATISFACTION\nA MENTAL ILLNESS\nA focus on dissatisfactions creates a negative tone that undermines and weakens a relationship.\nTHE DISSATISFACTION MYTH\nWon’t resentments build in a relationship unless annoying behaviors and dissatisfactions are brought up?\nTHE GRAIN OF TRUTH\nA relationship does need a self-correction mechanism.\nTHE CHANGE OF HEART\nhas your heart been in the right place? Deep down, have you tried your best to do right by that person?\npeople easily see their own good intentions but have difficulty seeing the good intentions of others\nIn order for a relationship to work, an attitude of trust must be present\nWe all must live as if our partners have our interests at heart\nWhen the emotional atmosphere of the relationship is cold and negative, the participants back into a protective shell of ego. They begin to look out for themselves. The\ndeeper they retreat, the less motivated they are to look out for the other person\nWhen a couple is relaxed and happy together they naturally look out for each other’s interests. The goodwill they feel motivates them to please each other, and their relaxed state of\nmind enables them to see themselves objectively and implement self-correction\nA mind-set is a rigid, limited way of seeing life, an automatic predisposition. A mind-set is like a pair of sunglasses: it colors the way life looks to you.\nThey are self-validating. For example, suspicious people look for signs of betrayal and find it everywhere. They unwittingly interpret innocent actions as deceitful and detect deceitful actions\nwhere none exist\nThey are externally validating. Have you ever had a perfectionist looking over your shoulder? Perfectionists tend to make you nervous. You make more mistakes than usual. Perfectionists note these mistakes\nof course, and the cycle continues\nThey lock you into an uncomfortable, but familiar, feeling state\nA suspicious person lives in feelings of mistrust. A perfectionist lives in feelings of irritation. These feeling states are so familiar it is hard to imagine\nany other experience. Fortunately, all mind-sets provide an uncomfortable, unpleasant feeling. If we mistrust that feeling, we expose the mind-set for what it is.\nAnything we spend a lot of time thinking about will become a mind-set\nexpressing negative sentiments erodes goodwill\nif you don’t take your dissatisfaction and criticism too seriously, you will never develop a critical-dissatisfied outlook\nRemember, despite appearances to the contrary, your partner wants to be a good mate or friend just as much as you do\nProblems in your relationship signal that warmth and affinity are low. Realize that you have probably fallen into a lower state of mind where your sense of perspective is severely compromised\nKnow that appreciation and trust are\npossibilities just as real as problems\nBenign neglect—intentionally overlooking a thought—will often have positive effects on a relationship. Once you drop your ill will, your mate will feel more secure and will be likely to correct the conditions that\nconcern you. Benign neglect can free your mate from the pressure your dissatisfaction places on his or her ego\nIf you feel compelled to comment on another person’s behavior, wait until you have a positive attitude and feelings of\nwarmth and respect toward that person\nRemember that discretion is the better part of valor. Unless there is at least a ninety percent chance that your talking to the person will improve matters, don’t try it. If your action is unlikely to help, it\nmakes little sense to add more ill will to the relationship.\nApproach the person as gently as possible to minimize the likelihood of defensiveness\nThe only way we can really change is to change the way we feel inside. Our thinking changes our outlook, and our behavior\nfollows suit\nTHE CHANGE MYTH\nIsn’t it true that people can’t change?\nTHE GRAIN OF TRUTH\nPeople find it difficult to change their behavior patterns at will.\nTHE CHANGE OF HEART\nPeople change by becoming more themselves and less their conditioning\nWhen a person gets insecure, he retreats to his conditioned personality, a coat of armor made of bad habits\nand pretenses\nThe way to facilitate change is to treat people with understanding and goodwill\nGoodwill quells insecurity\nIt invites people to\ndrop their armor and be themselves. When the armor goes, people regain the innate assets of wisdom, creativity, humor and compassion—assets that increase productivity and responsiveness in life.\nstages of personal change:\nOBLIVIOUS\nJUSTIFYING\nCOMPULSIVE AWARENESS\nIn the compulsive awareness stage, you should pay as little\nattention as possible to what you see. Seeing what you are doing in life is good. It prompts you to change. But reacting emotionally to what you see is not helpful. Any feelings of guilt, any willful attempts to change or analyze your behavior are misguided\nIt’s sufficient for you to\nsee you have counterproductive habits that disappear when you notice them.\nCHANGE\nthose who have accepted their mates have low motivation to change them and those who haven’t don’t have the right attitude to do so.\nfeelings of happiness and goodwill inside him, feelings that make life worthwhile. I told him thoughts of insecurity preempt these positive feelings. I said that people do counterproductive things only when they lose\ntheir sense of well-being. These negative behaviors make sense in context because they offer temporary relief from the bad feelings\nThe feelings are just thoughts. When we are insecure or frightened, we all tend to act counterproductively. Once our thinking calms down, the good feelings return.\nonce a person\nhas a moment of truth, he or she is never the same.\nHe looks at his early years of crime as one would look at a bad dream—with\nbewilderment and relief.\nTHE DOMINO EFFECT\nChange is a domino effect: a thought generates a feeling that, in turn, motivates a\nbehavior\nClearly, the way to change a behavior is to change the feeling that motivates the behavior—the first domino. You do this by changing your thoughts\nAs our level of well-being goes up we are increasingly insulated from the temptation of habits. Conversely, when we are insecure, habits seem to have a strong hold on us.\nOBSESSED\nIn a very low mood. We lunge into habitual behaviors without seeing the thoughts that precede them\nCOMPELLED\nIn a low mood. The thought of the habit is constantly on our minds. It seems irresistible to us. Our willpower has an uphill battle\nAT CHOICE\nIn a higher mood. The two thoughts—“to do” or “not to do”—carry equal weight. Willpower works at this level\nTEMPTED\nIn a high mood. The thought of the habit comes to mind occasionally. We can easily dismiss it knowing it is just a thought with no life of its\nown.\nFREEDOM\nIn a very high mood. The idea of the habit doesn’t even occur to us. This is the level where\neffortless change occurs\nThe best way to change a habit is to raise your level of well-being—become happier. When you are happier, all your habits are easier to resist. If you raise your level of security enough, the habits won’t even occur to you\nIt is a mistake to struggle with your habits. In doing so you are likely to wear yourself out, become discouraged and end up making yourself insecure.\nfear is misunderstood excitement. When we contemplate change, we get a bubble of energy. If we are in a state of well-being, we will feel\nexhilarated by that energy. If we are insecure, we will get frightened. Thus, our reaction to change is another clue to our state of mind\nWith real change, we don’t make it happen. Instead, we notice it after it has happened. This change happens because it doesn’t occur to us to act in the old way.\nThe internal factors—what we think, how we feel—are forces behind change. If you\ntry to change at the level of behavior, you are trying to make the tail wag the dog.\nPeople respond to our demeanor. We either bring out the best in people or we bring out the worst\nTHE PUNISHMENT MYTH\nIsn’t it true that punishment and pressure are necessary to deal with a person who stubbornly repeats counterproductive behaviors?\nTHE GRAIN OF TRUTH\nPeople struggling with habitual behaviors need some type of support\nTHE CHANGE OF HEART\nagain. You are upset and embarrassed. You have been in this unpleasant situation before. You wonder why you always\nend up like this. You don’t feel secure enough to admit you are troubled. You are even less likely to admit that you might have contributed to the problem. The people around you are upset with your behavior. What type of treatment do you want from others right now—humiliation\npunishment, criticism, anger or pressure\nProbably not. Understanding and restored faith in you probably would be your first two choices. Those are the attitudes that bring out the best in you, too.\nPressure and punishment worsen\ncounterproductive behavior\nPeople with destructive habits are feeling insecure. What they need is understanding and support that will help them regain their bearings. Even behaviorists say punishment will not change the person; at best it will only change the\nperson’s behavior\nSelf-esteem, confidence, wisdom and understanding are what allow people to drop destructive habits and make sound decisions in life. All of these qualities are brought out by goodwill, not by pressure and humiliation.\nyour state of mind alters the behavior of people around you. The way people act around you depends on which of the following two\ninteraction cycles is triggered by your state of mind.\nWhen approached with goodwill, people listen more openly and respond more cooperatively\nEven when an issue is sensitive or negative, a positive internal feeling leads to a productive discussion\nThe goodwill of each party brings out the goodwill in the other parties to create a positive rapport cycle\nOn the other hand, if you are feeling irritated at someone, you will find yourself in a negative frame of mind and your interactions\nwith people are likely to be unrewarding.\nWhen you are in a chip-on-the-shoulder state of mind, you think in terms of pressure and intimidation. Pressure and intimidation insult people and set up a battle of egos\nwhen\nyou interact from feelings of irritation or anger you tend to bring out the worst in people, creating an ill will cycle.\nDiagramed below are the ill will cycle and the positive rapport cycle\nIt is easy to see why people locked in an ill will cycle experience frustration and complain that people are difficult. When a person feels ill will, he or she is living in a world of active egos and rigid personalities, with scant opportunities for progress and\nlearning\nWhen a person feels warm and respectful, the above dynamic occurs. He brings out the best in others who know his heart is in the right place. They listen openly, egos at rest, and return respect and warmth by putting themselves out for that person.\nProgress and\nlearning are built into this dynamic. The positive rapport cycle maximizes teamwork and minimizes interpersonal friction.\nA CHANGE OF HEART—THE VEHICLE FOR INSTANT CHANGE\nHuman beings have a miraculous ability: we can change our minds. We all can shift from a negative, judgmental perspective to a positive outlook without any change in circumstances. For lack of a better name, let’s call this phenomenon a change of heart\nA change of\nheart has the following characteristics:\nIt takes a person from a negative, evaluative stance to an appreciative stance. ^\nIt creates such a complete change in perspective that the person has trouble relating to the way he saw things only minutes earlier.\nIt can happen any time, without warning. People are often surprised by it\nA change of heart is preceded by a moment of truth\nThe following chart shows how different the same thing looks before and after a change of heart.\nThe change in perception provides us with a change in feeling\nBefore a change of\nheart, our view is critical and our feelings are therefore negative. After a change of heart, our view is appreciative and we feel grateful. Simultaneously, the nicer feelings generate more positive perceptions, thus creating a positive spiral.\nBefore a Change of Heart\nAfter a Change of Heart\nBob is a difficult person.\nBob is a “character.”\nLife is turbulent.\nLife is eventful.\nThat person is annoying.\nThat person is endearing\nOur house is old.\nOur house has character.\nour old thinking drops away and we can take a fresh look at our circumstances\nAll that is needed for a change of heart is a momentary quiet mind. The man in this story moved from a negative to a positive state of mind without the slightest change in circumstances\nPositive feelings are so basic to our nature that they fill our minds whenever\nthere is the slightest amount of room\nChange of heart is the mechanism for saving and improving relationships\nIf we interact when we feel insecure, our insecurity creates distortions\nmisinterpretations and misunderstandings\nIf you are in a state of angry indignation, others will fight you tooth and nail.\nIf you are in a state of annoyance and irritation, others will drag their feet.\nIf you are in a state of contentment, others will join you.\nIf you are in a state of appreciation, others\nwill put themselves out for you.\nIf you are in a state of deep gratitude, others will pull out all the stops to help you.\nAs your level of goodwill rises, people\nbecome ever more cooperative\nI know this may sound simplistic to you, but people don’t respond well to an\nadversarial stance. They take offense, as your son has done, and become very stubborn. It humiliates people to be punished and chastised.\nI mean that you don’t have a feeling of goodwill toward your son. You’re not on his side right now.\nchicken-egg dilemma. You and your son are in a vicious cycle. You’re bringing out the worst in each other. Does that make sense?\nYour reactions to each other have polarized your behaviors. Believe me, it’s very common for people to move toward behavioral extremes when egos get involved.\nyou have to get out of an adversarial stance and get your heart in the right place. If you continue your battle with your son, he’ll just dig in\nfurther. The ego is amazingly persistent. People will bite off their noses to spite their faces if they’re committed to a battle of wills. I’m sure your son would rather count you as friends than as enemies.\nDon’t judge him too harshly. Remember that all of your behaviors have been exaggerated. Think for a moment. Wouldn’t you like to start all over as friends and work it out together?\nAbsolutely. A relationship can always get a fresh start. Kids are particularly good at forgiving and forgetting. What about you, Martha?\nall you have to do is forgive and forget all the crazy things that have been said and done. Pretend it’s all a bad dream.\nNotice your inner feeling, your state of\nmind, before you deliver a sensitive message. If you have a chip on your shoulder, get your heart in the right place. Look inside to find more understanding and compassion. Remember that everyone deserves to be seen in the most\nfavorable light. When your heart is back in the right place, you will bring out the best in others.\nWhen you notice defensiveness in a listener, stop, wait and approach that person again with more gentleness and\ngoodwill. That person will likely respond in kind.\nDON’T DEAL WITH PROBLEMS\nTRANSCEND THEM\nWhen I tell clients not to work on problems they look incredulous, as if I am telling them not to eat or drink. That’s because everyone assumes that the only way to solve problems is to work on them.\nIronically, a focus on problems is the\nnumber one relationship killer. It lowers your spirits and makes things look worse than they really are.\nThere is a way to get where you want to go without focusing on problems. This way is so natural and effortless it doesn’t look like you’re\ndoing anything.\nTHE PROBLEMS MYTH\nIsn’t it best to deal with problems by discussing them up front whenever they bother one partner?\nTHE GRAIN OF TRUTH\nA relationship needs a way to evolve and find solutions to the issues at hand.\nTHE CHANGE OF HEART\nProblems” don’t really exist. They are mirages that appear to exist when certain conditions are present, such as an insecure state of mind. Problems are nothing more than situations seen through a filter of insecurity.\nSITUATION + INSECURE MIND-SET\n= THE ILLUSION OF A “PROBLEM”\nIf you have a sore on your arm, the last\nthing you should do is poke at it. Your doctor would treat the wound gently, creating the best possible healing environment. So-called relationship problems should be treated the same way\nThe thoughts around these issues trigger emotional reactions. If we are not\ncareful, we will spend our time dealing with these emotional reactions instead of the issue. To treat an emotional sore spot, we should create a secure environment where the problem area can heal.\nOften there are many solutions. These solutions are usually obvious to the dispassionate observer, but we cannot see them when our minds are clouded by emotional reactions.\nThere are two basic human thought models: the problem mode and the solution mode\nThe problem mode\npeople analyze, rehash, defend their positions and attempt to convert others to their viewpoint\nthey achieve a compromise “solution” that none of the parties really likes.\nThe solution mode\nWe clear our minds instead of filling them with details. We reflect, look and listen.\nSuddenly\nout of nowhere, we get an insight\nthey end up feeling close, and they always reach a consensus\nFaith is what keeps us in the solution mode—faith that there\nare perfect solutions to our problems and that those solutions will be visible once we calm down and take a fresh look.\nHow You See It\nHow You Will Feel\nCatastrophe\nDepressed\nProblem\nStressed Out\nSituation\nInterested\nOpportunity\nGrateful\nWindfall\nExhilarated\nThe possibilities and limitations you notice are a good gauge for your state of mind. If you see lots of possibilities, your head’s in a good place. If your head is full of limitations, you are in trouble. Push escape, reset or whatever else\nwill clear your mind. Possibilities will enter your head when you regain your sense of perspective.\nWhen you\nhold distracting thoughts like doubts and alternatives in your mind, you can’t put your full attention on what you are doing\nThat would be a good definition of commitment: dismissing doubts and\nalternatives in the name of enjoying your project or relationship more.\nThere always comes a time when an issue becomes easy to talk about. Every situation gets “ripe.”\nWhen you think or talk about an issue and your feeling of well-being drops, you should back away from it. A low mood will handicap your thinking and increase your susceptibility to emotional reactions.\nThere is an obvious answer to every\nproblem. Being too close to the problem is the reason these solutions are not apparent. That’s why consultants can instantly see solutions to problems that clients have struggled with for years.\nA problem does not look like a problem\nwhen it is seen in the right light. It looks like a portrait of circumstances, or even an opportunity.\nTHE CONFLICT MYTH\nIsn’t some amount of fighting or arguing always part of a healthy relationship?\nTHE GRAIN OF TRUTH\nWe might entertain occasional antagonistic or\njudgmental thoughts about our mates.\nTHE CHANGE OF HEART\nAntagonistic thought need not be acted out through arguing or fighting. When negative\nthoughts are taken in stride, they will not affect the relationship adversely.\nUnderstanding resides midway between thought and action. When we understand that thoughts have no power without our will, we can easily keep them from dictating actions. The progression from\nthought to behavior is a function of our level of understanding. In marital disputes the progression is usually as follows\nDepending on your state of mind, your reaction to “conflicting” viewpoints can range from horror to delight. You may be:\nHorrified at the ignorance and stubbornness of others\nFearful that other people might impose their misguided views on you\nBothered that others don’t see the truth\nIrritated that others have different viewpoints\nInterested in the fact that we are all different\nGrateful that we can learn from each other\nAmused\nDelighted\nHOW PEOPLE DEAL WITH OPPOSING VIEWS—THE OPTIONS AND THE RESULTS\nBLOCK AND CENSURE THE OTHER\nPERSON’S OPINION\ncensorship often leads to an underground resistance that can become formidable. When parents use this strategy with their children, the children may run from home or create a “secret life.\nSTRONGLY OPPOSE\nYou allow the person to express his or her differing opinion, but you attack it with all your forces.\nYour strategy is to put up so much resistance that the person will choose to keep his opinions to himself. In a marriage, a partner\nemploys this strategy by putting down the spouse whenever a view is expressed\nARGUE\nThe intent of this strategy is to change the other person’s view\nThe assumption is that if you could show the other person the logic that supports your view, he or she would drop the faulty view and adopt yours. The problem is\nthe other person also has a logic, which supports his or her view as strongly as your logic supports yours\nArguing polarizes viewpoints. Often you end up supporting a position you don’t even agree with just for the sake of being “right.” Egos do not allow us\ndiscuss things constructively\nACCEPT OR ALLOW FOR DIFFERING VIEWS\nUsing this strategy, you simply accept that we\nall have different realities, without judging or assessing, just as you accept certain laws of physics such as gravity\nallows the other person to express his or her view without opposition\nStated views tend to evolve. When you get a clear view of your opinion, you will\nusually improve upon it\nExpressing the ideas in a friendly forum lets people examine what they think and learn from the process. If the environment is adversarial rather than receptive, the person is defensive, unable to learn and ever more rigid in that view\nWELCOME AND RESPECT DIFFERING VIEWS (“CULTURAL EXCHANGE”)\nThe most productive strategy in communicating is to learn from other views\nThere is always a grain of truth in every view that opposes yours\nThe difference between accepting and welcoming differing views is measured in the amount of respect\naccorded to others’ opinions. The more respect the better the response\nOthers make that extra effort to express themselves. They become better listeners. The rapport that results from this strategy creates a high level of intimacy\nWhen you feel compelled to argue, you\nknow you are momentarily insecure\nAll belief systems are self-validating and inclusive enough to provide an answer for every argument\nThe quality of your teamwork as parents depends on how you respond to differences of opinion\nIf you respond well to them, different points of view are not a problem. If you respond counterproductively, then differences of\nopinion lead to conflict and stress.\nlook at the truth in what Karen is saying rather than what you disagree with. Karen understands children need some limits\nsome structure to guide them\nJust listen and you’ll get some respect for her thinking. You might even be able to learn from each other.\nKaren understands that children need guidance and firmness. She reacts to you when you give in to the children in a moment of weakness. She thinks this\ncreates a bad model for them.\nI know I shouldn’t go overboard to please them like I sometimes do, but I’m reacting to Karen’s rigidity. I also know it doesn’t work to base my treatment\nof the kids on my reactions to Karen\nI’ll have to admit I’m too harsh and overbearing sometimes, Gerry. I respect that you’re more patient and more forgiving.\nYou are beginning to get respect for each other and to examine your positions. Can you see how the discussion is progressing with the stance you’re taking now?\nEach of you has a tremendous amount to contribute to your parenting relationship. Karen, you are grounded in setting limits and teaching the children responsibility. Gerry, you are grounded in\nthe realization that whatever is done with the children should be done with the right spirit. If you respect each other more you can learn from each other.\nappreciate that he insists on things being nice for the kids. I was brought up in a family that was pretty grim and serious. One thing that attracted me to Gerry was his commitment to happy endings. I realize how I had begun to take that for granted\nhave tried to make him more hard-nosed instead of learning to be more flexible myself.\nGerry. Could you talk to us about dealing with specific subjects, like chores? Should we require the children to do chores?\nChores help a child learn responsibility and contribute to the family. Chores must be administered in the right spirit, though, or they lower the child’s self-esteem and foster a bad attitude about responsibility.\nIf you listen for what you disagree with, you’ll hear the personal belief component and end up arguing. If you listen for the truth in what the other person says, you’ll hear the\ncommon sense component and learn from the interaction.\nLet’s each make a list of what we think each kid should do. Then we will go over it and see if we think they can do each thing. We will make sure we are not giving them too much.\nRealize that arguing and fighting are not productive. The insecurity in a conflict environment minimizes learning.\nSee different viewpoints as an opportunity to understand each other better.\nListen for the truth in what the other person is saying when there is a difference of opinion. The other person will find it easier to communicate in a non\nadversarial atmosphere. You will find yourself learning from each other.\nTHE STALE MARRIAGE MYTH\nDon’t most marriages eventually “grow stale?”\nTHE GRAIN OF TRUTH\nIf relationships don’t evolve and deepen, they do tend to get stale.\nTHE CHANGE OF HEART\nAs marriages evolve, they quiet down. They get deeper rather than more stimulating. More stimulating, is like a back scratch. Deeper is like\na back massage\nDeeper is more satisfying but less dramatic. It seldom occurs to people that the reason they seek so much excitement is that excitement is not very satisfying\nA couple’s sex life reflects this principle during the first two years of marriage. At first\nsex is the major source of intimacy in marriage. As the relationship evolves, intimacy comes more from sharing and companionship than from sex\nThese more subtle forms of intimacy are also more profound. An “I love you” over the phone, or a moment of silence together after\nthe kids are in bed, can leave one with a warm feeling for hours. Intimacy becomes more than an experience limited to the bedroom\nCouples who don’t appreciate what deepening is become concerned when their relationship quiets down. They think\nsomething’s wrong\nThey worry they aren’t as sexually active and don’t pursue excitement as much. This concern creates unrest in their minds and, thus, in the relationship\nUnrest lowers the intimacy level. Now, they have neither excitement nor intimacy.\nThey need to see that as a marriage quiets down it becomes more fulfilling. The partners feel more relaxed—more themselves—in each other’s company, dropping even the most subtle pretenses. They become more open to life and to each other\nenjoyment with less effort. They become more appreciative. When it is time to be out in the world, they are more rested and refreshed. When a couple acquires a taste for contentment, they truly appreciate the deepening feelings in their marriage\nLEVELS OF RELATIONSHIP\nCONFLICT LEVEL\nBoth parties are poisoned by anger and insulted by the treatment they are receiving\nThey also feel insecure and off-balance, which brings out their worst. There may even be physical fighting and the relationship may feel raw and numb. Communication is difficult and usually makes things worse. A jump in the level of understanding brings hope, patience and\ntemporary peace\nCOPING LEVEL\nThe good news at this level is that the fights can be kept under control. The bad news\nmaintaining control is a full-time job. The relationship feels unpleasant and strained, burdened by judgments and expectations. Surprisingly, feelings of superiority and guilt often occur simultaneously. Partners find themselves worn out from the constant\ndemands of “handling” the relationship. Communications are strained and warm feelings are scarce. A jump in the level of understanding helps develop compassion and goodwill.\nCOOPERATION LEVEL\nPlanning, coordination and compatibility are achievable at this level because goodwill is present. Both parties trust the good intentions of the other and view counterproductive behavior as innocent and fueled by insecurity\nThey give each other the benefit of the doubt. Where incompatibility and lack of alignment exist, good communication and mutual support fill the gap. A jump in the level of understanding here provides greater faith and trust\nSYNERGY LEVEL\nProblems, stresses and incompatibilities don’t even appear at this level. Individual differences are buffered by feelings of appreciation, respect and gratitude\nBeing together energizes the parties. They talk less and share more positive\nfeelings. This level brings out the best in everybody. A jump in the level of understanding brings even deeper feelings.\nSOUL MATES\nYou carry the other person in your heart at this level. The couple feels strong kinship and intimacy—as friends, lovers, working partners or family. They want to spend as much time together as possible. Their shared moments have a timeless quality—a little bit goes a long\nway. A jump in the level of understanding leads to even more depth of feeling.\nstop trying to analyze and “work on” the relationship and concentrate on enjoying each other\nIf we learn to take leaps of faith we don’t have to fight change until we understand it\nRespect familiarity and comfort in a\nrelationship.\nTake the transitional periods in stride. During these periods, the relationship may seem old because the new experience of the relationship has not yet emerged. Those periods are a sign that a\ndeeper, more satisfying way of relating is on the way.\nIT’S NEVER TOO LATE\nTO GET A FRESH START\nit hurts to be upset and to bear grudges. Anger and resentment are painful feelings. Why would it be smart to try to feel this way?\nself-inflicted\nemotional pain, resentments and grudges are just bad habits that make things worse by adding more insecurity to a situation\nForgiving and forgetting are the answer\nTHE MYTH OF “THE PAST\nDoesn’t the past doom some relationships? Isn’t there such a thing as “too much water under the bridge?”\nTHE GRAIN OF TRUTH\nSome couples get so discouraged by their painful memories that they give up.\nTHE CHANGE OF HEART\nWhen a relationship has been troubled for a long time, the partners usually have accumulated painful memories that overshadow their feeling of love. When the feeling of love is obscured, they begin to view each other in a negative light that creates more unpleasant\nmemories\nThis in turn lowers the\nfeeling level, which darkens their outlook further.\nThis downward spiral continually lowers the level of goodwill between the partners\nFor the marriage to be “saved,” the spiral must be reversed. This is always possible. There is no such thing as a point of no return in a\nrelationship. Relationships can always get a fresh start.\nThe cycle is reversed when partners empty the pool of painful memories from their minds. When the painful thoughts are gone, they will be replaced by warm, positive thoughts and\nfeelings that lay the foundation for a fresh start. Forgiveness sets this process in motion.\nForgiving results from clearing unwanted thoughts from our minds. We forgive when we use our power of understanding to strip these thoughts of their negative charge\nOnce a\nmemory is forgiven, it is easily forgotten\nForgiving and forgetting don’t have to be learned or practiced; these skills are innate\nIf people can\nforget the past in emergencies, they have the power to forgive and forget at will.\nPeople think of forgiveness as a generous act, but it is actually very self-serving. If you have painful memories, you suffer\nForgiveness is the act of seeing those thoughts with understanding. Understanding lets us see the humanity of others and cast offending events in a more positive light. Understanding depersonalizes the event, transferring it from the “this is what happens to me” category to\njust another example of what happens in life.\nWhen couples decide to forgive and forget, they relieve themselves of a tremendous amount of pain and begin a new life with new thoughts, new feelings, new possibilities and a new perspective on the past\nA fresh start also\nleaves couples feeling warm and close. Partners look nicer, more well-meaning to each other\nhabitual thoughts about their mates are ruining their fun in life and dominating their thinking\nPeople\nact out their insecurity by engaging in counterproductive behaviors\nOthers return tit for tat.\nNeither person’s behavior represents the way he would act if he approached the situation with wisdom. When you see the distortion in your behavior, you’ll notice the other person’s behavior is also distorted—it may not represent his deeper\nintentions. Now both partners have reached a position of humility.\nWhat the couple needs now is compassion. They need to see the innocence in each other’s behavior, even in the act that launched the downward spiral of reactions\nevery misguided action is accompanied by an insecure state of mind\nIf you look into the miscreant’s eyes instead of at\nhis behavior, you will always see these negative feelings\nIf he had a sense of well-being, he would have the wisdom to see his actions as counterproductive.\nThey will see themselves as unwitting players in a comedy of errors, and they will see their history in the light of understanding. They will feel warm toward each other.\nThe past is no more real than a dream. Once an event is over, it becomes a mere memory. The past has only as much power as you give it through your thoughts\nthink of the event as a plus. Your inspired state of mind generates insight that helps your life even more. In retrospect it seems you “lucked out.”\ntake ourselves and our thoughts less seriously\nSee the possibility of forgiving and forgetting\nSee how essential it is to your mental health to drop painful thoughts from your consciousness\nFind the humility to see that you are both in this together.\nSee the innocence you both possess.\nRemember that any relationship can get a fresh start today. That exhilarating feeling is always only a thought away!\nTHE INTIMACY MYTH\nDoesn’t intimacy require a large investment\nof time, talk and energy?\nTHE GRAIN OF TRUTH\nWhen couples don’t know where intimacy comes from, they have to exert lots of energy to\nget a little intimacy\nspend a few moments together with a high level of presence.\nIf you were more there in the moment, your presence would help to draw Ron out of his distractions. There is nothing like a strong human presence to draw a person into the moment.\nlevels of involvement as they apply to intimacy:\nOBLIVIOUS\nYou are so absorbed in your thoughts you\nhardly notice the other person. He or she may feel insulted or awkward about your neglect.\nDISTRACTED\nAt this level, your thoughts draw you away\nfrom contact with the other person. It is an effort to be fully present. The experience is unpleasant because it takes so much effort. The other person accuses you of not listening. You feel stressed and dissatisfied.\nPRESENT\nIt is easy and satisfying for you to feel present with the other person. You are warmed by the contact. People say you are nice to talk to.\nIMPACT\nThe feeling at this level is very strong. You are touched by the people you are with. Your mind is so free of distraction, you lose your sense of time. The experience is very rich. The person with you feels some chemistry with you\nYour\nintimacy automatically deepens over time.\nONE MIND\nYour mind is so free you understand each other with very little conversation. You feel so\nclose to each other you would swear you have known each other longer than you actually have. This level just seems to happen and when it does, it is memorable.\nIN A NUTSHELL\nRealize that any extraneous thoughts we have on our minds detract from our closeness to others.\nBegin to appreciate feelings of closeness.\nRemember that intimacy is a momentary experience that has nothing to do with time or conditions\nCOMMITMENT\nThe more engaged we are, the larger our capacity for commitment.\nFull involvement works out best for all parties. What limits our level of mental\ninvolvement is insecurity. When we indulge concerns, fears and doubts, we are too distracted to be fully involved. We are holding back.\ncommitment is very self-serving\nCommitment can be defined as a wholehearted, single-minded predisposition to\na person or activity\nPeople make a commitment in order to enjoy someone or something, not because they already enjoy someone or something\nDistraction and ambivalence tell you your commitment is weak. Commitment is a stance\ntoward life, a predisposition to get the most out of each experience by dismissing thoughts and reactions that detract from its value.\nCommitment to other people means seeing each person in the best possible light. To do this, we dismiss personal emotional reactions\nthat might lessen enjoyment of others.\nThe ultimate interpersonal commitment is to forgive and forget any residual thoughts that interfere with affinity and respect. Our special commitment to our mates requires us to dismiss adverse circumstances and emotional\nreactions\nThe benefit you get from commitment is peace of mind on both sides. Your partner\nbenefits from knowing you are committed to maintain respect and affinity. He need not fear that circumstance and personal reactions will hurt the relationship.\nCommitment prepares the mind for full involvement and guards against distractions.\nPutting your whole heart into a relationship is the only way to get maximum value from it\nmy focus on shortcomings and problems was souring my perspective and compromising the experience\nConsumed by problems and fearful thoughts, you are too preoccupied to notice, never mind enjoy, what’s going on around you.\nThe problem is, you are taking your thoughts so seriously that you are lowering your well-being. As your level of well-being drops, you entertain more negative thoughts, and the downward cycle continues.\nINDULGING YOUR CONCERNS\nFears, doubts and concerns are like flies that keep you from enjoying a picnic. Negative thoughts contaminate relationships\nYour\nconcerns and fears will dominate your experience if you are too insecure to dismiss them.\nFREE TO ENJOY\nJUMP IN WITH BOTH FEET\nYou refuse to indulge in insecure thoughts that would keep you from enjoying the other person. You dismiss any negative thoughts. As a result, your involvement level is high enough to set a spiral of closeness in motion: you get more relaxed so that you feel closer, so that\nyou enjoy the other person more, so that you get relaxed and so on.\nSWEPT AWAY\nThe feelings of love and gratitude are so strong you think you have found “the one.” This level evolves naturally from the “jump in with both feet” level.\nPeople in love see the beauty in life. Call\nA couple with a warm affinity bring out the best in each other. They treat each other like royalty and respond eagerly\nFeelings\nof security subdue their egos and disruptive personality traits\nA positive emotional climate elicits creativity and wisdom. A positive relationship makes geniuses and heroes out of ordinary people\nWarm feelings in a relationship foster good teamwork. The better the feeling, the more productive the partners are\ntogether. “Synergy” is an advanced level of teamwork that allows partners to work as one. Working at a synergy level is effortless, efficient and invigorating\nCouples with a high level of goodwill are insulated from adversity\nAdversity brings\nthem closer together and strengthens their bond. Goodwill makes it easy for them to correct mistakes in the relationship. They trust each other. When negative experiences occur, partners are grateful that negative experiences are an\nexception to them\nour feelings come directly and exclusively from our thoughts. Any feelings we have in any given moment will always reflect our thinking in that\nmoment\nthe sole contributor\nTHE PRINCIPLES\nThe Principle of Thought is that every\nperson on earth has the power to create ideas, images, perceptions and memories within our own minds.\nThe Principle of Consciousness is our ability to form feelings from our thoughts. All of our feelings come from our thoughts\nThe Principle of Mind explains that we are part of a larger, intelligent system. As part of this larger system, we can experience the power of new thought and, therefore, new experiences.\nthought is transient. Our thoughts are constantly changing. Even the same memory or idea will look different to us at different times of the day. Because of the ever-changing nature of our\nthinking, we can characterize thought as being illusory rather than fixed and solid.\nThoughts come and go uneventfully through our minds if we let them do so. When we fixate on a thought, it stays in our mind. Thoughts stick around according to how much\nimportance we place on them\nChronic unwanted thoughts, and their respective feelings, are innocently held in place if we believe them to belong to external realities rather than being temporary and unimportant\nIf you enjoy your partner and think she’s\nwonderful, then that is what your thoughts are telling you. If you see beauty and goodness in your partner, then that is what your thoughts are telling you. It’s no less your thoughts when you see faults and ugliness in your partner\ndo you think that thoughts rooted in shallow, trivial observations are your truest reality? Or is your truest reality those thoughts you have that are\nrooted in something deep, sincere and fundamental?\nTHE GET OVER YOURSELF MODEL\nBy requiring your partner to be in charge of your emotional state, you are not only giving them an immense, impossible job, but also\ndisregarding your own power over your thoughts, feelings and emotional reactions\nYou don’t have to spend time looking for your own sensitivities and avoiding your partner’s sensitivities. You can accept that\ngetting upset, or moody, or resentful is a part of the natural ups and downs of life and doesn’t necessarily mean that something is wrong\nRather than holding on to upsetting feelings, you can spend your time enjoying your partner’s company and relaxing into the\nrelationship\nWhen you do get into an emotional reaction, it helps to notice that you have lost your bearings and that any unwanted feelings you are having are temporary. You can remind yourself that it is realistic and beneficial for you\nto get over your unwanted thoughts and feelings. Nothing wrong or bad is happening; it’s just a natural part of being human\nYou’ll find that the ‘Get Over Yourself Model’ has a learning curve. You will get better and better at getting over your emotional\nreactions and returning to the well-being you had before the reactions occurred. You will also find that your emotional reactions will happen less frequently, for a shorter period of time and, most importantly, that they will take less of a toll on you when they do happen\nwill become more resilient\nI see getting over myself as not only beneficial to me, but in the service of the relationship. It isn’t so much giving in, as it is not letting your mind get bogged down with negativity and emotional reactions\nWhen you feel better, you will have better ideas, better solutions and better answers\nyou can get over your emotional reactions, even mid-argument\nyou will probably notice that sometimes you don’t react emotionally according to your usual\npatterns. There are exceptions. You may also notice that sometimes you react stronger than you do other times. Thus, your suggestion that there is a direct cause-and-effect is not true. It is just a statistical correlation.\nadopt another model:\nI won’t hold you responsible for my reactions. I’ll just get over my reactions, and you get over yours\nPRODUCTIVE CONVERSATIONS\nHOW TO MAKE IT HAPPEN\nGOOD LISTENING\nTHE OVERLOOKED RELATIONSHIP SKILL\nWere you able to hear something new in what was being said?” I\nGood listening keeps partners interested in each other.\nactually curious to hear what he had to say. I didn’t assume why he said the things he did\nand I asked questions to find out what he meant when I was confused.\nLISTENING TO KEEP THINGS INTERESTING\ncouples\nwho have recently fallen in love are often the most curious about how their partners see the world. They frequently ask the question, “Why do you feel that way?”, or say, “Tell me more about that.” The curiosity and interest is what keeps the relationship fresh and interesting\nCouples commonly revert to the ‘bad listener model’ when they talk to each other. They project their own thinking on each other and don’t even notice that they are doing it. They just fill in the blanks and assume the other person thinks the way they would think under\nthose circumstances. If they do this often, they lose curiosity for the unique ways their partner actually sees the world\nWhen a couple sees listening as an opportunity to get into another person’s world\nthere is more clarity in the relationship, fewer misunderstandings and more interest and excitement between partners. It feels nice to be heard, but it can feel just as nice to listen\nPerhaps one of the most effective tests for if you are a good listener is if you feel compassion for the person you are listening to\nCompassion is when your heart goes out to the speaker.\nHaving compassion proves that you are taking in what someone is saying and that you are allowing it to affect you\ncompassion\nis healing. It erases what ‘has been’.\nIf what ‘has been’ is a fight or a heated argument, compassion erases the hurt and anger. If what ‘has been’ is resentment from a misunderstanding, compassion erases it. Compassion is a cure for grudges. Compassion\nis a powerful feeling, and it helps relationships move in a positive direction. And it comes quite naturally when people truly listen to each other.\nCAN YOU BE HAPPY WITH ANYONE?\nturn their attention away from each other’s frailties and instead focus on the goodness and humanity that is in each of them\nyou desire to have a good relationship with your\npartner, and therefore you already desire to see the good in them\nWhen you see the good and innocence in another human being, you realize that whatever frailties they have are not as devastating to the relationship as it had looked like before\nJust as a person slipping on ice will contort their body in strange ways to regain their balance, the person emotionally off-balance will behave in puzzling ways in an attempt to regain their emotional bearings.\nBeing happy with someone does not come from finding the ideal mate for you, but from you being able to hold on to your goodwill and not focusing your mental energy on\ndissatisfaction and judgments. And when you do have those thoughts, remember that it’s just your way of being sometimes. It doesn’t mean anything. You can easily bounce back and regain your goodwill and perspective\nIf you fill your head with judgments, concern and evaluations of your partner, then you will not be able to fully enjoy the relationship",
    "description": "Summary and Highlights If you have a change of heart, your marriage will be on a new footing.\nA change of heart is the force that erases the distress in relationships and gives you a fresh start.\nA relationship dysfunction—a conflict, boredom or resentment—needs no healing time and is always reversible. A change of heart can occur in an instant.\nMany marriage counselors say the past its unexpressed emotions and habit patterns—and poor communication are the “bad guys” that cause mental and relationship distress. These are the symptoms of relationship distress, not the cause. The cause, the real bad guy, is insecurity.",
    "tags": [],
    "title": "The Relationship Handbook (10/10)",
    "uri": "/booknotes/the-relationship-handbook/"
  },
  {
    "breadcrumb": "Linux Reader \u003e RedHat",
    "content": "The OpenSSH Service Secure Shell (SSH)\nDelivers a secure mechanism for data transmission between source and destination systems over IP networks. Designed to replace the old remote login programs that transmitted user passwords in clear text and data unencrypted. Employs digital signatures for user authentication with encryption to secure a communication channel. this makes it extremely hard for unauthorized people to gain access to passwords or the data in transit. Monitors the data being transferred throughout a session to ensure integrity. Includes a set of utilities ssh and sftp for remote users to log in, transfer files, and execute commands securely. Common Encryption Techniques Two common techniques: symmetric and asymetric Symmetric Technique\nSecret key encryption. Uses a single key called a secret key that is generated as a result of a negotiation process between two entities at the time of their initial contact. Both sides use the same secret key during subsequent communication for data encryption and decryption. Asymmetric Technique\nPublic key encryption Combination of private and public keys Randomly generated and mathematically related strings of alphanumeric characters attached to messages being exchanged. The client transmutes the information with a public key and the server decrypts it with the paired private key. Private key must be kept secure since it is private to a single sender the public key is disseminated to clients. used for channel encryption and user authentication. Authentication Methods Encrypted channel is established between the client and server Then additional negotiations take place between the two to authenticate the user trying to access the server. Methods listed in the order in which they are attempted during the authentication process: GSSAPI-based ( Generic Security Service Application Program Interface) authentication Host-based authentication Public key-based authentication Challenge-response authentication Password-based authentication GSSAPI-Based Authentication\nProvides a standard interface that allows security mechanisms, such as Kerberos, to be plugged in. OpenSSH uses this interface and the underlying Kerberos for authentication. Exchange of tokens takes place between the client and server to validate user identity. Host-Based Authentication\nAllows a single user, a group of users, or all users on the client to be authenticated on the server. A user may be configured to log in with a matching username on the server or as a different user that already exists there. For each user that requires an automatic entry on the server, a ~/.shosts file is set up containing the client name or IP address, and, optionally, a different username. The same rule applies to a group of users or all users on the client that require access to the server. In that case, the setup is done in the /etc/ssh/shosts.equiv file on the server. Private/Public Key-Based Authentication\nUses a private/public key combination for user authentication. User on the client has a private key and the server stores the corresponding public key. At the login attempt, the server prompts the user to enter the passphrase associated with the key and logs the user in if the passphrase and key are validated. Challenge-Response Authentication\nBased on the response(s) to one or more arbitrary challenge questions that the user has to answer correctly in order to be allowed to log in to the server. Password-Based Authentication\nLast fall back option. Server prompts the user to enter their password. Checks the password against the stored entry in the shadow file and allows the user in if the password is confirmed. OpenSSH Protocol Version and Algorithms V2 Supports various algorithms for data encryption and user authentication (digital signatures) such as: RSA (Rivest-Shamir-Adleman)\nMore prevalent than the rest Supports both encryption and authentication. DSA and ECDSA (Digital Signature Algorithm and Elliptic Curve Digital Signature Algorithm)\nAuthentication only. Used to generate public and private key pairs for the asymmetric technique. OpenSSH Packages Installed during OS installation openssh\nprovides the ssh-keygen command and some library routines openssh-clients\nincludes commands, such as sftp, ssh, and ssh-copy-id, and a client configuration file /etc/ssh/ssh_config openssh-server\ncontains the sshd service daemon, server configuration file /etc/ssh/sshd_config, and library routines. OpenSSH Server Daemon and Client Commands OpenSSH server program is sshd sshd\nPreconfigured and operational on new RHEL installations\nAllows remote users to log in to the system using an ssh client program such as PuTTY or the ssh command.\nDaemon listens on TCP port 22\nDocumented in the /etc/ssh/sshd_config file with the Port directive. Use sftp instead of scp do to scp security flaws.\nsftp\nSecure remote file transfer program ssh\nSecure remote login command ssh-copy-id\nCopies public key to remote systems ssh-keygen\nGenerates and manages private and public key pairs Server Configuration File /etc/ssh/sshd_config\n/var/log/secure\nlog file is used to capture authentication messages. View directives listed in /etc/ssh/sshd_config:\n[root@server30 tmp]# cat /etc/ssh/sshd_config Port\nPort number to listen on. Default is 22. Protocol\nDefault protocol version to use. ListenAddress\nSets the local addresses the sshd service should listen on. Default is to listen on all local addresses. SyslogFacility\nDefines the facility code to be used when logging messages to the /var/log/secure file. This is based on the configuration in the /etc/rsyslog.conf file. Default is AUTHPRIV. LogLevel Identifies the level of criticality for the messages to be logged. Default is INFO.\nPermitRootLogin Allows or disallows the root user to log in directly to the system. Default is yes.\nPubKeyAuthentication Enables or disables public key-based authentication. Default is yes.\nAuthorizedKeysFile Sets the name and location of the file containing a user’s authorized keys. Default is ~/.ssh/authorized_keys.\nPasswordAuthentication Enables or disables local password authentication. Default is yes.\nPermitEmptyPasswords Allows or disallows the use of null passwords. Default is no.\nChallengeResponseAuthentication Enables or disables challenge-response authentication mechanism. Default is yes.\nUsePAM Enables or disables user authentication via PAM. If enabled, only root will be able to run the sshd daemon. Default is yes.\nX11Forwarding Allows or disallows remote access to graphical applications. Default is yes.\nClient Configuration File /etc/ssh/ssh_config\nLocal configuration file that directs how the client should behave. This file, , is located in the /etc/ssh directory. Directives preset in this file that affect all outbound ssh communication. View the default directive settings: [root@server30 tmp]# cat /etc/ssh/sshd_config\nHost\nContainer that declares directives applicable to one host, a group of hosts, or all hosts. Ends when another occurrence of Host or Match is encountered. Default is *, (all hosts) ForwardX11\nEnables or disables automatic redirection of X11 traffic over SSH connections. Default is no. PasswordAuthentication\nAllows or disallows password authentication. Default is yes. StrictHostKeyChecking\nWhether to add host keys (host fingerprints) to ~/.ssh/known_hosts when accessing a host for the first time\nWhat to do when the keys of a previously accessed host mismatch with what is stored in ~/.ssh/known_hosts.\nno:\nAdds new host keys and ignores changes to existing keys. yes:\nAdds new host keys and disallows connections to hosts with non-matching keys. accept-new:\nAdds new host keys and disallows connections to hosts with non-matching keys. ask (default):\nPrompts whether to add new host keys and disallows connections to hosts with non-matching keys. IdentityFile\nDefines the name and location of a file that stores a user’s private key for their identity validation. Defaults are: id_rsa, id_dsa, and id_ecdsa based on the type of algorithm used. Corresponding public key files with .pub extension are also stored at the same directory location. Port Sets the port number to listen on. Default is 22.\nProtocol Specifies the default protocol version to use\n~/.ssh/\ndoes not exist by default created when: a user executes the ssh-keygen command for the first time to generate a key pair A user connects to a remote ssh server and accepts its host key for the first time. The client stores the server’s host key locally in a file called known_hosts along with its hostname or IP address. On subsequent access attempts, the client will use this information to verify the server’s authenticity. System Access and File Transfer Lab: Access RHEL System from Another RHEL System issue the ssh command as user1 on server10 to log in to server20. Run appropriate commands on server20 for validation. Log off and return to the originating system. 1. Issue the ssh command as user1 on server10:\n[user1@server30 tmp]$ ssh server20 2. Issue the basic Linux commands whoami, hostname, and pwd to confirm that you are logged in as user1 on server20 and placed in the correct home directory:\n[user1@server40 ~]$ whoami user1 [user1@server40 ~]$ hostname server40 [user1@server40 ~]$ pwd /home/user1 3. Run the logout or the exit command or simply press the key combination Ctrl+d to log off server20 and return to server10:\n[user1@server40 ~]$ exit logout Connection to server40 closed. If you wish to log on as a different user such as user2 (assuming user2 exists on the target server server20), you may run the ssh command in either of the following ways:\n[user1@server30 tmp]$ ssh -l user2 server40\n[user1@server30 tmp]$ ssh user2@server40\nLab: Generate, Distribute, and Use SSH Keys Generate a passwordless ssh key pair using RSA algorithm for user1 on server10. display the private and public file contents. Distribute the public key to server20 and attempt to log on to server20 from server10. Show the log file message for the login attempt. 1. Log on to server10 as user1.\n2. Generate RSA keys without a password (-N) and without detailed output (-q). Press Enter when prompted to provide the filename to store the private key.\n[user1@server30 tmp]$ ssh-keygen -N \"\" -q Enter file in which to save the key (/home/user1/.ssh/id_rsa): View the private key: [user1@server30 tmp]$ cat ~/.ssh/id_rsa\nView the public key: [user1@server30 tmp]$ cat ~/.ssh/id_rsa.pub\n3. Copy the public key file to server20 under /home/user1/.ssh directory.\nuser1@server30 tmp]$ ssh-copy-id server40 /usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: \"/home/user1/.ssh/id_rsa.pub\" /usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed /usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys user1@server40's password: Number of key(s) added: 1 Now try logging into the machine, with: \"ssh 'server40'\" and check to make sure that only the key(s) you wanted were added. This command also creates or updates the known_hosts file on server10 and stores the fingerprints for server20 in it. [user1@server30 tmp]$ cat ~/.ssh/known_hosts\n4. On server10, run the ssh command as user1 to connect to server20. You will not be prompted for a password because there was none assigned to the ssh keys.\n[user1@server30 tmp]$ ssh server40 Register this system with Red Hat Insights: insights-client --register Create an account or view all your systems at https://red.ht/insights-dashboard Last login: Sun Jul 21 01:20:17 2024 from 192.168.0.30 View this login attempt in the /var/log/secure file on server20: [user1@server40 ~]$ sudo tail /var/log/secure\nExecuting Commands Remotely Using ssh Can use ssh command to run programs without remoting in: Execute the hostname command on server20:\n[user1@server30 tmp]$ ssh server40 hostname server40 Run the nmcli command on server20 to show (s) active network connections(c):\n[user1@server30 tmp]$ ssh server40 nmcli c s NAME UUID TYPE DEVICE enp0s3 1c391bb6-20a3-4eb4-b717-1e458877dbe4 ethernet enp0s3 lo 175f8a4c-1907-4006-b838-eb43438d847b loopback lo sftp` command Interactive file transfer tool. On server10, to connect to server20:\n[user1@server30 tmp]$ sftp server40 Connected to server40. sftp\u003e Type ? at the prompt to list available commands along with a short description:\n[user1@server30 tmp]$ sftp server40 Connected to server40. sftp\u003e ? Available commands: bye Quit sftp cd path Change remote directory to 'path' chgrp [-h] grp path Change group of file 'path' to 'grp' chmod [-h] mode path Change permissions of file 'path' to 'mode' chown [-h] own path Change owner of file 'path' to 'own' df [-hi] [path] Display statistics for current directory or filesystem containing 'path' exit Quit sftp get [-afpR] remote [local] Download file help Display this help text lcd path Change local directory to 'path' lls [ls-options [path]] Display local directory listing lmkdir path Create local directory ln [-s] oldpath newpath Link remote file (-s for symlink) lpwd Print local working directory ls [-1afhlnrSt] [path] Display remote directory listing lumask umask Set local umask to 'umask' mkdir path Create remote directory progress Toggle display of progress meter put [-afpR] local [remote] Upload file pwd Display remote working directory quit Quit sftp reget [-fpR] remote [local] Resume download file rename oldpath newpath Rename remote file reput [-fpR] local [remote] Resume upload file rm path Delete remote file rmdir path Remove remote directory symlink oldpath newpath Symlink remote file version Show SFTP version !command Execute 'command' in local shell ! Escape to local shell ? Synonym for help Example:\nsftp\u003e ls sftp\u003e mkdir /tmp/dir10-20 sftp\u003e cd /tmp/dir10-20 sftp\u003e pwd Remote working directory: /tmp/dir10-20 sftp\u003e put /etc/group Uploading /etc/group to /tmp/dir10-20/group group 100% 1118 1.0MB/s 00:00 sftp\u003e ls -l -rw-r--r-- 1 user1 user1 1118 Jul 21 01:41 group sftp\u003e cd .. sftp\u003e pwd Remote working directory: /tmp sftp\u003e cd /home/user1 sftp\u003e get /usr/bin/gzip Fetching /usr/bin/gzip to gzip gzip 100% 90KB 23.0MB/s 00:00 sftp\u003e lcd, lls, lpwd, and lmkdir are run on the source server. Other commands are also available. (See man pages) Type quit at the sftp\u003e prompt to exit the program when you’re done:\nsftp\u003e quit [user1@server30 tmp]$ Secure Shell Service DIY Labs Lab: Establish Key-Based Authentication Create user account user20 on both systems and assign a password. [root@server40 ~]# adduser user20 [root@server40 ~]# passwd user20 Changing password for user user20. New password: BAD PASSWORD: The password is shorter than 8 characters Retype new password: passwd: all authentication tokens updated successfully. As user20 on server40, generate a private/public key pair without a passphrase using the ssh-keygen command. [user20@server40 ~]# ssh-keygen -N \"\" -q Enter file in which to save the key (/root/.ssh/id_rsa): Distribute the public key to server30 with the ssh-copy-id command. [user20@server40 ~]# ssh-copy-id server30 Log on to server30 as user20 and accept the fingerprints for the server if presented. [user20@server40 ~]# ssh server30 Activate the web console with: systemctl enable --now cockpit.socket Register this system with Red Hat Insights: insights-client --register Create an account or view all your systems at https://red.ht/insights-dashboard Last login: Fri Jul 19 14:09:22 2024 [user20@server30 ~]# On subsequent log in attempts from server40 to server30, user20 should not be prompted for their password. Lab: Test the Effect of PermitRootLogin Directive As user1 with sudo on server30, edit the /etc/ssh/sshd_config file and change the value of the directive PermitRootLogin to “no”. [user1@server30 ~]$ sudo vim /etc/ssh/sshd_config\nUse the systemctl command to activate the change.\n[user1@server30 ~]$ systemctl restart sshd ==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ==== Authentication is required to restart 'sshd.service'. Authenticating as: root Password: ==== AUTHENTICATION COMPLETE ==== As root on server40, run ssh server40 (or use its IP). You’ll get permission denied message. (this didn’t work, I think it’s because I configured passwordless authentication on here)\nReverse the change on server40 and retry ssh server40. You should be able to log in.",
    "description": "OpenSSH, system access, file transfer",
    "tags": [],
    "title": "The Secure Shell Service",
    "uri": "/redhat/the-secure-shell-service/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "This was a very insightful book. Knowing the balance between pain and pleasure is essential to living in modern day society. Where scarcity is no longer an issue. Our brains are not adapted for a world of abundance. So the forces that kept us alive for thousands of years, are now making us miserable. Consider this a primer into understanding addiction and over consumption. And steps you can take to mitigate this.\nSummary and Highlights You can’t fix most problems with rules, any more than you can with laws. They’re too inflexible.\neight basic emotions:\nJOY PAIN LOVE ANGER PASSION FEAR GUILT SHAME\nEvery emotion belongs in one of these categories.\nLying is about controlling someone else’s reality, hoping that what they don’t know won’t hurt you.\nIf she finds out and breaks up with you, you’re not really in a relationship anyway. With all the lying, you’ve been in your own world the whole time.\nIf you’d committed to always telling her the truth in the first place, you would have thought twice before cheating on her. So start now, and maybe it’s not too late to include her in your relationship.\nWhen things get hard for you, you start blaming the person you’re with.\nNone of this has anything to do with her. Just you.\nIf you ever want to be truly happy in this lifetime, you have to recognize that you’re using sex like a drug to fill a hole. And that hole is your self-esteem. Deep down, you feel unlovable.\nNothing’s going to change until you take deliberate and committed action to change it.\nThe Addiction Cycle, with four terms—preoccupation, ritualization, acting out, and shame \u0026 despair\nCELIBACY/ABSTINENCE CONTRACT\nI WILL REFRAIN FROM THE FOLLOWING:\nMasturbation\nImplicit or explicit pornographic material\nFlirtatious, seductive, romantic, or suggestive comments or behavior\nSeductive attire\nSexually overt or covert contact with another person or myself\nSecretive sexual fantasizing Objectifying, fantasizing, or obsessing We don’t meet many people who truly love us, who accept us for who we are, who put us before themselves. Maybe a parent or two if we’re lucky, perhaps a couple of previous partners. So what kind of person rewards someone’s love with lies, betrayal, and pain?\nA selfish person. A coldhearted person. A thoughtless person. An asshole. A liar. A cheater. A guy who thinks with his dick.\nGuilt is about breaking the rules. Shame is about being broken.\nIf you have true intimacy with your partner, you won’t need to seek sex outside the relationship.\nIf you’re addicted to sex, you’re probably co-addicted to something else, like drugs or work or exercise, and this is because you’re afraid of intimacy and you’re afraid of your feelings.\nSex must never be secretive, abusive, a way to alter feelings, or empty of a committed intimate relationship.\nIf one big-T Trauma is a ten on the scale and a little-t trauma is a one, then ten little traumas can be just as powerful as one big Trauma.\nWhen children experience trauma, they tend to absorb the feelings of their abusers and store them in a compartment in their psyche that we call the shame core. It contains the beliefs I am worthless, I am unlovable, I don’t deserve. Any time you feel one down—or inferior—to someone or you feel one up—or superior—those are false beliefs generated by your shame core. Because, in reality, every person in the world has equal worth and value.\nTo survive painful beliefs and feelings, we often mask them with anger. That way, we don’t have to feel the shame behind it.\nThe payoff of anger is mastery, control, or power.\nSo the anger makes you feel better and one up. And when you use sex to restore power or feel better about yourself in a similar way, this is what’s known as eroticized rage.\nBeing overcontrolled as a child sets you up to lie as an adult.\nSo the theory of sex addiction is that when you feel out of control or disempowered, you sneak around and act out sexually to reestablish control and regain your sense of self.\nIntimacy is sharing your reality with someone else and knowing you’re safe, and them being able to share their reality with you and also be safe.\nWhen I see another woman, for example, I just tell myself, Bright red apple, wrong orchard.\nTHE MALE DILEMMA\n1. Sex is great. 2. Relationships are great. 3. Relationships grow over time. 4. The sex gets old over time. 5. So does she. 6. Thus the problem.\nWe can’t just keep waiting for lightning to strike every time we need fire. We have to make fire ourselves.’ They probably thought he was crazy, rubbing rocks and sticks together. Today they’d diagnose him as obsessive-compulsive. But then he gave them fire, and all of a sudden everyone was doing it. You can’t get anywhere as a civilization without that kind of original thinking and focus. It’s people with compulsive behaviors who change the world.”\nA lot of times, people in a family think it’s just one person who causes all the trouble. But a family is a system, and a sick person is the product of a sick system.\nFine stands for fucked up, insecure, neurotic, and emotional.\nThey say here that there are three ways of raising children. The first is functional bonding, in which the parents or primary caregivers love, nurture, affirm set healthy limits with, and take care of the needs of the child.\nThis creates a child who has healthy, secure self-esteem and relationships.\nBut then there’s neglect, when a caregiver abandons, is detached from, or doesn’t appropriately nurture the child. This can range from a parent who isn’t physically present, to a parent who is physically present but emotionally distant, to a parent who doesn’t provide adequate care or safety, to a parent lost in a work, sex, gambling, alcohol, or other addiction. If you grew up feeling unwanted by or unimportant to a parent, this is a sign that neglect likely occurred.\nThis creates wounded children, who are often depressed and indecisive, see themselves as flawed and less valuable than others, and feel they can’t face the world alone. In relationships, they tend to have what’s called anxious attachment. They may feel like they’re not enough for their partners.\nBecome so wrapped up in their relationships that they lose sight of their own needs and self-worth; and be emotionally intense, passive-aggressive, or in need of constant reassurance that they’re not being abandoned.\nHere, they call this type of person a love addict.\nThe third type of parenting: enmeshment.\nInstead of taking care of a child’s needs, the enmeshing parent tries to get his or her own needs met through the child. This can take various forms: a parent who lives through a child’s accomplishments; who makes the child a surrogate spouse, therapist, or caretaker.\nWho is depressed and emotionally uses the child; who is overbearing or overcontrolling; or who is excessively emotional or anxious about a child. If you grew up feeling sorry for or smothered by a parent, this is a sign that enmeshment likely occurred.\nEnmeshed children lose their sense of self. As adults, they usually avoid letting anyone get too close and suck the life out of them again. Where the abandoned are often unable to contain their feelings, the enmeshed tend to be cut off from them, and be perfectionistic and controlling of themselves and others.\nThough they may pursue a relationship thinking they want connection, once they’re in the reality of one, they often put up walls, feel superior, and use other distancing techniques to avoid intimacy. This is known as avoidant attachment—or, as they put it here, love avoidance.\nAnd most sex addicts, according to this theory, are love avoidants.\nMaybe that’s the female dilemma, She marries someone who’s giving her love and romance, but over time she gets taken for granted or turned into a maid or becomes a baby factory or gets cheated on.\nThere’s not a single emotional need of hers that’s filled by her husband. Then he has the nerve to complain that she’s not sexual or attractive when he’s drained the life out of her.\nThe ninth emotion is the death emotion. It’s just feeling nothing.\nSelf-deprecation is still self-worship, It’s the flip side of the same coin. It’s still about self.\nRemember that humor is a wall. It’s a form of denial, just the same as repression, rationalization, globalization, and minimization.\nEVERYTHING THAT’S WRONG WITH YOUR BEHAVIOR AND WHY IN 1,800 WORDS OR LESS\nIn the beginning . . .\nYou were born.\nAnd like all infants, you were completely vulnerable and dependent, with a new developing brain and no understanding of the world.\nIn a perfect world . . .\nYour parents would be perfect. They would be dedicated full-time to taking care of your physical and psychological needs, always making the right decisions, setting the healthiest boundaries, and protecting you from all harm, while preparing you to eventually take care of your needs without them.\nBut in the real world . . .\nNo one is perfect. Neither your parents, nor the other people who play a role in your upbringing. Therefore, along the way some of your developmental needs don’t get met.\nAnd the problem is . . .\nWhen one of your needs doesn’t get met, however big or small, it can leave a wound.\nThese wounds are known as childhood trauma. Each instance or pattern of trauma can create specific core personal issues and relationship challenges—and if these are left untreated, you’re likely to pass your wounds on to the next generation. Since this trauma occurs early in life, it can affect social, emotional, behavioral, cognitive, and moral development.\nIt’s not always overt or intentional . . .\nMost commonly, people think of trauma as coming from hateful perpetrators who are knowingly and willfully abusive. But even parents who think of themselves as loving or well-meaning make mistakes, cross boundaries, or simply do their best with the limited internal resources they have. And this covert, often unrecognized abuse can, through its constant repetition, leave wounds just as deep as those created by a single malicious act.\nIt can be an emotional scar . . .\nIn your earliest years, you’re the center of the universe. Everything revolves around you. So wounds can come from caregivers who are either out of control or completely detached from their emotions around you. When Mom is always full of anxiety as she’s breast-feeding, Dad comes home in a rage every time he has a rough day at work, or Stepdad is depressed by his money problems during the rare moments he spends with you, you soak up these emotions like a sponge, often erroneously taking the blame or responsibility for them. Even if a parent falls ill and passes away, it can seem like abandonment or something you made happen if you’re too young to understand death.\nIt can be physical . . .\nMost people understand that it’s not okay to physically harm or even spank a child. But here’s an example that’s not as obvious:\nAny invasive medical procedure—even something as commonplace as a circumcision or getting stiches—may register the exact same as physical abuse if you experience it in your first few years of life. You may even start to distrust your caregivers for bringing you to an unfamiliar place and not keeping you safe.\nOften it’s intellectual . . .\nAfter the first few years of life, you start to separate from your parents. In this period, it’s their job to help you become your own person and confidently stand on your own two feet in the world. Here, a whole new set of problems can arise—especially when parents try to over-control you, habitually criticize you, or unreasonably expect you to be perfect. Other families adhere to such rigid rules that any manifestation of a child’s individuality is immediately attacked as a threat. All these can lead to esteem problems later in life.\nOr it can take over your entire identity.\nWithin a dysfunctional family system, each child tends to play a different role that helps the family survive and detracts from its real issues. These can include the revered hero, the troublemaking scapegoat, the neglected lost child, the people-pleasing placater, and the mood-lifting mascot. Later in life, these roles (as well as birth order) can lead to corresponding personality issues, whether it’s the hero’s judgmental perfectionism, the scapegoat’s explosive anger, the lost child’s low self-esteem, the placater’s denial of personal needs, or the mascot’s impulsive irresponsibility.\nBut it’s not easy to see your own core issues . . .\nYour oldest beliefs, behaviors, and adaptations have not justbeen reinforced by decades of habit, but are built deep into the architecture of your brain, which is busy building new neural connections at an astounding rate in early life. As the saying goes, “Cells that fire together, wire together.” So trying to see yourself with any objectivity can be like trying to touch your right elbow with your right hand.\nBut if you can detach from yourself a little bit, you’ll notice that the things you do and think don’t just come out of nowhere. Here are a few techniques and tools you can use to better understand the way your past can interfere with your happiness, your relationships, and your life today.\nYou can work backward . . .\nAre you relentlessly driving yourself to succeed and beating yourself up when you fail? Maybe that’s because when you were a teenager, your parents made you feel as if your worth as a human being was dependent on your grades, touchdowns, or accomplishments.\nAre you out of touch with your emotions because Stepdad always told you to toughen up when you cried? Do you feel deep down like you don’t matter because you were often ignored growing up? Are you always trying to save or care for others because you were never able to save Mom from her depression or addiction? Are you in complete denial that anything was wrong with your family because Dad acted as if he were infallible and must be unquestioningly obeyed, so criticizing him would be like blaspheming God?\nAre you getting the hang of this yet?\nYou can excuse my language . .\nSome of you have a big bag of shit you’re carrying around. And every time you encounter a situation in which you can possibly get more shit to put in the bag, you grab it and stuff it inside. You’ll even ignore all the diamonds glittering nearby, because all you can see is the shit.\nThis shit is known as “the stories you tell yourself\".\nExamples include generalizations like “I make bad decisions,” “If people saw the real me, they wouldn’t like me,” or, conversely, “No one is good enough for me.” Each of these beliefs can be formed in childhood by, respectively, fault-finding parents, abandoning parents, and parents who put you on a pedestal.\nAs a result, you can spend much of your life misinterpreting situations and thinking you’ve found more evidence to support these false conclusions formed in childhood. One way to recognize when you’re stuck in your own story is whenever you feel less than or better than others.\nYou can examine this chart .\nWounded Child (emotionally 0–5) Adapted Adolescent (emotionally6–18) Functional Adult (emotionally mature) Worthless Arrogant Esteemed from Within Extremely Vulnerable Invulnerable Healthy Boundaries Extremely Needy Needless Communicates Needs Feels Bad/Naughty Feels Blameless/Perfect Honest and Self-Aware Out of Control Hypercontrolling Flexible and Moderate Fears Abandonment Fears Suffocation Interdependent Seeks Attention Seeks Intensity Lives in Integrity and Harmony Idealizes Caretakers/Partners Disillusioned by Caretakers/Partners In Reality About Caretakers/Partners Then ask yourself: In a given week, do you exhibit any of the wounded child or adolescent behaviors here? If so, you may have either gotten stuck somewhere along the way in your emotional or behavioral development, or certain situations are causing you to revert to those ages. Any time you overreact to something—by shutting down losing your temper, sulking, feeling hopeless, freaking out, disassociating, or any of numerous other dysfunctional behaviors—it’s typically because an old wound has been triggered. And you’re regressing to the childhood or adolescent state that corresponds to that feeling.\nNote that the wounded child tends to directly internalize the messages that caretakers give; the adapted adolescent tends to react against them.\nHowever, not everyone reacts to the same trauma in the same way . .\nAnd children are born with different predispositions and resiliencies.\nSo if you remain loyal to people who abuse and mistreat you, that’s called trauma bonding.\nIf you only feel normal if you’re doing something extreme or high-risk, that’s trauma arousal.\nIf you’ve developed intense self-loathing, you’ve got trauma shame.\nIf you find chemical, mental, or technological ways to numb yourself and your feelings, that’s trauma blocking.\nAnd it goes on and on. One pattern of trauma; many different possible responses to it. We’ve only scratched the surface. But at least you know the model we’re working with here\nIt’s not about blaming but understanding . . .\nIn summary, we each spend our adult lives running on a unique operating system that took some eighteen years to program and is full of distinct bugs and viruses. And when we put together all these different theories of attachment, developmental immaturity, post-traumatic stress, and internal family systems\nthey make up a body of knowledge that allows us to run a virus scan on ourselves and, at any point, to look at our behaviors, our thoughts, and our feelings, and figure out where they come from.\nThat’s the easy part. The tough part is to quarantine the virus, and to recognize the false self and restore the true self. Because it isn’t until we start developing an honest, compassionate, and\nfunctional relationship with ourselves that we can begin to experience a healthy, loving relationship with others\nAnd that,” Lorraine concludes, “is what chair work is all about.”\nBelieve, behave, become: Believe in you and Ingrid. Behave for Ingrid. Become a nuclear family\nthink of intimacy as into me I see and I share that with you—that’s intimacy\nIntimacy problems come from a lack of self-love\nSomeone who fears intimacy thinks\nunconsciously, If you knew who I actually was, you’d leave me.”\nYour wives may think they sent you here because you’re sick and they’re normal, but I’ve never worked with a couple\nwhere one of them had it all together and the other was a screw-up. They’ve got just as many issues as you do. Proof of this is the fact that they’re still with you.”\navoidant gives and gives, sacrificing his own needs, but it’s never enough for the love addict\nSo the avoidant grows resentful and seeks an outlet outside of the relationship, but at the same time feels too guilty to stop taking care of the needy person\ngetting\ncaught. And that shatters the fantasy for the love addict, who experiences her biggest nightmare: abandonment, which replicates her original wound\nThe pain and the fear are so intense for the love addict that she often develops her own secret life as well. Where the avoidant wants the highs, the addict typically goes for the lows. She wants benzodiazepines, alcohol, romance novels, shopping\ntill she drops, or anything that depresses the central nervous system. If she acts out sexually or has an emotional affair, it’s not for intensity, but to numb the pain and get away from the agonizing hurt. Soon, the relationship is no longer about love for either partner, but about escaping from reality\nA healthy relationship is when two individuated adults decide to have a relationship and that becomes a third entity. They nurture the relationship and the relationship nurtures them. But they’re not overly dependent or independent\nThey are interdependent, which means that they take care of\nthe majority of their needs and wants on their own, but when they can’t, they’re not afraid to ask their partner for help.\nOnly when our love for someone exceeds our need for them do we have a shot at a genuine relationship together\nReal intelligence is when your mind and your heart connect.\nThat’s when you see the truth so clearly and unmistakably that you don’t have to think about it\nfact, all thinking will do is lead you away from the truth and soon you’ll be back in your head, groping with a penlight in the dark again\nEvery word, every step, every action is irreversible. If we step in front of a moving car, if we sign a contract we haven’t read, if we betray the person we love, the best we can do is try to clean up the mess. But no matter how hard we scrub, the stain on reality will never come out. The word you just read can\nnever be unread\nWhat you’re doing is sexual hoarding. When there’s a problem in your relationship, you feel shame—like something is wrong with you—and there’s an immediate reaction to that called defensive grandiosity. And that’s when\nyou start checking your hoard of messages.” She shifts in her chair and the blanket slides off her lap. “And that’s fueled by anger, because it drives Ingrid away and makes you feel like you have power\na book from a shelf and hands it to me. The title is Silently Seduced\nThe three-second rule means that as soon as you see someone and start objectifying them or fantasizing about them, you have a maximum of three seconds to focus on\nsomething else before the thought starts to get too strong and lead you into the addiction cycle. Remember”—he wags a finger—“bright red apple, wrong orchard\nYou’re as faithful as you decide to be if your brain is healthy. If your brain is not healthy, then you’re as faithful as your options. And we’re going to make\nyour brain healthy\nFacing Love Addiction by Pia Mellody\nFollowing the advice in Silently Seduced\ncontinuously complying with someone else’s priorities at the expense of my own is called pathological accommodation\nResentment is the anger the Avoidant feels because of thinking he or she has been victimized by the partner’s neediness or by the\npartner’s ‘demands’ for connection in the relationship.\nDr. Helen Fisher\nbook Anatomy of Love\nour ancestors unfaithfully pair-bonded just long enough to conceive and raise a child until it developed some degree of autonomy\nthen they moved on to raise a child with (and cheat on) someone else. She describes this as a dual reproductive strategy: serial monogamy plus clandestine adultery\nwe’ve developed three different primary brain systems for mating: one for sex, another for romantic love, and a third for deep attachment\nafter the initial intensity of a new relationship, our romance and sex drives often swing toward other people\nwhile\nour attachment drive remains connected to our primary partner\nthis natural ebbing of romance and sexuality can be prevented. The solution, she elaborates, is for couples to do novel and exciting\nthings together (to release dopamine and get the romance rush), make love regularly (to release oxytocin and sexually bond), cut themselves off from cheating opportunities, and, in general, make sure their partners are “continually thrilling” enough to keep all three drives humming\nWe all have six core needs: emotional, social, intellectual, physical, sexual, and spiritual.\ncompersion\nthat means if your partner has another lover, rather than being jealous, you’re happy\nfor her because she’s happy\nthe classics in the field of consensual\nnonmonogamy—*The Ethical Slut, Opening Up, Sex at Dawn, Polyamory: The New Love Without Limits—*as well as a lesser-known book from a more therapeutic perspective, Love in Abundance: A Counselor’s Advice on Open Relationships, by Kathy Labriola\nthe four adjustments\nTurn judgment into compassion and acceptance.\n2. Transform shame into reassurance.\n3. Change criticism to appreciation.\n4. Replace blame with understanding\nKamala Devi\nhis wife initially had no interest in polyamory. So in order to open the marriage, he encouraged her to date other people while he remained faithful. After letting her enjoy this freedom for a year or so, he gradually started dating as well\nYou have to make sure they all know you’re a family and nothing ever supersedes the\nfamily. The mantra should be doing what’s best for the community, not for the individual.\nLifestyle\nLounge?”\n“No.”\n“It’s a website my boyfriend and I belong to. You can find someone there.”\nthe mistake you made with her,” Nicole jumps in, “is that you made it all about you wanting to be with other people. You should have made it instead about wanting to have sexual adventures together. This way, you can include her rather than\nmaking it seem like a failing on her part.\nthe burning period, which is the length of time (usually two years) it takes couples who open up to deal with the issues an\nchallenges that occur as a result\nthe joys of theoretical nonmonogamy, which is when two people say they’re in an open relationship—but instead of actually sleeping with other people, they just get to feel free knowing they have the option to do so. There’s the jealousy test, which you pass if\nyou’re able to have a serious relationship with someone who’s sleeping with other people or in love with someone else\nfluid bonded, which refers to partners who feel safe having unprotected sex with one another, and veto power, which means that one partner can ask another to end an outside\nrelationship\nOnly fear is restrictive. Love is expansive\ndocumentary she recently saw called The Workshop, about a retreat in which participants get naked and have group sex t\nheal their shame and find enlightenment\nwhen one person shuts down or throws a fit, the other needs to stay in the adult ego state. If both people descend to the wounded child or adapted adolescent\nthat’s when all the forces of relationship drama and destruction are unleashed\nPerhaps the secret to fidelity is knowing that the grass is crazier on the other side\nUnspoken expectations are premeditated resentments.\nPoly works or fails on trust between metamours\nA metamour is a partner’s partner\npolygamous men live nine years longer, on average, than monogamous men\nthe Mormon prophet Brigham Young, who, like Father Yod, opened up his monogamous marriage soon after he felt a religious\ncalling, except that he took on an astonishing fifty-three additional spouses. And they were almost the death of him. At one point, he told his wives to leave if they weren’t happy, proclaiming, “I will go into heaven alone rather than have [you all] scratching and fighting around me.”\na book he recently read called His Needs, Her Needs by Willard F. Harley\nThere is nothing frenzied about debauchery, contrary to what is thought,” Albert Camus once wrote. “It is but a long sleep.\nYou need to try the only thing you haven’t experienced yet,” Lorraine suggests.\n“What’s that?”\n“Anhedonia.”\nit.\n“It’s the dark place of not feeling,” she elaborates. “People feel dead in the place of anhedonia. They can’t experience joy\n“Because in order to return to homeostasis and have any clarity on who you are and what you need, you have to detox from the intensity of these one-up, one-down relationships\nwe are simply too close to ourselves to see clearly enough to get out of our own way\nif you have long receptors in the brain’s reward center for the hormone vasopressin, then you’re more likely to be monogamous. If not, then you’re a born player\ngenerally, good parenting will promote better oxytocin and vasopressin systems in the long run, and these are linked with more closely bonding individuals when\ncomes to romantic relationships. We haven’t published it yet, but that’s exactly what we’re looking at right now.”\nThe person who is too smart to love is truly an\nidiot\nEach of you had a mother who was unhappy and who you could not help\nfunctional parenting is the secret to world peace\nthe only way to make functional parents is to heal psychological wounds with the same urgency that we heal physical wounds\nare you are willing to stay in your\nmarriage, even at the cost of sacrificing yourself and hurting your children?”\ngrow up emotionally so\nthat when someone you love doesn’t constantly worship you or do what you want, it doesn’t cause your entire sense of self to crumble\nis it possible to live your authentic life if you have inauthentic people around you?\nTo empty out completely, you need to let go of all the negative messages you received about yourself as a child. And you need to separate\nfrom the lifestyle you created as a reaction to them. So if you want to take back your life, you’re going to be best served by ending contact with every female you’ve ever sexualized.”\nThe only way to fix a tower with a faulty base is to knock it down and rebuild it over a stronger foundation\nChange my phone number\n2. Change my email address\n3. Block all social networks on my computer\n4. Don’t give my new information to anyone with tits\nYou can’t hold onto the vine behind you and the vine in front of you forever. At some point, you have to let go of the past to move forward.\nAll the things you’ve been trying to get from these relationships—freedom, understanding\nfairness, acceptance—are exactly the things that you never got from your mom. So every time you load all that unfinished business onto your partner, you’re setting yourself up for another disappointment\nas an adult, the only person who can give you those things is you\nif you become the hero in an enmeshed family as an adult, accepting that role will occupy the space your heart has available for a relationship\ndraw strong boundaries with his parents, even though he feels that they need him right now\nstory of the Prodigal Son\nA father has two sons. The older one is a good son. He does everything he should, pleases the father, and stays on the farm to take care of it. The younger one leaves the family, spends all his father’s\nmoney on prostitutes, doesn’t stay in touch, almost starves to death, and then, finally, returns and begs to be allowed to take care of the farm with his brother again.\nWhen the father throws a huge celebration to welcome his youngest son back home, the older\nbrother asks, ‘What about me?’ And do you know what the father replies\nYou worked on the farm because\nyou felt like you should; your brother came back to work on the farm out of choice. And that is the more meaningful of the two.’”\nLove is something about a person, some connection with them, that makes you willing to change.”\nIt’s always been something that I felt my partner expected or made me do. If I treat it as a choice this time as opposed to a demand, then maybe I can be the Prodigal Boyfriend\nYou, my friend, are on a deadline to love right now. If you want any hope of being in a relationship with Ingrid again, you’re going to have to attack your trauma with all the commitment you have and every tool there is before that wedding\nOnly\nafter you’ve learned how to be alone without loneliness will you be ready for a relationship\nAs you peel away the layers of the false self, you’re going to start feeling the pain inside that it’s protecting you from. So you’re going to get very raw and uncomfortable before you get better\nif you can process all that old pain in an adult, healthy way this time, you won’t need your old walls and defenses anymore.”\nIf she doesn’t want you back and she’s the catalyst for this change, then she’s the best thing that ever happened to you\nforce feelings to surface so they can be examined, and to find the deeper causes for your behavior. In that respect, it’s working amazingly well. How you feel during the process is the least important part. So you can feel good to the extent that you’re doing the work to learn about yourself\nand you’re willing to look at the feelings that come up. That’s the part to hold on to\nI made a mistake by equating variety with freedom\nleaving all my options open has kept me too busy juggling them to really live\nStudies on choice even affirm that having too many options leads to less happiness and satisfaction.\nYou have your own internal therapist that is far wiser than any external\ntherapist you could consult. You just need to find that voice and listen to it.”\nI put the photo in a frame and place it next to my bed. And I vow that from this day forward, that child will be protected. He will be loved. He will be accepted. He will be trusted. And all this will be given unconditionally\nHe will not\nbe taught to hate and fear. He will not be criticized for failing to live up to unrealistic expectations. He will not be used as a Kleenex or aspirin for someone else’s feelings of loneliness, fear, depression, or anxiety.\nstart filling him—and me\nwith the things I needed but never had as a child. When I have a negative thought about myself, I gently replace it with a positive truth. When I make a mistake, I forgive myself. When I’m too thin-skinned or thick-skinned, I gently guide myself back into moderate reality. And when I regress, I silently soothe\nmyself as if teaching a child not to be afraid of the dark.\nI’m reparenting myself. It’s somewhat pathetic that at this age, I need to properly learn how to be an adult. But if the problems I have in relationships are the\nresult of developmental immaturities, then by nurturing these stunted parts of myself into a growth spurt, perhaps I’ll finally attain the happiness and stability that have eluded me through them all\nEach day, I try to take care of the six core needs Lorraine told me about: physical, by surfing and eating healthily; emotional, by allowing myself to experience and express feelings without being either hypercontrolling or out of control with them; social, by spending time with\nAdam, Calvin, Rick, and other\ngrowth-minded friends; intellectual, by reading literature, listening to lectures, starting a film discussion group, and, most importantly, simply listening more; and, most alien of all for me, spiritual, through transcendental meditation, which a friend of Rick’s teaches me.\nthe destructive self and the creative self: the you that damages your life and the lives of others, and the you that brings forth the best in yourself, is connected to others, and is in harmony with the world around you.\nDo you see now that the way you choose to live your life affects everything about it?\nA cheat here and there is not just a cheat here and there. It’s a break in the continuum of who you are and the person you are in the world.”\nWHY I CHEATED\n1. I didn’t communicate or keep boundaries with Ingrid, so I acted out due to fear of\nengulfment.\n2. I didn’t share my sexual preferences with Ingrid or give her space to share hers, so I acted out due to unfulfilled sexual desires.\nI blamed her for “not allowing me” to fuck other people, so I acted out due to a denial of personal responsibility for my behavior\nI had feelings of worthlessness and low\nself-esteem deep down, so I acted out for acceptance and validation\nI had no spirituality and a faulty intellectual paradigm, so I acted out because I believed we’re no different\nfrom any other animal and that’s what animals do, and the consequences don’t really matter to the universe\nI think you’re going to understand what I mean now when I tell you the secret to being faithful.”\nDon’t trade long-term happiness for short-term pleasure.\nThink of intimacy as a fire,” he continues. “The more logs you add to it, the bigger it gets. And the bigger it gets, the less you want to throw water on it.”\nMy problem before was that the bigger the fire\ngot, the more I wanted to throw water on it. I was so scared it would consume me\nwith ambivalence and fear, a living thing will die. So no one who truly loves and is loved can ever be in a cage.”\n1. No matter what the situation may be, the right course of action is always compassion and love.\n2. As long as at least one partner is in the adult functional at any given time, most—if not all—arguments can be avoided.\n3. Recognize when you are backsliding into a childish or adolescent behavior. Then pinpoint what old story is being triggered and tell yourself the truth of the situation. Let go of the lie.\nAccept what is\nWhat if . . . Today I will expunge those two words from my vocabulary and replace them with I will\n5. Instead of saying “I’m never going to cheat\nagain,” say, “Today, I’m not going to do that thing that makes me feel weak and shameful about myself again\nthe fantasy of other people is almost always better than the reality.\n6. You can’t have a relationship with someone hoping they’ll change. You have to be willing to commit to them as they are, with no expectations. And if they happen to choose to\nchange at some point along the way, then that’s just a bonus\n7. Communicate and maintain healthy\nboundaries. This means finding the proper balance of filtering and protecting your self, thoughts, feelings, time, and behaviors without either closing off behind walls, or becoming overwhelmed or overwhelming\n8. Ask yourself throughout the day, “What do I need to do in this moment to take care of\nmyself?” If you can be aware of what legitimate needs and wants you’re not attending to, and then take actions to meet them on your own—or ask your partner for help if you can’t—that is the road to happiness\nNo one can make you feel anything and you don’t make anyone feel a certain way. So don’t take on responsibility for your partner’s\nfeelings and don’t blame your partner for yours. The most caring thing to do when they’re upset is simply to ask if they want you to listen, to give advice, to give them space, or to give them loving touch\nLove, honor, and affirm yourself. Whatever your decisions, actions, feelings, and thoughts throughout the day may be and whatever outcome they may lead to, if you are healthy\nthen they are ultimately healthy\nIs it in my highest good?\nAnd, above all, always remember to breathe and be in the moment\nas psychiatrist Eric Berne puts it even more\nsuccinctly, “Love is nature’s psychotherapy\nI finally understand what the true intimacy that Joan spoke about in rehab actually is: It’s when partners stop living in the past—in their trauma history—and start\nhaving a relationship with each other in the present moment. Love, it turns out, is not something to be learned. It’s something we already have, and we must unlearn in order to access it\nI use the four adjustments to turn shame into reassurance.\nShame is about being bad for someone\nreassurance is about being good to yourself\nnot only does it make more sense to respond with compassion instead of criticism, it’s also much easier on everyone involved. It may be the key to a longer, happier life\nI always wanted more—more women, more success, more money, more space, more experience, more possessions. Not once did I stop and say, as I do now, “I have enough.\nIf they’re emotionally healthy adults, then there’s no dilemma that they\ncan’t work out together. They’re not going to even notice each other aging but just getting happier.\nMany of the concepts can be found in the works of\nPia Mellody, James Hollis, Virginia Satir, John Bradshaw, Kenneth Adams, Marshall Rosenberg, Marion Solomon, Harville Hendrix, Salvador Minuchin, Peter Levine, Bessel van der Kolk, Robert Firestone, and others. I also recommend taking Patrick Carnes’s Post-Traumatic Stress Index test\nonline to understand the ways your past haunts your behavior today. (Use the original PTSI test, not the revised PTSI-R.) And you may want to email Barbara McNally (the one in Venice, CA) and urge her to publish her own book, because her teachings and wisdom were a big influence as well.\nI’m currently keeping an open and expanding list of recommended websites, workshops, and practitioners at www.neilstrauss.com/thetruth\nI also have a detailed reading list there, as well as information on trauma-healing workshops that offer\nscholarships for those who don’t have book advances to spend.\nwww.neilstrauss.com/goodtimes\nThe best thing we can do for our relationships with\nothers . . . is to render our relationship to\nourselves\nmore conscious. This is not a narcissistic activity. In fact,\nit will prove to be the most loving thing we can do for\nthe Other. The greatest gift to others is our\nown best selves.\nThus, paradoxically, if we are to serve relationship well,\nwe are obliged to affirm our individual journey",
    "description": "This was a very insightful book. Knowing the balance between pain and pleasure is essential to living in modern day society. Where scarcity is no longer an issue. Our brains are not adapted for a world of abundance. So the forces that kept us alive for thousands of years, are now making us miserable. Consider this a primer into understanding addiction and over consumption. And steps you can take to mitigate this.",
    "tags": [],
    "title": "The Truth (7/10)",
    "uri": "/booknotes/the-truth/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Storage",
    "content": "Thin Provisioning Allows for an economical allocation and utilization of storage space by moving arbitrary data blocks to contiguous locations, which results in empty block elimination. Can create a thin pool of storage space and assign volumes much larger storage space than the physical capacity of the pool. Workloads begin consuming the actual allocated space for data writing. When a preset custom threshold (80%, for instance) on the actual consumption of the physical storage in the pool is reached, expand the pool dynamically by adding more physical storage to it. The volumes will automatically start exploiting the new space right away. helps prevent spending more money upfront. Logical Volume Manager (LVM) Used for managing block storage in Linux. Provides an abstraction layer between the physical storage and the file system Enables the file system to be resized, span across multiple disks, use arbitrary disk space, etc. Accumulates spaces taken from partitions or entire disks (called Physical Volumes) to form a logical container (called Volume Group) which is then divided into logical partitions (called Logical Volumes). online resizing of volume groups and logical volumes, online data migration between logical volumes and between physical volumes user-defined naming for volume groups and logical volumes mirroring and striping across multiple disks snapshotting of logical volumes. Made up of three key objects called physical volume, volume group, and logical volume. These objects are further virtually broken down into Physical Extents (PEs) and Logical Extents (LEs). Physical Volume(PV)\ncreated when a block storage device such as a partition or an entire disk is initialized and brought under LVM control. This process constructs LVM data structures on the device, including a label on the second sector and metadata shortly thereafter. The label includes the UUID, size, and pointers to the locations of data and metadata areas. Given the criticality of metadata, LVM stores a copy of it at the end of the physical volume as well. The rest of the device space is available for use. You can use an LVM command called pvs (physical volume scan or summary) to scan and list available physical volumes on server2:\n[root@server2 ~]# sudo pvs PV VG Fmt Attr PSize PFree /dev/sda2 rhel lvm2 a-- \u003c19.00g 0 (a for allocatable under Attr) Try running this command again with the -v flag to view more information about the physical volume.\nVolume Group\nCreated when at least one physical volume is added to it. The space from all physical volumes in a volume group is aggregated to form one large pool of storage, which is then used to build logical volumes. Physical volumes added to a volume group may be of varying sizes. LVM writes volume group metadata on each physical volume that is added to it. The volume group metadata contains its name,date, and time of creation, how it was created, the extent size used, a list of physical and logical volumes, a mapping of physical and logical extents, etc. Can have a custom name assigned to it at the time of its creation. A copy of the volume group metadata is stored and maintained at two distinct locations on each physical volume within the volume group. Use vgs (volume group scan or summary) to scan and list available volume groups on server2:\n[root@server2 ~]# sudo vgs VG #PV #LV #SN Attr VSize VFree rhel 1 2 0 wz--n- \u003c19.00g 0 Status of the volume group under the Attr column (w for writeable, z for resizable, and n for normal), Try running this command again with the -v flag to view more information about the volume group.\nPhysical Extent A physical volume is divided into several smaller logical pieces when it is added to a volume group. These logical pieces are known as Physical Extents (PE). An extent is the smallest allocatable unit of space in LVM. At the time of volume group creation, you can either define the size of the PE or leave it to the default value of 4MB. This implies that a 20GB physical volume would have approximately 5,000 PEs. Any physical volumes added to this volume group thereafter will use the same PE size. Use vgdisplay (volume group display) on server2 and grep for ‘PE Size’ to view the PE size used in the rhel volume group:\n[root@server2 ~]# sudo vgdisplay rhel | grep 'PE Size' PE Size 4.00 MiB Logical Volume A volume group consists of a pool of storage taken from one or more physical volumes. This volume group space is used to create one or more Logical Volumes (LVs). A logical volume can be created or weeded out online, expanded or shrunk online, and can use space taken from one or multiple physical volumes inside the volume group. The default naming convention used for logical volumes is lvol0, lvol1, lvol2, and so on you may assign custom names to them.\nUse lvs (logical volume scan or summary) to scan and list available logical volumes on server2:\n[root@server2 ~]# sudo lvs LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert root rhel -wi-ao---- \u003c17.00g swap rhel -wi-ao---- 2.00g Attr column (w for writeable, i for inherited allocation policy, a for active, and o for open) and their sizes. Try running this command again with the -v flag to view more information about the logical volumes.\nLogical Extent A logical volume is made up of Logical Extents (LE). Logical extents point to physical extents, and they may be random or contiguous. The larger a logical volume is, the more logical extents it will have. Logical extents are a set of physical extents allocated to a logical volume. The LE size is always the same as the PE size in a volume group. The default LE size is 4MB, which corresponds to the default PE size of 4MB. Use lvdisplay (logical volume display) on server2 to view information about the root logical volume in the rhel volume group.\n[root@server30 ~]# lvdisplay /dev/rhel/root --- Logical volume --- LV Path /dev/rhel/root LV Name root VG Name rhel LV UUID DhHyeI-VgwM-w75t-vRcC-5irj-AuHC-neryQf LV Write Access read/write LV Creation host, time localhost.localdomain, 2024-07-08 17:32:18 -0700 LV Status available # open 1 LV Size \u003c17.00 GiB Current LE 4351 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 8192 Block device 253:0 The output does not disclose the LE size; however, you can convert the LV size in MBs (17,000) and then divide the result by the Current LE count (4,351) to get the LE size (which comes close to 4MB). LVM Operations and Commands Creating and removing a physical volume, volume group, and logical volume Extending and reducing a volume group and logical volume Renaming a volume group and logical volume listing and displaying physical volume, volume group, and logical volume information. Create and Remove Operations pvcreate/pvremove\nInitializes/uninitializes a disk or partition for LVM use vgcreate/vgremove\nCreates/removes a volume group lvcreate/lvremove\nCreates/removes a logical volume Extend and Reduce Operations vgextend/vgreduce\nAdds/removes a physical volume to/from a volume group lvextend/lvreduce\nExtends/reduces the size of a logical volume lvresize\nResizes a logical volume. With the -r option, this command calls the fsadm command to resize the underlying file system as well. Rename Operations vgrename\nRename a volume group lvrename\nRename a logical volume List and Display Operations pvs/pvdisplay\nLists/displays physical volume information vgs/vgdisplay lvs/lvdisplay\nLists/displays volume group information Lists/displays logical volume information\nAll the tools accept the -v switch to support verbosity.\nExercise 13-6: Create Physical Volume and Volume Group (server2) initialize one partition sdd1 (90MB) and one disk sde (250MB) for use in LVM. create a volume group called vgbook and add both physical volumes to it use the PE size of 16MB list and display the volume group and the physical volumes. 1. Create a partition of size 90MB on sdd using the parted command and confirm. You need to label the disk first, as it is a new disk.\n[root@server2 ~]# sudo parted /dev/sdd mklabel msdos Information: You may need to update /etc/fstab. [root@server2 ~]# sudo parted /dev/sdd mkpart primary 1 91m Information: You may need to update /etc/fstab. [root@server2 ~]# sudo parted /dev/sdd print Model: ATA VBOX HARDDISK (scsi) Disk /dev/sdd: 262MB Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 1 1049kB 91.2MB 90.2MB primary 2. Initialize the sdd1 partition and the sde disk using the pvcreate command. Note that there is no need to apply a disk label on sde with parted as LVM does not require it.\n[root@server2 ~]# sudo pvcreate /dev/sdd1 /dev/sde -v Wiping signatures on new PV /dev/sdd1. Wiping signatures on new PV /dev/sde. Set up physical volume for \"/dev/sdd1\" with 176128 available sectors. Zeroing start of device /dev/sdd1. Writing physical volume data to disk \"/dev/sdd1\". Physical volume \"/dev/sdd1\" successfully created. Set up physical volume for \"/dev/sde\" with 512000 available sectors. Zeroing start of device /dev/sde. Writing physical volume data to disk \"/dev/sde\". Physical volume \"/dev/sde\" successfully created. 3. Create vgbook volume group using the vgcreate command and add the two physical volumes to it. Use the -s option to specify the PE size in MBs.\n[root@server2 ~]# sudo vgcreate -vs 16 vgbook /dev/sdd1 /dev/sde Wiping signatures on new PV /dev/sdd1. Wiping signatures on new PV /dev/sde. Adding physical volume '/dev/sdd1' to volume group 'vgbook' Adding physical volume '/dev/sde' to volume group 'vgbook' Creating volume group backup \"/etc/lvm/backup/vgbook\" (seqno 1). Volume group \"vgbook\" successfully created 4. List the volume group information:\n[root@server2 ~]# sudo vgs vgbook VG #PV #LV #SN Attr VSize VFree vgbook 2 0 0 wz--n- 320.00m 320.00m 5. Display detailed information about the volume group and the physical volumes it contains:\n[root@server2 ~]# sudo vgdisplay -v vgbook --- Volume group --- VG Name vgbook System ID Format lvm2 Metadata Areas 2 Metadata Sequence No 1 VG Access read/write VG Status resizable MAX LV 0 Cur LV 0 Open LV 0 Max PV 0 Cur PV 2 Act PV 2 VG Size 320.00 MiB PE Size 16.00 MiB Total PE 20 Alloc PE / Size 0 / 0 Free PE / Size 20 / 320.00 MiB VG UUID zRu1d2-ZgDL-bnzV-I9U1-0IFo-uM4x-w4bX0Q --- Physical volumes --- PV Name /dev/sdd1 PV UUID 8x8IgZ-3z5T-ODA8-dofQ-xk5s-QN7I-KwpQ1e PV Status allocatable Total PE / Free PE 5 / 5 PV Name /dev/sde PV UUID xJU0Hh-W5k9-FyKO-d6Ha-1ofW-ajvh-hJSo8R PV Status allocatable Total PE / Free PE 15 / 15 6. List the physical volume information:\n[root@server2 ~]# sudo pvs PV VG Fmt Attr PSize PFree /dev/sda2 rhel lvm2 a-- \u003c19.00g 0 /dev/sdd1 vgbook lvm2 a-- 80.00m 80.00m /dev/sde vgbook lvm2 a-- 240.00m 240.00m 7. Display detailed information about the physical volumes:\n[root@server2 ~]# sudo pvdisplay /dev/sdd1 --- Physical volume --- PV Name /dev/sdd1 VG Name vgbook PV Size 86.00 MiB / not usable 6.00 MiB Allocatable yes PE Size 16.00 MiB Total PE 5 Free PE 5 Allocated PE 0 PV UUID 8x8IgZ-3z5T-ODA8-dofQ-xk5s-QN7I-KwpQ1e Once a partition or disk is initialized and added to a volume group, they are treated identically within the volume group. LVM does not prefer one over the other. Exercise 13-7: Create Logical Volumes(server2) Create two logical volumes, lvol0 and lvbook1, in the vgbook volume group. Use 120MB for lvol0 and 192MB for lvbook1 from the available pool of space. Display the details of the volume group and the logical volumes. 1. Create a logical volume with the default name lvol0 using the lvcreate command. Use the -L option to specify the logical volume size, 120MB. You may use the -v, -vv, or -vvv option with the command for verbosity.\nroot@server2 ~]# sudo lvcreate -vL 120 vgbook Rounding up size to full physical extent 128.00 MiB Creating logical volume lvol0 Archiving volume group \"vgbook\" metadata (seqno 1). Activating logical volume vgbook/lvol0. activation/volume_list configuration setting not defined: Checking only host tags for vgbook/lvol0. Creating vgbook-lvol0 Loading table for vgbook-lvol0 (253:2). Resuming vgbook-lvol0 (253:2). Wiping known signatures on logical volume vgbook/lvol0. Initializing 4.00 KiB of logical volume vgbook/lvol0 with value 0. Logical volume \"lvol0\" created. Creating volume group backup \"/etc/lvm/backup/vgbook\" (seqno 2). Size for the logical volume may be specified in units such as MBs, GBs, TBs, or as a count of LEs\nMB is the default if no unit is specified\nThe size of a logical volume is always in multiples of the PE size. For instance, logical volumes created in vgbook with the PE size set at 16MB can be 16MB, 32MB, 48MB, 64MB, and so on.\n2. Create lvbook1 of size 192MB (16x12) using the lvcreate command. Use the -l switch to specify the size in logical extents and -n for the custom name.\n[root@server2 ~]# sudo lvcreate -l 12 -n lvbook1 vgbook Logical volume \"lvbook1\" created. 3. List the logical volume information:\n[root@server2 ~]# sudo lvs LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert root rhel -wi-ao---- \u003c17.00g swap rhel -wi-ao---- 2.00g lvbook1 vgbook -wi-a----- 192.00m lvol0 vgbook -wi-a----- 128.00m 4. Display detailed information about the volume group including the logical volumes and the physical volumes:\n[root@server2 ~]# sudo vgdisplay -v vgbook --- Volume group --- VG Name vgbook System ID Format lvm2 Metadata Areas 2 Metadata Sequence No 3 VG Access read/write VG Status resizable MAX LV 0 Cur LV 2 Open LV 0 Max PV 0 Cur PV 2 Act PV 2 VG Size 320.00 MiB PE Size 16.00 MiB Total PE 20 Alloc PE / Size 20 / 320.00 MiB Free PE / Size 0 / 0 VG UUID zRu1d2-ZgDL-bnzV-I9U1-0IFo-uM4x-w4bX0Q --- Logical volume --- LV Path /dev/vgbook/lvol0 LV Name lvol0 VG Name vgbook LV UUID 9M9ahf-1L3y-c0yk-3Z2O-UzjH-0Amt-QLi4p5 LV Write Access read/write LV Creation host, time server2, 2024-06-12 02:42:51 -0700 LV Status available open 0 LV Size 128.00 MiB Current LE 8 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 8192 Block device 253:2 --- Logical volume --- LV Path /dev/vgbook/lvbook1 LV Name lvbook1 VG Name vgbook LV UUID pgd8qR-YXXK-3Idv-qmpW-w8Az-WGLR-g2d8Yn LV Write Access read/write LV Creation host, time server2, 2024-06-12 02:45:31 -0700 LV Status available # open 0 LV Size 192.00 MiB Current LE 12 Segments 2 Allocation inherit Read ahead sectors auto - currently set to 8192 Block device 253:3 --- Physical volumes --- PV Name /dev/sdd1 PV UUID 8x8IgZ-3z5T-ODA8-dofQ-xk5s-QN7I-KwpQ1e PV Status allocatable Total PE / Free PE 5 / 0 PV Name /dev/sde PV UUID xJU0Hh-W5k9-FyKO-d6Ha-1ofW-ajvh-hJSo8R PV Status allocatable Total PE / Free PE 15 / 0 Alternatively, you can run the following to view only the logical volume details:\n[root@server2 ~]# sudo lvdisplay /dev/vgbook/lvol0 --- Logical volume --- LV Path /dev/vgbook/lvol0 LV Name lvol0 VG Name vgbook LV UUID 9M9ahf-1L3y-c0yk-3Z2O-UzjH-0Amt-QLi4p5 LV Write Access read/write LV Creation host, time server2, 2024-06-12 02:42:51 -0700 LV Status available # open 0 LV Size 128.00 MiB Current LE 8 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 8192 Block device 253:2 [root@server2 ~]# sudo lvdisplay /dev/vgbook/lvbook1 --- Logical volume --- LV Path /dev/vgbook/lvbook1 LV Name lvbook1 VG Name vgbook LV UUID pgd8qR-YXXK-3Idv-qmpW-w8Az-WGLR-g2d8Yn LV Write Access read/write LV Creation host, time server2, 2024-06-12 02:45:31 -0700 LV Status available # open 0 LV Size 192.00 MiB Current LE 12 Segments 2 Allocation inherit Read ahead sectors auto - currently set to 8192 Block device 253:3 Exercise 13-8: Extend a Volume Group and a Logical Volume(server2) Add another partition sdd2 of size 158MB to vgbook to increase the pool of allocatable space. Initialize the new partition prior to adding it to the volume group. Increase the size of lvbook1 to 336MB. Display basic information for the physical volumes, volume group, and logical volume. 1. Create a partition of size 158MB on sdd using the parted command. Display the new partition to confirm the partition number and size.\n[root@server20 ~]# parted /dev/sdd mkpart primary 91 250 [root@server2 ~]# sudo parted /dev/sdd print Model: ATA VBOX HARDDISK (scsi) Disk /dev/sdd: 262MB Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 1 1049kB 91.2MB 90.2MB primary 2 92.3MB 250MB 157MB primary lvm 2. Initialize sdd2 using the pvcreate command:\n[root@server2 ~]# sudo pvcreate /dev/sdd2 Physical volume \"/dev/sdd2\" successfully created. 3. Extend vgbook by adding the new physical volume to it:\n[root@server2 ~]# sudo vgextend vgbook /dev/sdd2 Volume group \"vgbook\" successfully extended 4. List the volume group:\n[root@server2 ~]# sudo vgs VG #PV #LV #SN Attr VSize VFree rhel 1 2 0 wz--n- \u003c19.00g 0 vgbook 3 2 0 wz--n- 464.00m 144.00m 5. Extend the size of lvbook1 to 340MB by adding 144MB using the lvextend command:\n[root@server2 ~]# sudo lvextend -L +144 /dev/vgbook/lvbook1 Size of logical volume vgbook/lvbook1 changed from 192.00 MiB (12 extents) to 336.00 MiB (21 extents). Logical volume vgbook/lvbook1 successfully resized. EXAM TIP: Make sure the expansion of a logical volume does not affect the file system and the data it contains.\n6. Issue vgdisplay on vgbook with the -v switch for the updated details:\n[root@server2 ~]# sudo vgdisplay -v vgbook --- Volume group --- VG Name vgbook System ID Format lvm2 Metadata Areas 3 Metadata Sequence No 5 VG Access read/write VG Status resizable MAX LV 0 Cur LV 2 Open LV 0 Max PV 0 Cur PV 3 Act PV 3 VG Size 464.00 MiB PE Size 16.00 MiB Total PE 29 Alloc PE / Size 29 / 464.00 MiB Free PE / Size 0 / 0 VG UUID zRu1d2-ZgDL-bnzV-I9U1-0IFo-uM4x-w4bX0Q --- Logical volume --- LV Path /dev/vgbook/lvol0 LV Name lvol0 VG Name vgbook LV UUID 9M9ahf-1L3y-c0yk-3Z2O-UzjH-0Amt-QLi4p5 LV Write Access read/write LV Creation host, time server2, 2024-06-12 02:42:51 -0700 LV Status available open 0 LV Size 128.00 MiB Current LE 8 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 8192 Block device 253:2 --- Logical volume --- LV Path /dev/vgbook/lvbook1 LV Name lvbook1 VG Name vgbook LV UUID pgd8qR-YXXK-3Idv-qmpW-w8Az-WGLR-g2d8Yn LV Write Access read/write LV Creation host, time server2, 2024-06-12 02:45:31 -0700 LV Status available # open 0 LV Size 336.00 MiB Current LE 21 Segments 3 Allocation inherit Read ahead sectors auto - currently set to 8192 Block device 253:3 --- Physical volumes --- PV Name /dev/sdd1 PV UUID 8x8IgZ-3z5T-ODA8-dofQ-xk5s-QN7I-KwpQ1e PV Status allocatable Total PE / Free PE 5 / 0 PV Name /dev/sde PV UUID xJU0Hh-W5k9-FyKO-d6Ha-1ofW-ajvh-hJSo8R PV Status allocatable Total PE / Free PE 15 / 0 PV Name /dev/sdd2 PV UUID 1olOnk-o8FH-uJRD-2pJf-8GCy-3K0M-gcf3pF PV Status allocatable Total PE / Free PE 9 / 0 7. View a summary of the physical volumes:\nroot@server2 ~]# sudo pvs PV VG Fmt Attr PSize PFree /dev/sda2 rhel lvm2 a-- \u003c19.00g 0 /dev/sdd1 vgbook lvm2 a-- 80.00m 0 /dev/sdd2 vgbook lvm2 a-- 144.00m 0 /dev/sde vgbook lvm2 a-- 240.00m 0 8. View a summary of the logical volumes:\n[root@server2 ~]# sudo lvs LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert root rhel -wi-ao---- \u003c17.00g swap rhel -wi-ao---- 2.00g lvbook1 vgbook -wi-a----- 336.00m lvol0 vgbook -wi-a----- 128.00m Exercise 13-9: Rename, Reduce, Extend, and Remove Logical Volumes(server2) Rename lvol0 to lvbook2. Decrease the size of lvbook2 to 50MB using the lvreduce command Add 32MB with the lvresize command. remove both logical volumes. display the summary for the volume groups, logical volumes, and physical volumes. 1. Rename lvol0 to lvbook2 using the lvrename command and confirm with lvs:\n[root@server2 ~]# sudo lvrename vgbook lvol0 lvbook2 Renamed \"lvol0\" to \"lvbook2\" in volume group \"vgbook\" 2. Reduce the size of lvbook2 to 50MB with the lvreduce command. Specify the absolute desired size for the logical volume. Answer “Do you really want to reduce vgbook/lvbook2?” in the affirmative.\n[root@server2 ~]# sudo lvreduce -L 50 /dev/vgbook/lvbook2 Rounding size to boundary between physical extents: 64.00 MiB. No file system found on /dev/vgbook/lvbook2. Size of logical volume vgbook/lvbook2 changed from 128.00 MiB (8 extents) to 64.00 MiB (4 extents). Logical volume vgbook/lvbook2 successfully resized. 3. Add 32MB to lvbook2 with the lvresize command:\n[root@server2 ~]# sudo lvresize -L +32 /dev/vgbook/lvbook2 Size of logical volume vgbook/lvbook2 changed from 64.00 MiB (4 extents) to 96.00 MiB (6 extents). Logical volume vgbook/lvbook2 successfully resized. 4. Use the pvs, lvs, vgs, and vgdisplay commands to view the updated allocation.\n[root@server2 ~]# pvs PV VG Fmt Attr PSize PFree /dev/sda2 rhel lvm2 a-- \u003c19.00g 0 /dev/sdd1 vgbook lvm2 a-- 80.00m 0 /dev/sdd2 vgbook lvm2 a-- 144.00m 0 /dev/sde vgbook lvm2 a-- 240.00m 32.00m [root@server2 ~]# lvs LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert root rhel -wi-ao---- \u003c17.00g swap rhel -wi-ao---- 2.00g lvbook1 vgbook -wi-a----- 336.00m lvbook2 vgbook -wi-a----- 96.00m [root@server2 ~]# vgs VG #PV #LV #SN Attr VSize VFree rhel 1 2 0 wz--n- \u003c19.00g 0 vgbook 3 2 0 wz--n- 464.00m 32.00m [root@server2 ~]# vgdisplay --- Volume group --- VG Name vgbook System ID Format lvm2 Metadata Areas 3 Metadata Sequence No 8 VG Access read/write VG Status resizable MAX LV 0 Cur LV 2 Open LV 0 Max PV 0 Cur PV 3 Act PV 3 VG Size 464.00 MiB PE Size 16.00 MiB Total PE 29 Alloc PE / Size 27 / 432.00 MiB Free PE / Size 2 / 32.00 MiB VG UUID zRu1d2-ZgDL-bnzV-I9U1-0IFo-uM4x-w4bX0Q --- Volume group --- VG Name rhel System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 3 VG Access read/write VG Status resizable MAX LV 0 Cur LV 2 Open LV 2 Max PV 0 Cur PV 1 Act PV 1 VG Size \u003c19.00 GiB PE Size 4.00 MiB Total PE 4863 Alloc PE / Size 4863 / \u003c19.00 GiB Free PE / Size 0 / 0 VG UUID UiK3fy-FGOc-2fnP-C1Y6-JS0l-irEe-Sq3c4h 5. Remove both lvbook1 and lvbook2 logical volumes using the lvremove command. Use the -f option to suppress the “Do you really want to remove active logical volume” message.\n[root@server2 ~]# sudo lvremove /dev/vgbook/lvbook1 -f Logical volume \"lvbook1\" successfully removed. [root@server2 ~]# sudo lvremove /dev/vgbook/lvbook2 -f Logical volume \"lvbook2\" successfully removed. Removing an LV is destructive Backup any data in the target LV before deleting it. You will need to unmount the file system or disable swap in the logical volume. 6. Execute the vgdisplay command and grep for “Cur LV” to see the number of logical volumes currently available in vgbook. It should show 0, as you have removed both logical volumes. [root@server2 ~]# sudo vgdisplay vgbook | grep 'Cur LV' Cur LV 0 Exercise 13-10: Reduce and Remove a Volume Group(server2) \\\nReduce vgbook by removing the sdd1 and sde physical volumes from it Remove the volume group. Confirm the deletion of the volume group and the logical volumes at the end. 1. Remove sdd1 and sde physical volumes from vgbook by issuing the vgreduce command:\n[root@server2 ~]# sudo vgreduce vgbook /dev/sdd1 /dev/sde Removed \"/dev/sdd1\" from volume group \"vgbook\" Removed \"/dev/sde\" from volume group \"vgbook\" 2. Remove the volume group using the vgremove command. This will also remove the last physical volume, sdd2, from it.\n[root@server2 ~]# sudo vgremove vgbook Volume group \"vgbook\" successfully removed Use the -f option with the vgremove command to force the volume group removal even if it contains any number of logical and physical volumes in it. 3. Execute the vgs and lvs commands for confirmation:\n[root@server2 ~]# sudo vgs VG #PV #LV #SN Attr VSize VFree rhel 1 2 0 wz--n- \u003c19.00g 0 [root@server2 ~]# sudo lvs LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert root rhel -wi-ao---- \u003c17.00g swap rhel -wi-ao---- 2.00g Exercise 13-11: Uninitialize Physical Volumes (Server2)\\ Uninitialize all three physical volumes—sdd1, sdd2, and sde—by deleting the LVM structural information from them. Use the pvs command for confirmation. Remove the partitions from the sdd disk and Verify that all disks used in Exercises 13-6 to 13-10 are now in their original raw state. 1. Remove the LVM structures from sdd1, sdd2, and sde using the pvremove command:\n[root@server2 ~]# sudo pvremove /dev/sdd1 /dev/sdd2 /dev/sde Labels on physical volume \"/dev/sdd1\" successfully wiped. Labels on physical volume \"/dev/sdd2\" successfully wiped. Labels on physical volume \"/dev/sde\" successfully wiped. 2. Confirm the removal using the pvs command:\n[root@server2 ~]# sudo pvs PV VG Fmt Attr PSize PFree /dev/sda2 rhel lvm2 a-- \u003c19.00g 0 The partitions and the disk are now back to their raw state and can be repurposed.\n3. Remove the partitions from sdd using the parted command:\n[root@server2 ~]# sudo parted /dev/sdd rm 1 ; sudo parted /dev/sdd rm 2 Information: You may need to update /etc/fstab. Information: You may need to update /etc/fstab. 4. Verify that all disks used in previous exercises have returned to their original raw state using the lsblk command:\n[root@server2 ~]# lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sda 8:0 0 20G 0 disk ├─sda1 8:1 0 1G 0 part /boot └─sda2 8:2 0 19G 0 part ├─rhel-root 253:0 0 17G 0 lvm / └─rhel-swap 253:1 0 2G 0 lvm [SWAP] sdb 8:16 0 250M 0 disk sdc 8:32 0 250M 0 disk sdd 8:48 0 250M 0 disk sde 8:64 0 250M 0 disk sdf 8:80 0 5G 0 disk sr0 11:0 1 9.8G 0 rom",
    "description": "Thin provisioning and LVM",
    "tags": [],
    "title": "Thin Provisioning and LVM",
    "uri": "/storage/thin-provisioning/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Networking",
    "content": "Network Time Protocol (NTP) Networking protocol for synchronizing the system clock with remote time servers for accuracy and reliability. Having steady and exact time on networked systems allows time-sensitive applications, such as authentication and email applications, backup and scheduling tools, financial and billing systems, logging and monitoring software, and file and storage sharing protocols, to function with precision. Sends a stream of messages to configured time servers and binds itself to the one with least amount of delay in its responses, the most accurate, and may or may not be the closest distance-wise. Client system maintains a drift in time in a file and references this file for gradual drop in inaccuracy. Chrony RHEL 9 implementation of NTP Uses the UDP port 123. If enabled, it starts at system boot and continuously operates to keep the system clock in sync with a more accurate source of time. Performs well on computers that are occasionally connected to the network, attached to busy networks, do not run all the time, or have variations in temperature. Chrony is the RHEL implementation of NTP. And it operates on UDP port 123. If you enable it, it starts at system boot and continuously monitors system time and keeps in in sync.\nTime Sources A time source is any reference device that acts as a provider of time to other devices. The most precise sources of time are the atomic clocks. They use Universal Time Coordinated (UTC) for time accuracy. They produce radio signals that radio clocks use for time propagation to computer servers and other devices that require correctness in time. When choosing a time source for a network, preference should be given to the one that takes the least amount of time to respond. This server may or may not be closest physically. The common sources of time employed on computer networks are:\nThe local system clock Internet-based public time server Radio clock. local system clock\nCan be used as a provider of time. This requires the maintenance of correct time on the server either manually or automatically via cron. Keep in mind that this server has no way of synchronizing itself with a more reliable and precise external time source. Using the local system clock as a time server is the least recommended option. Public time server\nSeveral public time servers are available over the Internet for general use (visit www.ntp.org for a list). These servers are typically operated by government agencies, research and scientific organizations, large software vendors, and universities around the world. One of the systems on the local network is identified and configured to receive time from one or more public time servers. Preferred over the use of the local system clock. The official ntp.org site also provides a common pool called pool.ntp.org for vendors and organizations to register their own NTP servers voluntarily for public use. Examples:\nrhel.pool.ntp.org and ubuntu.pool.ntp.org for distribution-specific pools, ca.pool.ntp.org and oceania.pool.ntp.org for country and continent/region-specific pools. Under these sub-pools, the owners maintain multiple time servers with enumerated hostnames such as 0.rhel.pool.ntp.org, 1.rhel.pool.ntp.org, 2.rhel.pool.ntp.org, and so on.\nRadio clock\nRegarded as the perfect provider of time Receives time updates straight from an atomic clock. Global Positioning System (GPS), WWVB, and DCF77 are some popular radio clock methods. A direct use of signals from these sources requires connectivity of some hardware to the computer identified to act as an organizational or site-wide time server. NTP Roles A system can be configured to operate as a primary server, secondary server, peer, or client. Primary server\nGets time from a time source and provides time to secondary servers or directly to clients. secondary server\nReceives time from a primary server and can be configured to furnish time to a set of clients to offload the primary or for redundancy. The presence of a secondary server on the network is optional but highly recommended. peer\nReciprocates time with an NTP server. All peers work at the same stratum level, and all of them are considered equally reliable. client\nReceives time from a primary or a secondary server and adjusts its clock accordingly. Stratum Levels Time sources are categorized hierarchically into several levels that are referred to as stratum levels based on their distance from the reference clocks (atomic, radio, and GPS).\nThe reference clocks operate at stratum level 0 and are the most accurate provider of time with little to no delay.\nBesides stratum 0, there are fifteen additional levels that range from 1 to 15.\nOf these, servers operating at stratum 1 are considered perfect, as they get time updates directly from a stratum 0 device.\nA stratum 0 device cannot be used on the network directly. It is attached to a computer, which is then configured to operate at stratum 1.\nServers functioning at stratum 1 are called time servers and they can be set up to deliver time to stratum 2 servers.\nSimilarly, a stratum 3 server can be configured to synchronize its time with a stratum 2 server and deliver time to the next lower-level servers, and so on.\nServers sharing the same stratum can be configured as peers to exchange time updates with one another.\nThere are numerous public NTP servers available for free that synchronize time. They normally operate at higher stratum levels such as 2 and 3.\nChrony Configuration File /etc/chrony.conf\nkey configuration file for the Chrony service Referenced by the Chrony daemon at startup to determine the sources to synchronize the clock, the log file location, and other details. Can be modified by hand to set or alter directives as required. Common directives used in this file along with real or mock values: driftfile\n/var/lib/chrony/drift Indicates the location and name of the drift file to be used to record the rate at which the system clockgains or losses time. This data is used by Chrony to maintain local system clock accuracy. logdir\n/var/log/chrony Sets the directory location to store the log files in pool\n0.rhel.pool.ntp.org iburst Defines the hostname that represents a pool of time servers. Chrony binds itself with one of the servers to get updates. In case of a failure of that server, it automatically switches the binding to another server within the pool. The iburst option dictates the Chrony service to send the first four update requests to the time server every 2 seconds. This allows the daemon to quickly bring the local clock closer to the time server at startup. server\nserver20s8.example.com iburst Defines the hostname or IP address of a single time server. server\n127.127.1.0 The IP 127.127.1.0 is a special address that epitomizes the local system clock. peer\nprodntp1.abc.net Identifies the hostname or IP address of a time server running at the same stratum level. A peer provides time to a server as well as receives time from the same server man chrony.conf for details.\nChrony Daemon and Command Chrony service runs as a daemon program called chronyd that handles time synchronization in the background. Uses /etc/chrony.conf file at startup and sets its behavior accordingly. If the local clock requires a time adjustment, Chrony takes multiple small steps toward minimizing the gap rather than doing it abruptly in a single step. The Chrony service has a command line program called chronyc.\nchronyc command monitor the performance of the service and control its runtime behavior. Subcommands: sources\nList current sources of time tracking\nview performance statistics Lab: Configure NTP Client (server10) Install the Chrony software package and activate the service without making any changes to the default configuration. Validate the binding and operation. 1. Install the Chrony package using the dnf command:\n[root@server10 ~]# sudo dnf -y install chrony 2. Ensure that preconfigured public time server entries are present in the /etc/chrony.conf file:\n[root@server1 ~]# grep -E 'pool|server' /etc/chrony.conf | grep -v ^# pool 2.rhel.pool.ntp.org iburst There is a single pool entry set in the file by default. This pool name is backed by multiple NTP servers behind the scenes.\n3. Start the Chrony service and set it to autostart at reboots: sudo systemctl --now enable chronyd\n4. Examine the operational status of Chrony: sudo systemctl status chronyd --no-pager -l\n5. Inspect the binding status using the sources subcommand with chronyc:\n[root@server1 ~]# chronyc sources MS Name/IP address Stratum Poll Reach LastRx Last sample =============================================================================== ^+ ntp7-2.mattnordhoffdns.n\u003e 2 8 377 324 -3641us[-3641us] +/- 53ms ^* 2600:1700:4e60:b983::123 1 8 377 430 +581us[ +84us] +/- 36ms ^- 2600:1700:5a0f:ee00::314\u003e 2 8 377 58 -1226us[-1226us] +/- 50ms ^- 2603:c020:6:b900:ed2f:b4\u003e 2 9 377 320 +142us[ +142us] +/- 73ms ^ means the source is a server * implies current association with the source.\nPoll\npolling rate (6 means 64 seconds), Reach reachability register (377 indicates a valid response was received), Last sample how long ago the last sample was received, and the offset between the local clock and the source at the last measurement 6. Display the clock performance using the tracking subcommand with chronyc:\n[root@server1 ~]# chronyc tracking Reference ID : 2EA39303 (2600:1700:4e60:b983::123) Stratum : 2 Ref time (UTC) : Sun Jun 16 12:05:45 2024 System time : 286930.187500000 seconds slow of NTP time Last offset : -0.000297195 seconds RMS offset : 2486.306152344 seconds Frequency : 3.435 ppm slow Residual freq : -0.034 ppm Skew : 0.998 ppm Root delay : 0.064471066 seconds Root dispersion : 0.003769779 seconds Update interval : 517.9 seconds Leap status : Normal EXAM TIP: You will not have access to the outside network during the exam. You will need to point your system to an NTP server available on the exam network. Simply comment the default server/pool directive(s) and add a single directive “server \u003chostname\u003e” to the file. Replace \u003chostname\u003e with the NTP server name or its IP address as provided.\ntimedatectl command. Modify the date, time, and time zone. Outputs the local time, Universal time, RTC time (real-time clock, a battery-backed hardware clock located on the system board), time zone, and the status of the NTP service by default: [root@server10 ~]# timedatectl Local time: Mon 2024-07-22 10:55:11 MST Universal time: Mon 2024-07-22 17:55:11 UTC RTC time: Mon 2024-07-22 17:55:10 Time zone: America/Phoenix (MST, -0700) System clock synchronized: yes NTP service: active RTC in local TZ: no Requires that the NTP/Chrony service is deactivated in order to make time adjustments. Turn off NTP and verify:\n[root@server10 ~]# timedatectl set-ntp false [root@server10 ~]# timedatectl | grep NTP NTP service: inactive Modify the current date and confirm:\n[root@server10 ~]# timedatectl set-time 2024-07-22 [root@server10 ~]# timedatectl Local time: Mon 2024-07-22 00:00:30 MST Universal time: Mon 2024-07-22 07:00:30 UTC RTC time: Mon 2024-07-22 07:00:30 Time zone: America/Phoenix (MST, -0700) System clock synchronized: no NTP service: inactive RTC in local TZ: no Change both date and time in one go:\n[root@server10 ~]# timedatectl set-time \"2024-07-22 11:00\" [root@server10 ~]# timedatectl Local time: Mon 2024-07-22 11:00:06 MST Universal time: Mon 2024-07-22 18:00:06 UTC RTC time: Mon 2024-07-22 18:00:06 Time zone: America/Phoenix (MST, -0700) System clock synchronized: no NTP service: inactive RTC in local TZ: no Reactivate NTP:\n[root@server10 ~]# timedatectl set-ntp true [root@server10 ~]# timedatectl | grep NTP NTP service: active date command view or modify the system date and time. View current date and time:\n[root@server10 ~]# date Mon Jul 22 11:03:00 AM MST 2024 Change the date and time:\n[root@server10 ~]# date --set \"2024-07-22 11:05\" Mon Jul 22 11:05:00 AM MST 2024 Return the system to the current date and time:\n[root@server10 ~]# timedatectl set-ntp false [root@server10 ~]# timedatectl set-ntp true DNS and Time Sync DIY Labs Lab: Configure Chrony Install Chrony and mark the service for autostart on reboots. systemctl enable --now chronyd\nEdit the Chrony configuration file and comment all line entries that begin with “pool” or “server”.\n[root@server10 ~]# vim /etc/chrony.conf Go to the end of the file, and add a new line “server 127.127.1.0”.\nStart the Chrony service and run chronyc sources to confirm the binding.\n[root@server10 ~]# systemctl restart chronyd [root@server10 ~]# chronyc sources MS Name/IP address Stratum Poll Reach LastRx Last sample =============================================================================== ^? 127.127.1.0 0 6 0 - +0ns[ +0ns] +/- 0ns Lab: Modify System Date and Time Execute the date and timedatectl commands to check the current system date and time. [root@server10 ~]# date Mon Jul 22 11:37:54 AM MST 2024 [root@server10 ~]# timedatectl Local time: Mon 2024-07-22 11:37:59 MST Universal time: Mon 2024-07-22 18:37:59 UTC RTC time: Mon 2024-07-22 18:37:59 Time zone: America/Phoenix (MST, -0700) System clock synchronized: no NTP service: active RTC in local TZ: no Identify the distinctions between the two outputs.\nUse timedatectl and change the system date to a future date.\n[root@server10 ~]# timedatectl set-time 2024-07-23 Failed to set time: Automatic time synchronization is enabled [root@server10 ~]# timedatectl set-ntp false [root@server10 ~]# timedatectl set-time \"2024-07-23\" Issue the date command and change the system time to one hour ahead of the current time. [root@server10 ~]# date -s \"2024-07-22 12:41\" Mon Jul 22 12:41:00 PM MST 2024 Observe the new date and time with both commands. [root@server10 ~]# date -s \"2024-07-22 12:41\" Mon Jul 22 12:41:00 PM MST 2024 [root@server10 ~]# date Mon Jul 22 12:41:39 PM MST 2024 [root@server10 ~]# timedatectl Local time: Mon 2024-07-22 12:41:41 MST Universal time: Mon 2024-07-22 19:41:41 UTC RTC time: Tue 2024-07-23 07:01:41 Time zone: America/Phoenix (MST, -0700) System clock synchronized: no NTP service: inactive RTC in local TZ: no Reset the date and time to the current actual time by disabling and re-enabling the NTP service using the timedatectl command. [root@server10 ~]# timedatectl set-ntp true",
    "description": "NTP, Chrony, etc.",
    "tags": [],
    "title": "Time Synchronization",
    "uri": "/networking/time-synchronization/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Networking",
    "content": "Configure set poe interface ge-0/0/0 disable commit rollback 1 commit",
    "description": "How to toggle PoE on a Juniper switch.",
    "tags": [],
    "title": "Toggle PoE on a Juniper Switch",
    "uri": "/networking/toggle_poe/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Virtualization",
    "content": "Vagrant is software that lets you set up multiple, pre-configured virtual machines in a flash. I am going to show you how to do this using Linux and Virtual Box. But you can do this on MacOS and Windows as well.\nDownload Vagrant, VirtualBox and Git.\nVagrant link.\nVirtualbox link.\nYou may want to follow another tutorial for setting up VirtualBox.\nGit link.\nInstalling git will install ssh on windows. Which you will use to access your lab. Just make sure you select the option to add git and unit tools to your PATH variable.\nMake a Vagrant project folder.\nNote: All of these commands are going to be in a Bash command prompt.\nmkdir vagranttest Move in to your new directory.\ncd vagranttest Add and Initialize Your Vagrant Project.\nYou can find preconfigured virtual machines here.\nWe are going to use ubuntu/trusty64.\nAdd the Vagrant box\nvagrant box add ubuntu/trusty64 Initialize your new Vagrant box\nvagrant init ubuntu/trusty64 Use the dir command to see the contents of this directory.\nWe are going to edit this Vagrantfile to set up our multiple configurations.\nvim Vagrantfile Here is the new config without all of the commented lines. Add this (minus the top line) under Vagrant.configure(“2”) do |config|.\nVagrant.configure(\"2\") do |config| config.vm.box = \"ubuntu/trusty64\" config.vm.define \"server1\" do |server1| server1.vm.hostname = \"server1\" server1.vm.network \"private_network\", ip: \"10.1.1.2\" end config.vm.define \"server2\" do |server2| server2.vm.hostname = \"server2\" server2.vm.network \"private_network\", ip: \"10.1.1.3\" end end Now save your Vagrant file in Vim.\nBring up your selected vagrant boxes:\nvagrant up Now if you open virtual box, you should see the new machines running in headless mode. This means that the machines have no user interface..\nSsh into server1\nvagrant ssh server1 You are now in serve1’s terminal.\nFrom server1, ssh into server2\nssh 10.1.1.3 Success! You are now in server2 and can access both machines from your network. Just enter “exit” to return to the previous terminal.\nAdditional Helpful Vagrant Commands.\nWithout the machine name specified, vagrant commands will work on all virtual machines in your vagrant folder. I’ve thrown in a couple examples using [machine-name] at the end.\nShut down Vagrant machines\nvagrant halt Shut down only one machine\nvagrant halt [machine-name] Suspend and resume a machine\nvagrant suspend vagrant resume Restart a virtual machine\nvagrant reload Destroy a virtual machine\nvagrant detstroy [machine-name] Show running vms\nvagrant status List Vagrant options\nvagrant Playground for future labs\nThis type of deployment is going to be the bedrock of many Linux and Red Hat labs. You can easily use pre-configured machines to create a multi-machine environment. This is also a quick way to test your network and server changes without damaging anything.\nNow go set up a Vagrant lab yourself and let me know what you plan to do with it!\nWhat is Vagrant? Easy to configure, reproducible environments Provisions virtualbox vms Vagrant box: OS image Syntax:\nvagrant box add user/box Add centos7 box\nvagrant box add jasonc/centos7 Many public boxes to download\nVagrant project = folder with a vagrant file\nInstall Vagrant here: https://www.vagrantup.com/downloads\nMake a vagrant folder:\nmkdir vm1 cd vm1 initialize vagrant project:\nvagrant init jasonc/centos7 bring up all vms defined in the vagrant file)\nvagrant up vagrant will import the box into virtualbox and start it\nthe vm is started in headless mode\n(there is no user interfaces)\nVagrant up / multi machine\nBring up only one specific vm\nvagrant up [vm-name] SSH Vagrant\nvagrant ssh [vm_name] or vagrant ssh if there is only one vm in the vagrant file Need to download ssh for windows\ndownloading git will install this:\nhttps://desktop.github.com/\nShut down vagrant machines vagrant halt\nShutdown only one machine vagrant halt [vm]\nSaves present state of the machine\njust run vagrant up without having to import tha machines again\nSuspend the machine vagrant suspend [VM]\nResume vagrant resume [VM]\nDestroy VM vagrant destroy [VM]\nList options vagrant\nVagrant command works on the vagrant folder that you are in\nVagrant File\nVagrant.configure (2) do | config | config.vm.box = \"jasonc/centos7\" config.vm.hostname = \"linuxsvr1\" (default files) config.vm.network \"private_network\", ip: \"10.2.3.4\" config.vm.provider \"virtualbox\" do | vbi vb.gui = true vb.memory = \"1024\" (shell provisioner) config.vm.provision \"shell\", path: \"setup.sh\" end end Configuring a multi machine setup:\nSpecify common configurations at the top of the file\nVagrant.configure (2) do | config | config.vm.box = \"jasonc/centos7\" config.vm.define = \"server1\" do | server1 | server1.vm.hostname = \"server1\" server1.vm.network \"private_network\", ip: \"10.2.3.4\" end config.vm.define = \"server2\" do | server2 | server2.vm.hostname = \"server2\" server2.vm.network \"private_network\", ip: \"10.2.3.5\" end end You can search for vagrant boxes at https://app.vagrantup.com/boxes/search\nCourse software downloads: http://mirror.linuxtrainingacademy.com/\nInstall Git: https://git-scm.com/download/win\nmake sure to check option for git and unit tools to be added to the PATH vagrant ssh\nto connect to the vagrant machine in the folder that you are in default password in vagrant tyoe ’exit to return to prompt vagrant halt\nstop the vm and save it’s current state vagrant reload\nrestarts the vm vagrant status\nshows running vms in that folder You can access files in the vagrant directory from both VMs\nExample RHEL8 Config Vagrant.configure(\"2\") do |config| config.vm.box = \"generic/rhel8\" config.vm.define \"server1\" do |server1| server1.vm.hostname = \"server1.example.com\" server1.vm.network \"private_network\", ip: \"192.168.1.110\" config.disksize.size = '10GB' end config.vm.define \"server2\" do |server2| server2.vm.hostname = \"server2.example.com\" server2.vm.network \"private_network\", ip: \"192.168.1.120\" config.disksize.size = '16GB' end config.vm.provider \"virtualbox\" do |vb| vb.memory = \"2048\" end end Plugin to change the disk size:\nvagrant plugin install vagrant-disksize",
    "description": "How to use Vagrant from a Linux computer.",
    "tags": [],
    "title": "Using Vagrant on Linux",
    "uri": "/virtualization/using-vagrant-on-linux/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Ansible",
    "content": "Using and working with variables Ansible Facts Using Vault Capture command output using register Three types of variables:\nFact Variable Magic Variable Variables make Ansible really flexible. Especially when used in combination with conditionals. These are defined at the discretion of the user.:\n--- - name: create a user using a variable hosts: ansible1 vars: users: lisa \u003c-- defaults value for this play tasks: - name: create a user {{ users }} on host {{ ansible_hostname }} \u003c-- ansible fact variable user: name: \"{{ users }}\" \u003c-- If value starts with variable, the whole line must have double quotes An ansible fact variable is a variable that is automatically set based on the managed system. Facts are a default behavior used to discover information to use in conditionals. They are collected when Ansible executes on a remote system.\nThere are systems facts and custom facts. Systems facts are system property values. And custom facts are user-defined variables stored on managed hosts.\nIf no variables are defined at the command prompt, it will use the variable set for the play. You can also define the variables with the -e flag when running the playbook:\n[ansible@control base]$ ansible-playbook variable-pb.yaml -e users=john PLAY [create a user using a variable] ************************************************************************************************************************ TASK [Gathering Facts] *************************************************************************************************************************************** ok: [ansible1] TASK [create a user john on host ansible1] ******************************************************************************************************************* changed: [ansible1] PLAY RECAP *************************************************************************************************************************************************** ansible1 : ok=2 changed=1 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0 A magic variable is a system variable that is automatically set.\nNotice the “Gathering Facts” task. when you run a playbook. This is an implicit tasks ran every time you run a playbook. This task grabs facts from managed hosts and stores them in the variable ansible_facts.\nYou can use the debug module to display variables like so:\n--- - name: show facts hosts: all tasks: - name: show facts debug: var: ansible_facts \u003c-- this module does require variables to be enclosed in curly brackets This outputs a gigantic list of facts from our managed nodes.",
    "description": "All about Ansible variables and facts",
    "tags": [],
    "title": "Variables and Facts",
    "uri": "/ansible/6-variables-and-facts/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Keyboard",
    "content": "Vim (Vi Improved)\nVim stands for vi (Improved) just like its name it stands for an improved version of the vi text editor command.\nLightweight\nStart Vim\nvim Vim Search Patterns Moving the Cursor h or left arrow - move left one character k or up arrow - move up one line j or down arrow - move down one line l or right arrow - will move you right one character\nDifferent Vim Modes I - Enter INSERT mode from command mode esc - Go back to command mode v - visual mode\nVim Appending Text In enter while in command mode and will bring you to insert mode.\nI - insert text before the cursor O - insert text on the previous line o - insert text on the next line a - append text after cursor A - append text at the end of the line\nVim editing x - used to cut the selected text also used for deleting characters dd - used to delete the current line y - yank or copy whatever is selected yy - yank or copy the current line p - paste the copied text before the cursor\nVim Saving and exiting :w - writes or saves the file :q - quit out of vim :wq - write and then quit :q! - quit out of vim without saving the file ZZ - equivalent of :wq, but one character faster\nu - undo your last action Ctrl-r - redo your last action :% sort - Sort lines\nVim Splits Add to .vimrc for different key mappings for easy navigation between splits to save a keystroke. So instead of ctrl-w then j, it’s just ctrl-j:\nnnoremap \u003cC-J\u003e \u003cC-W\u003e\u003cC-J\u003e nnoremap \u003cC-K\u003e \u003cC-W\u003e\u003cC-K\u003e nnoremap \u003cC-L\u003e \u003cC-W\u003e\u003cC-L\u003e nnoremap \u003cC-H\u003e \u003cC-W\u003e\u003cC-H\u003e Open file in new split :vsp filename https://github.com/preservim/nerdtree\nFind and Replace https://linuxize.com/post/vim-find-replace/\nFind and Replace Text in File(s) with Vim Find and replace in a single file Open the file in Vim, this command will replace all occurances of the word “foo” with “bar”.\n:%s/foo/bar/g % - apply to whole file s - substitution g - operate on all results\nFind and replace a string in all files in current directory In vim, select all files with args. Use regex to select the files you want. Select all files with *\n:args * You can also select all recursively:\n:args ** Run :args to see which files are selected\"\n:args Perform substitution with argdo This applies the replacement command to all selected args:\n:argdo %s/foo/bar/g | update Nerd Tree Plugin Add to .vimrc\ncall plug#begin() Plug 'preservim/nerdtree' call plug#end() nnoremap \u003cleader\u003en :NERDTreeFocus\u003cCR\u003e nnoremap \u003cC-n\u003e :NERDTree\u003cCR\u003e nnoremap \u003cC-t\u003e :NERDTreeToggle\u003cCR\u003e nnoremap \u003cC-f\u003e :NERDTreeFind\u003cCR\u003e Vim Calendar dhttps://blog.mague.com/?p=602\nAdd to vim.rc\n:auto FileType vim/wiki map d :Vim/wikiMakeDiaryNote function! ToggleCalendar() execute \":Calendar\" if exists(\"g:calendar_open\") if g:calendar_open == 1 execute \"q\" unlet g:calendar_open else g:calendar_open = 1 end else let g:calendar_open = 1 end endfunction :auto FileType vim/wiki map c :call ToggleCalendar()i Vimwiki Cheat sheet http://thedarnedestthing.com/vimwiki%20cheatsheet\nSet up Make sure git is installed? https://github.com/git-guides/install-git\nCheck git version git --version Check git version\ndnf git install sudo dnf install git-all\nhttps://github.com/junegunn/vim-plug\nDownload plug.vim and put it in ~/.vim/autoload\ncurl -fLo ~/.vim/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim Create ~/.vimrc touch ~/.vimrc\nAdd to ~/.vimrc Installation using Vim-Plug Install Vim Plug\ncurl -fLo ~/.vim/autoload/plug.vim --create-dirs \\https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim Add the following to the plugin-configuration in your vimrc:\nset nocompatible filetype plugin on syntax on call plug#begin() Plug 'vimwiki/vimwiki' call plug#end() let mapleader=\" \" let wiki_1 = {} let wiki_1.path = '~/Documents/PerfectDarkMode/' let wiki_1.syntax = 'markdown' let wiki_1.ext = '' let wiki_2 = {} let wiki_2.path = '~/Documents/vim/wiki_personal/' let wiki_2.syntax = 'markdown' let wiki_2.ext = '' let g:vimwiki_list = [wiki_1, wiki_2] Then run :PlugInstall.\n(leader)ws select which wiki to use\nBasic Markup = Header1 = == Header2 == === Header3 === *bold* -- bold text _italic_ -- italic text [wiki link](wiki%20link) -- wiki link [description](wiki%20link) -- wiki link with description Lists * bullet list item 1 - bullet list item 2 - bullet list item 3 * bullet list item 4 * bullet list item 5 * bullet list item 6 * bullet list item 7 - bullet list item 8 - bullet list item 9 1. numbered list item 1 2. numbered list item 2 a) numbered list item 3 b) numbered list item 4 For other syntax elements, see :h vimwiki-syntax\nVimwiki Table of Contents :VimwikiTOC Create or update the Table of Contents for the current wiki file. See |vimwiki-toc|.\nTable of Contents vimwiki-toc vimwiki-table-of-contents\nYou can create a “table of contents” at the top of your wiki file. The command |:VimwikiTOC| creates the magic header \u003e = Contents = in the current file and below it a list of all the headers in this file as links, so you can directly jump to specific parts of the file.\nFor the indentation of the list, the value of |vimwiki-option-list_margin| is used.\nIf you don’t want the TOC to sit in the very first line, e.g. because you have a modeline there, put the magic header in the second or third line and run :VimwikiTOC to update the TOC.\nIf English is not your preferred language, set the option |g:vimwiki_toc_header| to your favorite translation.\nIf you want to keep the TOC up to date automatically, use the option |vimwiki-option-auto_toc|.\nvimwiki-option-auto_toc\nKey Default value Values~ auto_toc 0 0, 1\nDescription~ Set this option to 1 to automatically update the table of contents when the current wiki page is saved: \u003e let g:vimwiki_list = [{‘path’: ‘~/my_site/’, ‘auto_toc’: 1}]\nvimwiki-option-list_margin\nKey Default value~ list_margin -1 (0 for markdown)\nDescription~ Width of left-hand margin for lists. When negative, the current ‘shiftwidth’ is used. This affects the appearance of the generated links (see |:VimwikiGenerateLinks|), the Table of contents (|vimwiki-toc|) and the behavior of the list manipulation commands |:VimwikiListChangeLvl| and the local mappings |vimwiki_glstar|, |vimwiki_gl#| |vimwiki_gl-|, |vimwiki_gl-|, |vimwiki_gl1|, |vimwiki_gla|, |vimwiki_glA|, |vimwiki_gli|, |vimwiki_glI| and |vimwiki_i__|.\nNote: if you use Markdown or MediaWiki syntax, you probably would like to set this option to 0, because every indented line is considered verbatim text.\ng:vimwiki_toc_header_level\nThe header level of the Table of Contents (see |vimwiki-toc|). Valid values are from 1 to 6.\nThe default is 1.\ng:vimwiki_toc_link_format\nThe format of the links in the Table of Contents (see |vimwiki-toc|).\nValue Description~ 0 Extended: The link contains the description and URL. URL references all levels. 1 Brief: The link contains only the URL. URL references only the immediate level.\nDefault: 0\nKey bindings Normal mode Note: your terminal may prevent capturing some of the default bindings listed below. See :h vimwiki-local-mappings for suggestions for alternative bindings if you encounter a problem.\nBasic key bindings \u003cLeader\u003eww – Open default /wiki index file. \u003cLeader\u003ewt – Open default /wiki index file in a new tab. \u003cLeader\u003ews – Select and open /wiki index file. \u003cLeader\u003ewd – Delete /wiki file you are in. \u003cLeader\u003ewr – Rename /wiki file you are in. \u003cEnter\u003e – Follow/Create /wiki link. \u003cShift-Enter\u003e – Split and follow/create /wiki link. \u003cCtrl-Enter\u003e – Vertical split and follow/create /wiki link. \u003cBackspace\u003e – Go back to parent(previous) /wiki link. \u003cTab\u003e – Find next /wiki link. \u003cShift-Tab\u003e – Find previous /wiki link. Advanced key bindings Refer to the complete documentation at :h vimwiki-mappings to see many more bindings.\nCommands :Vimwiki2HTML – Convert current wiki link to HTML. :VimwikiAll2HTML – Convert all your wiki links to HTML. :help vimwiki-commands – List all commands. :help vimwiki – General vimwiki help docs. Diary alias alias todo=‘vim -c VimwikiDiaryIndex’\nHotkeys :VimwikiDiaryGenerateLinks ^w^i Generate links ^w^w open today ^wi Open diary index ctrl + up previous day ctrl + down next day\nHow to create Weekly, Monthly, and yearly notes How to do a template for daily set folder location for diary Diary Template https://frostyx.cz/posts/vimwiki-diary-template\nNested folder structure [dev](dev/ndex)\nSay yes to make new directory\nwiki Convert to html live and shows some design stuff https://www.youtube.com/watch?v=A1YgbAp5YRc\nhttps://github.com/Dynalonwiki\nTaskwarrior https://www.youtube.com/watch?v=UuHJloiDErM requires neovim?\ntaskwiki vimwiki integration with task warrior https://github.com/tools-life/taskwiki https://www.youtube.com/watch?v=UuHJloiDErM\nCtrl P Install Plug ‘ctrlpvim/ctrlp.vim’",
    "description": "Guide to using Vim",
    "tags": [],
    "title": "Vim Guide",
    "uri": "/keyboard/vimguide/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Storage",
    "content": "Used for storage optimization Device driver layer that sits between the Linux kernel and the physical storage devices. Conserve disk space, improve data throughput, and save on storage cost. Employs thin provisioning, de-duplication, and compression technologies to help realize the goals. How VDO Conserves Storage Stage 1\nMakes use of thin provisioning to identify and eliminate empty (zero-byte) data blocks. (zero-block elimination) Removes randomization of data blocks by moving in-use data blocks to contiguous locations on the storage device. Stage 2\nIf it detects that new data is an identical copy of some existing data, it makes an internal note of it but does not actually write the redundant data to the disk. (de-duplication) Implemented with the inclusion of a kernel module called UDS (Universal De-duplication Service). Stage 3\nCalls upon another kernel module called kvdo, which compresses the residual data blocks and consolidates them on a lower number of blocks. Results in a further drop in storage space utilization. Runs in the background and processes inbound data through the three stages on VDO-enabled volumes. Not a CPU or memory-intensive process VDO Integration with LVM LVM utilities have been enhanced to include options to support VDO volumes. VDO Components Utilizes the concepts of pool and volume. pool logical volume that is created inside an LVM volume group using a deduplicated storage space. volume Just like a regular LVM logical volume, but it is provisioned in a pool. Needs to be formatted with file system structures before it can be used. vdo and kmod-kvdo Commands Create, mount, and manage LVM VDO volumes Installed on the system by default. vdo\nInstalls the tools necessary to support the creation and management of VDO volumes kmod-kvdo\nImplements fine-grained storage virtualization, thin provisioning, and compression. Not installed by default? Exercise 13-12: Create an LVM VDO Volume Initialize the 5GB disk (sdf) for use in LVM VDO. Create a volume group called vgvdo and add the physical volume to it. List and display the volume group and the physical volume. Create a VDO volume called lvvdo with a virtual size of 20GB. 1. Initialize the sdf disk using the pvcreate command:\n[root@server2 ~]# sudo pvcreate /dev/sdf Physical volume \"/dev/sdf\" successfully created. 2. Create vgvdo volume group using the vgcreate command:\n[root@server2 ~]# sudo vgcreate vgvdo /dev/sdf Volume group \"vgvdo\" successfully created 3. Display basic information about the volume group:\n[root@server2 ~]# sudo vgdisplay vgvdo Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. --- Volume group --- VG Name vgvdo System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 1 VG Access read/write VG Status resizable MAX LV 0 Cur LV 0 Open LV 0 Max PV 0 Cur PV 1 Act PV 1 VG Size \u003c5.00 GiB PE Size 4.00 MiB Total PE 1279 Alloc PE / Size 0 / 0 Free PE / Size 1279 / \u003c5.00 GiB VG UUID tED1vC-Ylec-fpeR-KM8F-8FzP-eaQ4-AsFrgc 4. Create a VDO volume called lvvdo using the lvcreate command. Use the -l option to specify the number of logical extents (1279) to be allocated and the -V option for the amount of virtual space.\n[root@server2 ~]# sudo dnf install kmod-kvdo [root@server2 ~]# sudo lvcreate --type vdo -l 1279 -n lvvdo -V 20G vgvdo The VDO volume can address 2 GB in 1 data slab. It can grow to address at most 16 TB of physical storage in 8192 slabs. If a larger maximum size might be needed, use bigger slabs. Logical volume \"lvvdo\" created. 5. Display detailed information about the volume group including the logical volume and the physical volume:\n[root@server2 ~]# sudo vgdisplay -v vgvdo Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. --- Volume group --- VG Name vgvdo System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 3 VG Access read/write VG Status resizable MAX LV 0 Cur LV 2 Open LV 0 Max PV 0 Cur PV 1 Act PV 1 VG Size \u003c5.00 GiB PE Size 4.00 MiB Total PE 1279 Alloc PE / Size 1279 / \u003c5.00 GiB Free PE / Size 0 / 0 VG UUID tED1vC-Ylec-fpeR-KM8F-8FzP-eaQ4-AsFrgc --- Logical volume --- LV Path /dev/vgvdo/vpool0 LV Name vpool0 VG Name vgvdo LV UUID yGAsK2-MruI-QGy2-Q1IF-CDDC-XPNT-qkjJ9t LV Write Access read/write LV Creation host, time server2, 2024-06-16 09:35:46 -0700 LV VDO Pool data vpool0_vdata LV VDO Pool usage 60.00% LV VDO Pool saving 100.00% LV VDO Operating mode normal LV VDO Index state online LV VDO Compression st online LV VDO Used size \u003c3.00 GiB LV Status NOT available LV Size \u003c5.00 GiB Current LE 1279 Segments 1 Allocation inherit Read ahead sectors auto --- Logical volume --- LV Path /dev/vgvdo/lvvdo LV Name lvvdo VG Name vgvdo LV UUID nnGTW5-tVFa-T3Cy-9nHj-sozF-2KpP-rVfnSq LV Write Access read/write LV Creation host, time server2, 2024-06-16 09:35:47 -0700 LV VDO Pool name vpool0 LV Status available # open 0 LV Size 20.00 GiB Current LE 5120 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 8192 Block device 253:4 --- Physical volumes --- PV Name /dev/sdf PV UUID 0oAXHG-C4ub-Myou-5vZf-QxIX-KVT3-ipMZCp PV Status allocatable Total PE / Free PE 1279 / 0 The output reflects the creation of two logical volumes: a pool called /dev/vgvdo/vpool0 and a volume called /dev/vgvdo/lvvdo.\nExercise 13-13: Remove a Volume Group and Uninitialize Physical Volume(Server2) remove the vgvdo volume group along with the VDO volumes uninitialize the physical volume /dev/sdf. confirm the deletion. 1. Remove the volume group along with the VDO volumes using the vgremove command:\n[root@server2 ~]# sudo vgremove vgvdo -f Logical volume \"lvvdo\" successfully removed. Volume group \"vgvdo\" successfully removed Remember to proceed with caution whenever you perform erase operations.\n2. Execute sudo vgs and sudo lvs commands for confirmation.\n[root@server2 ~]# sudo vgs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. VG #PV #LV #SN Attr VSize VFree rhel 1 2 0 wz--n- \u003c19.00g 0 [root@server2 ~]# sudo lvs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert root rhel -wi-ao---- \u003c17.00g swap rhel -wi-ao---- 2.00g 3. Remove the LVM structures from sdf using the pvremove command:\n[root@server2 ~]# sudo pvremove /dev/sdf Labels on physical volume \"/dev/sdf\" successfully wiped. 4. Confirm the removal by running sudo pvs.\n[root@server2 ~]# sudo pvs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. PV VG Fmt Attr PSize PFree /dev/sda2 rhel lvm2 a-- \u003c19.00g 0 The disk is now back to its raw state and can be repurposed.\n5. Verify that the sdf disk used in the previous exercises has returned to its original raw state using the lsblk command:\n[root@server2 ~]# lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sda 8:0 0 20G 0 disk ├─sda1 8:1 0 1G 0 part /boot └─sda2 8:2 0 19G 0 part ├─rhel-root 253:0 0 17G 0 lvm / └─rhel-swap 253:1 0 2G 0 lvm [SWAP] sdb 8:16 0 250M 0 disk sdc 8:32 0 250M 0 disk sdd 8:48 0 250M 0 disk sde 8:64 0 250M 0 disk sdf 8:80 0 5G 0 disk sr0 11:0 1 9.8G 0 rom This brings the exercise to an end.\nStorage DYI Labs Lab 13-1: Create and Remove Partitions with parted Create a 100MB primary partition on one of the available 250MB disks (lsblk) by invoking the parted utility directly at the command prompt. Apply label “msdos” if the disk is new.\n[root@server20 ~]# sudo parted /dev/sdb mklabel msdos Warning: The existing disk label on /dev/sdb will be destroyed and all data on this disk will be lost. Do you want to continue? Yes/No? yes Information: You may need to update /etc/fstab. [root@server20 ~]# sudo parted /dev/sdb mkpart primary 1 101m Information: You may need to update /etc/fstab. Create another 100MB partition by running parted interactively while ensuring that the second partition won’t overlap the first.\n[root@server20 ~]# parted /dev/sdb GNU Parted 3.5 Using /dev/sdb Welcome to GNU Parted! Type 'help' to view a list of commands. (parted) mkpart primary 101 201m Verify the label and the partitions.\n(parted) print Model: ATA VBOX HARDDISK (scsi) Disk /dev/sdb: 262MB Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 1 1049kB 101MB 99.6MB primary 2 101MB 201MB 101MB primary Remove both partitions at the command prompt.\n[root@server20 ~]# sudo parted /dev/sdb rm 1 rm 2 Lab 13-2: Create and Remove Partitions with gdisk Create two 80MB partitions on one of the 250MB disks (lsblk) using the gdisk utility. Make sure the partitions won’t overlap.\nCommand (? for help): o This option deletes all partitions and creates a new protective MBR. Proceed? (Y/N): y Command (? for help): p Disk /dev/sdb: 512000 sectors, 250.0 MiB Model: VBOX HARDDISK Sector size (logical/physical): 512/512 bytes Disk identifier (GUID): 226F7476-7F8C-4445-9025-53B6737AD1E4 Partition table holds up to 128 entries Main partition table begins at sector 2 and ends at sector 33 First usable sector is 34, last usable sector is 511966 Partitions will be aligned on 2048-sector boundaries Total free space is 511933 sectors (250.0 MiB) Number Start (sector) End (sector) Size Code Name Command (? for help): n Partition number (1-128, default 1): First sector (34-511966, default = 2048) or {+-}size{KMGTP}: Last sector (2048-511966, default = 511966) or {+-}size{KMGTP}: +80M Current type is 8300 (Linux filesystem) Hex code or GUID (L to show codes, Enter = 8300): Changed type of partition to 'Linux filesystem' Command (? for help): n Partition number (2-128, default 2): 2 First sector (34-511966, default = 165888) or {+-}size{KMGTP}: 165888 Last sector (165888-511966, default = 511966) or {+-}size{KMGTP}: +80M Current type is 8300 (Linux filesystem) Hex code or GUID (L to show codes, Enter = 8300): Changed type of partition to 'Linux filesystem' Verify the partitions.\nCommand (? for help): p Disk /dev/sdb: 512000 sectors, 250.0 MiB Model: VBOX HARDDISK Sector size (logical/physical): 512/512 bytes Disk identifier (GUID): 226F7476-7F8C-4445-9025-53B6737AD1E4 Partition table holds up to 128 entries Main partition table begins at sector 2 and ends at sector 33 First usable sector is 34, last usable sector is 511966 Partitions will be aligned on 2048-sector boundaries Total free space is 184253 sectors (90.0 MiB) Number Start (sector) End (sector) Size Code Name 1 2048 165887 80.0 MiB 8300 Linux filesystem 2 165888 329727 80.0 MiB 8300 Linux filesystem Save\nCommand (? for help): w Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING PARTITIONS!! Do you want to proceed? (Y/N): y OK; writing new GUID partition table (GPT) to /dev/sdb. The operation has completed successfully. Delete the partitions\nCommand (? for help): d Partition number (1-2): 1 Command (? for help): d Using 2 Command (? for help): w Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING PARTITIONS!! Do you want to proceed? (Y/N): y OK; writing new GUID partition table (GPT) to /dev/sdb. The operation has completed successfully. Lab 13-3: Create Volume Group and Logical Volumes initialize 1x250MB disk for use in LVM (use lsblk to identify available disks).\nroot@server2 ~]# sudo parted /dev/sdd mklabel msdos Warning: The existing disk label on /dev/sdd will be destroyed and all data on this disk will be lost. Do you want to continue? Yes/No? yes Information: You may need to update /etc/fstab. [root@server2 ~]# sudo parted /dev/sdd mkpart primary 1 250m Information: You may need to update /etc/fstab. [root@server2 ~]# sudo parted /dev/sdd print Model: ATA VBOX HARDDISK (scsi) Disk /dev/sdd: 262MB Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 1 1049kB 250MB 249MB primary [root@server2 ~]# sudo pvcreate /dev/sdd1 Physical volume \"/dev/sdd1\" successfully created. (Can also just use the full disk without making it into a partition first.)\nCreate volume group vg100 with PE size 16MB and add the physical volume.\n[root@server2 ~]# sudo vgcreate -vs 16 vg100 /dev/sdd1 Wiping signatures on new PV /dev/sdd1. Adding physical volume '/dev/sdd1' to volume group 'vg100' Creating volume group backup \"/etc/lvm/backup/vg100\" (seqno 1). Volume group \"vg100\" successfully created Create two logical volumes lvol0 and swapvol of sizes 90MB and 120MB.\n[root@server2 ~]# sudo lvcreate -vL 90 vg100 Creating logical volume lvol0 Archiving volume group \"vg100\" metadata (seqno 1). Activating logical volume vg100/lvol0. activation/volume_list configuration setting not defined: Checking only host tags for vg100/lvol0. Creating vg100-lvol0 Loading table for vg100-lvol0 (253:2). Resuming vg100-lvol0 (253:2). Wiping known signatures on logical volume vg100/lvol0. Initializing 4.00 KiB of logical volume vg100/lvol0 with value 0. Logical volume \"lvol0\" created. Creating volume group backup \"/etc/lvm/backup/vg100\" (seqno 2). [root@server2 ~]# sudo lvcreate -l 8 -n swapvol vg100 Logical volume \"swapvol\" created. Use the vgs, pvs, lvs, and vgdisplay commands for verification.\n[root@server2 ~]# lvs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert root rhel -wi-ao---- \u003c17.00g swap rhel -wi-ao---- 2.00g lvol0 vg100 -wi-a----- 90.00m swapvol vg100 -wi-a----- 120.00m [root@server2 ~]# vgs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. VG #PV #LV #SN Attr VSize VFree rhel 1 2 0 wz--n- \u003c19.00g 0 vg100 1 2 0 wz--n- 225.00m 15.00m [root@server2 ~]# pvs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. PV VG Fmt Attr PSize PFree /dev/sda2 rhel lvm2 a-- \u003c19.00g 0 /dev/sdd1 vg100 lvm2 a-- 225.00m 15.00m [root@server2 ~]# vgdisplay Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. --- Volume group --- VG Name vg100 System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 5 VG Access read/write VG Status resizable MAX LV 0 Cur LV 2 Open LV 0 Max PV 0 Cur PV 1 Act PV 1 VG Size 225.00 MiB PE Size 15.00 MiB Total PE 15 Alloc PE / Size 14 / 210.00 MiB Free PE / Size 1 / 15.00 MiB VG UUID fEUf8R-nxKF-Uxud-7rmm-JvSQ-PsN1-Mrs3zc --- Volume group --- VG Name rhel System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 3 VG Access read/write VG Status resizable MAX LV 0 Cur LV 2 Open LV 2 Max PV 0 Cur PV 1 Act PV 1 VG Size \u003c19.00 GiB PE Size 4.00 MiB Total PE 4863 Alloc PE / Size 4863 / \u003c19.00 GiB Free PE / Size 0 / 0 VG UUID UiK3fy-FGOc-2fnP-C1Y6-JS0l-irEe-Sq3c4h Lab 13-4: Expand Volume Group and Logical Volume Create a partition on an available 250MB disk and initialize it for use in LVM (use lsblk to identify available disks).\n[root@server2 ~]# parted /dev/sdb mklabel msdos Warning: The existing disk label on /dev/sdb will be destroyed and all data on this disk will be lost. Do you want to continue? Yes/No? yes Information: You may need to update /etc/fstab. [root@server2 ~]# parted /dev/sdb mkpart primary 1 250m Information: You may need to update /etc/fstab. Add the new physical volume to vg100.\n[root@server2 ~]# sudo vgextend vg100 /dev/sdb1 Device /dev/sdb1 has updated name (devices file /dev/sdd1) Physical volume \"/dev/sdb1\" successfully created. Volume group \"vg100\" successfully extended Expand the lvol0 logical volume to size 300MB.\n[root@server2 ~]# lvextend -L +210 /dev/vg100/lvol0 Size of logical volume vg100/lvol0 changed from 90.00 MiB (6 extents) to 300.00 MiB (20 extents). Logical volume vg100/lvol0 successfully resized. Use the vgs, pvs, lvs, and vgdisplay commands for verification.\n[[root@server2 ~]# lvs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert root rhel -wi-ao---- \u003c17.00g swap rhel -wi-ao---- 2.00g lvol0 vg100 -wi-a----- 90.00m swapvol vg100 -wi-a----- 120.00m](\u003c[root@server20 ~]# lvs LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert root rhel -wi-ao---- %3C17.00g swap rhel -wi-ao---- 2.00g lvol0 vg100 -wi-a----- 300.00m swapvol vg100 -wi-a----- 120.00m\u003e) [root@server2 ~]# vgs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. VG #PV #LV #SN Attr VSize VFree rhel 1 2 0 wz--n- \u003c19.00g 0 vg100 2 2 0 wz--n- 450.00m 30.00m [root@server2 ~]# pvs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. PV VG Fmt Attr PSize PFree /dev/sda2 rhel lvm2 a-- \u003c19.00g 0 /dev/sdb1 vg100 lvm2 a-- 225.00m 30.00m /dev/sdd1 vg100 lvm2 a-- 225.00m 0 [root@server2 ~]# lvs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert root rhel -wi-ao---- \u003c17.00g swap rhel -wi-ao---- 2.00g lvol0 vg100 -wi-a----- 300.00m swapvol vg100 -wi-a----- 120.00m [root@server2 ~]# vgdisplay Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. --- Volume group --- VG Name vg100 System ID Format lvm2 Metadata Areas 2 Metadata Sequence No 7 VG Access read/write VG Status resizable MAX LV 0 Cur LV 2 Open LV 0 Max PV 0 Cur PV 2 Act PV 2 VG Size 450.00 MiB PE Size 15.00 MiB Total PE 30 Alloc PE / Size 28 / 420.00 MiB Free PE / Size 2 / 30.00 MiB VG UUID fEUf8R-nxKF-Uxud-7rmm-JvSQ-PsN1-Mrs3zc --- Volume group --- VG Name rhel System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 3 VG Access read/write VG Status resizable MAX LV 0 Cur LV 2 Open LV 2 Max PV 0 Cur PV 1 Act PV 1 VG Size \u003c19.00 GiB PE Size 4.00 MiB Total PE 4863 Alloc PE / Size 4863 / \u003c19.00 GiB Free PE / Size 0 / 0 VG UUID UiK3fy-FGOc-2fnP-C1Y6-JS0l-irEe-Sq3c4h Lab 13-5: Add a VDO Logical Volume initialize the sdf disk for use in LVM and add it to vgvdo1.\n[root@server2 ~]# pvcreate /dev/sdc Physical volume \"/dev/sdc\" successfully created. [root@server2 ~]# sudo vgextend vgvdo1 /dev/sdc Volume group \"vgvdo1\" successfully extended Create a VDO logical volume named vdovol using the entire disk capacity.\n[root@server2 ~]# lvcreate --type vdo -n vdovol -l 100%FREE vgvdo1 WARNING: LVM2_member signature detected on /dev/vgvdo1/vpool0 at offset 536. Wipe it? [y/n]: y Wiping LVM2_member signature on /dev/vgvdo1/vpool0. Logical blocks defaulted to 523108 blocks. The VDO volume can address 2 GB in 1 data slab. It can grow to address at most 16 TB of physical storage in 8192 slabs. If a larger maximum size might be needed, use bigger slabs. Logical volume \"vdovol\" created. Use the vgs, pvs, lvs, and vgdisplay commands for verification.\n[root@server2 ~]# vgs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB123ecea1-63467dee PVID RjcGRyHDIWY0OqAgfIHC93WT03Na1WoO last seen on /dev/sdd1 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID brKVLFEG3AoBzhWoso0Sa1gLYHgNZ4vL last seen on /dev/sdb1 not found. VG #PV #LV #SN Attr VSize VFree rhel 1 2 0 wz--n- \u003c19.00g 0 vgvdo1 2 2 0 wz--n- \u003c5.24g 248.00m Lab 13-6: Reduce and Remove Logical Volumes reduce the size of vdovol logical volume to 80MB.\n[root@server2 ~]# lvreduce -L 80 /dev/vgvdo1/vdovol No file system found on /dev/vgvdo1/vdovol. WARNING: /dev/vgvdo1/vdovol: Discarding 1.91 GiB at offset 83886080, please wait... Size of logical volume vgvdo1/vdovol changed from 1.99 GiB (510 extents) to 80.00 MiB (20 extents). Logical volume vgvdo1/vdovol successfully resized. [root@server2 ~]# lvs Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB123ecea1-63467dee PVID RjcGRyHDIWY0OqAgfIHC93WT03Na1WoO last seen on /dev/sdd1 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found. Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID brKVLFEG3AoBzhWoso0Sa1gLYHgNZ4vL last seen on /dev/sdb1 not found. LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert root rhel -wi-ao---- \u003c17.00g swap rhel -wi-ao---- 2.00g vdovol vgvdo1 vwi-a-v--- 80.00m vpool0 0.00 vpool0 vgvdo1 dwi------- \u003c5.00g 60.00 [root@server2 ~]# erase logical volume vdovol.\n[root@server2 ~]# lvremove /dev/vgvdo1/vdovol Do you really want to remove active logical volume vgvdo1/vdovol? [y/n]: y Logical volume \"vdovol\" successfully removed. Confirm the deletion with vgs, pvs, lvs, and vgdisplay commands.\nLab 13-7: Remove Volume Group and Physical Volumes \\remove the volume group and uninitialized the physical volumes.\n[root@server2 ~]# vgremove vgvdo1 Volume group \"vgvdo1\" successfully removed [root@server2 ~]# pvremove /dev/sdc Labels on physical volume \"/dev/sdc\" successfully wiped. [root@server2 ~]# pvremove /dev/sdf Labels on physical volume \"/dev/sdf\" successfully wiped. Confirm the deletion with vgs, pvs, lvs, and vgdisplay commands.\nUse the lsblk command and verify that the disks used for the LVM labs no longer show LVM information.\n[root@server2 ~]# lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sda 8:0 0 20G 0 disk ├─sda1 8:1 0 1G 0 part /boot └─sda2 8:2 0 19G 0 part ├─rhel-root 253:0 0 17G 0 lvm / └─rhel-swap 253:1 0 2G 0 lvm [SWAP] sdb 8:16 0 250M 0 disk sdc 8:32 0 250M 0 disk sdd 8:48 0 250M 0 disk sde 8:64 0 250M 0 disk sdf 8:80 0 5G 0 disk sr0 11:0 1 9.8G 0 rom",
    "description": "VDO",
    "tags": [],
    "title": "Virtual Data Optimizer (VDO)",
    "uri": "/storage/virtual-data-optimizer-vdo/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Networking",
    "content": "It’s easy to get overwhelmed with options after completing your CCNA. What do you learn next? If you are trying to get a job as a Network Engineer, you will want to check this out.\nI went through dozens of job listings that mentioned CCNA. Then, tallied up the main devices/vendors, certifications, and technologies mentioned. And left out anything that wasn’t mentioned more than twice.\nCore CCNA technologies such as LAN, WAN, OSPF, Spanning Tree, VLANs, etc. have been left out. The point here is to target the most sought after technologies and skills by employers. I also left out soft skills and any job that wasn’t a networking specific role.\nDevices/ Vendors Palo Alto is huge! I’m not suprised by this. Depending on the company, a network engineer may be responsible for firewall configuration and troubleshooting. It also looks like Network Engineers with a wide variety of skills are saught after.\nDevice/Vendor Times Mentioned Palo Alto 9 Cisco ASA 6 Juniper 6 Office 365 5 Meraki 4 Vmware 4 Linux 4 Ansible 4 AWS 3 Wireshark 3 Technologies Firewall comes in first again. Followed closely by VPN skills. Every interview I had for a Network Engineer position asked if I knew how to configure and troubleshoot VPNs.\nTechnology Times Mentioned Firewall 19 VPN 16 Wireless 12 BGP 12 Security 12 MPLS 10 Load balancers 8 Ipsec 7 ISE 6 DNS 5 SDWAN 5 Cloud 4 TACACS+ 4 ACL 4 SIEM 4 IDS/IPS 4 RADIUS 3 ITIL 3 Ipam 3 VOIP 3 EIGRP 3 Python 3 Certifications CCNP blew every other cert out of the water. Companies will be very interested if you are working towards this cert. Security + comes highly recommended as well.\nCertification Times Mentioned CCNP 18 Security+ 6 JNCIA 4 JNCIP 4 Network + 4 CCIE 4 PCNSA 3 So what do you do after CCNA? It depends…\nAre you trying to get a new job ASAP? Are there opportunities at your current role that you can use your new skills to leverage? Do you have some study time before you are ready to take the next step?\nCCNP Enterprise is a good bet if you really want to stand out in Network Engineering interviews.\nDon’t want to be a Network engineer? Continue to build a good base of IT skills. This will open you up to a larger variety of jobs and open skill paths that you need a good foundation to unlock.\nCore skills include:\nLinux/ Operating systems Networking General Cybersecurity Programming/ Scripting A good Linux certification like the RHCSA would be great to learn more about Linux, scripting, and operating systems. Security + would be good if you want to get a solid foundation of cyber security. And Python skills will give you a gold star in any IT interview.\nDon’t get paralyzed by choices. Pick something that interests you and go for it. That is the only way to get it right. Doing what you enjoy is better than not doing anything at all because you can’t decide the best path.\nHopefully we can revisit this post after learning Python to get a much bigger sample size.",
    "description": "What you should learn after taking the CCNA exam",
    "tags": [],
    "title": "What to Learn After CCNA",
    "uri": "/networking/what-to-learn-after-ccna/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Tools",
    "content": "https://www.youtube.com/watch?v=RzAkjX_9B7E\u0026t=295s\nMan (manual) pages are the built in help system for Linux. They contain documentation for most commands.\nRun the man command on a command to get to it’s man page. man man\nNavigating a man page h\nGet help q\nQuit out of the man page Man uses less\n^ mean ctrl\n^f Forward one page\n^b backward one page\ncan use # followed by command to repeat that many times\ng first line in file\nG last line in file\nCR means press enter\nSearching /searchword\npress enter to jump first occurance of searched word\nn to jump to next match\nN to go to previous match\n?searchword to do a backward search (n and N are reversed when going through results)\nMan page conventions bold text type as shown\nitalic text replace with arguments\nItalic may not render in terminal and may be underlined or colored text instead. [-abc] optional\n-a | -b Options separated by a pipe symbol cannot be used together.\nargument … (followed by 3 dots) can be repeated. (Argument is repeatable)\n[expression] … entire expression within [ ] is repeatable.\nParts of a man page Name\nname of command Synopsis\nHow to use the command When you see file in a man page, think file and or directory\nDescription short and long options do the same thing Current section number is printed at the top left of the man page.\n-k to search sections using apropos\n[root@server30 ~]# man -k unlink mq_unlink (2) - remove a message queue mq_unlink (3) - remove a message queue mq_unlink (3p) - remove a message queue (REALT... sem_unlink (3) - remove a named semaphore sem_unlink (3p) - remove a named semaphore shm_open (3) - create/open or unlink POSIX s... shm_unlink (3) - create/open or unlink POSIX s... shm_unlink (3p) - remove a shared memory object... unlink (1) - call the unlink function to r... unlink (1p) - call theunlink() function unlink (2) - delete a name and possibly th... unlink (3p) - remove a directory entry unlinkat (2) - delete a name and possibly th...] Shows page number in ()\nThe sections that end in p are POSIX documentation. Theese are not specific to Linux.\n[root@server30 ~]# man -k \"man pages\" lexgrog (1) - parse header information in man pages man (7) - macros to format man pages man-pages (7) - conventions for writing Linux man pages man.man-pages (7) - macros to format man pages [root@server30 ~]# man man-pages Use man-pages to learn more about man pages\nSections within a manual page The list below shows conventional or suggested sections. Most manual pages should include at least the highlighted sections. Arrange a new manual page so that sections are placed in the order shown in the list. NAME LIBRARY [Normally only in Sections 2, 3] SYNOPSIS CONFIGURATION [Normally only in Section 4] DESCRIPTION OPTIONS [Normally only in Sections 1, 8] EXIT STATUS [Normally only in Sections 1, 8] RETURN VALUE [Normally only in Sections 2, 3] ERRORS [Typically only in Sections 2, 3] ENVIRONMENT FILES ATTRIBUTES [Normally only in Sections 2, 3] VERSIONS [Normally only in Sections 2, 3] STANDARDS HISTORY NOTES CAVEATS BUGS EXAMPLES AUTHORS [Discouraged] REPORTING BUGS [Not used in man-pages] COPYRIGHT [Not used in man-pages] SEE ALSO Shell builtins do not have man pages. Look at the shell man page for info on them. man bash\nSearch for the Shell Builtins section: /SHELL BUILTIN COMMANDS\nYou can find help on builtins with the help command: david@fedora:~$ help hash hash: hash [-lr] [-p pathname] [-dt] [name ...] Remember or display program locations. Determine and remember the full pathname of each command NAME. If no arguments are given, information about remembered commands is displayed. Options: -d\tforget the remembered location of each NAME -l\tdisplay in a format that may be reused as input -p pathname\tuse PATHNAME as the full pathname of NAME -r\tforget all remembered locations -t\tprint the remembered location of each NAME, preceding each location with the corresponding NAME if multiple NAMEs are given Arguments: NAME\tEach NAME is searched for in $PATH and added to the list of remembered commands. Exit Status: Returns success unless NAME is not found or an invalid option is given. help without any arguments displays commands you can get help on.\ndavid@fedora:~/Documents/davidvargas/davidvargasxyz.github.io$ help help help: help [-dms] [pattern ...] Display information about builtin commands. Displays brief summaries of builtin commands. If PATTERN is specified, gives detailed help on all commands matching PATTERN, otherwise the list of help topics is printed. Options: -d\toutput short description for each topic -m\tdisplay usage in pseudo-manpage format -s\toutput only a short usage synopsis for each topic matching PATTERN Arguments: PATTERN\tPattern specifying a help topic Exit Status: Returns success unless PATTERN is not found or an invalid option is given. type command tells you what type of command something is.\nUsing man on some shell builtins brings you to the bash man page Shell Builtin Section\nMany commands support -h or --help options to get quick info on a command.",
    "description": "Guide to using Man Pages",
    "tags": [],
    "title": "You Need to Learn Man Pages",
    "uri": "/tools/using-man-pages/"
  },
  {
    "breadcrumb": "Linux Reader \u003e Book Notes",
    "content": "Excellent primer on how addiction wires your brain. Explains the negatives of porn use without going into anything religious. Also gives tips on quitting porn use and includes many anecdotes of people describing how their lives changed when giving up porn use.\nSummary and Highlights Sexual desire is one of our most powerful motivational forces, and has been essential to the flourishing of the human race. Yet pornography transforms that drive into a force that primarily motivates the completely solitary and unproductive activity of masturbation.\nThe more that people’s reward systems are tuned to forming social connections with others, the more likely they are to be both more physically healthy and more psychologically well balanced.\n“I count him braver who overcomes his desires than him who conquers his enemies; for the hardest victory is over self.” -Aristotle\nPsychiatrist Norman Doidge explains in his bestseller “The Brain That Changes Itself”:\nThis is how chronic overconsumption can have unexpected effects. It can make us hyper-aroused by our favourite enticements, such that immediate wants weigh heavier than they should relative to longer term desires. It can also sour our enjoyment of – and responsiveness to – everyday pleasures. It can drive us to seek more extreme stimulation. Or cause withdrawal symptoms so severe that they send even the most strong-minded of us bolting for relief.\nIt can also alter our mood, perception and priorities – all without our conscious awareness.\nHarry Fisch book “The New Naked” correlates with reduced grey matter and decreased sexual responsiveness.\nMost users regard internet porn as a solution – to boredom, sexual frustration, loneliness or stress.\nBesides normal libido they started reporting other positive changes too:\nDepression and social anxiety going away. Increased confidence. The feeling of fulfilment. Being on top of the world. Studies on appetite show that variety is strongly associated with overconsumption.\nIrritability, fatigue, inability to sleep (even sleep aids don’t help much), trembling/shaking, lack of focus, shortness of breath, and depression.\nIf you don’t realize such symptoms are connected with quitting, but you do notice that returning to porn relieves them, then you are strongly motivated to keep using porn.\nExisting studies do find that frequency of porn viewing correlates with depression, anxiety, stress and social (mal)functioning, as well as less sexual and relationship satisfaction and altered sexual tastes.\nPoorer quality of life and health, and real-life intimacy problems.\nImpaired motivation and confidence, brain fog (inability to focus), loss of attraction to real people, sexual dysfunction, escalation to what users themselves describe as more extreme material over time, and so forth.\nImprovements since quitting:\nSocial anxiety improved drastically. Confidence, eye contact, comfort interacting, smoothness, etc. More energy in general. Clearer, sharper mind, more concentration. More vibrant looking face. Depression alleviated. Desire to interact with women. Boners are back!! Justified it in my head by saying it was ‘healthy for me’ and ‘at least it isn’t a drug.‘\nAny of the following may precede or accompany delayed ejaculation and erectile dysfunction:\nEarlier genres of porn are no longer exciting. Uncharacteristic fetishes develop. Porn use is more sexually exciting than a partner. Sensitivity of penis decreases. Sexual arousal with sexual partners declines. Erections fade when attempting penetration or shortly thereafter. Penetrative sex is not stimulating. Porn fantasy is necessary to maintain erection or interest with partner. A few men bounce back in a relatively short time: about 2-3 weeks.\nThe vast majority of guys need 2-6 months (or longer) to fully recover.\nMasturbation/porn can cause PE especially when you start doing it young. You want to reach climax/orgasm quickly because of the fear of being caught. So you teach your mind that when you’re hard your job is to cum quickly and not enjoy the interim sensation.\nMy mechanistic porn habits have taken away all sensuality from the act of orgasm, turning it into a short spurt and muscle memory twitch of a climax.\nTolerance, which is an addiction process that drives a need for greater and greater stimulation.\nWhen scientists jacked up pair-bonding animals on amphetamine, the naturally monogamous animals no longer formed a preference for one partner.\nToo much stimulation weakens pair bonds.\nSocial anxiety, self-esteem. As users manage to abstain from porn, their desire to connect with others generally surges.\nOften, so does their self-esteem, their ability to look others in the eye, their sense of humour, their optimism, their attractiveness to potential mates, and so forth.\n“The Brain That Changes Itself” -Norman Doidge\nFemales are complimenting me on my looks and body. My awareness around social situations is much better. I can read people’s body language better. People cannot intimidate me as before.\nI feel that their anger just bounces off me, and I stay in a serene state.\nHave ‘better concentration’, ‘no more brain fog’, ‘clearer thinking’ and ‘improved memory‘.\nAddiction neuroscientists have repeatedly shown that internet addiction produces memory, concentration and impulse-control problems in some users, as well as corresponding brain changes.\nMy mind became very clear, thoughts easily controllable, and I became much more relaxed in general.\nI can retain and remember information a lot better. I remember events in my past life a lot better.\nI am not irritable, and am more focused. I can execute tasks a lot faster.\nI finally have energy again!\nWhen I look in the mirror I feel like my skin has a glow to it.\nQuitting isn’t a cure all for your life problems – but it’s the foundation, a ploughed field in which you can sow seeds for a new future that isn’t bedevilled by the secrecy and shame that comes with falling into the seemingly inescapable pit of porn-related despair that so many of us know.\nA life of hope and strength, not jizzy tissues, jealousy, bitterness, self-hatred, resentment and unfulfilled dreams.\nYou wire your sexual excitement to a screen.\nUnconscious sexual conditioning can be summed up as, ‘This is what turns me on’ or, at a brain level, ‘This is what jacks up my dopamine’.\nThis neurochemical reality primes young brains. They learn to define sex according to whatever stimuli offer the biggest sexual buzz.\nOnce new connections form, teen brains hold tightly to these associations.\nOur most powerful and lasting memories arise from adolescence – along with our worst habits.\nMethamphetamine and cocaine hijack the same reward-centre nerve cells that evolved for sexual conditioning.\nStandard addiction assessment test known as the ‘Three Cs’.\nCraving and preoccupation with obtaining, engaging in or recovering from the use of the substance or behavior;\nLoss of control in using the substance or engaging in the behavior with increasing frequency or duration.\nLarger amounts or intensity, or in increasing the risk in use and behavior to obtain the desired effect; and negative consequences in physical, social, occupational, financial and psychological domains.\nDutch researchers found that online erotica has the highest addictive potential of all online applications (with online gaming second).\nHigher hours per week/more years of porn viewing correlated with a reduction in grey matter in sections of the reward circuitry (striatum) involved in motivation and decision-making.\nReduced grey matter in this reward-related region means fewer nerve connections.\nFewer nerve connections here translates into sluggish reward activity, or a numbed pleasure response, often called desensitization.\nImpaired impulse control.\nIntense exposure to pornographic stimuli results in a downregulation of the natural.\nBoth hyper-reactivity to addiction cues (hardcore video) and reduced sexual responsiveness to tamer sexual visuals are not surprising in porn overconsumers.\nAll addiction is one condition.\nBehavioural and substance addiction confirm that all addictions modify the same fundamental brain mechanisms and produce a recognized set of anatomical and chemical alterations.\nHere are some brain changes that show up in all addictions, whether substance or behavioural:\nDesensitisation, or a numbed response to pleasure. Reduced dopamine signalling and other changes leave the addict less sensitive to everyday pleasures and ‘hungry’ for dopamine-raising activities and substances.\nSensitisation, or an unconscious super-memory of pleasure that, when activated triggers powerful cravings.\nRewired nerve connections cause the reward circuit to buzz in response to addiction related cues or thoughts.\nHypofrontality or reduced brain activity in the prefrontal regions, which weakens willpower in the face of strong subconscious cravings.\nAlterations in the prefrontal region’s grey matter and white matter correlate with reduced impulse control and the weakened ability to foresee consequences.\nHypofrontality shows up as the feeling that two parts of your brain are engaged in a tug-of-war.\nDysfunctional stress circuits, which can make even minor stress lead to cravings and relapse because they activate powerful sensitized pathways.\nThese phenomena are at the core of all addictions.\nEx-porn users regularly report withdrawal symptoms that are reminiscent of drug withdrawals.\nInsomnia, anxiety, irritability, mood swings, headaches, restlessness, fatigue, poor concentration, depression, social paralysis and cravings.\nShaking, flu-like symptoms, muscle cramps or the mysterious sudden loss of libido that guys call the flatline.\nNot everyone who stops using pornography will suffer withdrawal symptoms, but some do.\nThe brain’s reward centre doesn’t know what porn is. It only registers levels of stimulation through dopamine spikes.\nDopamine is odd. It shoots up when something is better than expected (violates expectations), but drops when expectations are not met.\nWith sex, it’s nearly impossible to match internet porn's level of surprise variety and novelty.\nOnce a young man thoroughly conditions himself to porn, sex may not meet his unconscious expectations. Unmet expectations produce a drop in dopamine – and erections.\nAdolescents are especially vulnerable here because their reward circuitry is in overdrive.\nOver-sensitivity to reward also means its owner is more vulnerable to addiction.\nA natural sculpting process narrows a teen’s choices by adulthood. His brain prunes his neural circuitry to leave him with well-honed responses to life.\nResearch reveals that erections require adequate dopamine in the reward circuit and the male sexual centres of the brain.\nA decline in dopamine signalling is associated with all of these:\nDiminished sexual behaviour, which, as noted, is a possible cause of sluggish erections/climaxes. Decreased risk-taking and increased anxiety, combined with a tendency toward angry overreaction, any of which can decrease willingness to socialize. Inability to focus, which can account for concentration and memory problems. Lack of motivation and healthy anticipation, which can lead to apathy procrastination, and even play a role in depression. Instead of acting on impulse, you’ll be learning self-restraint and mindfulness with one of your most primal instincts.\nWhich will flow over into every part of your life and make your life’s decisions be entirely up to you.\nWhen I started this 500 days ago, I had trouble concentrating; I couldn’t commit to a goal for more than a week at a time. Whenever I had a day off I wasted it in lazy indulgence.\nKnowing that I could be doing more with my time. Now, I can handle 50, 60 hour work weeks regularly without even noticing it.\nNow, I can exercise regularly and stick to it. Now, I’m in a relationship unlike any I’ve ever been in because I can finally treat my partner as another human being rather than sometimes as an object of desire.\nNow, I’m constantly improving myself instead of just wishing I could.\nRestore the sensitivity of your brain’s reward circuitry so you can again enjoy everyday pleasures.\nReduce the intensity of the ‘gotta have it!’ brain pathways that drive you to use.\nre-establish your willpower (strengthen the brain’s frontal lobes). reduce the impact of stress such that it doesn’t set off severe cravings. The problematic behaviors and symptoms of porn addiction are material in nature. They are inscribed in the structures of the brain. By changing behavior we change those structures.\nOver time new ways of life are reflected in changes in brain function.\nArtificial sexual stimulation includes anything your brain might use in the way it has been using porn: cam2cam erotic encounters, sexting, reading erotica, friendfinder apps, fantasizing about porn scenarios.\nConsistently refuse to activate the porn pathways in your brain.\nFreedom lies in allowing it to return to normal sensitivity and weaken any addiction pathways. Only then will you be truly free to set your own priorities without loud neurochemical signals stressing you and overriding your choices.\nTips I see on the recovery forums:\nDelete all porn from your devices this action sends your brain the signal that your intention to change is ironclad.\nMove your furniture around. Environmental cues associated with use can be powerful triggers because they themselves release dopamine.\nAvoid friends, neighborhoods, and activities associated with previous use.\nConsider using your online devices only in a less private location, which you don’t associate with porn use. Or transform your ‘porn space’ environment. Get rid of your ‘masturbation chair’ or simply move your furniture around.\nConsider a porn blocker and an ad blocker.\nPorn blockers are not fail-proof. They are like speed-bumps. They give you time to realize that you’re about to do what you really don’t want to do.\nFree porn blockers are available at these sites:\nQustodio - http://www.qustodio.com/index2 K-9 – http://www1.k9webprotection.com Esafely.com – http://www.esafely.com/home.php OpenDNS – http://www.opendns.com/home-internet-security/parental-controls/ Block all sexual categories, all dating categories and all blog categories.\nConsider using an ad blocker. That way you won’t have to see wiggling images in your sidebar when making holiday plans or ordering vitamins.\n‘AdblockPlus’ is free.\nConsider a day-counter.\nWhat matters is not days but brain balance. Brains do not all return to balance on a set schedule.\nAnd while brains definitely need time to reboot, accumulated days aren’t the whole story.\nBrain balance also benefits from exercise, socializing, time in nature, increased self-control, better self-care and so forth.\nAn alternative to setting a long day-count goal is to set mini-goals for yourself\nExtinction training\nCue extinction. You weaken the link or pathway between a stimulus and a habitual response\nIf extinction training (sometimes known as Exposure Response Prevention Therapy) is too risky for you because glimpses of porn sites throw you into a binge, try an indirect approach to strengthening your willpower first (or any beneficial stressor) and meditation are good choices.\nSupport\nJoin a forum, get an accountability partner.\nInvolvement in an online community where others are experimenting with giving up porn is helpful for most people. It can inspire you give you a place to rant, supply the good feelings that come from supporting others, and generate new tips for speeding your progress.\nSaid one guy:\nSites such as NoFap.org and Reboot Nation facilitate finding accountability partners.\nTherapy, support groups, healthcare.\nKeep a journal\nThere are good days and bad days, and on the bad days your brain will try to persuade you that you have made no progress and there is no hope that you ever will.\nOften by reading earlier entries from your journal you can swiftly put things back in perspective.\nManaging Stress, Improving Self-control and Self-care.\nExercise, beneficial stressors\nExercise seems to be the most universally beneficial distraction from urges, also improves self-confidence and fitness, and is even associated with better erectile function in men under 40.\nExercise is a solid mood regulator.\nCan help ease addiction because acute bouts of exercise increase dopamine concentrations, and regular exercise leads to sustained increases in dopamine and related adjustments.\nThis helps counteract the chronically low dopamine signalling that haunts recovering addicts before their brains reboot.\nVisit www.gettingstronger.org for articles and research about the physiology behind exercise, intermittent fasting, daily cold showers, and so forth.\nGet outside\nTime in nature is good for the brain. It boosts creativity, insight and problem solving.\nGet outside into the natural light and breathe fresh air. We weren’t meant to look at glowing rectangles and breathe recycled air 24/7.\nSocializing\nHumans evolved as tribal, pair-bonding primates. Our brains cannot easily regulate mood on their own, at least not for long.\nIt’s not unusual to feel anxious or depressed (or self-medicate with an addiction) when isolated.\nWhen recovering users force their attention away from their habitual ‘relief’, their reward circuitry looks around for other sources of pleasure.\nEventually it finds the natural rewards it evolved to find: friendly interaction, real mates, time in nature, exercise, accomplishment, creativity, and so forth.\nAll ease cravings.\nMeditation, relaxation techniques\nDaily meditation helps the rational part of the brain, called the frontal lobes, to stay in the driver’s seat.\nMeditation thus strengthens what addiction has weakened.\nEven as it quiets the primitive parts of the brain that drive impulsive behavior.\nCreative pursuits, hobbies, life purpose\nPut all your extra time, energy and confidence to use on other efforts that keep you preoccupied.\nCreativity is both a great distraction and inherently rewarding because of the anticipation of achieving something important to you:\nLimit activities that cause 'empty' dopamine highs, such as frequent, intense videogaming, junk food, gambling, trolling Facebook, Tumblr, Twitter and Yahoo, meaningless TV, and so forth.\nInstead, steer for activities that produce more lasting, sustainable satisfaction even if they aren’t as rewarding in the short-run:\nHaving a good conversation, organizing your work space, receiving/giving a therapeutic massage, goal-setting, visiting someone, building something or gardening.\nAttitude, Education and Inspiration\nBe gentle with yourself.\nYou don’t let that urge go anywhere. You say ‘no’, that one time, and you do that every one time that it comes up. That's it. Not X days of constant willpower, just a subtle lifestyle change, a quiet ‘no’ whenever the random desire flickers up and tries to take hold.\nCommon withdrawal symptoms include: irritability, anxiety or even panic, unaccustomed tears, restlessness, lethargy, headaches, brain fog, depression, mood swings, desire to isolate, muscle tightness, insomnia, and severe cravings to use porn.\nInsomnia\nIt’s important to stay well rested as fatigue can trigger porn use.\nTriggers\nOne man described triggers as, ‘the external factors that make you think about porn.’\nCommon triggers include: TV shows and movies with erotic content, porn flashbacks, morning wood, use of recreational drugs or alcohol.\nWords that remind you of a porn site/actor and suggestive ads.\nStates of mind can also be triggers: boredom, anxiety, stress, depression, loneliness, rejection, fatigue, frustration, anger, failure, feeling sorry for yourself, desire to reward yourself for an accomplishment, overconfidence, jealousy, and being hung-over.\nKeep a list of things you want to accomplish as well as a list of risk-free activities for those moments when you just don’t have the motivation to do something productive.\nEmotions\nPeople who quit porn often remark that they feel more emotions. Why is this a challenge?\nBecause unfamiliar emotions can be overwhelming at first, especially if they are unwelcome.\nChaser\nThe term ‘chaser’ is often used to describe intense cravings that sometimes follow orgasm.\nDisturbing dreams, flashbacks\nPeople often remark that they recall their dreams better after quitting.\nThey register as hyper-arousing, which means they also offer temporary comforting oblivion when feelings of shame strike. This explains how some users fall into a ‘shame-binge shame’ cycle.\nThe key seems to be to channel lots of energy into constructive action and self-compassion and away from excruciating, yet arousing, inner battles.\nCommon Pitfalls Edging\nSometimes persuade themselves that ejaculation is the main problem and internet porn is secondary.\nIn men, edging stresses the prostate.\nDopamine is at its peak when on the verge of orgasm.\nAt orgasm, prolactin rises, which drops dopamine to baseline levels and inhibits its release.\nThat normally spells some relief for sexual frustration.\nPlacing your foot on the dopamine gas, without ever hitting the brake (prolactin) results in a continuous state of cravings without satisfaction.\nOnce he stopped viewing porn, the urge to masturbate eased a lot, because without porn, masturbation was not that interesting.\nFantasizing\nResearch on mental imagery indicates that fantasizing or imagining an experience activates many of the same neural circuits as performing it.\nYour brain doesn’t make a distinction between imagery that comes from a computer screen or inside your own mind, so running porn-like imagery through your brain is little different from watching porn.\nAnother type of fantasy that involves intimacy but not sex. These fantasies involve things like exchanging smiles, holding hands, giving back or foot massages.\nUsing porn substitutes\nThe primitive part of your brain doesn’t know what porn is. It simply knows whether something is arousing (to you) or not.\nInternet porn addiction is not an addiction to naked or erotic; it’s an addiction to novelty.\nAssuming a fetish is permanent\nThe fact is, only by process of elimination will you know whether you are dealing with a porn-induced superficial fetish or a true fetish arising from the core of your sexual identity.\nAll erotic memories gain power, and are reinforced with each instance of arousal.\nPorn fetishes often turn out to be superficial. Again, many who quit porn (and porn-inspired fantasy) for a few months see their extreme tastes dissipate.\nThe bad urge\nThe ideal time to deal with a bad urge is before it shows up.\nNot being at home, or a place where you usually fap, will be incredibly helpful in getting past the first few days of withdrawal throes.\nMake a list (now) of reasons you are avoiding porn and consult it when The Urge arises.\nIf you don’t know what else to do you can always wait and do nothing.\nThink to yourself, ‘Here are cravings. They came out of nowhere and they have no real power over me. I am not my thoughts; I did not summon them. I do not want them; and I do not have to act on them.’\nAll urges die down eventually, usually within quarter of an hour.\nDon’t discuss the situation with your brain. Your brain will try to rationalize porn use because it desperately wants it. The key here is not to argue with your own brain, but instead to simply acknowledge that you’re having the thought, or to answer with one word: ‘No‘\nSelf-determination requires that we understand ourselves as best we can.\nBurnham, Terry and Phelan, Jay, Mean Genes: From Sex to Money to Food Taming Our Primal Instincts, New York: Basic Books, 2000.\nFunny, informative book about how the reward circuitry of the brain drives us to do things that are not always in our best interests.",
    "description": "Excellent primer on how addiction wires your brain. Explains the negatives of porn use without going into anything religious. Also gives tips on quitting porn use and includes many anecdotes of people describing how their lives changed when giving up porn use.\nSummary and Highlights Sexual desire is one of our most powerful motivational forces, and has been essential to the flourishing of the human race. Yet pornography transforms that drive into a force that primarily motivates the completely solitary and unproductive activity of masturbation.",
    "tags": [],
    "title": "Your Brain on Porn (9/10)",
    "uri": "/booknotes/your-brain-on-porn/"
  }
]
