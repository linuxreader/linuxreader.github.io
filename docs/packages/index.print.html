<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="print">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.152.2">
    <meta name="generator" content="Relearn 8.2.0+d150cc8909ed7836ff5d545e76544f6923ffacf5">
    <meta name="description" content="Advanced Package ManagementManaging package groups, application streams, modules, and DNFBasic Package ManagementRPM and package integrity and credibility">
    <meta name="author" content="David Thomas">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Packages :: Linux Reader">
    <meta name="twitter:description" content="Advanced Package ManagementManaging package groups, application streams, modules, and DNFBasic Package ManagementRPM and package integrity and credibility">
    <meta property="og:url" content="https://linuxreader.com/packages/">
    <meta property="og:site_name" content="Linux Reader">
    <meta property="og:title" content="Packages :: Linux Reader">
    <meta property="og:description" content="Advanced Package ManagementManaging package groups, application streams, modules, and DNFBasic Package ManagementRPM and package integrity and credibility">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="Packages :: Linux Reader">
    <meta itemprop="description" content="Advanced Package ManagementManaging package groups, application streams, modules, and DNFBasic Package ManagementRPM and package integrity and credibility">
    <meta itemprop="wordCount" content="20">
    <title>Packages :: Linux Reader</title>
    <link href="https://linuxreader.com/packages/" rel="canonical" type="text/html" title="Packages :: Linux Reader">
    <link href="/packages/index.xml" rel="alternate" type="application/rss+xml" title="Packages :: Linux Reader">
    <link href="/images/favicon.svg?1764693048" rel="icon" type="image/svg+xml">
    <link href="/css/auto-complete/auto-complete.min.css?1764693048" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1764693048" defer></script>
    <script src="/js/search-lunr.min.js?1764693048" defer></script>
    <script src="/js/search.min.js?1764693048" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/searchindex.en.js?1764693048";
    </script>
    <script src="/js/lunr/lunr.min.js?1764693048" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1764693048" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1764693048" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1764693048" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/fonts/fontawesome/css/fontawesome-all.min.css?1764693048" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/fontawesome-all.min.css?1764693048" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1764693048" rel="stylesheet">
    <link href="/css/theme.min.css?1764693048" rel="stylesheet">
    <link href="/css/format-print.min.css?1764693048" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/packages\/';
      window.relearn.relBasePath='..';
      window.relearn.relBaseUri='..';
      window.relearn.absBaseUri='https:\/\/linuxreader.com';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'oled' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>




   
   <!-- Thanks for using github/divinerites/plausible-hugo v1.22.0. Please, consider leaving a star on Github if you like it. -->











    
        <link rel="preconnect" href="https://https://analytics.linuxreader.com:8443">
    
        
            
            <script defer  data-domain="linuxreader.com" src="https://https://analytics.linuxreader.com:8443/js/script.js" ></script>

<!-- If you are using Content-Security-Policy, do not forget to add this code to your CSP : 
  script-src 'unsafe-inline' https://https://analytics.linuxreader.com:8443
  connect-src 'unsafe-inline' https://https://analytics.linuxreader.com:8443
  or just add the partial 'plausible_csp.html' to those 2 csp directives in your 'index.headers' file
-->



    
    <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
    <script>
         
         
         
    </script>

    

<style>
:root {
    --MENU-WIDTH-S: 14.375rem;
    --MENU-WIDTH-M: 14.375rem;
    --MENU-WIDTH-L: 18.75rem;
    --MAIN-WIDTH-MAX: 80rem;
    font-size: 1.2rem;
}
</style>

  </head>
  <body class="mobile-support print" data-url="/packages/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="/networking/what-to-learn-after-ccna/" title="What to Learn After CCNA (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>

            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper"> 
                </div>
              </div>
            </div>


          </div>
          <span class="topbar-breadcrumbs highlightable">
            Packages
          </span>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="/packages/index.print.html" title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></span>
            </div>

            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="/packages/advanced-package-management/" title="Advanced Package Management (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>







          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable packages" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="packages">Packages</h1>

<div class="children children-type-card children-sort-"><ul class="card-container">
<li>
  <article class="card card-popout" aria-labelledby="R-card-744bc81418095f516d78fb088dc53469">
    <div class="card-content">
      <div class="card-title" id="R-card-744bc81418095f516d78fb088dc53469">
        <a href="/packages/advanced-package-management/">
        Advanced Package Management
        </a>
      </div>
      <div class="card-content-text">
          <p>
Managing package groups, application streams, modules, and DNF
      </div>
    </div>
  </article>
</li>
<li>
  <article class="card card-popout" aria-labelledby="R-card-49bc1508d75c3760a6ae6762b5f0d98a">
    <div class="card-content">
      <div class="card-title" id="R-card-49bc1508d75c3760a6ae6762b5f0d98a">
        <a href="/packages/basic-package-management/">
        Basic Package Management
        </a>
      </div>
      <div class="card-content-text">
          <p>
RPM and package integrity and credibility
      </div>
    </div>
  </article>
</li>
</ul>
</div>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Packages</h1>
<article class="default">
  <header class="headline">
  </header>

<h1 id="advanced-package-management">Advanced Package Management</h1>

<h2 id="packagegroups">PackageÂ Groups</h2>
<h3 id="package-group">package group</h3>
<ul>
<li>Group of packages that serve a common purpose.</li>
<li>Can query, install, and delete as a single unit rather than dealing with packages individually.</li>
<li>Two types of package groups:Â <em>environment groups</em>Â andÂ <em>package groups</em>.</li>
</ul>
<p><strong>environment groups</strong> available in RHEL 9:</p>
<ul>
<li>server, server with GUI, minimal install, workstation, virtualization host, and custom operating system.</li>
<li>Listed on the software selection window during RHEL 9 installation.</li>
</ul>
<p><strong>Package groups</strong> include:</p>
<ul>
<li>container management, smart card support, security tools, system tools, network servers,Â etc.</li>
</ul>
<h2 id="individual-packages-package-groups-and-modules">Individual packages, package groups, and modules:</h2>
<h3 id="individual-package-management">Individual Package Management</h3>
<p>List, install, query, and remove packages.</p>
<h4 id="listing-available-and-installed-packages">Listing Available and Installed Packages</h4>
<ul>
<li>dnf lists available packages as well as installed packages.</li>
</ul>
<h3 id="lab-list-all-packages-available-for-installation-from-all-enabled-repos">Lab: list all packages available for installation from all enabled repos,</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf repoquery</span></span></code></pre></div>
<h3 id="lab-list-of-packages-that-are-available-only-from-a-specific-repo">Lab: list of packages that are available only from a specific repo:</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf repoquery --repo <span style="color:#5af78e">&#34;BaseOS&#34;</span></span></span></code></pre></div>
<h3 id="lab-grep-for-an-expression-to-narrow-down-your-search">Lab: grep for an expression to narrow down your search.</h3>
<p>For example, to find whether the BaseOS repo includes the <em>zsh</em> package.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf repoquery --repo BaseOS | grep zsh</span></span></code></pre></div>
<h3 id="lab-list-all-installed-packages-on-the-system">Lab: list all installed packages on the system:</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf list installed</span></span></code></pre></div>
<p>Three columns:
- package name
- package version
- repo it was installed from.
- @anaconda means the package was installed at the time of RHEL installation.</p>
<p>List all installed packages and all packages available for installation from all enabled repositories:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf list</span></span></code></pre></div>
<ul>
<li>@ sign identifies the package as installed.</li>
</ul>
<p>List all packages available from all enabled repositories that should be able to update:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf list updates</span></span></code></pre></div>
<p>List whether a package (<em>bc</em>, for instance) is installed or available for installation from any enabled repository:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf list bc</span></span></code></pre></div>
<p>List all installed packages whose names begin with the string &ldquo;gnome&rdquo; followed by any number of characters:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf list installed ^gnome*</span></span></code></pre></div>
<p>List recently added packages:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf list recent</span></span></code></pre></div>
<p>Refer to the <em>repoquery</em> and <em>list</em> subsections of the <em>dnf</em> command manual pages for more options and examples.</p>
<h3 id="installing-and-updating-packages">Installing and Updating Packages</h3>
<p>Installing a package:</p>
<ul>
<li>creates the necessary directory structure</li>
<li>installs the required files</li>
<li>runs any post-installation steps.</li>
<li>If already installed, <em>dnf</em> command updates it to the latest available version.</li>
</ul>
<p>Attempt to install a package called <em>ypbind</em>, proceed to update if it detects the presence of an older version:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf install ypbind</span></span></code></pre></div>
<p>Install or update a package called <em>dcraw</em> located locally at /mnt/AppStream/Packages/</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf localinstall /mnt/AppStream/Packages/dcraw*</span></span></code></pre></div>
<p>Update an installed package (<em>autofs</em>, for example) to the latest available version. Dnf will fail if the specified package is not already installed:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf update autofs</span></span></code></pre></div>
<p>Update all installed packages to the latest available versions:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf -y update</span></span></code></pre></div>
<p>Refer to the <em>install</em> and <em>update</em> subsections of the <em>dnf</em> command manual pages for more options and examples.</p>
<h3 id="exhibiting-package-information">Exhibiting Package Information</h3>
<p>Show:</p>
<ul>
<li>release</li>
<li>size</li>
<li>whether it is installed or available for installation</li>
<li>repo name it was installed or is available from</li>
<li>short and long descriptions</li>
<li>license</li>
<li>so on</li>
</ul>
<p>dnf info subcommand</p>
<p>View information about a package called <em>autofs</em>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf info autofs</span></span></code></pre></div>
<ul>
<li>Determines whether the specified package is installed or
not.</li>
</ul>
<p>Refer to the <em>info</em> subsection of the <em>dnf</em> command manual pages.</p>
<h3 id="removing-packages">Removing Packages</h3>
<p>Removing a package:</p>
<ul>
<li>uninstalls it and removes all associated files and directory structure.</li>
<li>erases any dependencies as part of the deletion process.</li>
</ul>
<p>Remove a package called <em>ypbind</em>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf remove ypbind</span></span></code></pre></div>
<p>Output</p>
<ul>
<li>Resolved dependencies</li>
<li>List of the packages that it would remove.</li>
<li>Disk space that their removal would free up.</li>
<li>After confirmation, it erased the identified packages and verified their removal.</li>
<li>List of the removed packages</li>
</ul>
<p>Refer to the <em>remove</em> subsection of the <em>dnf</em> command manual pages for more options and examples available for removing packages.</p>
<h3 id="lab-manipulate-individual-packages">Lab: Manipulate Individual Packages</h3>
<p>Perform management operations on a package called <code>cifs-utils</code>. Determine if this package is already installed and if it is available for installation. Display its information before installing it. Install the package and exhibit its information. Erase the package along with
its dependencies and confirm the removal.</p>
<ol>
<li>Check whether the <em>cifs-utils</em> package is already installed:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf list installed | grep cifs-utils</span></span></code></pre></div>
<ol start="2">
<li>Determine if the <em>cifs-utils</em> package is available for installation:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf repoquery cifs-utils</span></span></code></pre></div>
<ol start="3">
<li>Display detailed information about the package:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf info cifs-utils</span></span></code></pre></div>
<ol start="4">
<li>Install the package:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf install -y cifs-utils</span></span></code></pre></div>
<ol start="5">
<li>Display the package information again:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf info cifs-utils</span></span></code></pre></div>
<ol start="6">
<li>Remove the package:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf remove -y cifs-utils</span></span></code></pre></div>
<ol start="7">
<li>Confirm the removal:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf list installed | grep cif</span></span></code></pre></div>
<h3 id="determining-provider-and-searching-package-metadata">Determining Provider and Searching Package Metadata</h3>
<ul>
<li>You can determine what package a specific file belongs to or which package comprises a certain string.</li>
</ul>
<p>Search for packages that contain a specific file such as /etc/passwd/, use the <em>provides</em> or the <em>whatprovides</em> subcommand with dnf:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf provides /etc/passwd</span></span></code></pre></div>
<ul>
<li>
<p>Indicates file is part of a package called <em>setup</em>, installed during RHEL installation.</p>
</li>
<li>
<p>Second instance, setup package is part of the BaseOS repository.</p>
</li>
<li>
<p>Can also use a wildcard character for filename expansion.</p>
</li>
</ul>
<p>List all packages that contain filenames beginning with &ldquo;system-config&rdquo; followed by any number of characters:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf whatprovides /usr/bin/system-config*</span></span></code></pre></div>
<p>To search for all the packages that match the specified string in their
name or summary:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf search system-config</span></span></code></pre></div>
<h3 id="package-group-management">Package Group Management</h3>
<ul>
<li><code>group</code> subcommand</li>
<li>list, install, query, and remove groups of packages.</li>
</ul>
<h3 id="listing-available-and-installed-package-groups">Listing Available and Installed Package Groups</h3>
<p><code>group list</code> subcommand:</p>
<ul>
<li>list the package groups available for installation from either or both repos</li>
<li>list the package groups that are already installed on the system.</li>
</ul>
<p>List all available and installed package groups from all repositories:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf group list</span></span></code></pre></div>
<p>output:</p>
<ul>
<li>two categories of package groups:
<ul>
<li>Environment group</li>
<li>Package groups</li>
</ul>
</li>
</ul>
<p>Environment group:</p>
<ul>
<li>Larger collection of RHEL packages that provides all necessary software to build the operating system foundation for a desired purpose.</li>
</ul>
<p>Package group</p>
<ul>
<li>Small bunch of RHEL packages that serve a common purpose.</li>
<li>Saves time on the deployment of individual and dependent packages.</li>
<li>Output shows installed and available package groups.</li>
</ul>
<p>Display the number of installed and available package groups:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf group summary</span></span></code></pre></div>
<p>List all installed and available package groups including those that
are hidden:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf group list hidden</span></span></code></pre></div>
<p>Try <em>group list</em> with --installed and --available options to narrow
down the output list.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf group list --installed</span></span></code></pre></div>
<p>List all packages that a specific package group such as Base contains:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf group info Base</span></span></code></pre></div>
<p>-v option with the group info subcommand for more
information.</p>
<p>Review group list and group info subsections of the <code>dnf</code> man pages.</p>
<h3 id="installing-and-updating-package-groups">Installing and Updating Package Groups</h3>
<ul>
<li>Creates the necessary directory structure for all the packages included in the group and all dependent packages.</li>
<li>Installs the required files.</li>
<li>Runs any post-installation steps.</li>
<li>Attempts to update all the packages included in the group to the latest available versions.</li>
</ul>
<p>Install a package group called Emacs. Update if it detects an older version.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf -y groupinstall emacs</span></span></code></pre></div>
<p>Update the <em>smart card support</em> package group to the latest version:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf groupupdate <span style="color:#5af78e">&#34;Smart Card Support&#34;</span></span></span></code></pre></div>
<p>Refer to the <em>group install</em> and <em>group update</em> subsections of the <em>dnf</em> command manual pages for more details.</p>
<h3 id="removing-package-groups">Removing Package Groups</h3>
<ul>
<li>Uninstalls all the included packages and deletes all associated files and directory structure.</li>
<li>Erases any dependencies</li>
</ul>
<p>Erase the <em>smart card support</em> package group that was installed:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf -y groupremove <span style="color:#5af78e">&#39;smart card support&#39;</span></span></span></code></pre></div>
<p>Refer to the <em>remove</em> subsection of the <em>dnf</em> command manual pages for
more details.</p>
<h3 id="lab-manipulate-package-groups">Lab: Manipulate Package Groups</h3>
<p>Perform management operations on a package group called <em>system tools</em>. Determine if this group is already installed and if it is available for installation. List the packages it contains and install it. Remove the group along with its dependencies and confirm the removal.</p>
<ol>
<li>Check whether the <em>system tools</em> package group is already installed:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf group list installed</span></span></code></pre></div>
<ol start="2">
<li>Determine if the <em>system tools</em> group is available for installation:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf group list available</span></span></code></pre></div>
<p>The group name is exhibited at the bottom of the list under the
available groups.</p>
<ol start="3">
<li>Display the list of packages this group contains:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf group info <span style="color:#5af78e">&#39;system tools&#39;</span></span></span></code></pre></div>
<ul>
<li>All of the packages will be installed as part of the group installation.</li>
</ul>
<ol start="4">
<li>Install the group:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf group install <span style="color:#5af78e">&#39;system tools&#39;</span></span></span></code></pre></div>
<ol start="5">
<li>Remove the group:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf group remove <span style="color:#5af78e">&#39;system tools&#39;</span> -y</span></span></code></pre></div>
<ol start="6">
<li>Confirm the removal:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf group list installed</span></span></code></pre></div>
<h2 id="application-streams-and-modules">Application Streams and Modules</h2>
<p><strong>Application Streams</strong></p>
<ul>
<li>Introduced in RHEL 8.</li>
<li>Employs a modular approach to organize multiple versions of a software application alongside its dependencies to be available for installation from a single repository.</li>
</ul>
<p><strong>module</strong></p>
<ul>
<li>Logical set of application packages that includes everything required to install it, including the executables, libraries, documentation, tools, and utilities as well as dependent components.</li>
<li>Modularity gives the flexibility to choose the version of software based on need.</li>
</ul>
<ul>
<li>In older RHEL releases, each version of a package would have to come from a separate repository. (This has changed in RHEL 8.)</li>
<li>Now modules of a single application with different versions can be stored and made available for installation from a common repository.</li>
<li>The package management tool has also been enhanced to manipulate modules.</li>
</ul>
<ul>
<li>RHEL 9 is shipped with two core repositories calledÂ <em>BaseOS</em>Â andÂ <em>Application Stream</em>Â (AppStream).</li>
</ul>
<p><strong>BaseOS</strong> repository</p>
<ul>
<li>Includes the core set of RHEL 9 components</li>
<li>kernel, modules, bootloader, and other foundational software packages.</li>
<li>Lays the foundation to install and run software applications and programs.</li>
<li>Available in the traditional rpm format.</li>
</ul>
<p><strong>AppStream</strong> repository</p>
<ul>
<li>Comes standard with core applications,</li>
<li>Plus several add-on applications</li>
<li>Rpm and modular format</li>
<li>Include web server software, development languages, database software, etc.</li>
</ul>
<h4 id="benefits-of-segregation">Benefits of Segregation</h4>
<p>Why separate BaseOS components from other applications?</p>
<p>(1) Separates application components from the core operating system elements.<br>
(2) Allows publishers to deliver and administrators to apply application updates more frequently.</p>
<p>In previous RHEL versions, an OS update would update all installed components including the kernel, service, and application components to the latest versions by default.</p>
<p>This could result in an unstable system or a misbehaving application due to an unwanted upgrade of one or more packages.</p>
<p>By detaching the base OS components from the applications, either of the two can be updated independent of the other.</p>
<p>This provides enhanced flexibility in tailoring the system components and application workloads without impacting the underlying stability of the system.</p>
<h3 id="module-streams">Module Streams</h3>
<ul>
<li>Collection of packages organized by version</li>
<li>Each module can have multiple streams</li>
<li>Each stream receives updates independent of the other streams</li>
<li>Stream can be enabled or disabled.</li>
</ul>
<p><strong>enabled</strong> stream</p>
<ul>
<li>Allows the packages it contains to be queried or installed</li>
<li>Only one stream of a specific module can be enabled at a time</li>
<li>Each module has a default stream, which provides the latest or the recommended version.</li>
</ul>
<h3 id="module-profiles">Module Profiles</h3>
<ul>
<li>List of recommended packages organized for purpose-built, convenient deployments to support a variety of use cases
such as:</li>
<li>Minimal, development, common, client, server, etc.</li>
<li>A profile may also include packages from the BaseOS repository or the dependencies of the stream</li>
<li>Each module stream can have zero, one, or more profiles associated with it with only one of them marked as the default.</li>
</ul>
<h3 id="module-management">Module Management</h3>
<p><strong>Modules</strong>Â are special package groups usually representing an application, a language runtime, or a set of tools. They are available in one orÂ <strong>multiple streams</strong>Â which usually represent a major version of a piece of software, They are available in one orÂ <strong>multiple streams</strong>Â which give you an option to choose what versions of packages you want to consume.
<a href="https://docs.fedoraproject.org/en-US/modularity/using-modules/" rel="external" target="_blank">https://docs.fedoraproject.org/en-US/modularity/using-modules/</a></p>
<p>Modules are a way to deliver different versions of software (such as programming languages, databases, or web servers) independently of the base operating system&rsquo;s release cycle.</p>
<p>Each module can contain multiple streams, representing different versions or configurations of the software. For example, a module for Python might have streams for Python 2 and Python 3.</p>
<p><code>module</code> dnf subcommand</p>
<ul>
<li>list, enable, install, query, remove, and disable
modules.</li>
</ul>
<h3 id="listing-available-and-installed-modules">Listing Available and Installed Modules</h3>
<p>List all modules along with their stream, profile, and summary
information available from all configured repos:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module list</span></span></code></pre></div>
<p>Limit the output to a list of modules available from a specific
repo such as AppStream by adding --repo AppStream:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module list --repo AppStream</span></span></code></pre></div>
<p>Output:</p>
<ul>
<li>default (d)</li>
<li>enabled (e)</li>
<li>disabled (x)</li>
<li>installed (i)</li>
</ul>
<p>List all the streams for a specific module such as <code>ruby</code> and display their status:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module list ruby</span></span></code></pre></div>
<p>Modify the above and list only the specified stream 3.3 for the module <code>ruby</code></p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module list ruby:3.3</span></span></code></pre></div>
<p>List all enabled module streams:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module list --enabled</span></span></code></pre></div>
<p>Similarly, you can use the --installed and --disabled options with <code>dnf module list</code> to output only the installed or the disabled streams.</p>
<p>Refer to the <em>module list</em> subsection of the <em>dnf</em> command manual pages.</p>
<h3 id="installing-and-updating-modules">Installing and Updating Modules</h3>
<p>Installing a module</p>
<ul>
<li>Creates directory tree for all packages included in the module and all dependent packages.</li>
<li>Installs required files for the selected profile.</li>
<li>Runs any post-installation steps.</li>
<li>If module being loaded or a part of it is already present, the command attempts to update all the packages included in the profile to the latest available versions.</li>
</ul>
<p>Install the <em>perl</em> module using its default stream and default
profile:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf -y module install perl</span></span></code></pre></div>
<p>Update a module called <em>squid</em> to the latest version:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf module update squid -y</span></span></code></pre></div>
<p>Install the profile &ldquo;common&rdquo; with stream &ldquo;rhel9&rdquo; for the <em>container-tools</em> module: (module:stream/profile)</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf module install container-tools:rhel9/common</span></span></code></pre></div>
<h3 id="displaying-module-information">Displaying Module Information</h3>
<ul>
<li>Shows
<ul>
<li>Name, stream, version, list of profiles, default profile, repo name module was installed or is available from</li>
<li>Summary, description, and artifacts.</li>
</ul>
</li>
<li>Can be viewed by supplying module info with dnf.</li>
</ul>
<p>List all profiles available for the module ruby:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module info --profile ruby</span></span></code></pre></div>
<p>Limit the output to a particular stream such as 3.1:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module info --profile ruby:3.1</span></span></code></pre></div>
<p>Refer to the <em>module info</em> subsection of the <em>dnf</em> command manual pages for more details.</p>
<h3 id="removing-modules">Removing Modules</h3>
<p>Removing a module will:</p>
<ul>
<li>Uninstall all the included packages and</li>
<li>Delete all associated files and directory structure.</li>
<li>Erases any dependencies as part of the deletion process.</li>
</ul>
<p>Remove the ruby module with &ldquo;3.1&rdquo; stream:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf module remove ruby:3.1</span></span></code></pre></div>
<p>Refer to the <em>module remove</em> subsection of the <em>dnf</em> command manual pages:</p>
<h3 id="lab-manipulate-modules">Lab: Manipulate Modules</h3>
<ul>
<li>Perform management operations on a module called <em>postgresql</em>.</li>
<li>Determine if this module is already installed and if it is available for installation.</li>
<li>Show its information and install the default profile for stream &ldquo;10&rdquo;.</li>
<li>Remove the module profile along with any dependencies</li>
<li>confirm the removal.</li>
</ul>
<ol>
<li>Check whether the <em>postgresql</em> module is already installed(i):</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module list postgresql</span></span></code></pre></div>
<ol start="2">
<li>Display detailed information about the default stream of the module:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module info postgresql:15</span></span></code></pre></div>
<ol start="3">
<li>Install the module with default profile for stream &ldquo;15&rdquo;:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf -y module install --profile postgresql:15</span></span></code></pre></div>
<ol start="4">
<li>Display the module information again:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module info postgresql:15</span></span></code></pre></div>
<ol start="5">
<li>Erase the module profile for the stream:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module remove -y postgresql:15</span></span></code></pre></div>
<ol start="6">
<li>Confirm the removal (back to (d)):</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module info postgresql:15</span></span></code></pre></div>
<h3 id="switching-module-streams">Switching Module Streams</h3>
<ul>
<li>Typically performed to upgrade or downgrade the version of an installed module.</li>
</ul>
<p>process:</p>
<ul>
<li>
<p>uninstall the existing version provided by a stream alongside any dependencies that it has,</p>
</li>
<li>
<p>switch to the other stream</p>
</li>
<li>
<p>install the desired version.</p>
</li>
<li>
<p>Installing a module from a stream automatically enables the stream if it was previously disabled</p>
</li>
<li>
<p>you can manually enable or disable it with the <em>dnf</em> command.</p>
</li>
<li>
<p>Only one stream of a given module enabled at a time.</p>
</li>
<li>
<p>Attempting to enable another one for the same module automatically
disables the current enabled stream.</p>
</li>
<li>
<p>dnf module list and dnf module info expose the enable/disable status of the module stream.</p>
</li>
</ul>
<h3 id="lab-install-a-module-from-an-alternative-stream">Lab: Install a Module from an Alternative Stream</h3>
<ul>
<li>Downgrade a module to a lower version.</li>
<li>Remove the stream <code>ruby</code> 3.3 and</li>
<li>Confirm its removal.</li>
<li>manually enable the stream <em>perl</em> 5.24 and confirm its new status.</li>
<li>install the new version of the module and display its information.</li>
</ul>
<ol>
<li>Check the current state of all <em>perl</em> streams:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module list perl</span></span></code></pre></div>
<ol start="2">
<li>Remove perl 5.26:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf module remove perl -y</span></span></code></pre></div>
<ol>
<li>Confirm the removal:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module list ruby</span></span></code></pre></div>
<ol start="2">
<li>Reset the module so that neither stream is enabled or disabled. This will remove the enabled (e) indication from ruby 3.3</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf module reset ruby</span></span></code></pre></div>
<ol start="3">
<li>Install the non-default profile &ldquo;minimal&rdquo; for ruby stream 3.1. This will auto-enable the stream.</li>
</ol>
<p>&ndash;allowerasing</p>
<ul>
<li>Will instruct the command to remove installed packages for dependency resolution.</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf module install ruby:3.1 --allowerasing</span></span></code></pre></div>
<ol start="4">
<li>Check the status of the module:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module list perl</span></span></code></pre></div>
<h2 id="the-dnf-command">The dnf Command</h2>
<ul>
<li>Introduced in RHEL 8</li>
<li>Can use interchangeably with yum in RHEL
<ul>
<li><code>yum</code> is a soft link to the <em>dnf</em> utility.</li>
</ul>
</li>
<li>Requires the system to have access to either:
<ul>
<li>a local or remote software repository</li>
<li>a local installable package file.</li>
</ul>
</li>
</ul>
<p>Subscription Management* (RHSM) service</p>
<ul>
<li>
<p>Available in the Red Hat Customer Portal</p>
</li>
<li>
<p>Offers access to official Red Hat software repositories.</p>
</li>
<li>
<p>Other web-based repositories that host packages are available</p>
</li>
<li>
<p>You can also set up a local, custom repository on your system and add packages of your choice to it.</p>
</li>
</ul>
<p>Primary benefit of using <code>dnf</code> over <code>rpm</code>:</p>
<ul>
<li>
<p>Resolve dependencies automatically</p>
<ul>
<li>By identifying and installing any additional required packages</li>
</ul>
</li>
<li>
<p>With multiple repositories set up, <code>dnf</code> extracts the software from wherever it finds it.</p>
</li>
<li>
<p>Perform abundant software administration tasks.</p>
</li>
<li>
<p>Invokes the <code>rpm</code> utility in the background</p>
</li>
<li>
<p>Can perform a number of operations on individual packages, package groups, and modules:</p>
<ul>
<li>listing</li>
<li>querying</li>
<li>installing</li>
<li>removing</li>
<li>enabling and disabling specific module streams.</li>
</ul>
</li>
</ul>
<p>Software handling tasks that dnf can perform on packages:</p>
<ul>
<li>Clean and repolist are specific to repositories.</li>
<li>Refer to the manual pages of <em>dnf</em> for additional subcommands, operators, options, examples, and other details.</li>
</ul>
<table>
  <thead>
      <tr>
          <th><strong>Subcommand</strong></th>
          <th><strong>Description</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>check-update</td>
          <td>Checks if updates are available for installed packages</td>
      </tr>
      <tr>
          <td>clean</td>
          <td>Removes cached data</td>
      </tr>
      <tr>
          <td>history</td>
          <td>Display previous dnf activities as recorded in /var/lib/dnf/history/</td>
      </tr>
      <tr>
          <td>info</td>
          <td>Show details for a package</td>
      </tr>
      <tr>
          <td>install</td>
          <td>Install or update a package</td>
      </tr>
      <tr>
          <td>list</td>
          <td>List installed and available packages</td>
      </tr>
      <tr>
          <td>provides</td>
          <td>Search for packages that contain the specified file or feature</td>
      </tr>
      <tr>
          <td>reinstall</td>
          <td>Reinstall the exact version of an installed package</td>
      </tr>
      <tr>
          <td>remove</td>
          <td>Remove a package and its dependencies</td>
      </tr>
      <tr>
          <td>repolist</td>
          <td>List enabled repositories</td>
      </tr>
      <tr>
          <td>repoquery</td>
          <td>Runs queries on available packages</td>
      </tr>
      <tr>
          <td>search</td>
          <td>Searches package metadata for the specified string</td>
      </tr>
      <tr>
          <td>upgrade</td>
          <td>Updates each installed package to the latest version</td>
      </tr>
  </tbody>
</table>
<p>dnf subcommands that are intended for operations on package
groups and modules:</p>
<table>
  <thead>
      <tr>
          <th><strong>Subcommand</strong></th>
          <th><strong>Description</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>group install</td>
          <td>Install or updates a package group</td>
      </tr>
      <tr>
          <td>group info</td>
          <td>Return details for a package group</td>
      </tr>
      <tr>
          <td>group list</td>
          <td>List available package groups</td>
      </tr>
      <tr>
          <td>group remove</td>
          <td>Remove a package group</td>
      </tr>
      <tr>
          <td>module disable</td>
          <td>Disable a module along with all the streams it contains</td>
      </tr>
      <tr>
          <td>module enable</td>
          <td>Enable a module along with all the streams it contains</td>
      </tr>
      <tr>
          <td>module install</td>
          <td>Install a module profile including its packages</td>
      </tr>
      <tr>
          <td>module info</td>
          <td>Show details for a module</td>
      </tr>
      <tr>
          <td>module list</td>
          <td>Lists all available module streams along with their profiles and status</td>
      </tr>
      <tr>
          <td>module remove</td>
          <td>Removes a module profile including its packages</td>
      </tr>
      <tr>
          <td>module reset</td>
          <td>Resets a module so that it is neither in enable nor in disable state</td>
      </tr>
      <tr>
          <td>module update</td>
          <td>Updates packages in a module profile</td>
      </tr>
  </tbody>
</table>
<p>For labs, you&rsquo;ll need to create a definition file and configure access to the two repositories available on the RHEL 8 ISO
image.</p>
<h3 id="lab-configure-access-to-pre-built-repositories">Lab: Configure Access to Pre-Built Repositories</h3>
<p>Set up access to the two dnf repositories that are available on RHEL 9 image. (You should have already configured an automatic mounting of RHEL 9 image on <em>/mnt</em>.) Create a definition file for the repositories and confirm.</p>
<ol>
<li>Verify that the image is currently mounted:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> df -h | grep mnt</span></span></code></pre></div>
<ol start="2">
<li>Create a definition file called local.repo in /etc/yum.repos.d/ using the <em>vim</em> editor and define the following data for both repositories in it:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>BaseOS<span style="color:#ff6ac1">]</span> 
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">name</span><span style="color:#ff6ac1">=</span>BaseOS 
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">baseurl</span><span style="color:#ff6ac1">=</span>file:///mnt/BaseOS 
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">gpgcheck</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">0</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>AppStream<span style="color:#ff6ac1">]</span> 
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">name</span><span style="color:#ff6ac1">=</span>AppStream 
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">baseurl</span><span style="color:#ff6ac1">=</span>file:///mnt/AppStream 
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">gpgcheck</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">0</span></span></span></code></pre></div>
<ol start="3">
<li>Confirm access to the repositories:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> sudo dnf repolist </span></span></code></pre></div>
<ul>
<li>Ignore lines 1-4 in the output that are related to subscription and
system registration.</li>
<li>Lines 5 and 6 show the rate at which the command read the repo data.</li>
<li>Line 7 displays the timestamp of the last metadata check.</li>
<li>last two lines show the repo IDs, repo names, and a count of packages they hold.</li>
<li>AppStream repo consists of 4,672 packages</li>
<li>BaseOS repo contains 1,658 packages.</li>
<li>Both repos are enabled by default and are ready for use.</li>
</ul>
<h3 id="dnf-yum-repository">dnf yum Repository</h3>
<p><strong>dnf repository</strong> (<em>yum repository</em> or a <em>repo</em>)</p>
<ul>
<li>
<p>Digital library for storing software packages</p>
</li>
<li>
<p>Repository is accessed for package retrieval, query, update, and installation</p>
</li>
<li>
<p>The two repositories</p>
<ul>
<li>BaseOS and AppStream
<ul>
<li>come preconfigured with the RHEL 9 ISO image.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Number of other repositories available on the Internet that are maintained by software publishers such as Red Hat and CentOS.</p>
</li>
<li>
<p>Can build private custom repositories for internal IT use for stocking and delivering software.</p>
<ul>
<li>Good practice for an organization with a large Linux server base, as it manages dependencies automatically and aids in maintaining software consistency across the board.</li>
</ul>
</li>
<li>
<p>Can also be used to store in-house developed packages.</p>
</li>
<li>
<p>It is important to obtain software packages from authentic and reliable sources such as Red Hat to prevent potential damage to your system and to circumvent possible software corruption.</p>
</li>
<li>
<p>There is a process to create repositories and to access preconfigured repositories.</p>
</li>
<li>
<p>There are two pre-set repositories available on the RHEL 9 image. You will configure access to them via a definition file to support the exercises and lab environment.</p>
</li>
</ul>
<h3 id="repository-definition-file">Repository Definition File</h3>
<ul>
<li>Repo definition files are located in /etc/yum.repos.d/</li>
<li>Can create local.repo file in this directory to specify local repos</li>
<li>See dnf.conf man page</li>
</ul>
<p>Sample repo definition file and key directives:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>BaseOS_RHEL_9<span style="color:#ff6ac1">]</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">name</span><span style="color:#ff6ac1">=</span> RHEL <span style="color:#ff9f43">9</span> base operating system components
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">baseurl</span><span style="color:#ff6ac1">=</span>file://*mnt*BaseOS
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">enabled</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">gpgcheck</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">0</span></span></span></code></pre></div>
<p><strong>EXAM TIP:</strong></p>
<ul>
<li>Knowing how to configure a dnf/yum repository using a URL plays an important role in completing some of the RHCSA exam tasks successfully.</li>
<li>Use two forward slash characters (//) with the baseurl directive for an FTP, HTTP, or HTTPS source.</li>
</ul>
<p>Five lines from a sample repo file:
Line 1 defines an exclusive ID within the square brackets.
Line 2 is a brief description of the repo with the &ldquo;name&rdquo; directive.
Line 3 is the location of the repodata directory with the &ldquo;baseurl&rdquo; directive.
Line 4 shows whether this repository is active.
Line 5 shows if packages are to be GPGchecked for authenticity.</p>
<ul>
<li>
<p>Each repository definition file must have:</p>
<ul>
<li>Unique ID</li>
<li>Description</li>
<li>Baseurl directive defined</li>
<li>Other directives are set as required.</li>
</ul>
</li>
<li>
<p>The baseurl directive for a local directory path is defined as file:///local_path</p>
<ul>
<li>The first two forward slash characters represent the URL convention, and the third forward slash is for the absolute path to the destination directory)</li>
<li>FTP and
<ul>
<li>\ftp://hostname/network_path</li>
</ul>
</li>
<li>HTTP(S)
<ul>
<li>http(s)://hostname/network_path</li>
</ul>
</li>
<li>network path must include a resolvable hostname or an IP address.</li>
</ul>
</li>
</ul>
<h3 id="software-management-with-dnf">Software Management with dnf</h3>
<ul>
<li>Tools are available to work with individual packages as well as package groups and modules.</li>
<li><code>rpm</code> command is limited to managing one package at a time.</li>
<li><code>dnf</code> has an associated configuration file that can define settings to control its behavior.</li>
</ul>
<h4 id="dnf-configuration-file">dnf Configuration File</h4>
<ul>
<li>Key configuration file: /etc/dnf/dnf.conf</li>
<li>&ldquo;main&rdquo; section
- Sets directives that have a global effect on dnf operations.</li>
<li>Can define separate sections for each custom repository that you plan to set up on the system.</li>
<li>Preferred location to store configuration for each custom repository in their own definition files is in /etc/yum.repos.d
<ul>
<li>default location created for this purpose.</li>
</ul>
</li>
</ul>
<p>Default content of this configuration file:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> cat /etc/dnf/dnf.conf</span></span></code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>main<span style="color:#ff6ac1">]</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">gpgcheck</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">installonly_limit</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">3</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">clean_requirements_on_remove</span><span style="color:#ff6ac1">=</span>True
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">best</span><span style="color:#ff6ac1">=</span>True
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">skip_if_unavailable</span><span style="color:#ff6ac1">=</span>False</span></span></code></pre></div>
<p>The above and a few other directives that you may define in the file:</p>
<table>
  <thead>
      <tr>
          <th>Directive</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>best</td>
          <td>Whether to install (or upgrade to) the latest available version.</td>
      </tr>
      <tr>
          <td>clean_requirements_on_remove</td>
          <td>Whether to remove dependencies during a package removal process that are no longer in use.</td>
      </tr>
      <tr>
          <td>debuglevel</td>
          <td>Sets debug from 1 (minimum) and 10 (maximum). Default is 2. A value of 0 disables this feature.</td>
      </tr>
      <tr>
          <td>gpgcheck</td>
          <td>Whether to check the GPG signature for package authenticity. Default is 1 (enabled).</td>
      </tr>
      <tr>
          <td>installonly_limit</td>
          <td>Count of packages that can be installed concurrently. Default is 3.</td>
      </tr>
      <tr>
          <td>keepcache</td>
          <td>Defines whether to store the package and header cache following a successful installation. Default is 0 (disabled).</td>
      </tr>
      <tr>
          <td>logdir</td>
          <td>Sets the directory location to store the log files. Default is /var/log/</td>
      </tr>
      <tr>
          <td>obsoletes</td>
          <td>Checks and removes any obsolete dependent packages during installs and updates. Default is 1 (enabled).</td>
      </tr>
  </tbody>
</table>
<hr>
<p>For other directives: <code>man 5 dnf.conf</code></p>
<h2 id="advanced-package-management-diy-labs">Advanced Package Management DIY Labs</h2>
<ol>
<li>Configure Access to RHEL 8 Repositories (Make sure the RHEL 8 ISO image is attached to the VM and mounted.)  Create a definition file under <em>/etc/yum.repos.d/</em>, and define two blocks (one for BaseOS and another for AppStream).</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  vim /etc/yum.repos.d/local.repo</span></span></code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>BaseOS<span style="color:#ff6ac1">]</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">name</span><span style="color:#ff6ac1">=</span>BaseOS 
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">baseurl</span><span style="color:#ff6ac1">=</span>file:///mnt/BaseOS 
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">gpgcheck</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">0</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>AppStrean<span style="color:#ff6ac1">]</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">name</span><span style="color:#ff6ac1">=</span>AppStream 
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">baseurl</span><span style="color:#ff6ac1">=</span>file:///mnt/AppStream 
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">gpgcheck</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">0</span></span></span></code></pre></div>
<ol start="4">
<li>Verify the configuration with dnf repolist. You should see numbers in thousands under the Status column for both repositories.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf repolist -v</span></span></code></pre></div>
<h3 id="lab--install-and-manage-individual-packages">Lab:  Install and Manage Individual Packages</h3>
<ol>
<li>List all installed and available packages separately.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf list --available <span style="color:#ff6ac1">&amp;&amp;</span> dnf list --installed</span></span></code></pre></div>
<ol start="2">
<li>Show which package contains the /etc/group file.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf provides /etc/group</span></span></code></pre></div>
<ol start="3">
<li>Install the package <em>httpd</em>.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf -y install httpd</span></span></code></pre></div>
<ol start="4">
<li>Review /var/log/yum.log/ for confirmation. (/var/lib/dnf/history)</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  dnf history</span></span></code></pre></div>
<ol start="5">
<li>Perform the following on the httpd package:</li>
<li>Show information</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf info httpd</span></span></code></pre></div>
<ol start="2">
<li>List dependencies</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf repoquery --requires httpd</span></span></code></pre></div>
<ol start="3">
<li>Remove it</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf remove httpd</span></span></code></pre></div>
<h3 id="lab-install-and-manage-package-groups">Lab Install and Manage Package Groups</h3>
<ol>
<li>List all installed and available package groups separately.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf group list available <span style="color:#ff6ac1">&amp;&amp;</span> dnf group list installed</span></span></code></pre></div>
<ol>
<li>Install package groups <em>Security Tools</em> and <em>Scientific Support.</em></li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf group install <span style="color:#5af78e">&#39;Security Tools&#39;</span></span></span></code></pre></div>
<ol start="2">
<li>Review /var/log/yum.log for confirmation.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf history</span></span></code></pre></div>
<ol start="3">
<li>Show the packages included in the Scientific Support package group, and delete this group.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf group info <span style="color:#5af78e">&#39;Scientific Support&#39;</span> <span style="color:#ff6ac1">&amp;&amp;</span> dnf group  remove <span style="color:#5af78e">&#39;Scientific Support&#39;</span></span></span></code></pre></div>
<h3 id="lab-install-and-manage-modules">Lab: Install and Manage Modules</h3>
<ol start="4">
<li>List all modules. Identify which modules, streams and profiles are installed, default, disabled, and enabled from the output.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module list</span></span></code></pre></div>
<ol start="5">
<li>Install the default stream of the development profile for module <em>php</em>, and verify.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module install php <span style="color:#ff6ac1">&amp;&amp;</span> dnf module list</span></span></code></pre></div>
<ol start="6">
<li>Remove the module.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module remove php</span></span></code></pre></div>
<h3 id="lab-switch-module-streams-and-install-software">Lab Switch Module Streams and Install Software</h3>
<ol start="7">
<li>List <em>postgresql</em> module. This will display the streams and profiles, and their status.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module list postgresql</span></span></code></pre></div>
<ol start="8">
<li>Reset both streams</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module reset postgresql</span></span></code></pre></div>
<ol start="9">
<li>enable the stream for the older version, and install its client profile.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> dnf module install postgresql:15</span></span></code></pre></div>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
  </header>

<h1 id="basic-package-management">Basic Package Management</h1>

<h2 id="rpm-redhat-package-manager">RPM (Redhat Package Manager)</h2>
<ul>
<li>Specially formatted File(s) packaged together with the .rpm extension.</li>
<li>Packages included or available for RHEL are in rpm format.</li>
<li>Metadata info gets updated whenever a package is updated.</li>
</ul>
<h3 id="rpm-command">rpm command</h3>
<ul>
<li>Install, Upgrade, remove, query, freshen, or decompress packages.</li>
<li>Validate package authenticity and integrity.</li>
</ul>
<h3 id="packages">Packages</h3>
<ul>
<li>Two types of packages binary (or installable) and source.</li>
</ul>
<p><strong>Binary packages</strong></p>
<ul>
<li>Installation ready</li>
<li>Bundled for distribution.</li>
<li>Have .rpm extension.</li>
<li>Contain:
<ul>
<li>install scripts (pre and post)</li>
<li>Executables</li>
<li>Configuration files</li>
<li>Library files</li>
<li>Dependency information</li>
<li>Where to install files</li>
<li>Documentation
<ul>
<li>How to install/uninstall</li>
<li>Man pages for config files/commands</li>
<li>Other install and usage info</li>
</ul>
</li>
<li>Metadata
<ul>
<li>Stored in central location</li>
<li>Includes:
<ul>
<li>Package version</li>
<li>Install location</li>
<li>Checksum values</li>
<li>List of included files and their attributes</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Package intelligence
<ul>
<li>Used by package administration toolset for successful completion of the package installation process.</li>
<li>May include info on:
<ul>
<li>prerequisites</li>
<li>User account setup</li>
<li>Needed directories/ soft links</li>
</ul>
</li>
<li>Includes reverse process for uninstall</li>
</ul>
</li>
</ul>
<h3 id="package-naming">Package Naming</h3>
<p>5 parts to a package name:
1. Name
2. Version
3. release (revision or build)
4. Linux version 
5. Processor Architecture
- noarch
- platform independant
- src
- Source code packages</p>
<ul>
<li>Always has .rpm extension</li>
<li>.rpm is removed after install
Example:
openssl-1.1.1-8.el8.x86_64.rpm,</li>
</ul>
<h3 id="package-dependency">Package Dependency</h3>
<ul>
<li>Dependency info is in the metadata
<ul>
<li>Read by package handling utilities</li>
</ul>
</li>
</ul>
<h3 id="package-database">Package Database</h3>
<ul>
<li>Metadata for installed packages and package files is stored in /var/lib/rpm/
<ul>
<li>Package database</li>
<li>Referenced by package manipulation utilities to obtain:
<ul>
<li>package name and version data</li>
<li>Info about owerships, permissions, timestamps, and file sizes that are part of the package.</li>
<li>Contain info on dependencies.</li>
<li>Aids management commands in:
<ul>
<li>listing and querying packages</li>
<li>Verifying dependencies and file attributes.</li>
<li>Installing new packages.</li>
<li>Upgrading and uninstalling packages.</li>
</ul>
</li>
<li>Removes and replaces metadata when a package is replaced.</li>
<li>Can maintain multiple version of a single package.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="package-management-tools">Package Management Tools</h3>
<ul>
<li>rpm (redhat package manager)
<ul>
<li>Does not automatically resolve dependencies.</li>
</ul>
</li>
<li>yum (yellowdog update, modified)
<ul>
<li>Find, get, and install dependencies automatically.</li>
<li>softlink to dnf now.</li>
</ul>
</li>
<li>dnf (dandified yum)</li>
</ul>
<h3 id="package-management-with-rpm">Package management with rpm</h3>
<p>rpm package management tasks:
- query
- install
- upgrade
- freshen
- overwrite
- remove
- extract
- validate
- verify</p>
<ul>
<li>Works with installed and installable packages.</li>
</ul>
<h3 id="rpm-command-1">rpm command</h3>
<h6 id="query-options">Query options</h6>
<p>Query and display packages<br>
<code>-q (--query)</code> <br>
<br>
List all installed packages<br>
<code>-qa (--query --all)</code><br>
<br>
List config files in a package<br>
<code>-qc (--query --config-files)</code><br>
<br>
List documentation files in a package<br>
<code>-qd (--query --docfiles)</code> <br>
<br>
Exhibit what package a file comes from<br>
<code>-qf (--query --file)</code> <br>
<br>
Show installed package info (Version, Size, Installation status, Date, Signature, Description, etc.)
<code>-qi (--query --info)</code></p>
<p>Show installable package info (Version, Size, Installation status, Date, Signature, Description, etc.)
<code>-qip (--query --info --package)</code></p>
<p>List all files in a package.<br>
<code>-ql (--query --list)</code></p>
<p>List files and packages a package depends on. <br>
<code>-qR (--query --requires)</code></p>
<p>List packages that provide the specified package or file.<br>
<code>-q --whatprovides</code></p>
<p>List packages that require the specified package or file.<br>
<code>-q --whatrequires</code></p>
<h6 id="package-installation-options">Package installation options</h6>
<p>Remove a package<br>
<code>-e (--erase)</code></p>
<p>Upgrades installed package. Or loads if not installed.<br>
<code>-U (--upgrade)</code></p>
<p>Display detailed information<br>
<code>-v (--verbose or -vv)</code></p>
<p>Verify integrity of a package or package files<br>
<code>-V (--verify)</code></p>
<h3 id="querying-packages">Querying packages</h3>
<p>Query packages in the package database or at a specified location.</p>
<h3 id="installing-a-package">Installing a package</h3>
<ul>
<li>Creates directory structure needed</li>
<li>Installs files</li>
<li>Runs needed post installation steps</li>
<li>Installing package will fail if missing dependencies.</li>
<li>Error message will show missing dependencies.</li>
</ul>
<h3 id="upgrading-a-package">Upgrading a package</h3>
<ul>
<li>Installs the package if previous version does not exist. (-U)</li>
<li>Makes backup of effected configuration files and adds .rpmsave extension.</li>
</ul>
<h3 id="freshening-a-package">Freshening a package</h3>
<ul>
<li>Older version must exist.</li>
<li>-F option</li>
<li>Will only work if a newer version of a package is available.</li>
</ul>
<h3 id="overwriting-a-package">Overwriting a Package</h3>
<ul>
<li>Replaces existing files of a package with the same version.</li>
<li>&ndash;replacepkgs option.</li>
<li>Useful when you suspect corruption.</li>
</ul>
<h3 id="removing-a-package">Removing a Package</h3>
<ul>
<li>Uninstalls package and associated files/ directories</li>
<li>-e Option</li>
<li>Checks to see if this package is a dependency for another program and fails if it is.</li>
</ul>
<h3 id="extracting-files-from-an-installable-package">Extracting Files from an Installable Package</h3>
<ul>
<li><code>rpm2cpio</code> command</li>
<li>-i (extract)</li>
<li>-d create directory structure.
Useful for:
<ul>
<li>Examining package contents.</li>
<li>Replacing corrupt or lost command.</li>
<li>Replace critical configuration file to it&rsquo;s original state</li>
</ul>
</li>
</ul>
<h2 id="package-integrity-and-credibility">Package Integrity and Credibility</h2>
<ul>
<li>MD5 Checksum for verifying package integrity</li>
<li>GNU Privacy Guard Public Key (GNU Privacy Guard or GPG) for ensuring credibility of publisher.</li>
<li>PGP (Pretty Good Privacy) - commercial version of GPG.</li>
<li><code>--nosignature</code>
<ul>
<li>Don&rsquo;t verify package or header signatures when reading.</li>
</ul>
</li>
<li><code>-K</code>
<ul>
<li>keep package files after installation
<code>rpmkeys</code> command</li>
<li>check credibility, import GPG key, and verify packages</li>
</ul>
</li>
<li>Redhat signs their products and updates with a GPG key.
<ul>
<li>Files in installation media include public keys in the products for verification.</li>
<li>Copied to /etc/pki/rpm-gpg during OS installation.
<strong>RPM-GPG-KEY-redhat-release</strong>
<ul>
<li>Used for packages shipped after November 2009 and their updates.
<strong>RPM-GPG-KEY-redhat-beta</strong></li>
<li>For Beta products shipped after November 2009.</li>
</ul>
</li>
</ul>
</li>
<li>Import the relevant GPG key and the verify the package to check the credibility of a package.</li>
</ul>
<h3 id="viewing-gpg-keys">Viewing GPG Keys</h3>
<ul>
<li>view with rpm command <code>rpm -q gpg-pubkey</code></li>
<li><code>-i</code> option
<ul>
<li>show info about a key.</li>
</ul>
</li>
</ul>
<h3 id="verifying-package-attributes">Verifying Package Attributes</h3>
<ul>
<li>Compare package file attributes with originals stored in package database at the time of installation.</li>
<li><code>-V</code> option
<ul>
<li>compare owner, group, permission mode, size, modification time, digest, type, etc.</li>
<li>Returns to prompt if no changes are detected</li>
<li>-v or vv for verbose</li>
</ul>
</li>
<li><code>-Vf</code>
<ul>
<li>run the check directly on the file</li>
</ul>
</li>
<li>Three columns of output:
<ul>
<li>Column 1
<ul>
<li>9 fields
<ul>
<li>S = Different file size.</li>
<li>M = Mode or permission or file type change.</li>
<li>5 = MD5 Checksum does not match.</li>
<li>D = Device file and its major and minor number have changed.</li>
<li>L = File is a symlink and it&rsquo;s path has been altered.</li>
<li>U = Ownership has changed.</li>
<li>G = Group membership has been modified.</li>
<li>T = Timestamp changed.</li>
<li>P = Capabilities are altered.</li>
<li>. = No modifications detected.</li>
</ul>
</li>
<li></li>
</ul>
</li>
<li>Column 2
<ul>
<li>File type
<ul>
<li>c = Configuration file</li>
<li>d = Documentation File</li>
<li>g = Ghost FIle</li>
<li>l = License file</li>
<li>r = Readme file</li>
</ul>
</li>
</ul>
</li>
<li>Column 3
<ul>
<li>Full path of file</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="basic-package-management-labs">Basic Package Management Labs</h2>
<h3 id="lab-mount-rhel-9-iso-persistently">Lab: Mount RHEL 9 ISO Persistently</h3>
<ol>
<li>
<p>Go to the VirtualBox VM Manager and make sure that the RHEL 8 image is attached to RHEL9-VM1 as depicted below:
<a href="#R-image-6d87a423ca01b4cda649f63293ddd967" class="lightbox-link"><img class="lazy lightbox figure-image" loading="lazy" src="/images/Pasted%20image%2020240713164339.png" style="height: auto;width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6d87a423ca01b4cda649f63293ddd967"><img class="lazy lightbox lightbox-image" loading="lazy" src="/images/Pasted%20image%2020240713164339.png"></a></p>
</li>
<li>
<p>Open the /etc/fstab file in the vim editor (or another editor of your choice) and add the following line entry at the end of the file to mount the DVD image (/dev/sr0) in read-only (ro) mode on the /mnt directory.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>/dev/sr0 /mnt iso9660 ro 0 0</code></pre></div>
</li>
</ol>
<p>Note: sr0 represents the first instance of the optical device and iso9660 is the standard format for optical file systems.</p>
<ol start="3">
<li>
<p>Mount the file system as per the configuration defined in the /etc/fstab file using the mount command with the -a (all) option:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>sudo mount -a</code></pre></div>
</li>
<li>
<p>Verify the mount using the df command:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>df -h | grep mnt</code></pre></div>
</li>
</ol>
<p>Note: The image and the packages therein can now be accessed via the /mnt directory just like any other local directory on the system.</p>
<ol start="5">
<li>
<p>List the two directoriesâ€”/mnt/BaseOS/Packages and /mnt/AppStream/Packagesâ€”that contain all the software packages (directory names are case sensitive):</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>ls -l /mnt/BaseOS/Packages | more</code></pre></div>
</li>
</ol>
<h3 id="lab-query-packages-rpm">Lab: Query Packages (RPM)</h3>
<ol>
<li>
<p>query all installed packages:
<code>rpm -qa</code></p>
</li>
<li>
<p>query whether the perl package is installed:
<code>rpm -q perl</code></p>
</li>
<li>
<p>list all files in a package:
<code>rpm -ql iproute</code></p>
</li>
<li>
<p>list only the documentation files in a package:
<code>rpm -qd audit</code></p>
</li>
<li>
<p>list only the configuration files in a package:
<code>rpm -qc cups</code></p>
</li>
<li>
<p>identify which package owns the specified file:
<code>rpm -qf /etc/passwd</code></p>
</li>
<li>
<p>display information about an installed package including version, release, installation status, installation date, size, signatures, description, and so on:
<code>rpm -qi setup</code></p>
</li>
<li>
<p>list all file and package dependencies for a given package:
<code>rpm -qR chrony</code></p>
</li>
<li>
<p>query an installable package for metadata information (version, release, architecture, description, size, signatures, etc.):
<code>rpm -qip /mnt/BaseOS/Packages/zsh-5.5.1-6.el8.x86_64.rpm</code></p>
</li>
<li>
<p>determine what packages require the specified package in order to operate properly:
<code>rpm -q --whatrequires lvm2</code></p>
</li>
</ol>
<h3 id="lab-installing-a-package-rpm">Lab: Installing a Package (RPM)</h3>
<ol>
<li>Install zsh-5.5.1-6.el8.x86_64.rpm
<code>sudo rpm -ivh /mnt/BaseOS/Packages/zsh-5.5.1-6.el8.x86_64.rpm</code></li>
</ol>
<h3 id="lab-upgrading-a-package-rpm">Lab: Upgrading a Package (RPM)</h3>
<ol>
<li>Upgrade sushi with the -U option:
<code>sudo rpm -Uvh /mnt/AppStream/Packages/sushi-3.28.3-1.el8.x86_64.rpm</code></li>
</ol>
<h3 id="lab-freshening-a-package">Lab: Freshening a Package</h3>
<ol>
<li>Freshen the sushi package:
<code>sudo rpm -Fvh /mnt/AppStream/Packages/sushi-3.28.3-1.el8.x86_64.rpm</code></li>
</ol>
<h3 id="lab-overwriting-a-package">Lab: Overwriting a Package</h3>
<ol>
<li>Overwrite zsh-5.5.1-6.el8.x86_64
<code>sudo rpm -ivh --replacepkgs /mnt/BaseOS/Packages/zsh-5.5.1-6.el8.x86_64</code></li>
</ol>
<h3 id="lab-removing-a-package">Lab: Removing a Package</h3>
<ol>
<li>Remove sushi
<code>sudo rpm sushi -ve</code></li>
</ol>
<h3 id="lab-extracting-files-from-an-installable-package">Lab: Extracting Files from an Installable Package</h3>
<ol>
<li>
<p>You have lost /etc/crony.conf. Determine what package this file comes from:
<code>rpm -qf /etc/chrony.conf</code></p>
</li>
<li>
<p>Extract all files from the crony package to /tmp and create the directory structure:</p>
</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 mnt<span style="color:#ff6ac1">]</span><span style="color:#78787e"># cd /tmp</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>sudo rpm2cpio /mnt/BaseOS/Packages/chrony-3.3-3.el8.x86_64.rpm | cpio -imd
</span></span><span style="display:flex;"><span><span style="color:#ff9f43">1066</span> blocks<span style="color:#ff6ac1">](</span>&lt;<span style="color:#ff6ac1">[</span>root@server30 tmp<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm2cpio /mnt/BaseOS/Packages/chrony-4.3-1.el9.x86_64.rpm | cpio -imd</span>
</span></span><span style="display:flex;"><span><span style="color:#ff9f43">1253</span> blocks&gt;<span style="color:#ff6ac1">)</span></span></span></code></pre></div>
<ol start="3">
<li>
<p>Use find to locate the crony.conf file:
<code>sudo find . -name chrony.conf</code></p>
</li>
<li>
<p>Copy the file to /etc:</p>
</li>
</ol>
<h3 id="lab-validating-package-integrity-and-credibility">Lab: Validating Package Integrity and Credibility</h3>
<ol>
<li>Check the integrity of zsh-5.5.1-6.el8.x86_64.rpm located in /mnt/BaseOS/Packages:
<code>rpm -K /mnt/BaseOS/Packages/zsh-5.5.1-6.el8.x86_64.rpm --nosignature</code></li>
<li>Import the GPG key from the proper file and verify the signature for the zsh-5.5.1-6.el8.x86_64.rpm package.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>sudo rpmkeys --import /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release
sudo rpmkeys -K /mnt/BaseOS/Packages/zsh-5.5.1-6.el8.x86_64.rpm</code></pre></div>
<h3 id="lab-viewing-gpg-keys">Lab: Viewing GPG Keys</h3>
<ol>
<li>List the imported key:
<code>rpm -q gpg-pubkey</code></li>
<li>View details for the first key:
<code>rpm -qi gpg-pubkey-fd431d51-4ae0493b</code></li>
</ol>
<h3 id="lab-verifying-package-attributes">Lab: Verifying Package Attributes</h3>
<ol>
<li>
<p>Run a check on the at program:
<code>sudo rpm -V at</code></p>
</li>
<li>
<p>Change permissions of one of the files and run the check again:</p>
</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ls -l /etc/sysconfig/atd
</span></span><span style="display:flex;"><span>sudo chmod -v <span style="color:#ff9f43">770</span> /etc/sysconfig/atd
</span></span><span style="display:flex;"><span>sudo rpm -V at</span></span></code></pre></div>
<ol start="3">
<li>
<p>Run the check directly on the file:
<code>sudo rpm -Vf /etc/sysconfig/atd</code></p>
</li>
<li>
<p>Reset the value and check the file again:</p>
</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo chmod -v <span style="color:#ff9f43">644</span> /etc/sysconfig/atd
</span></span><span style="display:flex;"><span>sudo rpm -V at</span></span></code></pre></div>
<h3 id="lab-perform-package-management-using-rpm">Lab: Perform Package Management Using rpm</h3>
<ol>
<li>Run the <code>ls</code> command on the /mnt/AppStream/Packages directory to confirm that the rmt package is available:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 tmp<span style="color:#ff6ac1">]</span><span style="color:#78787e"># ls -l /mnt/BaseOS/Packages/rmt*</span>
</span></span><span style="display:flex;"><span>-r--r--r--. <span style="color:#ff9f43">1</span> root root <span style="color:#ff9f43">49582</span> Nov <span style="color:#ff9f43">20</span>  <span style="color:#ff9f43">2021</span> /mnt/BaseOS/Packages/rmt-1.6-6.el9.x86_64.rpm</span></span></code></pre></div>
<ol start="2">
<li>Run the rpm command and verify the integrity and credibility of the package:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 tmp<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpmkeys -K /mnt/BaseOS/Packages/rmt-1.6-6.el9.x86_64.rpm</span>
</span></span><span style="display:flex;"><span>/mnt/BaseOS/Packages/rmt-1.6-6.el9.x86_64.rpm: digests signatures OK</span></span></code></pre></div>
<ol start="3">
<li>Install the Package:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 tmp<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpmkeys -K /mnt/BaseOS/Packages/rmt-1.6-6.el9.x86_64.rpm</span>
</span></span><span style="display:flex;"><span>/mnt/BaseOS/Packages/rmt-1.6-6.el9.x86_64.rpm: digests signatures OK
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 tmp<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm -ivh /mnt/BaseOS/Packages/rmt-1.6-6.el9.x86_64.rpm</span>
</span></span><span style="display:flex;"><span>Verifying...                         <span style="color:#78787e">################################# [100%])</span>
</span></span><span style="display:flex;"><span>Preparing...                         <span style="color:#78787e">################################# [100%])</span>
</span></span><span style="display:flex;"><span>Updating / installing...
</span></span><span style="display:flex;"><span>   1:rmt-2:1.6-6.el9                 <span style="color:#78787e">################################# [100%])</span></span></span></code></pre></div>
<ol start="4">
<li>Show basic information about the package:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 tmp<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm -qi rmt</span>
</span></span><span style="display:flex;"><span>Name        : rmt
</span></span><span style="display:flex;"><span>Epoch       : <span style="color:#ff9f43">2</span>
</span></span><span style="display:flex;"><span>Version     : 1.6
</span></span><span style="display:flex;"><span>Release     : 6.el9
</span></span><span style="display:flex;"><span>Architecture: x86_64
</span></span><span style="display:flex;"><span>Install Date: Sat <span style="color:#ff9f43">13</span> Jul <span style="color:#ff9f43">2024</span> 09:02:08 PM MST
</span></span><span style="display:flex;"><span>Group       : Unspecified
</span></span><span style="display:flex;"><span>Size        : <span style="color:#ff9f43">88810</span>
</span></span><span style="display:flex;"><span>License     : CDDL
</span></span><span style="display:flex;"><span>Signature   : RSA/SHA256, Sat <span style="color:#ff9f43">20</span> Nov <span style="color:#ff9f43">2021</span> 08:46:44 AM MST, Key ID 199e2f91fd431d51
</span></span><span style="display:flex;"><span>Source RPM  : star-1.6-6.el9.src.rpm
</span></span><span style="display:flex;"><span>Build Date  : Tue <span style="color:#ff9f43">10</span> Aug <span style="color:#ff9f43">2021</span> 03:13:47 PM MST
</span></span><span style="display:flex;"><span>Build Host  : x86-vm-55.build.eng.bos.redhat.com
</span></span><span style="display:flex;"><span>Packager    : Red Hat, Inc. &lt;http://bugzilla.redhat.com/bugzilla&gt;
</span></span><span style="display:flex;"><span>Vendor      : Red Hat, Inc.
</span></span><span style="display:flex;"><span>URL         : http://freecode.com/projects/star
</span></span><span style="display:flex;"><span>Summary     : Provides certain programs with access to remote tape devices
</span></span><span style="display:flex;"><span>Description :
</span></span><span style="display:flex;"><span>The rmt utility provides remote access to tape devices <span style="color:#ff6ac1">for</span> programs
</span></span><span style="display:flex;"><span>like dump <span style="color:#ff6ac1">(</span>a filesystem backup program<span style="color:#ff6ac1">)</span>, restore <span style="color:#ff6ac1">(</span>a program <span style="color:#ff6ac1">for</span>
</span></span><span style="display:flex;"><span>restoring files from a backup<span style="color:#ff6ac1">)</span>, and tar <span style="color:#ff6ac1">(</span>an archiving program<span style="color:#ff6ac1">)</span>.</span></span></code></pre></div>
<ol start="5">
<li>Show all the files the package contains:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 tmp<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm -ql rmt</span>
</span></span><span style="display:flex;"><span>/etc/default/rmt
</span></span><span style="display:flex;"><span>/etc/rmt
</span></span><span style="display:flex;"><span>/usr/lib/.build-id
</span></span><span style="display:flex;"><span>/usr/lib/.build-id/c2
</span></span><span style="display:flex;"><span>/usr/lib/.build-id/c2/6a51ea96fc4b4367afe7d44d16f1405c3c7ec9
</span></span><span style="display:flex;"><span>/usr/sbin/rmt
</span></span><span style="display:flex;"><span>/usr/share/doc/star
</span></span><span style="display:flex;"><span>/usr/share/doc/star/CDDL.Schily.txt
</span></span><span style="display:flex;"><span>/usr/share/doc/star/COPYING
</span></span><span style="display:flex;"><span>/usr/share/man/man1/rmt.1.gz</span></span></code></pre></div>
<ol start="6">
<li>List the documentation files the package has:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 tmp<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm -qd rmt</span>
</span></span><span style="display:flex;"><span>/usr/share/doc/star/CDDL.Schily.txt
</span></span><span style="display:flex;"><span>/usr/share/doc/star/COPYING
</span></span><span style="display:flex;"><span>/usr/share/man/man1/rmt.1.gz</span></span></code></pre></div>
<ol start="7">
<li>Verify the attributes of each file in the package. Use verbose mode.</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 tmp<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm -vV rmt</span>
</span></span><span style="display:flex;"><span>.........  c /etc/default/rmt
</span></span><span style="display:flex;"><span>.........    /etc/rmt
</span></span><span style="display:flex;"><span>.........  a /usr/lib/.build-id
</span></span><span style="display:flex;"><span>.........  a /usr/lib/.build-id/c2
</span></span><span style="display:flex;"><span>.........  a /usr/lib/.build-id/c2/6a51ea96fc4b4367afe7d44d16f1405c3c7ec9
</span></span><span style="display:flex;"><span>.........    /usr/sbin/rmt
</span></span><span style="display:flex;"><span>.........    /usr/share/doc/star
</span></span><span style="display:flex;"><span>.........  d /usr/share/doc/star/CDDL.Schily.txt
</span></span><span style="display:flex;"><span>.........  d /usr/share/doc/star/COPYING
</span></span><span style="display:flex;"><span>.........  d /usr/share/man/man1/rmt.1.gz</span></span></code></pre></div>
<ol start="8">
<li>Remove the package:</li>
</ol>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 tmp<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm -ve rmt</span>
</span></span><span style="display:flex;"><span>Preparing packages...
</span></span><span style="display:flex;"><span>rmt-2:1.6-6.el9.x86_64</span></span></code></pre></div>
<h2 id="lab-9-1-install-and-verify-packages">Lab 9-1: Install and Verify Packages</h2>
<p>As user1 with sudo on server3,</p>
<ul>
<li>make sure the RHEL 9 ISO image is attached to the VM and mounted.</li>
<li>Use the rpm command and install the zsh package by specifying its full path.</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 Packages<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm -ivh /mnt/BaseOS/Packages/zsh-5.8-9.el9.x86_64.rpm </span>
</span></span><span style="display:flex;"><span>Verifying...                         <span style="color:#78787e">################################# [100%])</span>
</span></span><span style="display:flex;"><span>Preparing...                         <span style="color:#78787e">################################# [100%])</span>
</span></span><span style="display:flex;"><span>	package zsh-5.8-9.el9.x86_64 is already installed</span></span></code></pre></div>
<ul>
<li>Run the rpm command again and perform the following on the zsh package:</li>
<li>(1) show information</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 Packages<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm -qi zsh</span>
</span></span><span style="display:flex;"><span>Name        : zsh
</span></span><span style="display:flex;"><span>Version     : 5.8
</span></span><span style="display:flex;"><span>Release     : 9.el9
</span></span><span style="display:flex;"><span>Architecture: x86_64
</span></span><span style="display:flex;"><span>Install Date: Sat <span style="color:#ff9f43">13</span> Jul <span style="color:#ff9f43">2024</span> 06:49:40 PM MST
</span></span><span style="display:flex;"><span>Group       : Unspecified
</span></span><span style="display:flex;"><span>Size        : <span style="color:#ff9f43">8018363</span>
</span></span><span style="display:flex;"><span>License     : MIT
</span></span><span style="display:flex;"><span>Signature   : RSA/SHA256, Thu <span style="color:#ff9f43">24</span> Feb <span style="color:#ff9f43">2022</span> 08:59:15 AM MST, Key ID 199e2f91fd431d51
</span></span><span style="display:flex;"><span>Source RPM  : zsh-5.8-9.el9.src.rpm
</span></span><span style="display:flex;"><span>Build Date  : Wed <span style="color:#ff9f43">23</span> Feb <span style="color:#ff9f43">2022</span> 07:10:14 AM MST
</span></span><span style="display:flex;"><span>Build Host  : x86-vm-56.build.eng.bos.redhat.com
</span></span><span style="display:flex;"><span>Packager    : Red Hat, Inc. &lt;http://bugzilla.redhat.com/bugzilla&gt;
</span></span><span style="display:flex;"><span>Vendor      : Red Hat, Inc.
</span></span><span style="display:flex;"><span>URL         : http://zsh.sourceforge.net/
</span></span><span style="display:flex;"><span>Summary     : Powerful interactive shell
</span></span><span style="display:flex;"><span>Description :
</span></span><span style="display:flex;"><span>The zsh shell is a <span style="color:#ff5c57">command</span> interpreter usable as an interactive login
</span></span><span style="display:flex;"><span>shell and as a shell script <span style="color:#ff5c57">command</span> processor.  Zsh resembles the ksh
</span></span><span style="display:flex;"><span>shell <span style="color:#ff6ac1">(</span>the Korn shell<span style="color:#ff6ac1">)</span>, but includes many enhancements.  Zsh supports
</span></span><span style="display:flex;"><span><span style="color:#ff5c57">command</span> line editing, built-in spelling correction, programmable
</span></span><span style="display:flex;"><span><span style="color:#ff5c57">command</span> completion, shell functions <span style="color:#ff6ac1">(</span>with autoloading<span style="color:#ff6ac1">)</span>, a <span style="color:#ff5c57">history</span>
</span></span><span style="display:flex;"><span>mechanism, and more.</span></span></code></pre></div>
<ul>
<li>(2) validate integrity</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 Packages<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm -K zsh-5.8-9.el9.x86_64.rpm</span>
</span></span><span style="display:flex;"><span>zsh-5.8-9.el9.x86_64.rpm: digests signatures OK</span></span></code></pre></div>
<ul>
<li>(3) display attributes
<code>[root@server30 Packages]# rpm -V zsh</code></li>
</ul>
<h2 id="lab-9-2-query-and-erase-packages">Lab 9-2: Query and Erase Packages</h2>
<p>As user1 with sudo on server3,</p>
<ul>
<li>make sure the RHEL 9 ISO image is attached to the VM and mounted.</li>
<li>Use the rpm command to perform the following:</li>
<li>(1) check whether the setup package is installed</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 Packages<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm -q setup</span>
</span></span><span style="display:flex;"><span>setup-2.13.7-10.el9.noarch</span></span></code></pre></div>
<ul>
<li>(2) display the list of configuration files in the setup package</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 Packages<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm -qc setup</span>
</span></span><span style="display:flex;"><span>/etc/aliases
</span></span><span style="display:flex;"><span>/etc/bashrc
</span></span><span style="display:flex;"><span>/etc/csh.cshrc
</span></span><span style="display:flex;"><span>/etc/csh.login
</span></span><span style="display:flex;"><span>/etc/environment
</span></span><span style="display:flex;"><span>/etc/ethertypes
</span></span><span style="display:flex;"><span>/etc/exports
</span></span><span style="display:flex;"><span>/etc/filesystems
</span></span><span style="display:flex;"><span>/etc/fstab
</span></span><span style="display:flex;"><span>/etc/group
</span></span><span style="display:flex;"><span>/etc/gshadow
</span></span><span style="display:flex;"><span>/etc/host.conf
</span></span><span style="display:flex;"><span>/etc/hosts
</span></span><span style="display:flex;"><span>/etc/inputrc
</span></span><span style="display:flex;"><span>/etc/motd
</span></span><span style="display:flex;"><span>/etc/networks
</span></span><span style="display:flex;"><span>/etc/passwd
</span></span><span style="display:flex;"><span>/etc/printcap
</span></span><span style="display:flex;"><span>/etc/profile
</span></span><span style="display:flex;"><span>/etc/profile.d/csh.local
</span></span><span style="display:flex;"><span>/etc/profile.d/sh.local
</span></span><span style="display:flex;"><span>/etc/protocols
</span></span><span style="display:flex;"><span>/etc/services
</span></span><span style="display:flex;"><span>/etc/shadow
</span></span><span style="display:flex;"><span>/etc/shells
</span></span><span style="display:flex;"><span>/etc/subgid
</span></span><span style="display:flex;"><span>/etc/subuid
</span></span><span style="display:flex;"><span>/run/motd
</span></span><span style="display:flex;"><span>/usr/lib/motd</span></span></code></pre></div>
<ul>
<li>(3) show information for the zlib-devel package on the ISO image</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 Packages<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm -qi ./zlib-devel-1.2.11-40.el9.x86_64.rpm</span>
</span></span><span style="display:flex;"><span>Name        : zlib-devel
</span></span><span style="display:flex;"><span>Version     : 1.2.11
</span></span><span style="display:flex;"><span>Release     : 40.el9
</span></span><span style="display:flex;"><span>Architecture: x86_64
</span></span><span style="display:flex;"><span>Install Date: <span style="color:#ff6ac1">(</span>not installed<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span>Group       : Unspecified
</span></span><span style="display:flex;"><span>Size        : <span style="color:#ff9f43">141092</span>
</span></span><span style="display:flex;"><span>License     : zlib and Boost
</span></span><span style="display:flex;"><span>Signature   : RSA/SHA256, Tue <span style="color:#ff9f43">09</span> May <span style="color:#ff9f43">2023</span> 05:31:02 AM MST, Key ID 199e2f91fd431d51
</span></span><span style="display:flex;"><span>Source RPM  : zlib-1.2.11-40.el9.src.rpm
</span></span><span style="display:flex;"><span>Build Date  : Tue <span style="color:#ff9f43">09</span> May <span style="color:#ff9f43">2023</span> 03:51:20 AM MST
</span></span><span style="display:flex;"><span>Build Host  : x86-64-03.build.eng.rdu2.redhat.com
</span></span><span style="display:flex;"><span>Packager    : Red Hat, Inc. &lt;http://bugzilla.redhat.com/bugzilla&gt;
</span></span><span style="display:flex;"><span>Vendor      : Red Hat, Inc.
</span></span><span style="display:flex;"><span>URL         : https://www.zlib.net/
</span></span><span style="display:flex;"><span>Summary     : Header files and libraries <span style="color:#ff6ac1">for</span> Zlib development
</span></span><span style="display:flex;"><span>Description :
</span></span><span style="display:flex;"><span>The zlib-devel package contains the header files and libraries needed
</span></span><span style="display:flex;"><span>to develop programs that use the zlib compression and decompression
</span></span><span style="display:flex;"><span>library.</span></span></code></pre></div>
<ul>
<li>(4) reinstall the zsh package (&ndash;reinstall -vh),</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@server30 Packages<span style="color:#ff6ac1">]</span><span style="color:#78787e"># rpm -hv --reinstall ./zsh-5.8-9.el9.x86_64.rpm</span>
</span></span><span style="display:flex;"><span>Verifying...                         <span style="color:#78787e">################################# [100%])</span>
</span></span><span style="display:flex;"><span>Preparing...                         <span style="color:#78787e">################################# [100%])</span>
</span></span><span style="display:flex;"><span>Updating / installing...
</span></span><span style="display:flex;"><span>   1:zsh-5.8-9.el9                   <span style="color:#78787e">################################# [ 50%])</span>
</span></span><span style="display:flex;"><span>Cleaning up / removing...
</span></span><span style="display:flex;"><span>   2:zsh-5.8-9.el9                   <span style="color:#78787e">################################# [100%])</span></span></span></code></pre></div>
<ul>
<li>(5) remove the zsh package.
<code>[root@server30 Packages]# rpm -e zsh</code></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          </section>
        </div>
      </main>
    </div>
    <script>
      window.MathJax = Object.assign( window.MathJax || {}, {
        tex: {
          inlineMath:  [['\\(', '\\)'], ['$',  '$']],  
          displayMath: [['\\[', '\\]'], ['$$', '$$']], 
        },
        options: {
          enableMenu: false 
        }
      }, JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/js/js-yaml/js-yaml.min.js?1764693048" defer></script>
    <script src="/js/d3/d3-color.min.js?1764693048" defer></script>
    <script src="/js/d3/d3-dispatch.min.js?1764693048" defer></script>
    <script src="/js/d3/d3-drag.min.js?1764693048" defer></script>
    <script src="/js/d3/d3-ease.min.js?1764693048" defer></script>
    <script src="/js/d3/d3-interpolate.min.js?1764693048" defer></script>
    <script src="/js/d3/d3-selection.min.js?1764693048" defer></script>
    <script src="/js/d3/d3-timer.min.js?1764693048" defer></script>
    <script src="/js/d3/d3-transition.min.js?1764693048" defer></script>
    <script src="/js/d3/d3-zoom.min.js?1764693048" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.relearn.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="/js/clipboard/clipboard.min.js?1764693048" defer></script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1764693048" defer></script>
    <script src="/js/theme.min.js?1764693048" defer></script><script async src="https://eomail5.com/form/d37e6864-cf88-11f0-8615-fbed900cb19e.js" data-form="d37e6864-cf88-11f0-8615-fbed900cb19e"></script>

  </body>
</html>
