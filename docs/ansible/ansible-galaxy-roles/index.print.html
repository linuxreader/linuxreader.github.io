<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="print">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.152.2">
    <meta name="generator" content="Relearn 8.2.0+d150cc8909ed7836ff5d545e76544f6923ffacf5">
    <meta name="description" content="Ansible Galaxy Roles">
    <meta name="author" content="David Thomas">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Ansible Galaxy Roles :: Linux Reader">
    <meta name="twitter:description" content="Ansible Galaxy Roles">
    <meta property="og:url" content="http://linuxreader.com/ansible/ansible-galaxy-roles/">
    <meta property="og:site_name" content="Linux Reader">
    <meta property="og:title" content="Ansible Galaxy Roles :: Linux Reader">
    <meta property="og:description" content="Ansible Galaxy Roles">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Ansible">
    <meta itemprop="name" content="Ansible Galaxy Roles :: Linux Reader">
    <meta itemprop="description" content="Ansible Galaxy Roles">
    <meta itemprop="wordCount" content="689">
    <title>Ansible Galaxy Roles :: Linux Reader</title>
    <link href="http://linuxreader.com/ansible/ansible-galaxy-roles/" rel="canonical" type="text/html" title="Ansible Galaxy Roles :: Linux Reader">
    <link href="/ansible/ansible-galaxy-roles/index.xml" rel="alternate" type="application/rss+xml" title="Ansible Galaxy Roles :: Linux Reader">
    <link href="/images/favicon.svg?1762645317" rel="icon" type="image/svg+xml">
    <link href="/css/auto-complete/auto-complete.min.css?1762645317" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1762645317" defer></script>
    <script src="/js/search-lunr.min.js?1762645317" defer></script>
    <script src="/js/search.min.js?1762645317" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/searchindex.en.js?1762645317";
    </script>
    <script src="/js/lunr/lunr.min.js?1762645317" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1762645317" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1762645317" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1762645317" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/fonts/fontawesome/css/fontawesome-all.min.css?1762645317" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/fontawesome-all.min.css?1762645317" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1762645317" rel="stylesheet">
    <link href="/css/theme.min.css?1762645317" rel="stylesheet">
    <link href="/css/format-print.min.css?1762645317" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/ansible\/ansible-galaxy-roles\/';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='http:\/\/linuxreader.com';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'oled' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script><style>
:root {
    --MENU-WIDTH-S: 14.375rem;
    --MENU-WIDTH-M: 14.375rem;
    --MENU-WIDTH-L: 18.75rem;
    --MAIN-WIDTH-MAX: 80rem;
    font-size: 1.2rem;
}
</style>

  </head>
  <body class="mobile-support print" data-url="/ansible/ansible-galaxy-roles/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="/ansible/ansible-facts/" title="Ansible Facts (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>

            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#using-ansible-galaxy-roles">Using Ansible Galaxy Roles</a></li>
        <li><a href="#lab-using-ansible-galaxy-to-manage-roles">LAB: Using <code>ansible-galaxy</code> to Manage Roles</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>


          </div>
          <span class="topbar-breadcrumbs highlightable">
            Ansible Galaxy Roles
          </span>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="/ansible/ansible-galaxy-roles/index.print.html" title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></span>
            </div>

            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="/ansible/ansible-inventory/" title="Ansible Inventory and Ansible.cfg (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>







          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable ansible" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="ansible-galaxy-roles">Ansible Galaxy Roles</h1>

<h3 id="using-ansible-galaxy-roles">Using Ansible Galaxy Roles</h3>
<ul>
<li>Ansible Galaxy is a public library of Ansible content and contains thousands of roles that have been provided by community members.</li>
</ul>
<h4 id="working-with-galaxy">Working with Galaxy</h4>
<p>The easiest way to work with Ansible Galaxy is to use the website at <a href="https://galaxy.ansible.com" rel="external" target="_blank">https://galaxy.ansible.com</a>:</p>
<p><a href="#R-image-48419612d1ad8fcd464027756744c5dd" class="lightbox-link"><img alt="Image" class="lazy lightbox figure-image" loading="lazy" src="/Images/2436_09fig01.jpg" style="height: auto;width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-48419612d1ad8fcd464027756744c5dd"><img alt="Image" class="lazy lightbox lightbox-image" loading="lazy" src="/Images/2436_09fig01.jpg"></a></p>
<p><a href="#R-image-5f406069996918cb1a81cd754f8c05a0" class="lightbox-link"><img alt="Image" class="lazy lightbox figure-image" loading="lazy" src="/Images/2436_09fig02.jpg" style="height: auto;width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5f406069996918cb1a81cd754f8c05a0"><img alt="Image" class="lazy lightbox lightbox-image" loading="lazy" src="/Images/2436_09fig02.jpg"></a></p>
<ul>
<li>
<p>Use the Search Feature to Search for Specific Packages</p>
</li>
<li>
<p>In the result of any Search action, you see a list of collections as well as a list of roles.</p>
</li>
<li>
<p>An Ansible Galaxy collection is a distribution format for Ansible content.</p>
</li>
<li>
<p>It can contain roles, but also playbooks, modules, and plug-ins.</p>
</li>
<li>
<p>In most cases you just need the roles, not the collection: roles contain all that you include in the playbooks you&rsquo;re working with.</p>
</li>
<li>
<p>Some important indicators are the number of times the role has been downloaded and the score of the role.</p>
</li>
<li>
<p>This information enables you to easily distinguish between commonly used roles and roles that are not used that often.</p>
</li>
<li>
<p>Also, you can use tags to make identifying Galaxy roles easier.</p>
</li>
<li>
<p>These tags provide more information about a role and make it  possible to search for roles in a more efficient way.</p>
</li>
</ul>
<p><a href="#R-image-e9129dd7a1d4a4b6406903920169c846" class="lightbox-link"><img alt="Image" class="lazy lightbox figure-image" loading="lazy" src="/Images/2436_09fig03.jpg" style="height: auto;width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e9129dd7a1d4a4b6406903920169c846"><img alt="Image" class="lazy lightbox lightbox-image" loading="lazy" src="/Images/2436_09fig03.jpg"></a></p>
<ul>
<li>You can download roles directly from the Ansible Galaxy website</li>
<li>You can also use the <code>ansible-galaxy</code> command</li>
</ul>
<h4 id="using-the-ansible-galaxy-command">Using the <code>ansible-galaxy</code> Command</h4>
<p><code>ansible-galaxy search</code></p>
<ul>
<li>Find roles based on many different keywords and manage them.</li>
<li>Must provide a string as an argument.</li>
<li>Ansible searches for this string in the name and description of the roles.</li>
</ul>
<p>Useful Command-Line Options:
<strong>&ndash;platforms</strong></p>
<ul>
<li>Operating system platform to search for
<strong>&ndash;author</strong></li>
<li>GitHub username of the author
<strong>&ndash;galaxy-tags</strong></li>
<li>Additional tags to filter by</li>
</ul>
<p>`ansible-galaxy info</p>
<ul>
<li>Get more information about a role.</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>ansible@control ansible-lab<span style="color:#ff6ac1">]</span>$ ansible-galaxy info geerlingguy.docker
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Role: geerlingguy.docker
</span></span><span style="display:flex;"><span>        description: Docker <span style="color:#ff6ac1">for</span> Linux.
</span></span><span style="display:flex;"><span>        commit: 9115e969c1e57a1639160d9af3477f09734c94ac
</span></span><span style="display:flex;"><span>        commit_message: Merge pull request <span style="color:#78787e">#501 from adamus1red/adamus1red/alpine-compose</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>add compose package to Alpine specific variables
</span></span><span style="display:flex;"><span>        created: 2023-05-08T20:49:45.679874Z
</span></span><span style="display:flex;"><span>        download_count: <span style="color:#ff9f43">23592264</span>
</span></span><span style="display:flex;"><span>        github_branch: master
</span></span><span style="display:flex;"><span>        github_repo: ansible-role-docker
</span></span><span style="display:flex;"><span>        github_user: geerlingguy
</span></span><span style="display:flex;"><span>        id: <span style="color:#ff9f43">10923</span>
</span></span><span style="display:flex;"><span>        imported: 2025-03-24T00:01:45.901567
</span></span><span style="display:flex;"><span>        modified: 2025-03-24T00:01:47.840887Z
</span></span><span style="display:flex;"><span>        path: <span style="color:#ff6ac1">(</span><span style="color:#5af78e">&#39;/home/ansible/.ansible/roles&#39;</span>, <span style="color:#5af78e">&#39;/usr/share/ansible/roles&#39;</span>, <span style="color:#5af78e">&#39;/etc/ansible/roles&#39;</span><span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span>        upstream_id: None
</span></span><span style="display:flex;"><span>        username: geerlingguy</span></span></code></pre></div>
<h4 id="managing-ansible-galaxy-roles">Managing Ansible Galaxy Roles</h4>
<p><code>ansible-galaxy install</code></p>
<ul>
<li>Install a role</li>
<li>normally installs the role into the ~/.ansible/roles directory because this role is specified in the <strong>role_path</strong> setting in ansible.cfg.</li>
<li>If you want roles to be installed in another directory, consider changing this parameter.
<code>-p</code></li>
<li>option to install the role to a different role path directory.</li>
</ul>
<p><strong>requirements</strong> file.</p>
<ul>
<li>YAML file that you can include when using the <code>ansible-roles</code> command.</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span>    - <span style="color:#ff6ac1">src</span>: geerlingguy.nginx
</span></span><span style="display:flex;"><span>      <span style="color:#ff6ac1">version</span>: <span style="color:#5af78e">&#34;2.7.0&#34;</span></span></span></code></pre></div>
<ul>
<li>possible to add roles from sources other than Ansible Galaxy, such as a Git repository or a tarball.</li>
<li>In that case, you must specify the exact URL to the role using the <code>src</code> option.</li>
<li>When you are installing roles from a Git repository, the <code>scm</code> keyword is also required and must be set to <code>git</code>.</li>
</ul>
<p>To install a role using the requirements file, you can use the <code>-r</code> option with the <code>ansible-galaxy install</code> command:
<code>ansible-galaxy install -r roles/requirements.yml</code></p>
<p><code>ansible-galaxy list</code></p>
<ul>
<li>Get a list of currently installed roles</li>
</ul>
<p><code>ansible-galaxy remove</code></p>
<ul>
<li>Remove roles from your system.</li>
</ul>
<h3 id="lab-using-ansible-galaxy-to-manage-roles">LAB: Using <code>ansible-galaxy</code> to Manage Roles</h3>
<ul>
<li>Type <code>ansible-galaxy search --author geerlingguy --platforms EL</code> to see a list of roles that geerlingguy has created.</li>
<li>Make the command more specific and type <code>ansible-galaxy search nginx --author geerlingguy --platforms EL</code> to find the <strong>geerlingguy.nginx</strong> role.</li>
<li>Request more information about this role by using <code>ansible-galaxy info geerlingguy.nginx</code>.</li>
<li>Create a requirements file with the name <strong>listing96.yaml</strong> and give this file the following contents:</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span>- <span style="color:#ff6ac1">src</span>: geerlingguy.nginx
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">version</span>: <span style="color:#5af78e">&#34;2.7.0&#34;</span></span></span></code></pre></div>
<ul>
<li>
<p>Add the line <code>roles_path = /home/ansible/roles</code> to the ansible.cfg file.</p>
</li>
<li>
<p>Use the command <code>ansible-galaxy install -r listing96.yaml</code> to install the role from the requirements file. It is possible that by the time you run this exercise, the specified version 2.7.0 is no longer available. If that is the case, use <code>ansible-galaxy info</code> again to find a version that still is available, and change the requirements file accordingly.</p>
</li>
<li>
<p>Type <code>ansible-galaxy list</code> to verify that the new role was successfully installed on your system.</p>
</li>
<li>
<p>Write a playbook with the name exercise92.yaml that uses the role and has the following contents:</p>
</li>
</ul>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>- <span style="color:#ff6ac1">name</span>: install nginx using Galaxy role
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">hosts</span>: ansible2
</span></span><span style="display:flex;"><span>  <span style="color:#ff6ac1">roles</span>:
</span></span><span style="display:flex;"><span>  - geerlingguy.nginx</span></span></code></pre></div>
<ul>
<li>Run the playbook using <code>ansible-playbook exercise92.yaml</code> and observe that the new role is installed from the custom roles path.</li>
</ul>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <script>
      window.MathJax = Object.assign( window.MathJax || {}, {
        tex: {
          inlineMath:  [['\\(', '\\)'], ['$',  '$']],  
          displayMath: [['\\[', '\\]'], ['$$', '$$']], 
        },
        options: {
          enableMenu: false 
        }
      }, JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/js/js-yaml/js-yaml.min.js?1762645317" defer></script>
    <script src="/js/d3/d3-color.min.js?1762645317" defer></script>
    <script src="/js/d3/d3-dispatch.min.js?1762645317" defer></script>
    <script src="/js/d3/d3-drag.min.js?1762645317" defer></script>
    <script src="/js/d3/d3-ease.min.js?1762645317" defer></script>
    <script src="/js/d3/d3-interpolate.min.js?1762645317" defer></script>
    <script src="/js/d3/d3-selection.min.js?1762645317" defer></script>
    <script src="/js/d3/d3-timer.min.js?1762645317" defer></script>
    <script src="/js/d3/d3-transition.min.js?1762645317" defer></script>
    <script src="/js/d3/d3-zoom.min.js?1762645317" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.relearn.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="/js/clipboard/clipboard.min.js?1762645317" defer></script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1762645317" defer></script>
    <script src="/js/theme.min.js?1762645317" defer></script>
  </body>
</html>
