<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.136.5">
    <meta name="generator" content="Relearn 7.1.1">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="System Logging Log files need to be rotated periodically to prevent the file system space from filling up. Configuration files that define the default and custom locations to direct the log messages to and to configure rotation settings. system log file records custom messages sent to it. systemd includes a service for viewing and managing system logs in addition to the traditional logging service. This service maintains a log of runtime activities for faster retrieval and can be configured to store the information permanently. System logging (syslog for short)">
    <meta name="author" content="David Vargas">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:description" content="System Logging Log files need to be rotated periodically to prevent the file system space from filling up. Configuration files that define the default and custom locations to direct the log messages to and to configure rotation settings. system log file records custom messages sent to it. systemd includes a service for viewing and managing system logs in addition to the traditional logging service. This service maintains a log of runtime activities for faster retrieval and can be configured to store the information permanently. System logging (syslog for short)">
    <meta property="og:url" content="http://localhost:1313/linux/system-logging/">
    <meta property="og:description" content="System Logging Log files need to be rotated periodically to prevent the file system space from filling up. Configuration files that define the default and custom locations to direct the log messages to and to configure rotation settings. system log file records custom messages sent to it. systemd includes a service for viewing and managing system logs in addition to the traditional logging service. This service maintains a log of runtime activities for faster retrieval and can be configured to store the information permanently. System logging (syslog for short)">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Linux">
    <meta itemprop="description" content="System Logging Log files need to be rotated periodically to prevent the file system space from filling up. Configuration files that define the default and custom locations to direct the log messages to and to configure rotation settings. system log file records custom messages sent to it. systemd includes a service for viewing and managing system logs in addition to the traditional logging service. This service maintains a log of runtime activities for faster retrieval and can be configured to store the information permanently. System logging (syslog for short)">
    <meta itemprop="wordCount" content="1835">
    <title></title>
    <link href="/linux/system-logging/index.xml" rel="alternate" type="application/rss+xml" title="">
    <link href="/linux/system-logging/index.print.html" rel="alternate" type="text/html" title="">
    <link href="/images/logo.svg?1730768046" rel="icon" type="image/svg+xml">
    <link href="/css/fontawesome-all.min.css?1730768046" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1730768046" rel="stylesheet"></noscript>
    <link href="/css/nucleus.css?1730768046" rel="stylesheet">
    <link href="/css/auto-complete.css?1730768046" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1730768046" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1730768046" rel="stylesheet">
    <link href="/css/fonts.css?1730768046" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1730768046" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1730768046" rel="stylesheet">
    <link href="/css/theme-amoled.css?1730768046" rel="stylesheet" id="R-variant-style">
    <link href="/css/chroma-relearn-dark.css?1730768046" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/css/print.css?1730768046" rel="stylesheet" media="print">
    <script src="/js/variant.js?1730768046"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      // variant stuff
      window.variants && variants.init( [ 'amoled' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-23N4FSG0HM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-23N4FSG0HM');
</script>


  </head>
  <body class="mobile-support html" data-url="/linux/system-logging/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-back" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="history.back()" type="button" title=""><i class="fa-fw fas fa-chevron-left"></i></button>
            </div>

            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#system-logging">System Logging</a>
      <ul>
        <li><a href="#thesyslog-configuration-file">TheSyslog Configuration File</a></li>
        <li><a href="#rotating-log-files">Rotating Log Files</a></li>
        <li><a href="#etccrondailylogrotate-script">/etc/cron.daily/logrotate script</a></li>
        <li><a href="#the-boot-log-file">The Boot Log File</a></li>
        <li><a href="#the-system-log-file">The System Log File</a></li>
        <li><a href="#logging-custom-messages">Logging Custom Messages</a></li>
        <li><a href="#logger-command">logger command</a></li>
        <li><a href="#the-systemd-journal">The systemd Journal</a></li>
        <li><a href="#retrieving-and-viewing-messages">Retrieving and Viewing Messages</a></li>
        <li><a href="#journalctl-command">journalctl command</a></li>
        <li><a href="#preserving-journal-information">Preserving Journal Information</a></li>
        <li><a href="#journal-data-storage-options">Journal Data Storage Options</a></li>
        <li><a href="#lab-configure-persistent-storage-for-journal-information">Lab: Configure Persistent Storage for Journal Information</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>


          </div>
          <span class="topbar-breadcrumbs highlightable">
            
          </span>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-about" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/about/" title=""><span class="title">About</span></a>
            </div>

            <div class="topbar-button topbar-button-now" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/now/" title=""><span class="title">Now</span></a>
            </div>

            <div class="topbar-button topbar-button-recommended" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/recommended/" title=""><span class="title">Recommended</span></a>
            </div>

            <div class="topbar-button topbar-button-booknotes" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/booknotes/" title=""><span class="title">Book Notes</span></a>
            </div>

            <div class="topbar-button topbar-button-contact" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/contact/" title=""><span class="title">Contact</span></a>
            </div>






          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable linux" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id=""></h1>

<h2 id="system-logging">System Logging</h2>
<ul>
<li>Log files need to be rotated periodically to prevent the file system space from filling up.</li>
<li>Configuration files that define the default and custom locations to direct the log messages to and to configure rotation settings.
system log file</li>
<li>records custom messages sent to it.</li>
<li>systemd includes a service for viewing and managing system logs in addition to the traditional logging service.</li>
<li>This service maintains a log of runtime activities for faster retrieval and can be configured to store the information permanently.</li>
</ul>
<p><em>System logging</em> (<em>syslog</em> for short)</p>
<ul>
<li>capture messages generated by:
<ul>
<li>kernel</li>
<li>daemons</li>
<li>commands</li>
<li>user activities</li>
<li>applications</li>
<li>other events</li>
</ul>
</li>
<li>Forwards messages to various log files</li>
<li>For security auditing, service malfunctioning, system troubleshooting, or informational purposes.</li>
</ul>
<p><em>rsyslogd</em> daemon (<em>rocket-fast system for log processing</em>)</p>
<ul>
<li>Responsible for system logging</li>
<li>Multi-threaded</li>
<li>support for:
<ul>
<li>enhanced filtering,</li>
<li>encryption-protected message relaying</li>
<li>variety of configuration options.</li>
</ul>
</li>
<li>Reads its configuration file /etc/rsyslog.conf and the configuration files located in /etc/rsyslog.d/ at startup.</li>
<li>/var/log
<ul>
<li>Default depository for most system log files</li>
<li>Other services such as audit, Apache, etc. have subdirectories here as well.</li>
</ul>
</li>
</ul>
<p>rsyslog service</p>
<ul>
<li>modular
<ul>
<li>allows the modules listed in its configuration file to be dynamically loaded in the kernel when/as needed.</li>
<li>Each module brings a new functionality to the system upon loading.</li>
</ul>
</li>
</ul>
<p><em>rsyslogd</em> daemon</p>
<ul>
<li>
<p>can be stopped manually using <code>systemctl stop rsyslog</code></p>
</li>
<li>
<p>start, restart, reload, and status options are also available</p>
</li>
<li>
<p>A PID is assigned to the daemon at startup</p>
</li>
<li>
<p>rsyslogd.pid file is created in the <em>/run</em> directory to save the PID.</p>
</li>
<li>
<p>PID is stored to prevent multiple instances of this daemon.</p>
</li>
</ul>
<h3 id="thesyslog-configuration-file">TheSyslog Configuration File</h3>
<p>/etc/rsyslog.conf</p>
<ul>
<li>primary syslog configuration file</li>
</ul>
<p>View /etc/rsyslog.conf:
<code>cat /etc/rsyslog.conf</code></p>
<p>Output:
Three sections:</p>
<ul>
<li>
<p>Modules, Global Directives, and Rules. The</p>
<ul>
<li>Modules section
<ul>
<li>default defines two modules imuxsock and imjournal</li>
<li>loaded on demand.
imuxsock module</li>
</ul>
</li>
</ul>
</li>
<li>
<p>furnishes support for local system logging via the <em>logger</em> command
imjournal module</p>
</li>
<li>
<p>allows access to the systemd journal.</p>
</li>
<li>
<p>Global Directives section</p>
<ul>
<li>contains three active directives.</li>
<li>Definitions in this section influence the overall functionality of the <em>rsyslog</em> service.
<ul>
<li>first directive
<ul>
<li>Sets the location for the storage of auxiliary files (/var/lib/rsyslog).</li>
</ul>
</li>
<li>second directive
<ul>
<li>instructs the <em>rsyslog</em> service to save captured messages using traditional file formatting</li>
</ul>
</li>
<li>third directive
<ul>
<li>directs the service to load additional configuration from files located in the /etc/rsyslogd.d/ directory.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Rules section</p>
<ul>
<li>Right field is referred to as <em>action</em>.
selector field</li>
<li>left field of the rules section</li>
<li>divided into two period-separated sub-fields called
<ul>
<li><em>facility</em> (left)
<ul>
<li>representing one or more system process categories that generate messages</li>
</ul>
</li>
<li><em>priority</em> (right)
<ul>
<li>identifying the severity associated with the messages.</li>
</ul>
</li>
</ul>
</li>
<li>semicolon (;) is used as a distinction mark if multiple facility.priority groups are present.
action field</li>
<li>determines the destination to send the messages to.</li>
<li>numerous supported facilities:
<ul>
<li>auth</li>
<li>authpriv</li>
<li>cron</li>
<li>daemon</li>
<li>kern</li>
<li>lpr</li>
<li>mail</li>
<li>news</li>
<li>syslog</li>
<li>user</li>
<li>uucp</li>
<li>local0 throughv local7</li>
<li>asterisk (*) character represents all of them.</li>
</ul>
</li>
<li>supported priorities in the descending criticality order:
<ul>
<li>emerg</li>
<li>alert</li>
<li>crit</li>
<li>error</li>
<li>warning</li>
<li>notice</li>
<li>info</li>
<li>debug</li>
<li>none</li>
</ul>
</li>
</ul>
</li>
<li>
<p>If a lower priority is selected, the daemon logs all messages of the service at that and higher levels.</p>
</li>
</ul>
<p>After modifying the syslog configuration file,  Inspect it and set the verbosity:
<code>rsyslogd -N 1</code>  (-N inspect, 1 level 1)</p>
<ul>
<li>Restart or reload the rsyslog service in order for the changes to take effect.</li>
</ul>
<h3 id="rotating-log-files">Rotating Log Files</h3>
<p>Log location is defined in the rsyslog configuration file.</p>
<p>View the /var/log/ directory:
<code>ls -l /var/log</code></p>
<p>systemd unit file called logrotate.timer under the /usr/lib/systemd/system directory invokes the logrotate service (/usr/lib/systemd/system/logrotate.service) on a daily basis. Here is what this file contains:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>root@localhost cron.daily<span style="color:#ff6ac1">]</span><span style="color:#78787e"># systemctl cat logrotate.timer</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#78787e"># /usr/lib/systemd/system/logrotate.timer</span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>Unit<span style="color:#ff6ac1">]</span>
</span></span><span style="display:flex;"><span><span style="color:#ff5c57">Description</span><span style="color:#ff6ac1">=</span>Daily rotation of log files
</span></span><span style="display:flex;"><span><span style="color:#ff5c57">Documentation</span><span style="color:#ff6ac1">=</span>man:logrotate<span style="color:#ff6ac1">(</span>8<span style="color:#ff6ac1">)</span> man:logrotate.conf<span style="color:#ff6ac1">(</span>5<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>Timer<span style="color:#ff6ac1">]</span>
</span></span><span style="display:flex;"><span><span style="color:#ff5c57">OnCalendar</span><span style="color:#ff6ac1">=</span>daily
</span></span><span style="display:flex;"><span><span style="color:#ff5c57">AccuracySec</span><span style="color:#ff6ac1">=</span>1h
</span></span><span style="display:flex;"><span><span style="color:#ff5c57">Persistent</span><span style="color:#ff6ac1">=</span><span style="color:#ff5c57">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">[</span>Install<span style="color:#ff6ac1">]</span>
</span></span><span style="display:flex;"><span><span style="color:#ff5c57">WantedBy</span><span style="color:#ff6ac1">=</span>timers.target</span></span></code></pre></div>
<p>The logrotate service runs rotations as per the schedule and other parameters defined in the /etc/logrotate.conf and additional log configuration files located in the /etc/logrotate.d directory. The following shows the content of /etc/logrotate.conf:</p>
<h3 id="etccrondailylogrotate-script">/etc/cron.daily/logrotate script</h3>
<ul>
<li>invokes the <em>logrotate</em> command on a daily basis.</li>
<li>runs a rotation as per the schedule defined in /etc/logrotate.conf and the</li>
<li>configuration files for various services are located in /etc/logrotate.d/ The</li>
<li>configuration files may be modified to alter the schedule or include additional tasks on log files such as:
<ul>
<li>removing</li>
<li>compressing</li>
<li>emailing</li>
</ul>
</li>
</ul>
<p><code>grep -v ^$ /etc/logrotate.conf</code></p>
<div class="highlight wrap-code"><pre tabindex="0"><code># see &#34;man logrotate&#34; for details
# global options do not affect preceding include directives
# rotate log files weekly
weekly
# keep 4 weeks worth of backlogs
rotate 4
# create new (empty) log files after rotating old ones
create
# use date as a suffix of the rotated file
dateext
# uncomment this if you want your log files compressed
#compress
# packages drop log rotation information into this directory
include /etc/logrotate.d
# system-specific logs may be also be configured here.</code></pre></div>
<p>content:</p>
<ul>
<li>
<p>default log rotation frequency (weekly).</p>
</li>
<li>
<p>period of time (4 weeks) to retain the rotated logs before deleting them.</p>
</li>
<li>
<p>Each time a log file is rotated:</p>
<ul>
<li>Empty replacement file is created with the date as a suffix to its name</li>
<li><em>rsyslog</em> service is restarted</li>
</ul>
</li>
<li>
<p>script presents the option of compressing the rotated files using the <em>gzip</em> utility.</p>
</li>
</ul>
<ul>
<li>logrotate command checks for the presence of additional log configuration files in /etc/logrotate.d/ and includes them as necessary.</li>
<li>directives defined in /etc/logrotate.conf file have a global effect on all log files</li>
<li>can define custom settings for a specific log file in /etc/logrotate.conf/ or create a separate file in /etc/logrotate.d/</li>
<li>settings defined in user-defined files overrides the global settings.</li>
</ul>
<p>The /etc/logrotate.d/ directory includes additional configuration files for other service logs:
<code>ls -l /etc/logrotate.d/</code></p>
<p>Show the file content for btmp (records of failed user login attempts) that is used to control the rotation behavior for  /var/log/btmp:
<code>cat /etc/logrotate.d/btmp</code></p>
<ul>
<li>rotation is once a month.</li>
<li>replacement file created will get read/write permission bits for the owner (<em>root</em>)</li>
<li>owning group will be set to <em>utmp</em>, and the</li>
<li>rsyslog service will maintain one rotated copy of the <em>btmp</em> log file.</li>
</ul>
<h3 id="the-boot-log-file">The Boot Log File</h3>
<p>Logs generated during the system startup:</p>
<ul>
<li>Display the service startup sequence.</li>
<li>Status showing whether the service was started successfully.</li>
<li>May help in any post-boot troubleshooting if required.</li>
<li>/var/log/boot.log</li>
</ul>
<p>View /var/log/boot.log:
<code>sudo head /var/log/boot.log</code></p>
<p>output:</p>
<ul>
<li>OK or FAILED
<ul>
<li>indicates if the service was started successfully or not.</li>
</ul>
</li>
</ul>
<h3 id="the-system-log-file">The System Log File</h3>
<p>/var/log/messages</p>
<ul>
<li>default location for storing most system activities, as defined in the <em>rsyslog.conf</em> file</li>
<li>saves log information in plain text format</li>
<li>may be viewed with any file display utility (<em>cat</em>, <em>more</em>, <em>pg</em>, <em>less</em>, <em>head</em>, or <em>tail</em>.) This file</li>
<li>may be observed in real time using the <em>tail</em> command with the -f switch. The <em>messages</em> file</li>
<li>captures:
<ul>
<li>the date and time of the activity,</li>
<li>hostname of the system,</li>
<li>name and PID of the service</li>
<li>short description of the event being logged.</li>
</ul>
</li>
</ul>
<p>View /var/log messages:
<code>tail /var/log/messages</code></p>
<h3 id="logging-custom-messages">Logging Custom Messages</h3>
<p>The Modules section in the <em>rsyslog.conf</em> file</p>
<ul>
<li>provides the support via the imuxsock module to record custom messages to the <em>messages</em> file using the <em>logger</em> command.</li>
</ul>
<h3 id="logger-command">logger command</h3>
<p>Add a note indicating the calling user has rebooted the system:
<code>logger -i &quot;System rebooted by $USER&quot;</code></p>
<p>observe the message recorded along with the timestamp, hostname, and PID:
<code>tail -l /var/log/messages</code></p>
<p>-p option</p>
<ul>
<li>specify a priority level either as a numerical value or in the facility.priority format.</li>
<li>default priority
<ul>
<li>user.notice.</li>
</ul>
</li>
</ul>
<p>View logger man pages:
<code>man logger</code></p>
<h3 id="the-systemd-journal">The systemd Journal</h3>
<ul>
<li>
<p>Systemd-based logging service for the collection and storage of logging data.</p>
</li>
<li>
<p>Implemented via the <em>systemd-journald</em> daemon.</p>
</li>
<li>
<p>Gather, store, and display logging events from a variety of sources such as:</p>
<ul>
<li>the kernel</li>
<li><em>rsyslog</em> and other services</li>
<li>initial RAM disk</li>
<li>alerts generated during the early boot stage.
journals</li>
</ul>
</li>
<li>
<p>stored in the binary format files</p>
</li>
<li>
<p>located in  /run/log/journal/ (remember run is not a persistent directory)</p>
</li>
<li>
<p>structured and indexed for faster and easier searches</p>
</li>
<li>
<p>May be viewed and managed using the <em>journalctl</em> command.</p>
</li>
<li>
<p>Can enable persistent storage for the logs if desired.</p>
</li>
<li>
<p>RHEL runs both <em>rsyslogd</em> and <em>systemd-journald</em> concurrently.</p>
</li>
<li>
<p>data gathered by <em>systemd-journald</em> may be forwarded to <em>rsyslogd</em> for further processing and persistent storage in text format.</p>
</li>
</ul>
<p>/etc/systemd/journald.conf</p>
<ul>
<li>main config file for journald</li>
<li>contains numerous default settings that affect the overall functionality of the service.</li>
</ul>
<h3 id="retrieving-and-viewing-messages">Retrieving and Viewing Messages</h3>
<h3 id="journalctl-command">journalctl command</h3>
<ul>
<li>retrieve messages from the journal for viewing in a variety of ways using different options.</li>
</ul>
<p>run <code>journalctl</code> without any options to see all the messages generated since the last system reboot:
<code>journalctl</code></p>
<ul>
<li>format of the messages is similar to that of the events logged to /var/log/messages</li>
<li>Each line begins with a timestamp followed by the system hostname, process name with or without a PID, and the actual message.</li>
</ul>
<p>Display detailed output for each entry,  <code>-o verbose</code> option:
<code>journalctl -o verbose</code></p>
<p>View all events since the last system reboot, use the -b options:
<code>journalctl -b</code></p>
<p>-0 (default, since the last system reboot),
-1 (the previous system reboot),
-2 (two reboots before)
1 &amp; 2 only work if there are logs persistently stored.</p>
<p>View only kernel-generated alerts since the last system reboot:
<code>journalctl -kb0</code></p>
<p>Limit the output to view a specific number of entries only (3 in the example below), use the -n option:
<code>journalctl -n3</code></p>
<p>To show all alerts generated by a particular service, such as <em>crond</em>:
<code>journalctl /usr/sbin/crond</code></p>
<p>Retrieve all messages logged for a certain process, such as the PID associated with the <em>chronyd</em> service:
<code>journalctl _PID=$(pgrep chronyd)</code></p>
<p>Reveal all messages for a particular system unit, such as sshd.service:
<code>journalctl _SYSTEMD_UNIT=sshd.service</code></p>
<p>View all error messages logged between a date range, such as October 10, 2019 and October 16, 2019:
<code>journalctl --since 2019-10-16 --until 2019-10-16 -p err</code></p>
<p>Get all warning messages that have appeared today and display them in reverse chronological order:
<code>journalctl --since today -p warning -r</code></p>
<ul>
<li>Can specify the time range in hh:mm:ss format, or yesterday, today, or tomorrow as well.</li>
</ul>
<p>-f (follow) option that is
<code>journalctl -f</code></p>
<p><code>man journalctl</code>
<code>man systemd-journald</code></p>
<h3 id="preserving-journal-information">Preserving Journal Information</h3>
<ul>
<li>enable a separate storage location for the journal to save all its messages there persistently.</li>
<li>default is under /var/log/journal/</li>
</ul>
<p>The <em>systemd-journald</em> service supports four options with the Storage directive to control how the logging data is handled.</p>
<table>
  <thead>
      <tr>
          <th>Option</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>volatile</td>
          <td>Stores data in memory only</td>
      </tr>
      <tr>
          <td>persistent</td>
          <td>Stores data permanently under /var/log/journal and falls back to memory-only option if this directory does not exist or has a permission or other issue. The service creates /var/log/journal in case of its non-existence.</td>
      </tr>
      <tr>
          <td>auto</td>
          <td>Similar to &ldquo;persistent&rdquo; but does not create /var/log/journal if it does not exist. This is the default option.</td>
      </tr>
      <tr>
          <td>none</td>
          <td>Disables both volatile and persistent storage options. Not recommended.</td>
      </tr>
  </tbody>
</table>
<h3 id="journal-data-storage-options">Journal Data Storage Options</h3>
<p>create the /var/log/journal/ manually and use preferred &ldquo;auto&rdquo; option.</p>
<ul>
<li>faster query responses from in-memory storage</li>
<li>access to historical log data from on-disk storage.</li>
</ul>
<h3 id="lab-configure-persistent-storage-for-journal-information">Lab: Configure Persistent Storage for Journal Information</h3>
<p>Run the necessary steps to enable and confirm persistent storage for the journals.</p>
<ol>
<li>
<p>Create a subdirectory called <em>journal</em> under the /var/log/ directory and confirm:
<code>sudo mkdir /var/log/journal</code></p>
</li>
<li>
<p>Restart the <em>systemd-journald</em> service and confirm:
<code>systemctl restart systemd-journald &amp;&amp; systemctl status systemd-journald</code></p>
</li>
<li>
<p>List the new directory and observe a subdirectory matching the machine ID of the system as defined in the /etc/machine-id file is created:
<code>ll /var/log/journal &amp;&amp; cat /etc/machine-id</code></p>
</li>
</ol>
<ul>
<li>This log file is rotated automatically once a month based on the settings in the <em>journald.conf</em> file.</li>
</ul>
<p>Check the manual pages of journal.conf
<code>man journald.conf</code></p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation showVisitedLinks">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<a href="https://davidvargas.xyz">
  <img src="/images/V.svg" alt="davidvargas.xyz" >
</a>

        </div>
        <script>
          window.index_js_url="/searchindex.en.js?1730768046";
        </script>
        <search><form action="/search/" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="/js/auto-complete.js?1730768046" defer></script>
        <script src="/js/lunr/lunr.min.js?1730768046" defer></script>
        <script src="/js/lunr/lunr.stemmer.support.min.js?1730768046" defer></script>
        <script src="/js/lunr/lunr.multi.min.js?1730768046" defer></script>
        <script src="/js/lunr/lunr.en.min.js?1730768046" defer></script>
        <script src="/js/search.js?1730768046" defer></script>
      </div>
      <div id="R-homelinks" class="default-animation">
        <hr class="padding">
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div id="R-shortcutmenu-home" class="R-sidebarmenu">
          <ul class="enlarge morespace collapsible-menu">
            <li class="parent " data-nav-id="/linux/"><input type="checkbox" id="R-section-e2509333b88222aa06f1b5fc60b020b2" aria-controls="R-subsections-e2509333b88222aa06f1b5fc60b020b2" checked><label for="R-section-e2509333b88222aa06f1b5fc60b020b2"><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Linux</span></label><a class="padding" href="/linux/">Linux<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-e2509333b88222aa06f1b5fc60b020b2" class="collapsible-menu">
            <li class="active hidden " data-nav-id="/linux/system-logging/"><a class="padding" href="/linux/system-logging/"><i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/linux/rhcsa-notes/"><a class="padding" href="/linux/rhcsa-notes/"><i class='fa-fw fas fa-caret-right'></i> My RHCSA 9 Notes<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/linux/rhcsa-vagrant-lab-setup/"><a class="padding" href="/linux/rhcsa-vagrant-lab-setup/"><i class='fa-fw fas fa-caret-right'></i> RHCSA Vagrant Lab Setup<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/networking/"><input type="checkbox" id="R-section-d7c3359b808d40df139a3bb9f9073483" aria-controls="R-subsections-d7c3359b808d40df139a3bb9f9073483"><label for="R-section-d7c3359b808d40df139a3bb9f9073483"><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Networking</span></label><a class="padding" href="/networking/">Networking<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-d7c3359b808d40df139a3bb9f9073483" class="collapsible-menu">
            <li class="" data-nav-id="/networking/how-to-study-for-the-ccna-exam/"><a class="padding" href="/networking/how-to-study-for-the-ccna-exam/"><i class='fa-fw fas fa-caret-right'></i> How to Study for the CCNA Exam<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/networking/resources-for-passing-ccna/"><a class="padding" href="/networking/resources-for-passing-ccna/"><i class='fa-fw fas fa-caret-right'></i> Resources for Passing CCNA<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/networking/what-to-learn-after-ccna/"><a class="padding" href="/networking/what-to-learn-after-ccna/"><i class='fa-fw fas fa-caret-right'></i> What to Learn After CCNA<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/tools/"><input type="checkbox" id="R-section-bf1399820dde3dd110e03ace4147ff86" aria-controls="R-subsections-bf1399820dde3dd110e03ace4147ff86"><label for="R-section-bf1399820dde3dd110e03ace4147ff86"><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Tools</span></label><a class="padding" href="/tools/">Tools<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-bf1399820dde3dd110e03ace4147ff86" class="collapsible-menu">
            <li class="" data-nav-id="/tools/calibre-web-with-docker-and-nginx/"><a class="padding" href="/tools/calibre-web-with-docker-and-nginx/"><i class='fa-fw fas fa-caret-right'></i> Calibre Web with Docker and NGINX<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/tools/how-to-build-a-website-with-hugo/"><a class="padding" href="/tools/how-to-build-a-website-with-hugo/"><i class='fa-fw fas fa-caret-right'></i> How to Build a Website with Hugo<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/tools/process-bookfusion-highlights/"><a class="padding" href="/tools/process-bookfusion-highlights/"><i class='fa-fw fas fa-caret-right'></i> How to Process Bookfusion Highlights with Vim<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/tools/how-to-set-up-hugo-relearn-theme/"><a class="padding" href="/tools/how-to-set-up-hugo-relearn-theme/"><i class='fa-fw fas fa-caret-right'></i> How to Set Up Hugo Relearn Theme<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/tools/setting-up-a-self-hosted-nextcloud-server/"><a class="padding" href="/tools/setting-up-a-self-hosted-nextcloud-server/"><i class='fa-fw fas fa-caret-right'></i> Setting Up a Self-hosted NextCloud Server<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/tools/using-vagrant-on-linux/"><a class="padding" href="/tools/using-vagrant-on-linux/"><i class='fa-fw fas fa-caret-right'></i> Using Vagrant on Linux<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/writing/"><input type="checkbox" id="R-section-e3d1318aa75db5bce0725e0a3ed7bb24" aria-controls="R-subsections-e3d1318aa75db5bce0725e0a3ed7bb24"><label for="R-section-e3d1318aa75db5bce0725e0a3ed7bb24"><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Writing</span></label><a class="padding" href="/writing/">Writing<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-e3d1318aa75db5bce0725e0a3ed7bb24" class="collapsible-menu">
            <li class="" data-nav-id="/writing/19-biggest-lessons-from-reading-100-books./"><a class="padding" href="/writing/19-biggest-lessons-from-reading-100-books./"><i class='fa-fw fas fa-caret-right'></i> 19 Biggest Lessons from Reading 100 Books<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/writing/nat-eliasons-seo-course/"><a class="padding" href="/writing/nat-eliasons-seo-course/"><i class='fa-fw fas fa-caret-right'></i> Nat Eliason&#39;s SEO Course<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/writing/writing-off-the-cuff/"><a class="padding" href="/writing/writing-off-the-cuff/"><i class='fa-fw fas fa-caret-right'></i> Writing Off the Cuff<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/health-and-fitness/"><input type="checkbox" id="R-section-8ea26d41efde3afeda887278c69eb108" aria-controls="R-subsections-8ea26d41efde3afeda887278c69eb108"><label for="R-section-8ea26d41efde3afeda887278c69eb108"><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Health and Fitness</span></label><a class="padding" href="/health-and-fitness/">Health and Fitness<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-8ea26d41efde3afeda887278c69eb108" class="collapsible-menu">
            <li class="" data-nav-id="/health-and-fitness/4-ways-to-quit-caffeine/"><a class="padding" href="/health-and-fitness/4-ways-to-quit-caffeine/"><i class='fa-fw fas fa-caret-right'></i> 4 Ways to Quit Caffeine<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/health-and-fitness/7-steps-to-get-back-on-a-nofap-streak-immediately/"><a class="padding" href="/health-and-fitness/7-steps-to-get-back-on-a-nofap-streak-immediately/"><i class='fa-fw fas fa-caret-right'></i> 7 Steps to Get Back on a NoFap Streak Immediately<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/health-and-fitness/caffeine-is-destroying-you/"><a class="padding" href="/health-and-fitness/caffeine-is-destroying-you/"><i class='fa-fw fas fa-caret-right'></i> Caffeine is Destroying You<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/philosophy/"><input type="checkbox" id="R-section-8c82ea449b1ed3a82ac9f4c033e6c771" aria-controls="R-subsections-8c82ea449b1ed3a82ac9f4c033e6c771"><label for="R-section-8c82ea449b1ed3a82ac9f4c033e6c771"><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Philosophy</span></label><a class="padding" href="/philosophy/">Philosophy<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-8c82ea449b1ed3a82ac9f4c033e6c771" class="collapsible-menu">
            <li class="" data-nav-id="/philosophy/austerities/"><a class="padding" href="/philosophy/austerities/"><i class='fa-fw fas fa-caret-right'></i> Austerities<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/philosophy/the-journey/"><a class="padding" href="/philosophy/the-journey/"><i class='fa-fw fas fa-caret-right'></i> The Journey<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/recipes/"><input type="checkbox" id="R-section-c577cf8a0811f0416711bbf6194eeea7" aria-controls="R-subsections-c577cf8a0811f0416711bbf6194eeea7"><label for="R-section-c577cf8a0811f0416711bbf6194eeea7"><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Recipes</span></label><a class="padding" href="/recipes/">Recipes<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-c577cf8a0811f0416711bbf6194eeea7" class="collapsible-menu">
            <li class="" data-nav-id="/recipes/creamy-jalepeno-sauce/"><a class="padding" href="/recipes/creamy-jalepeno-sauce/"><i class='fa-fw fas fa-caret-right'></i> Creamy Jalepeno Sauce<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/recipes/easy-mango-salsa-quinoa-bowl/"><a class="padding" href="/recipes/easy-mango-salsa-quinoa-bowl/"><i class='fa-fw fas fa-caret-right'></i> Easy Mango Salsa Quinoa Bowl<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/recipes/tempeh-bacon/"><a class="padding" href="/recipes/tempeh-bacon/"><i class='fa-fw fas fa-caret-right'></i> Tempeh Bacon<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/recipes/vegan-tofu-quesadilla/"><a class="padding" href="/recipes/vegan-tofu-quesadilla/"><i class='fa-fw fas fa-caret-right'></i> Vegan Tofu Quesadilla<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
          </ul>
        </div>
        <div id="R-shortcutmenu-shortcuts" class="R-sidebarmenu">
          <div class="nav-title padding">More</div>
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="https://github.com/davidvargasxyz"><a class="padding" href="https://github.com/davidvargasxyz" target="_blank"><i class='fab fa-fw fa-github'></i> GitHub<i class="fa-fw fas fa-check read-icon"></i></a></li>
          </ul>
        </div>
        <div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"></div>
        <div id="R-menu-footer">
          <hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter">
          <div id="R-prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVisitedLinks">
            <ul>
              <li id="R-select-language-container" class="footerLangSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-language"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-language">Language</label>
                    <select id="R-select-language" onchange="location = this.querySelector( this.value ).dataset.url;">
                      <option id="R-select-language-en" value="#R-select-language-en" data-url="/linux/system-logging/" lang="en-us" selected></option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
              <li id="R-select-variant-container" class="footerVariantSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-paint-brush"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-variant">Theme</label>
                    <select id="R-select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                      <option id="R-select-variant-amoled" value="amoled" selected>Amoled</option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
                <script>window.variants && variants.markSelectedVariant();</script>
              </li>
              <li class="footerVisitedLinks showVisitedLinks">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-history"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <button onclick="clearHistory();">Clear History</button>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
            </ul>
          </div>
          <div id="R-footer" class="footerFooter showFooter">
        <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p>
          </div>
        </div>
      </div>
    </aside>
    <script src="/js/clipboard.min.js?1730768046" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1730768046" defer></script>
    <script>
      function useMathJax( config ){
        window.MathJax = Object.assign( window.MathJax || {}, {
          tex: {
            inlineMath:  [['\\(', '\\)'], ['$',  '$']],  
            displayMath: [['\\[', '\\]'], ['$$', '$$']], 
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/js/d3/d3-color.min.js?1730768046" defer></script>
    <script src="/js/d3/d3-dispatch.min.js?1730768046" defer></script>
    <script src="/js/d3/d3-drag.min.js?1730768046" defer></script>
    <script src="/js/d3/d3-ease.min.js?1730768046" defer></script>
    <script src="/js/d3/d3-interpolate.min.js?1730768046" defer></script>
    <script src="/js/d3/d3-selection.min.js?1730768046" defer></script>
    <script src="/js/d3/d3-timer.min.js?1730768046" defer></script>
    <script src="/js/d3/d3-transition.min.js?1730768046" defer></script>
    <script src="/js/d3/d3-zoom.min.js?1730768046" defer></script>
    <script src="/js/js-yaml.min.js?1730768046" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="/js/theme.js?1730768046" defer></script>
  </body>
</html>
