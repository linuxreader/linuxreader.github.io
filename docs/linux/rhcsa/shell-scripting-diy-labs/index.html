<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.145.0">
    <meta name="generator" content="Relearn 7.1.1">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="Shell Scripting DIY Labs Lab: Write Script to Create Logical Volumes Present 2x1GB virtual disks to server40 in VirtualBox Manager. As user1 with sudo on server40, write a single bash script to create 2x400MB partitions on each disk using parted and then bring both partitions into LVM control with the pvcreate command. vim /usr/local/bin/lvscript.sh Create a volume group called vgscript and add both physical volumes to it. Create three logical volumes each of size 200MB and name them lvscript1, lvscript2, and lvscript3. #!/bin/bash for DEVICE in &#34;/dev/sd&#34;{b..c} do echo &#34;Creating partition 1 with the size of 400MB on $DEVICE&#34; parted $DEVICE mklabel msdos parted $DEVICE mkpart primary 1 401 pvcreate $DEVICE[1] echo &#34;Creating partition 2 with the size of 400MB on $DEVICE&#34; parted $DEVICE mkpart primary 402 802 pvcreate $DEVICE[2] vgcreate vgscript $DEVICE[1] $DEVICE[2] done for LV in &#34;lvscript&#34;{1..3} do echo &#34;Creating logical volume $LV in volume group vgscript with the size of 200MB&#34; lvcreate vgscript -L 200MB -n $LV done Lab: Write Script to Create File Systems Write another bash script to create xfs, ext4, and vfat file system structures in the logical volumes, respectively. Create mount points /mnt/xfs, /mnt/ext4, and /mnt/vfat, and mount the file systems. Include the df command with -h in the script to list the mounted file systems. vim /usr/local/bin/fsscript.sh [root@server40 ~]# chmod &#43;x /usr/local/bin/fsscript.sh #!/bin/bash for DEVICE in lvscript{1..3} do if [ &#34;$DEVICE&#34; = lvscript1 ] then echo &#34;Creating xfs filesystem on logical volume lvscript1&#34; echo mkfs.xfs /dev/vgscript/lvscript1 echo &#34;Creating /mnt/xfs&#34; mkdir /mnt/xfs echo &#34;Mounting filesystem&#34; mount /dev/vgscript/lvscript1 /mnt/xfs elif [ &#34;$DEVICE&#34; = lvscript2 ] then echo &#34;Creating ext4 filesystem on logical volume lvscript2&#34; echo mkfs.ext4 /dev/vgscript/lvscript2 echo &#34;Creating /mnt/ext4&#34; mkdir /mnt/ext4 echo &#34;Mounting filesystem&#34; mount /dev/vgscript/lvscript2 /mnt/ext4 elif [ &#34;$DEVICE&#34; = lvscript3 ] then echo &#34;Creating vfat filesystem on logical volume lvscript3&#34; echo mkfs.vfat /dev/vgscript/lvscript3 echo &#34;Creating /mnt/vfat&#34; mkdir /mnt/vfat echo &#34;Mounting filesystem&#34; mount /dev/vgscript/lvscript3 /mnt/vfat echo echo echo &#34;Done!&#34; df -h else echo fi done [root@server40 ~]# fsscript.sh Creating xfs filesystem on logical volume lvscript1 Filesystem should be larger than 300MB. Log size should be at least 64MB. Support for filesystems like this one is deprecated and they will not be supported in future releases. meta-data=/dev/vgscript/lvscript1 isize=512 agcount=4, agsize=12800 blks = sectsz=512 attr=2, projid32bit=1 = crc=1 finobt=1, sparse=1, rmapbt=0 = reflink=1 bigtime=1 inobtcount=1 nrext64=0 data = bsize=4096 blocks=51200, imaxpct=25 = sunit=0 swidth=0 blks naming =version 2 bsize=4096 ascii-ci=0, ftype=1 log =internal log bsize=4096 blocks=1368, version=2 = sectsz=512 sunit=0 blks, lazy- count=1 realtime =none extsz=4096 blocks=0, rtextents=0 Creating /mnt/xfs Mounting filesystem Creating ext4 filesystem on logical volume lvscript2 mke2fs 1.46.5 (30-Dec-2021) Creating filesystem with 204800 1k blocks and 51200 inodes Filesystem UUID: b16383bf-7b65-4a00-bb6d-c297733f60b3 Superblock backups stored on blocks: 8193, 24577, 40961, 57345, 73729 Allocating group tables: done Writing inode tables: done Creating journal (4096 blocks): done Writing superblocks and filesystem accounting information: done Creating /mnt/ext4 Mounting filesystem Creating vfat filesystem on logical volume lvscript3 mkfs.fat 4.2 (2021-01-31) Creating /mnt/vfat Mounting filesystem Done! Lab 21-3: Write Script to Configure New Network Connection Profile Present a new network interface to server40 in VirtualBox Manager. As user1 with sudo on server40, write a single bash script to run the nmcli command to configure custom IP assignments (choose your own settings) on the new network device. Make a copy of the /etc/hosts file as part of this script. Choose a hostname of your choice and add a mapping to the /etc/hosts file without overwriting existing file content. [root@server40 ~]# vim /usr/local/bin/network.sh #!/bin/bash cp /etc/hosts /etc/hosts.bak &amp;&amp; nmcli c a type Ethernet con-name enp0s9 ifname enp0s9 ip4 10.32.32.2/24 gw4 10.32.32.1 echo &#34;10.32.33.14 frog.example.com frog&#34; &gt;&gt; /etc/hosts [root@server40 ~]# chmod &#43;x /usr/local/bin/network.sh [root@server40 ~]# network.sh Connection &#39;enp0s9&#39; (5a342243-e77b-452e-88e2-8838d3ecea6d) successfully added. [root@server40 ~]# cat /etc/hosts 127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 10.32.33.14 frog.example.com frog [root@server40 ~]# ip a enp0s9: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000 link/ether 08:00:27:1d:f4:c1 brd ff:ff:ff:ff:ff:ff inet 10.32.32.2/24 brd 10.32.32.255 scope global noprefixroute enp0s9 valid_lft forever preferred_lft forever inet6 fe80::2c5d:31cc:1d79:6b43/64 scope link noprefixroute valid_lft forever preferred_lft forever [root@server40 ~]# nmcli d s DEVICE TYPE STATE CONNECTION enp0s3 ethernet connected enp0s3 enp0s8 ethernet connected enp0s8 enp0s9 ethernet connected enp0s9 lo loopback connected (externally) lo">
    <meta name="author" content="David Thomas">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:description" content="Shell Scripting DIY Labs Lab: Write Script to Create Logical Volumes Present 2x1GB virtual disks to server40 in VirtualBox Manager. As user1 with sudo on server40, write a single bash script to create 2x400MB partitions on each disk using parted and then bring both partitions into LVM control with the pvcreate command. vim /usr/local/bin/lvscript.sh Create a volume group called vgscript and add both physical volumes to it. Create three logical volumes each of size 200MB and name them lvscript1, lvscript2, and lvscript3. #!/bin/bash for DEVICE in &#34;/dev/sd&#34;{b..c} do echo &#34;Creating partition 1 with the size of 400MB on $DEVICE&#34; parted $DEVICE mklabel msdos parted $DEVICE mkpart primary 1 401 pvcreate $DEVICE[1] echo &#34;Creating partition 2 with the size of 400MB on $DEVICE&#34; parted $DEVICE mkpart primary 402 802 pvcreate $DEVICE[2] vgcreate vgscript $DEVICE[1] $DEVICE[2] done for LV in &#34;lvscript&#34;{1..3} do echo &#34;Creating logical volume $LV in volume group vgscript with the size of 200MB&#34; lvcreate vgscript -L 200MB -n $LV done Lab: Write Script to Create File Systems Write another bash script to create xfs, ext4, and vfat file system structures in the logical volumes, respectively. Create mount points /mnt/xfs, /mnt/ext4, and /mnt/vfat, and mount the file systems. Include the df command with -h in the script to list the mounted file systems. vim /usr/local/bin/fsscript.sh [root@server40 ~]# chmod &#43;x /usr/local/bin/fsscript.sh #!/bin/bash for DEVICE in lvscript{1..3} do if [ &#34;$DEVICE&#34; = lvscript1 ] then echo &#34;Creating xfs filesystem on logical volume lvscript1&#34; echo mkfs.xfs /dev/vgscript/lvscript1 echo &#34;Creating /mnt/xfs&#34; mkdir /mnt/xfs echo &#34;Mounting filesystem&#34; mount /dev/vgscript/lvscript1 /mnt/xfs elif [ &#34;$DEVICE&#34; = lvscript2 ] then echo &#34;Creating ext4 filesystem on logical volume lvscript2&#34; echo mkfs.ext4 /dev/vgscript/lvscript2 echo &#34;Creating /mnt/ext4&#34; mkdir /mnt/ext4 echo &#34;Mounting filesystem&#34; mount /dev/vgscript/lvscript2 /mnt/ext4 elif [ &#34;$DEVICE&#34; = lvscript3 ] then echo &#34;Creating vfat filesystem on logical volume lvscript3&#34; echo mkfs.vfat /dev/vgscript/lvscript3 echo &#34;Creating /mnt/vfat&#34; mkdir /mnt/vfat echo &#34;Mounting filesystem&#34; mount /dev/vgscript/lvscript3 /mnt/vfat echo echo echo &#34;Done!&#34; df -h else echo fi done [root@server40 ~]# fsscript.sh Creating xfs filesystem on logical volume lvscript1 Filesystem should be larger than 300MB. Log size should be at least 64MB. Support for filesystems like this one is deprecated and they will not be supported in future releases. meta-data=/dev/vgscript/lvscript1 isize=512 agcount=4, agsize=12800 blks = sectsz=512 attr=2, projid32bit=1 = crc=1 finobt=1, sparse=1, rmapbt=0 = reflink=1 bigtime=1 inobtcount=1 nrext64=0 data = bsize=4096 blocks=51200, imaxpct=25 = sunit=0 swidth=0 blks naming =version 2 bsize=4096 ascii-ci=0, ftype=1 log =internal log bsize=4096 blocks=1368, version=2 = sectsz=512 sunit=0 blks, lazy- count=1 realtime =none extsz=4096 blocks=0, rtextents=0 Creating /mnt/xfs Mounting filesystem Creating ext4 filesystem on logical volume lvscript2 mke2fs 1.46.5 (30-Dec-2021) Creating filesystem with 204800 1k blocks and 51200 inodes Filesystem UUID: b16383bf-7b65-4a00-bb6d-c297733f60b3 Superblock backups stored on blocks: 8193, 24577, 40961, 57345, 73729 Allocating group tables: done Writing inode tables: done Creating journal (4096 blocks): done Writing superblocks and filesystem accounting information: done Creating /mnt/ext4 Mounting filesystem Creating vfat filesystem on logical volume lvscript3 mkfs.fat 4.2 (2021-01-31) Creating /mnt/vfat Mounting filesystem Done! Lab 21-3: Write Script to Configure New Network Connection Profile Present a new network interface to server40 in VirtualBox Manager. As user1 with sudo on server40, write a single bash script to run the nmcli command to configure custom IP assignments (choose your own settings) on the new network device. Make a copy of the /etc/hosts file as part of this script. Choose a hostname of your choice and add a mapping to the /etc/hosts file without overwriting existing file content. [root@server40 ~]# vim /usr/local/bin/network.sh #!/bin/bash cp /etc/hosts /etc/hosts.bak &amp;&amp; nmcli c a type Ethernet con-name enp0s9 ifname enp0s9 ip4 10.32.32.2/24 gw4 10.32.32.1 echo &#34;10.32.33.14 frog.example.com frog&#34; &gt;&gt; /etc/hosts [root@server40 ~]# chmod &#43;x /usr/local/bin/network.sh [root@server40 ~]# network.sh Connection &#39;enp0s9&#39; (5a342243-e77b-452e-88e2-8838d3ecea6d) successfully added. [root@server40 ~]# cat /etc/hosts 127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 10.32.33.14 frog.example.com frog [root@server40 ~]# ip a enp0s9: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000 link/ether 08:00:27:1d:f4:c1 brd ff:ff:ff:ff:ff:ff inet 10.32.32.2/24 brd 10.32.32.255 scope global noprefixroute enp0s9 valid_lft forever preferred_lft forever inet6 fe80::2c5d:31cc:1d79:6b43/64 scope link noprefixroute valid_lft forever preferred_lft forever [root@server40 ~]# nmcli d s DEVICE TYPE STATE CONNECTION enp0s3 ethernet connected enp0s3 enp0s8 ethernet connected enp0s8 enp0s9 ethernet connected enp0s9 lo loopback connected (externally) lo">
    <meta property="og:url" content="http://linuxreader.com/linux/rhcsa/shell-scripting-diy-labs/">
    <meta property="og:site_name" content="Linux Reader">
    <meta property="og:description" content="Shell Scripting DIY Labs Lab: Write Script to Create Logical Volumes Present 2x1GB virtual disks to server40 in VirtualBox Manager. As user1 with sudo on server40, write a single bash script to create 2x400MB partitions on each disk using parted and then bring both partitions into LVM control with the pvcreate command. vim /usr/local/bin/lvscript.sh Create a volume group called vgscript and add both physical volumes to it. Create three logical volumes each of size 200MB and name them lvscript1, lvscript2, and lvscript3. #!/bin/bash for DEVICE in &#34;/dev/sd&#34;{b..c} do echo &#34;Creating partition 1 with the size of 400MB on $DEVICE&#34; parted $DEVICE mklabel msdos parted $DEVICE mkpart primary 1 401 pvcreate $DEVICE[1] echo &#34;Creating partition 2 with the size of 400MB on $DEVICE&#34; parted $DEVICE mkpart primary 402 802 pvcreate $DEVICE[2] vgcreate vgscript $DEVICE[1] $DEVICE[2] done for LV in &#34;lvscript&#34;{1..3} do echo &#34;Creating logical volume $LV in volume group vgscript with the size of 200MB&#34; lvcreate vgscript -L 200MB -n $LV done Lab: Write Script to Create File Systems Write another bash script to create xfs, ext4, and vfat file system structures in the logical volumes, respectively. Create mount points /mnt/xfs, /mnt/ext4, and /mnt/vfat, and mount the file systems. Include the df command with -h in the script to list the mounted file systems. vim /usr/local/bin/fsscript.sh [root@server40 ~]# chmod &#43;x /usr/local/bin/fsscript.sh #!/bin/bash for DEVICE in lvscript{1..3} do if [ &#34;$DEVICE&#34; = lvscript1 ] then echo &#34;Creating xfs filesystem on logical volume lvscript1&#34; echo mkfs.xfs /dev/vgscript/lvscript1 echo &#34;Creating /mnt/xfs&#34; mkdir /mnt/xfs echo &#34;Mounting filesystem&#34; mount /dev/vgscript/lvscript1 /mnt/xfs elif [ &#34;$DEVICE&#34; = lvscript2 ] then echo &#34;Creating ext4 filesystem on logical volume lvscript2&#34; echo mkfs.ext4 /dev/vgscript/lvscript2 echo &#34;Creating /mnt/ext4&#34; mkdir /mnt/ext4 echo &#34;Mounting filesystem&#34; mount /dev/vgscript/lvscript2 /mnt/ext4 elif [ &#34;$DEVICE&#34; = lvscript3 ] then echo &#34;Creating vfat filesystem on logical volume lvscript3&#34; echo mkfs.vfat /dev/vgscript/lvscript3 echo &#34;Creating /mnt/vfat&#34; mkdir /mnt/vfat echo &#34;Mounting filesystem&#34; mount /dev/vgscript/lvscript3 /mnt/vfat echo echo echo &#34;Done!&#34; df -h else echo fi done [root@server40 ~]# fsscript.sh Creating xfs filesystem on logical volume lvscript1 Filesystem should be larger than 300MB. Log size should be at least 64MB. Support for filesystems like this one is deprecated and they will not be supported in future releases. meta-data=/dev/vgscript/lvscript1 isize=512 agcount=4, agsize=12800 blks = sectsz=512 attr=2, projid32bit=1 = crc=1 finobt=1, sparse=1, rmapbt=0 = reflink=1 bigtime=1 inobtcount=1 nrext64=0 data = bsize=4096 blocks=51200, imaxpct=25 = sunit=0 swidth=0 blks naming =version 2 bsize=4096 ascii-ci=0, ftype=1 log =internal log bsize=4096 blocks=1368, version=2 = sectsz=512 sunit=0 blks, lazy- count=1 realtime =none extsz=4096 blocks=0, rtextents=0 Creating /mnt/xfs Mounting filesystem Creating ext4 filesystem on logical volume lvscript2 mke2fs 1.46.5 (30-Dec-2021) Creating filesystem with 204800 1k blocks and 51200 inodes Filesystem UUID: b16383bf-7b65-4a00-bb6d-c297733f60b3 Superblock backups stored on blocks: 8193, 24577, 40961, 57345, 73729 Allocating group tables: done Writing inode tables: done Creating journal (4096 blocks): done Writing superblocks and filesystem accounting information: done Creating /mnt/ext4 Mounting filesystem Creating vfat filesystem on logical volume lvscript3 mkfs.fat 4.2 (2021-01-31) Creating /mnt/vfat Mounting filesystem Done! Lab 21-3: Write Script to Configure New Network Connection Profile Present a new network interface to server40 in VirtualBox Manager. As user1 with sudo on server40, write a single bash script to run the nmcli command to configure custom IP assignments (choose your own settings) on the new network device. Make a copy of the /etc/hosts file as part of this script. Choose a hostname of your choice and add a mapping to the /etc/hosts file without overwriting existing file content. [root@server40 ~]# vim /usr/local/bin/network.sh #!/bin/bash cp /etc/hosts /etc/hosts.bak &amp;&amp; nmcli c a type Ethernet con-name enp0s9 ifname enp0s9 ip4 10.32.32.2/24 gw4 10.32.32.1 echo &#34;10.32.33.14 frog.example.com frog&#34; &gt;&gt; /etc/hosts [root@server40 ~]# chmod &#43;x /usr/local/bin/network.sh [root@server40 ~]# network.sh Connection &#39;enp0s9&#39; (5a342243-e77b-452e-88e2-8838d3ecea6d) successfully added. [root@server40 ~]# cat /etc/hosts 127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 10.32.33.14 frog.example.com frog [root@server40 ~]# ip a enp0s9: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000 link/ether 08:00:27:1d:f4:c1 brd ff:ff:ff:ff:ff:ff inet 10.32.32.2/24 brd 10.32.32.255 scope global noprefixroute enp0s9 valid_lft forever preferred_lft forever inet6 fe80::2c5d:31cc:1d79:6b43/64 scope link noprefixroute valid_lft forever preferred_lft forever [root@server40 ~]# nmcli d s DEVICE TYPE STATE CONNECTION enp0s3 ethernet connected enp0s3 enp0s8 ethernet connected enp0s8 enp0s9 ethernet connected enp0s9 lo loopback connected (externally) lo">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Linux">
    <meta itemprop="description" content="Shell Scripting DIY Labs Lab: Write Script to Create Logical Volumes Present 2x1GB virtual disks to server40 in VirtualBox Manager. As user1 with sudo on server40, write a single bash script to create 2x400MB partitions on each disk using parted and then bring both partitions into LVM control with the pvcreate command. vim /usr/local/bin/lvscript.sh Create a volume group called vgscript and add both physical volumes to it. Create three logical volumes each of size 200MB and name them lvscript1, lvscript2, and lvscript3. #!/bin/bash for DEVICE in &#34;/dev/sd&#34;{b..c} do echo &#34;Creating partition 1 with the size of 400MB on $DEVICE&#34; parted $DEVICE mklabel msdos parted $DEVICE mkpart primary 1 401 pvcreate $DEVICE[1] echo &#34;Creating partition 2 with the size of 400MB on $DEVICE&#34; parted $DEVICE mkpart primary 402 802 pvcreate $DEVICE[2] vgcreate vgscript $DEVICE[1] $DEVICE[2] done for LV in &#34;lvscript&#34;{1..3} do echo &#34;Creating logical volume $LV in volume group vgscript with the size of 200MB&#34; lvcreate vgscript -L 200MB -n $LV done Lab: Write Script to Create File Systems Write another bash script to create xfs, ext4, and vfat file system structures in the logical volumes, respectively. Create mount points /mnt/xfs, /mnt/ext4, and /mnt/vfat, and mount the file systems. Include the df command with -h in the script to list the mounted file systems. vim /usr/local/bin/fsscript.sh [root@server40 ~]# chmod &#43;x /usr/local/bin/fsscript.sh #!/bin/bash for DEVICE in lvscript{1..3} do if [ &#34;$DEVICE&#34; = lvscript1 ] then echo &#34;Creating xfs filesystem on logical volume lvscript1&#34; echo mkfs.xfs /dev/vgscript/lvscript1 echo &#34;Creating /mnt/xfs&#34; mkdir /mnt/xfs echo &#34;Mounting filesystem&#34; mount /dev/vgscript/lvscript1 /mnt/xfs elif [ &#34;$DEVICE&#34; = lvscript2 ] then echo &#34;Creating ext4 filesystem on logical volume lvscript2&#34; echo mkfs.ext4 /dev/vgscript/lvscript2 echo &#34;Creating /mnt/ext4&#34; mkdir /mnt/ext4 echo &#34;Mounting filesystem&#34; mount /dev/vgscript/lvscript2 /mnt/ext4 elif [ &#34;$DEVICE&#34; = lvscript3 ] then echo &#34;Creating vfat filesystem on logical volume lvscript3&#34; echo mkfs.vfat /dev/vgscript/lvscript3 echo &#34;Creating /mnt/vfat&#34; mkdir /mnt/vfat echo &#34;Mounting filesystem&#34; mount /dev/vgscript/lvscript3 /mnt/vfat echo echo echo &#34;Done!&#34; df -h else echo fi done [root@server40 ~]# fsscript.sh Creating xfs filesystem on logical volume lvscript1 Filesystem should be larger than 300MB. Log size should be at least 64MB. Support for filesystems like this one is deprecated and they will not be supported in future releases. meta-data=/dev/vgscript/lvscript1 isize=512 agcount=4, agsize=12800 blks = sectsz=512 attr=2, projid32bit=1 = crc=1 finobt=1, sparse=1, rmapbt=0 = reflink=1 bigtime=1 inobtcount=1 nrext64=0 data = bsize=4096 blocks=51200, imaxpct=25 = sunit=0 swidth=0 blks naming =version 2 bsize=4096 ascii-ci=0, ftype=1 log =internal log bsize=4096 blocks=1368, version=2 = sectsz=512 sunit=0 blks, lazy- count=1 realtime =none extsz=4096 blocks=0, rtextents=0 Creating /mnt/xfs Mounting filesystem Creating ext4 filesystem on logical volume lvscript2 mke2fs 1.46.5 (30-Dec-2021) Creating filesystem with 204800 1k blocks and 51200 inodes Filesystem UUID: b16383bf-7b65-4a00-bb6d-c297733f60b3 Superblock backups stored on blocks: 8193, 24577, 40961, 57345, 73729 Allocating group tables: done Writing inode tables: done Creating journal (4096 blocks): done Writing superblocks and filesystem accounting information: done Creating /mnt/ext4 Mounting filesystem Creating vfat filesystem on logical volume lvscript3 mkfs.fat 4.2 (2021-01-31) Creating /mnt/vfat Mounting filesystem Done! Lab 21-3: Write Script to Configure New Network Connection Profile Present a new network interface to server40 in VirtualBox Manager. As user1 with sudo on server40, write a single bash script to run the nmcli command to configure custom IP assignments (choose your own settings) on the new network device. Make a copy of the /etc/hosts file as part of this script. Choose a hostname of your choice and add a mapping to the /etc/hosts file without overwriting existing file content. [root@server40 ~]# vim /usr/local/bin/network.sh #!/bin/bash cp /etc/hosts /etc/hosts.bak &amp;&amp; nmcli c a type Ethernet con-name enp0s9 ifname enp0s9 ip4 10.32.32.2/24 gw4 10.32.32.1 echo &#34;10.32.33.14 frog.example.com frog&#34; &gt;&gt; /etc/hosts [root@server40 ~]# chmod &#43;x /usr/local/bin/network.sh [root@server40 ~]# network.sh Connection &#39;enp0s9&#39; (5a342243-e77b-452e-88e2-8838d3ecea6d) successfully added. [root@server40 ~]# cat /etc/hosts 127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 10.32.33.14 frog.example.com frog [root@server40 ~]# ip a enp0s9: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000 link/ether 08:00:27:1d:f4:c1 brd ff:ff:ff:ff:ff:ff inet 10.32.32.2/24 brd 10.32.32.255 scope global noprefixroute enp0s9 valid_lft forever preferred_lft forever inet6 fe80::2c5d:31cc:1d79:6b43/64 scope link noprefixroute valid_lft forever preferred_lft forever [root@server40 ~]# nmcli d s DEVICE TYPE STATE CONNECTION enp0s3 ethernet connected enp0s3 enp0s8 ethernet connected enp0s8 enp0s9 ethernet connected enp0s9 lo loopback connected (externally) lo">
    <meta itemprop="wordCount" content="695">
    <title></title>
    <link href="/linux/rhcsa/shell-scripting-diy-labs/index.xml" rel="alternate" type="application/rss+xml" title="">
    <link href="/linux/rhcsa/shell-scripting-diy-labs/index.print.html" rel="alternate" type="text/html" title="">
    <link href="/images/logo.svg?1741629298" rel="icon" type="image/svg+xml">
    <link href="/css/fontawesome-all.min.css?1741629298" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1741629298" rel="stylesheet"></noscript>
    <link href="/css/nucleus.css?1741629298" rel="stylesheet">
    <link href="/css/auto-complete.css?1741629298" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1741629298" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1741629298" rel="stylesheet">
    <link href="/css/fonts.css?1741629298" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1741629298" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1741629298" rel="stylesheet">
    <link href="/css/theme-amoled.css?1741629298" rel="stylesheet" id="R-variant-style">
    <link href="/css/chroma-relearn-dark.css?1741629298" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/css/print.css?1741629298" rel="stylesheet" media="print">
    <script src="/js/variant.js?1741629298"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='http:\/\/linuxreader.com';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      // variant stuff
      window.variants && variants.init( [ 'amoled' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script><style>
:root {
    --MENU-WIDTH-S: 12.375rem;
    --MENU-WIDTH-M: 12.375rem;
    --MENU-WIDTH-L: 16.75rem;
    --MAIN-WIDTH-MAX: 80rem;
    font-size: 1.2rem;
}
</style>

  </head>
  <body class="mobile-support html disableInlineCopyToClipboard" data-url="/linux/rhcsa/shell-scripting-diy-labs/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-back" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="history.back()" type="button" title=""><i class="fa-fw fas fa-chevron-left"></i></button>
            </div>

            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#shell-scripting-diy-labs">Shell Scripting DIY Labs</a>
      <ul>
        <li><a href="#lab-write-script-to-create-logical-volumes">Lab: Write Script to Create Logical Volumes</a></li>
        <li><a href="#lab-write-script-to-create-file-systems">Lab: Write Script to Create File Systems</a></li>
        <li><a href="#lab-21-3-write-script-to-configure-new-network-connection-profile">Lab 21-3: Write Script to Configure New Network Connection Profile</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>


          </div>
          <span class="topbar-breadcrumbs highlightable">
            
          </span>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-about" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/about/" title=""><span class="title">About</span></a>
            </div>

            <div class="topbar-button topbar-button-now" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/now/" title=""><span class="title">Now</span></a>
            </div>

            <div class="topbar-button topbar-button-booknotes" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/booknotes/" title=""><span class="title">Book Notes</span></a>
            </div>

            <div class="topbar-button topbar-button-contact" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/contact/" title=""><span class="title">Contact</span></a>
            </div>






          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable linux" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id=""></h1>

<h2 id="shell-scripting-diy-labs">Shell Scripting DIY Labs</h2>
<h3 id="lab-write-script-to-create-logical-volumes">Lab: Write Script to Create Logical Volumes</h3>
<ul>
<li>Present 2x1GB virtual disks to server40 in VirtualBox Manager.</li>
<li>As user1 with sudo on server40, write a single bash script to create 2x400MB partitions on each disk using parted and then bring both partitions into LVM control with the <code>pvcreate</code> command.</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> vim /usr/local/bin/lvscript.sh</span></span></code></pre></div>
<ul>
<li>Create a volume group called <code>vgscript</code> and add both physical volumes to it.</li>
<li>Create three logical volumes each of size 200MB and name them lvscript1, lvscript2, and lvscript3.</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#78787e">#!/bin/bash</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">for</span> DEVICE in <span style="color:#5af78e">&#34;/dev/sd&#34;</span><span style="color:#ff6ac1">{</span>b..c<span style="color:#ff6ac1">}</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">do</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Creating partition 1 with the size of 400MB on </span><span style="color:#ff5c57">$DEVICE</span><span style="color:#5af78e">&#34;</span>
</span></span><span style="display:flex;"><span>        parted <span style="color:#ff5c57">$DEVICE</span> mklabel msdos
</span></span><span style="display:flex;"><span>        parted <span style="color:#ff5c57">$DEVICE</span> mkpart primary <span style="color:#ff9f43">1</span> <span style="color:#ff9f43">401</span>
</span></span><span style="display:flex;"><span>        pvcreate <span style="color:#ff5c57">$DEVICE</span><span style="color:#ff6ac1">[</span>1<span style="color:#ff6ac1">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Creating partition 2 with the size of 400MB on </span><span style="color:#ff5c57">$DEVICE</span><span style="color:#5af78e">&#34;</span>
</span></span><span style="display:flex;"><span>        parted <span style="color:#ff5c57">$DEVICE</span> mkpart primary <span style="color:#ff9f43">402</span> <span style="color:#ff9f43">802</span>
</span></span><span style="display:flex;"><span>        pvcreate <span style="color:#ff5c57">$DEVICE</span><span style="color:#ff6ac1">[</span>2<span style="color:#ff6ac1">]</span>
</span></span><span style="display:flex;"><span>        vgcreate vgscript <span style="color:#ff5c57">$DEVICE</span><span style="color:#ff6ac1">[</span>1<span style="color:#ff6ac1">]</span> <span style="color:#ff5c57">$DEVICE</span><span style="color:#ff6ac1">[</span>2<span style="color:#ff6ac1">]</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">done</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">for</span> LV in <span style="color:#5af78e">&#34;lvscript&#34;</span><span style="color:#ff6ac1">{</span>1..3<span style="color:#ff6ac1">}</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">do</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Creating logical volume </span><span style="color:#ff5c57">$LV</span><span style="color:#5af78e"> in volume group vgscript with the size of 200MB&#34;</span>
</span></span><span style="display:flex;"><span>        lvcreate vgscript -L 200MB -n <span style="color:#ff5c57">$LV</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">done</span></span></span></code></pre></div>
<h3 id="lab-write-script-to-create-file-systems">Lab: Write Script to Create File Systems</h3>
<ul>
<li>Write another bash script to create xfs, ext4, and vfat file system structures in the logical volumes, respectively.</li>
<li>Create mount points /mnt/xfs, /mnt/ext4, and /mnt/vfat, and mount the file systems.</li>
<li>Include the df command with -h in the script to list the mounted file systems.</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> vim /usr/local/bin/fsscript.sh</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>root@server40 ~<span style="color:#ff6ac1">]</span><span style="color:#78787e"># chmod +x /usr/local/bin/fsscript.sh</span></span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#78787e">#!/bin/bash</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">for</span> DEVICE in lvscript<span style="color:#ff6ac1">{</span>1..3<span style="color:#ff6ac1">}</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">do</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">if</span> <span style="color:#ff6ac1">[</span> <span style="color:#5af78e">&#34;</span><span style="color:#ff5c57">$DEVICE</span><span style="color:#5af78e">&#34;</span> <span style="color:#ff6ac1">=</span> lvscript1 <span style="color:#ff6ac1">]</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">then</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Creating xfs filesystem on logical volume lvscript1&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span>
</span></span><span style="display:flex;"><span>        mkfs.xfs /dev/vgscript/lvscript1
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Creating /mnt/xfs&#34;</span>
</span></span><span style="display:flex;"><span>        mkdir /mnt/xfs
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Mounting filesystem&#34;</span>
</span></span><span style="display:flex;"><span>        mount /dev/vgscript/lvscript1 /mnt/xfs
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">elif</span> <span style="color:#ff6ac1">[</span> <span style="color:#5af78e">&#34;</span><span style="color:#ff5c57">$DEVICE</span><span style="color:#5af78e">&#34;</span> <span style="color:#ff6ac1">=</span> lvscript2 <span style="color:#ff6ac1">]</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">then</span>    
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Creating ext4 filesystem on logical volume lvscript2&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span>
</span></span><span style="display:flex;"><span>        mkfs.ext4 /dev/vgscript/lvscript2
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Creating /mnt/ext4&#34;</span>
</span></span><span style="display:flex;"><span>        mkdir /mnt/ext4
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Mounting filesystem&#34;</span>
</span></span><span style="display:flex;"><span>        mount /dev/vgscript/lvscript2 /mnt/ext4
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">elif</span> <span style="color:#ff6ac1">[</span> <span style="color:#5af78e">&#34;</span><span style="color:#ff5c57">$DEVICE</span><span style="color:#5af78e">&#34;</span> <span style="color:#ff6ac1">=</span> lvscript3 <span style="color:#ff6ac1">]</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">then</span>    
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Creating vfat filesystem on logical volume lvscript3&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span>
</span></span><span style="display:flex;"><span>        mkfs.vfat /dev/vgscript/lvscript3
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Creating /mnt/vfat&#34;</span>
</span></span><span style="display:flex;"><span>        mkdir /mnt/vfat
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Mounting filesystem&#34;</span>
</span></span><span style="display:flex;"><span>        mount /dev/vgscript/lvscript3 /mnt/vfat
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Done!&#34;</span>
</span></span><span style="display:flex;"><span>                df -h
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff5c57">echo</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">fi</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">done</span></span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>root@server40 ~<span style="color:#ff6ac1">]</span><span style="color:#78787e"># fsscript.sh</span>
</span></span><span style="display:flex;"><span> Creating xfs filesystem on logical volume lvscript1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Filesystem should be larger than 300MB.
</span></span><span style="display:flex;"><span> Log size should be at least 64MB.
</span></span><span style="display:flex;"><span> Support <span style="color:#ff6ac1">for</span> filesystems like this one is deprecated and they will not be supported in future releases.
</span></span><span style="display:flex;"><span> meta-data<span style="color:#ff6ac1">=</span>/dev/vgscript/lvscript1 <span style="color:#ff5c57">isize</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">512</span>    <span style="color:#ff5c57">agcount</span><span style="color:#ff6ac1">=</span>4,  <span style="color:#ff5c57">agsize</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">12800</span> <span style="color:#ff5c57">blks</span>
</span></span><span style="display:flex;"><span>         <span style="color:#ff6ac1">=</span>                       <span style="color:#ff5c57">sectsz</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">512</span>   <span style="color:#ff5c57">attr</span><span style="color:#ff6ac1">=</span>2, <span style="color:#ff5c57">projid32bit</span><span style="color:#ff6ac1">=</span><span style="color:#ff5c57">1</span>
</span></span><span style="display:flex;"><span>         <span style="color:#ff6ac1">=</span>                       <span style="color:#ff5c57">crc</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">1</span>        <span style="color:#ff5c57">finobt</span><span style="color:#ff6ac1">=</span>1, <span style="color:#ff5c57">sparse</span><span style="color:#ff6ac1">=</span>1,  <span style="color:#ff5c57">rmapbt</span><span style="color:#ff6ac1">=</span><span style="color:#ff5c57">0</span>
</span></span><span style="display:flex;"><span>         <span style="color:#ff6ac1">=</span>                       <span style="color:#ff5c57">reflink</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">1</span>    <span style="color:#ff5c57">bigtime</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">1</span> <span style="color:#ff5c57">inobtcount</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">1</span>  <span style="color:#ff5c57">nrext64</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">data</span>     <span style="color:#ff6ac1">=</span>                       <span style="color:#ff5c57">bsize</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">4096</span>   <span style="color:#ff5c57">blocks</span><span style="color:#ff6ac1">=</span>51200, <span style="color:#ff5c57">imaxpct</span><span style="color:#ff6ac1">=</span><span style="color:#ff5c57">25</span>
</span></span><span style="display:flex;"><span>         <span style="color:#ff6ac1">=</span>                       <span style="color:#ff5c57">sunit</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">0</span>      <span style="color:#ff5c57">swidth</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">0</span> blks
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">naming</span>   <span style="color:#ff6ac1">=</span>version <span style="color:#ff9f43">2</span>              <span style="color:#ff5c57">bsize</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">4096</span>   ascii-ci<span style="color:#ff6ac1">=</span>0, <span style="color:#ff5c57">ftype</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">log</span>      <span style="color:#ff6ac1">=</span>internal log           <span style="color:#ff5c57">bsize</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">4096</span>   <span style="color:#ff5c57">blocks</span><span style="color:#ff6ac1">=</span>1368, <span style="color:#ff5c57">version</span><span style="color:#ff6ac1">=</span><span style="color:#ff5c57">2</span>
</span></span><span style="display:flex;"><span>         <span style="color:#ff6ac1">=</span>                       <span style="color:#ff5c57">sectsz</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">512</span>   <span style="color:#ff5c57">sunit</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">0</span> blks, lazy- <span style="color:#ff5c57">count</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">1</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">realtime</span> <span style="color:#ff6ac1">=</span>none                   <span style="color:#ff5c57">extsz</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">4096</span>   <span style="color:#ff5c57">blocks</span><span style="color:#ff6ac1">=</span>0, <span style="color:#ff5c57">rtextents</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">0</span>
</span></span><span style="display:flex;"><span> Creating /mnt/xfs
</span></span><span style="display:flex;"><span> Mounting filesystem
</span></span><span style="display:flex;"><span> Creating ext4 filesystem on logical volume lvscript2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> mke2fs 1.46.5 <span style="color:#ff6ac1">(</span>30-Dec-2021<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span> Creating filesystem with <span style="color:#ff9f43">204800</span> 1k blocks and <span style="color:#ff9f43">51200</span> inodes
</span></span><span style="display:flex;"><span> Filesystem UUID: b16383bf-7b65-4a00-bb6d-c297733f60b3
</span></span><span style="display:flex;"><span> Superblock backups stored on blocks: 
</span></span><span style="display:flex;"><span>	8193, 24577, 40961, 57345, <span style="color:#ff9f43">73729</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Allocating group tables: <span style="color:#ff6ac1">done</span>                            
</span></span><span style="display:flex;"><span> Writing inode tables: <span style="color:#ff6ac1">done</span>                            
</span></span><span style="display:flex;"><span> Creating journal <span style="color:#ff6ac1">(</span><span style="color:#ff9f43">4096</span> blocks<span style="color:#ff6ac1">)</span>: <span style="color:#ff6ac1">done</span>
</span></span><span style="display:flex;"><span> Writing superblocks and filesystem accounting information: <span style="color:#ff6ac1">done</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Creating /mnt/ext4
</span></span><span style="display:flex;"><span> Mounting filesystem
</span></span><span style="display:flex;"><span> Creating vfat filesystem on logical volume lvscript3
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> mkfs.fat 4.2 <span style="color:#ff6ac1">(</span>2021-01-31<span style="color:#ff6ac1">)</span>
</span></span><span style="display:flex;"><span> Creating /mnt/vfat
</span></span><span style="display:flex;"><span> Mounting filesystem
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Done!</span></span></code></pre></div>
<h3 id="lab-21-3-write-script-to-configure-new-network-connection-profile">Lab 21-3: Write Script to Configure New Network Connection Profile</h3>
<ul>
<li>Present a new network interface to server40 in VirtualBox Manager.</li>
<li>As user1 with sudo on server40, write a single bash script to run the nmcli command to configure custom IP assignments (choose your own settings) on the new network device.</li>
<li>Make a copy of the /etc/hosts file as part of this script.</li>
<li>Choose a hostname of your choice and add a mapping to the /etc/hosts file without overwriting existing file content.</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>root@server40 ~<span style="color:#ff6ac1">]</span><span style="color:#78787e"># vim /usr/local/bin/network.sh</span></span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#78787e">#!/bin/bash</span>
</span></span><span style="display:flex;"><span> cp /etc/hosts /etc/hosts.bak <span style="color:#ff6ac1">&amp;&amp;</span>
</span></span><span style="display:flex;"><span> nmcli c a <span style="color:#ff5c57">type</span> Ethernet con-name enp0s9 ifname enp0s9 ip4  10.32.32.2/24 gw4 10.32.32.1
</span></span><span style="display:flex;"><span> <span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;10.32.33.14 frog.example.com frog&#34;</span> &gt;&gt; /etc/hosts</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>root@server40 ~<span style="color:#ff6ac1">]</span><span style="color:#78787e"># chmod +x /usr/local/bin/network.sh</span>
</span></span><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>root@server40 ~<span style="color:#ff6ac1">]</span><span style="color:#78787e"># network.sh</span>
</span></span><span style="display:flex;"><span> Connection <span style="color:#5af78e">&#39;enp0s9&#39;</span> <span style="color:#ff6ac1">(</span>5a342243-e77b-452e-88e2-8838d3ecea6d<span style="color:#ff6ac1">)</span>  successfully added.</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>root@server40 ~<span style="color:#ff6ac1">]</span><span style="color:#78787e"># cat /etc/hosts</span>
</span></span><span style="display:flex;"><span> 127.0.0.1   localhost localhost.localdomain localhost4  localhost4.localdomain4
</span></span><span style="display:flex;"><span> ::1         localhost localhost.localdomain localhost6  localhost6.localdomain6
</span></span><span style="display:flex;"><span> 10.32.33.14 frog.example.com frog</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>root@server40 ~<span style="color:#ff6ac1">]</span><span style="color:#78787e"># ip a</span>
</span></span><span style="display:flex;"><span> enp0s9: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span style="color:#ff9f43">1500</span> qdisc fq_codel  state UP group default qlen <span style="color:#ff9f43">1000</span>
</span></span><span style="display:flex;"><span>    link/ether 08:00:27:1d:f4:c1 brd ff:ff:ff:ff:ff:ff
</span></span><span style="display:flex;"><span>    inet 10.32.32.2/24 brd 10.32.32.255 scope global noprefixroute enp0s9
</span></span><span style="display:flex;"><span>       valid_lft forever preferred_lft forever
</span></span><span style="display:flex;"><span>    inet6 fe80::2c5d:31cc:1d79:6b43/64 scope link noprefixroute 
</span></span><span style="display:flex;"><span>       valid_lft forever preferred_lft forever</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#ff6ac1">[</span>root@server40 ~<span style="color:#ff6ac1">]</span><span style="color:#78787e"># nmcli d s</span>
</span></span><span style="display:flex;"><span> DEVICE  TYPE      STATE                   CONNECTION 
</span></span><span style="display:flex;"><span> enp0s3  ethernet  connected               enp0s3     
</span></span><span style="display:flex;"><span> enp0s8  ethernet  connected               enp0s8     
</span></span><span style="display:flex;"><span> enp0s9  ethernet  connected               enp0s9     
</span></span><span style="display:flex;"><span> lo      loopback  connected <span style="color:#ff6ac1">(</span>externally<span style="color:#ff6ac1">)</span>  lo  </span></span></code></pre></div>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<a href="https://linuxreader.com">
  <img src="/images/linuxreader.svg" alt="Linux Reader" >
</a>

        </div>
        <script>
          window.index_js_url="/searchindex.en.js?1741629298";
        </script>
        <search><form action="/search/" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="/js/auto-complete.js?1741629298" defer></script>
        <script src="/js/lunr/lunr.min.js?1741629298" defer></script>
        <script src="/js/lunr/lunr.stemmer.support.min.js?1741629298" defer></script>
        <script src="/js/lunr/lunr.multi.min.js?1741629298" defer></script>
        <script src="/js/lunr/lunr.en.min.js?1741629298" defer></script>
        <script src="/js/search.js?1741629298" defer></script>
      </div>
      <div id="R-homelinks" class="default-animation">
        <hr class="padding">
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div id="R-shortcutmenu-home" class="R-sidebarmenu">
          <ul class="enlarge morespace collapsible-menu">
            <li class="parent " data-nav-id="/linux/"><a class="padding" href="/linux/"><i class="fa-fw fas fa-terminal"></i> Linux</a><ul id="R-subsections-e2509333b88222aa06f1b5fc60b020b2" class="collapsible-menu">
            <li class="" data-nav-id="/linux/fedora/"><a class="padding" href="/linux/fedora/"><i class="fa-fw fas fa-chevron-right"></i> Fedora</a><ul id="R-subsections-89434e96479d9689b11efd9b3cb12acc" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-id="/linux/rhcsa/"><a class="padding" href="/linux/rhcsa/"><i class="fa-fw fas fa-chevron-right"></i> RHCSA</a><ul id="R-subsections-2c51772c3489e4d820f23d680b3a1d70" class="collapsible-menu">
            <li class="active hidden " data-nav-id="/linux/rhcsa/shell-scripting-diy-labs/"><a class="padding" href="/linux/rhcsa/shell-scripting-diy-labs/"></a></li>
            <li class="" data-nav-id="/linux/rhcsa/rhcsa-study-tracker/"><a class="padding" href="/linux/rhcsa/rhcsa-study-tracker/">RHCSA Study Tracker</a></li>
            <li class="" data-nav-id="/linux/rhcsa/rhcsa-vagrant-lab-setup/"><a class="padding" href="/linux/rhcsa/rhcsa-vagrant-lab-setup/">RHCSA Vagrant Lab Setup</a></li>
            <li class="" data-nav-id="/linux/rhcsa/using-man-pages/"><a class="padding" href="/linux/rhcsa/using-man-pages/">You Need to Learn Man Pages</a></li></ul></li></ul></li>
            <li class="" data-nav-id="/networking/"><a class="padding" href="/networking/"><i class="fa-fw fas fa-network-wired"></i> Networking</a><ul id="R-subsections-d7c3359b808d40df139a3bb9f9073483" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/tools/"><a class="padding" href="/tools/"><i class="fa-fw fas fa-screwdriver-wrench"></i> Tools</a><ul id="R-subsections-bf1399820dde3dd110e03ace4147ff86" class="collapsible-menu"></ul></li>
          </ul>
        </div>
        <div id="R-shortcutmenu-shortcuts" class="R-sidebarmenu">
          <div class="nav-title padding">More</div>
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="https://github.com/tdavetech"><a class="padding" href="https://github.com/tdavetech" target="_blank"><i class='fab fa-fw fa-github'></i> GitHub</a></li>
          </ul>
        </div>
        <div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div>
        <div id="R-menu-footer">
          <hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter">
          <div id="R-prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks">
            <ul>
              <li id="R-select-language-container" class="footerLangSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-language"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-language">Language</label>
                    <select id="R-select-language" onchange="location = this.querySelector( this.value ).dataset.url;">
                      <option id="R-select-language-en" value="#R-select-language-en" data-url="/linux/rhcsa/shell-scripting-diy-labs/" lang="en-us" selected></option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
              <li id="R-select-variant-container" class="footerVariantSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-paint-brush"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-variant">Theme</label>
                    <select id="R-select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                      <option id="R-select-variant-amoled" value="amoled" selected>Amoled</option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
                <script>window.variants && variants.markSelectedVariant();</script>
              </li>
              <li class="footerVisitedLinks">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-history"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <button onclick="clearHistory();">Clear History</button>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
            </ul>
          </div>
          <div id="R-footer" class="footerFooter showFooter">
        <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p>
          </div>
        </div>
      </div>
    </aside>
    <script src="/js/clipboard.min.js?1741629298" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1741629298" defer></script>
    <script>
      function useMathJax( config ){
        window.MathJax = Object.assign( window.MathJax || {}, {
          tex: {
            inlineMath:  [['\\(', '\\)'], ['$',  '$']],  
            displayMath: [['\\[', '\\]'], ['$$', '$$']], 
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/js/d3/d3-color.min.js?1741629298" defer></script>
    <script src="/js/d3/d3-dispatch.min.js?1741629298" defer></script>
    <script src="/js/d3/d3-drag.min.js?1741629298" defer></script>
    <script src="/js/d3/d3-ease.min.js?1741629298" defer></script>
    <script src="/js/d3/d3-interpolate.min.js?1741629298" defer></script>
    <script src="/js/d3/d3-selection.min.js?1741629298" defer></script>
    <script src="/js/d3/d3-timer.min.js?1741629298" defer></script>
    <script src="/js/d3/d3-transition.min.js?1741629298" defer></script>
    <script src="/js/d3/d3-zoom.min.js?1741629298" defer></script>
    <script src="/js/js-yaml.min.js?1741629298" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="/js/theme.js?1741629298" defer></script>
  </body>
</html>
