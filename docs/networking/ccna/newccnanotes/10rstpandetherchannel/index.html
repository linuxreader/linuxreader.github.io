<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.152.2">
    <meta name="generator" content="Relearn 8.2.0+d150cc8909ed7836ff5d545e76544f6923ffacf5">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="10 RSTP and Etherchannel 2.0 Network Access2.4 Configure and verify (Layer 2/Layer 3) EtherChannel (LACP) 2.5 Describe the need for and basic operations of Rapid PVST&#43; Spanning Tree Protocol and identify basic operations2.5.a Root port, root bridge (primary/secondary), and other port names 2.5.b Port states (forwarding/blocking)2.5.c PortFast benefits Most network engineers make the distribution layer switches be the root. STP Modes and Standards Three options to configure on the spanninguse -tree mode command, which tells the switch which type of STP to and STPtheswitches do not support STP or RSTP with the single tree (CST)-based PVST&#43;, Cisco-proprietary and RSTP-based RPVST&#43;, or the IEEE standard MSTP.. They can use either the Cisco-proprietary MSTP allows the definition of as many instances (multiple spanning tree instances, or MSTIs) as chosen by the network designer but does not require one per VLAN. STP and MSTP now exist as part of the 802.1Q standard, which defines VLANs and VLAN trunking. The revised rules divide the original priority field into two separate fields, as shown in Figure 10priority field and a 12-bit subfield called the system ID extension (which represents the VLAN ID-4: a 4-bit Cisco switches let you configure the BID, but only the priority part. The switch fills in its universal (burnedin the 12-bit system ID extension field; you cannot change that behavior either. -in) MAC address as the system ID. It also plugs in the VLAN ID of a VLAN The only part configurable by the network engineer is the 4-bit priority field. the configuration command (65,535. But not just any number in that range will suffice; it must be a multiple of 4096spanning-tree vlan vlan-id priority x) requires a decimal number between 0 and ,as emphasized in the help text shown in Example 10-2. Command Guide RSTP #spanning#spanning--tree vlan vlantree vlan x root primary-id priority x #spanning#show spanning-tree vlan x root secondary-tree vlan 9 EtherChannel (int)#channel#show etherchannel 1 summary-group 1 mode on #show etherchannel summary#show etherchannel 1 port-channel #show etherchannel load#channel-group 1 mode desirable/auto (PAgP)-balance #channel#port-channel load-group 1 mode active/passive (LACP)-balance src-dst-mac 10. RSTP and EtherChannelTuesday, July 27, 2021 12:04 PM help text shown in Example 10-2. #spanning-tree vlan x root primary(on the switch that should be primary)
#spanning-tree vlan x root secondary(on the switch that should be secondary)
These two commands cause the switch to make a choice of priority value but then store the chosen priority value in thespanning-tree vlan x priority valuecommand.The command with root primary or root secondary
does not appear in the configurationcurrent root switch and chooses either (a) 24,576 or (b) 4096 less than the current root‚Äôs priority (if the current. When configuring root primary, the switch looks at the priority of the
root‚Äôs priority is 24,576 or less) to the configuration instead. When configuring, root secondary always results in that switch using a priority of 28,672, with the assumption that the value will be less than other switches that
use the default of 32,768, and higher than any switch configured as root primary.
How Switches Use the Priority and System ID Extension
Cisco Catalyst switches configure the priority value using a number that represents a 16system ID extension exists as the low-order 12 bits of that same number. -bit value; however, the
When the switch builds its BID to use for RSTP in a VLAN, it must combine the configured priority with the VLAN ID of that VLAN.
the configured priority results in a 16-bit priority that always ends with 12 binary 0s.">
    <meta name="author" content="David Thomas">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:description" content="10 RSTP and Etherchannel 2.0 Network Access2.4 Configure and verify (Layer 2/Layer 3) EtherChannel (LACP) 2.5 Describe the need for and basic operations of Rapid PVST&#43; Spanning Tree Protocol and identify basic operations2.5.a Root port, root bridge (primary/secondary), and other port names 2.5.b Port states (forwarding/blocking)2.5.c PortFast benefits Most network engineers make the distribution layer switches be the root. STP Modes and Standards Three options to configure on the spanninguse -tree mode command, which tells the switch which type of STP to and STPtheswitches do not support STP or RSTP with the single tree (CST)-based PVST&#43;, Cisco-proprietary and RSTP-based RPVST&#43;, or the IEEE standard MSTP.. They can use either the Cisco-proprietary MSTP allows the definition of as many instances (multiple spanning tree instances, or MSTIs) as chosen by the network designer but does not require one per VLAN. STP and MSTP now exist as part of the 802.1Q standard, which defines VLANs and VLAN trunking. The revised rules divide the original priority field into two separate fields, as shown in Figure 10priority field and a 12-bit subfield called the system ID extension (which represents the VLAN ID-4: a 4-bit Cisco switches let you configure the BID, but only the priority part. The switch fills in its universal (burnedin the 12-bit system ID extension field; you cannot change that behavior either. -in) MAC address as the system ID. It also plugs in the VLAN ID of a VLAN The only part configurable by the network engineer is the 4-bit priority field. the configuration command (65,535. But not just any number in that range will suffice; it must be a multiple of 4096spanning-tree vlan vlan-id priority x) requires a decimal number between 0 and ,as emphasized in the help text shown in Example 10-2. Command Guide RSTP #spanning#spanning--tree vlan vlantree vlan x root primary-id priority x #spanning#show spanning-tree vlan x root secondary-tree vlan 9 EtherChannel (int)#channel#show etherchannel 1 summary-group 1 mode on #show etherchannel summary#show etherchannel 1 port-channel #show etherchannel load#channel-group 1 mode desirable/auto (PAgP)-balance #channel#port-channel load-group 1 mode active/passive (LACP)-balance src-dst-mac 10. RSTP and EtherChannelTuesday, July 27, 2021 12:04 PM help text shown in Example 10-2. #spanning-tree vlan x root primary(on the switch that should be primary)
#spanning-tree vlan x root secondary(on the switch that should be secondary)
These two commands cause the switch to make a choice of priority value but then store the chosen priority value in thespanning-tree vlan x priority valuecommand.The command with root primary or root secondary
does not appear in the configurationcurrent root switch and chooses either (a) 24,576 or (b) 4096 less than the current root‚Äôs priority (if the current. When configuring root primary, the switch looks at the priority of the
root‚Äôs priority is 24,576 or less) to the configuration instead. When configuring, root secondary always results in that switch using a priority of 28,672, with the assumption that the value will be less than other switches that
use the default of 32,768, and higher than any switch configured as root primary.
How Switches Use the Priority and System ID Extension
Cisco Catalyst switches configure the priority value using a number that represents a 16system ID extension exists as the low-order 12 bits of that same number. -bit value; however, the
When the switch builds its BID to use for RSTP in a VLAN, it must combine the configured priority with the VLAN ID of that VLAN.
the configured priority results in a 16-bit priority that always ends with 12 binary 0s.">
    <meta property="og:url" content="http://linuxreader.com/networking/ccna/newccnanotes/10rstpandetherchannel/">
    <meta property="og:site_name" content="Linux Reader">
    <meta property="og:description" content="10 RSTP and Etherchannel 2.0 Network Access2.4 Configure and verify (Layer 2/Layer 3) EtherChannel (LACP) 2.5 Describe the need for and basic operations of Rapid PVST&#43; Spanning Tree Protocol and identify basic operations2.5.a Root port, root bridge (primary/secondary), and other port names 2.5.b Port states (forwarding/blocking)2.5.c PortFast benefits Most network engineers make the distribution layer switches be the root. STP Modes and Standards Three options to configure on the spanninguse -tree mode command, which tells the switch which type of STP to and STPtheswitches do not support STP or RSTP with the single tree (CST)-based PVST&#43;, Cisco-proprietary and RSTP-based RPVST&#43;, or the IEEE standard MSTP.. They can use either the Cisco-proprietary MSTP allows the definition of as many instances (multiple spanning tree instances, or MSTIs) as chosen by the network designer but does not require one per VLAN. STP and MSTP now exist as part of the 802.1Q standard, which defines VLANs and VLAN trunking. The revised rules divide the original priority field into two separate fields, as shown in Figure 10priority field and a 12-bit subfield called the system ID extension (which represents the VLAN ID-4: a 4-bit Cisco switches let you configure the BID, but only the priority part. The switch fills in its universal (burnedin the 12-bit system ID extension field; you cannot change that behavior either. -in) MAC address as the system ID. It also plugs in the VLAN ID of a VLAN The only part configurable by the network engineer is the 4-bit priority field. the configuration command (65,535. But not just any number in that range will suffice; it must be a multiple of 4096spanning-tree vlan vlan-id priority x) requires a decimal number between 0 and ,as emphasized in the help text shown in Example 10-2. Command Guide RSTP #spanning#spanning--tree vlan vlantree vlan x root primary-id priority x #spanning#show spanning-tree vlan x root secondary-tree vlan 9 EtherChannel (int)#channel#show etherchannel 1 summary-group 1 mode on #show etherchannel summary#show etherchannel 1 port-channel #show etherchannel load#channel-group 1 mode desirable/auto (PAgP)-balance #channel#port-channel load-group 1 mode active/passive (LACP)-balance src-dst-mac 10. RSTP and EtherChannelTuesday, July 27, 2021 12:04 PM help text shown in Example 10-2. #spanning-tree vlan x root primary(on the switch that should be primary)
#spanning-tree vlan x root secondary(on the switch that should be secondary)
These two commands cause the switch to make a choice of priority value but then store the chosen priority value in thespanning-tree vlan x priority valuecommand.The command with root primary or root secondary
does not appear in the configurationcurrent root switch and chooses either (a) 24,576 or (b) 4096 less than the current root‚Äôs priority (if the current. When configuring root primary, the switch looks at the priority of the
root‚Äôs priority is 24,576 or less) to the configuration instead. When configuring, root secondary always results in that switch using a priority of 28,672, with the assumption that the value will be less than other switches that
use the default of 32,768, and higher than any switch configured as root primary.
How Switches Use the Priority and System ID Extension
Cisco Catalyst switches configure the priority value using a number that represents a 16system ID extension exists as the low-order 12 bits of that same number. -bit value; however, the
When the switch builds its BID to use for RSTP in a VLAN, it must combine the configured priority with the VLAN ID of that VLAN.
the configured priority results in a 16-bit priority that always ends with 12 binary 0s.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Networking">
    <meta itemprop="description" content="10 RSTP and Etherchannel 2.0 Network Access2.4 Configure and verify (Layer 2/Layer 3) EtherChannel (LACP) 2.5 Describe the need for and basic operations of Rapid PVST&#43; Spanning Tree Protocol and identify basic operations2.5.a Root port, root bridge (primary/secondary), and other port names 2.5.b Port states (forwarding/blocking)2.5.c PortFast benefits Most network engineers make the distribution layer switches be the root. STP Modes and Standards Three options to configure on the spanninguse -tree mode command, which tells the switch which type of STP to and STPtheswitches do not support STP or RSTP with the single tree (CST)-based PVST&#43;, Cisco-proprietary and RSTP-based RPVST&#43;, or the IEEE standard MSTP.. They can use either the Cisco-proprietary MSTP allows the definition of as many instances (multiple spanning tree instances, or MSTIs) as chosen by the network designer but does not require one per VLAN. STP and MSTP now exist as part of the 802.1Q standard, which defines VLANs and VLAN trunking. The revised rules divide the original priority field into two separate fields, as shown in Figure 10priority field and a 12-bit subfield called the system ID extension (which represents the VLAN ID-4: a 4-bit Cisco switches let you configure the BID, but only the priority part. The switch fills in its universal (burnedin the 12-bit system ID extension field; you cannot change that behavior either. -in) MAC address as the system ID. It also plugs in the VLAN ID of a VLAN The only part configurable by the network engineer is the 4-bit priority field. the configuration command (65,535. But not just any number in that range will suffice; it must be a multiple of 4096spanning-tree vlan vlan-id priority x) requires a decimal number between 0 and ,as emphasized in the help text shown in Example 10-2. Command Guide RSTP #spanning#spanning--tree vlan vlantree vlan x root primary-id priority x #spanning#show spanning-tree vlan x root secondary-tree vlan 9 EtherChannel (int)#channel#show etherchannel 1 summary-group 1 mode on #show etherchannel summary#show etherchannel 1 port-channel #show etherchannel load#channel-group 1 mode desirable/auto (PAgP)-balance #channel#port-channel load-group 1 mode active/passive (LACP)-balance src-dst-mac 10. RSTP and EtherChannelTuesday, July 27, 2021 12:04 PM help text shown in Example 10-2. #spanning-tree vlan x root primary(on the switch that should be primary)
#spanning-tree vlan x root secondary(on the switch that should be secondary)
These two commands cause the switch to make a choice of priority value but then store the chosen priority value in thespanning-tree vlan x priority valuecommand.The command with root primary or root secondary
does not appear in the configurationcurrent root switch and chooses either (a) 24,576 or (b) 4096 less than the current root‚Äôs priority (if the current. When configuring root primary, the switch looks at the priority of the
root‚Äôs priority is 24,576 or less) to the configuration instead. When configuring, root secondary always results in that switch using a priority of 28,672, with the assumption that the value will be less than other switches that
use the default of 32,768, and higher than any switch configured as root primary.
How Switches Use the Priority and System ID Extension
Cisco Catalyst switches configure the priority value using a number that represents a 16system ID extension exists as the low-order 12 bits of that same number. -bit value; however, the
When the switch builds its BID to use for RSTP in a VLAN, it must combine the configured priority with the VLAN ID of that VLAN.
the configured priority results in a 16-bit priority that always ends with 12 binary 0s.">
    <meta itemprop="wordCount" content="2109">
    <title></title>
    <link href="/networking/ccna/newccnanotes/10rstpandetherchannel/index.xml" rel="alternate" type="application/rss+xml" title="">
    <link href="/networking/ccna/newccnanotes/10rstpandetherchannel/index.print.html" rel="alternate" type="text/html" title="">
    <link href="/images/favicon.svg?1765108392" rel="icon" type="image/svg+xml">
    <link href="/css/auto-complete/auto-complete.min.css?1765108392" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1765108392" defer></script>
    <script src="/js/search-lunr.min.js?1765108392" defer></script>
    <script src="/js/search.min.js?1765108392" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/searchindex.en.js?1765108392";
    </script>
    <script src="/js/lunr/lunr.min.js?1765108392" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1765108392" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1765108392" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1765108392" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/fonts/fontawesome/css/fontawesome-all.min.css?1765108392" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/fontawesome-all.min.css?1765108392" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1765108392" rel="stylesheet">
    <link href="/css/theme.min.css?1765108392" rel="stylesheet">
    <link href="/css/format-html.min.css?1765108392" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/networking\/ccna\/newccnanotes\/10rstpandetherchannel\/';
      window.relearn.relBasePath='..\/..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='http:\/\/linuxreader.com';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'oled' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>




   
   <!-- Thanks for using github/divinerites/plausible-hugo v1.22.0. Please, consider leaving a star on Github if you like it. -->











    
        <link rel="preconnect" href="https://https://analytics.linuxreader.com:8443">
    
        
            
            <script defer  data-domain="linuxreader.com" src="https://https://analytics.linuxreader.com:8443/js/script.js" ></script>

<!-- If you are using Content-Security-Policy, do not forget to add this code to your CSP : 
  script-src 'unsafe-inline' https://https://analytics.linuxreader.com:8443
  connect-src 'unsafe-inline' https://https://analytics.linuxreader.com:8443
  or just add the partial 'plausible_csp.html' to those 2 csp directives in your 'index.headers' file
-->



    
    <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
    <script>
         
         
         
    </script>

    

<style>
:root {
    --MENU-WIDTH-S: 14.375rem;
    --MENU-WIDTH-M: 14.375rem;
    --MENU-WIDTH-L: 18.75rem;
    --MAIN-WIDTH-MAX: 80rem;
    font-size: 1.2rem;
}
</style>

  </head>
  <body class="mobile-support html" data-url="/networking/ccna/newccnanotes/10rstpandetherchannel/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="/networking/" title="Networking (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>

            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper"> 
                </div>
              </div>
            </div>


          </div>
          <span class="topbar-breadcrumbs highlightable">
            
          </span>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="/networking/ccna/newccnanotes/10rstpandetherchannel/index.print.html" title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></span>
            </div>

            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle link noborder notitle interactive"><a href="/networking/consoling_in_to_mx80_from_linux/" title="Consoling in to MX80 from linux (ü°í)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>







          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable networking" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id=""></h1>

<h1 id="10-rstp-and-etherchannel">10 RSTP and Etherchannel</h1>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>2.0 Network Access2.4 Configure and verify (Layer 2/Layer 3) EtherChannel (LACP)
2.5 Describe the need for and basic operations of Rapid PVST+ Spanning Tree Protocol and identify basic operations2.5.a Root port, root bridge (primary/secondary), and other port names
2.5.b Port states (forwarding/blocking)2.5.c PortFast benefits
Most network engineers make the distribution layer switches be the root.
STP Modes and Standards
Three options to configure on the spanninguse -tree mode command, which tells the switch which type of STP to
and STPtheswitches do not support STP or RSTP with the single tree (CST)-based PVST+, Cisco-proprietary and RSTP-based RPVST+, or the IEEE standard MSTP.. They can use either the Cisco-proprietary</code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>MSTP allows the definition of as many instances (multiple spanning tree instances, or MSTIs) as chosen by the network designer but does not require one per VLAN.</code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>STP and MSTP now exist as part of the 802.1Q standard, which defines VLANs and VLAN trunking.
The revised rules divide the original priority field into two separate fields, as shown in Figure 10priority field and a 12-bit subfield called the system ID extension (which represents the VLAN ID-4: a 4-bit</code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>Cisco switches let you configure the BID, but only the priority part.
The switch fills in its universal (burnedin the 12-bit system ID extension field; you cannot change that behavior either. -in) MAC address as the system ID. It also plugs in the VLAN ID of a VLAN The only part configurable by
the network engineer is the 4-bit priority field.
the configuration command (65,535. But not just any number in that range will suffice; it must be a multiple of 4096spanning-tree vlan vlan-id priority x) requires a decimal number between 0 and ,as emphasized in the
help text shown in Example 10-2.</code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>Command Guide
RSTP
#spanning#spanning--tree vlan vlantree vlan x root primary-id priority x
#spanning#show spanning-tree vlan x root secondary-tree vlan 9
EtherChannel
(int)#channel#show etherchannel 1 summary-group 1 mode on
#show etherchannel summary#show etherchannel 1 port-channel
#show etherchannel load#channel-group 1 mode desirable/auto (PAgP)-balance
#channel#port-channel load-group 1 mode active/passive (LACP)-balance src-dst-mac</code></pre></div>
<h6 id="10-rstp-and-etherchanneltuesday-july-27-2021-1204-pm">10. RSTP and EtherChannelTuesday, July 27, 2021 12:04 PM</h6>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>help text shown in Example 10-2.</code></pre></div>
<p>#spanning-tree vlan x root primary(on the switch that should be primary)<br>
#spanning-tree vlan x root secondary(on the switch that should be secondary)<br>
These two commands cause the switch to make a choice of priority value but then store the chosen priority value in thespanning-tree vlan x priority valuecommand.The command with root primary or root secondary<br>
does not appear in the configurationcurrent root switch and chooses either (a) 24,576 or (b) 4096 less than the current root‚Äôs priority (if the current. When configuring root primary, the switch looks at the priority of the<br>
root‚Äôs priority is 24,576 or less) to the configuration instead. When configuring, root secondary always results in that switch using a priority of 28,672, with the assumption that the value will be less than other switches that<br>
use the default of 32,768, and higher than any switch configured as root primary.<br>
How Switches Use the Priority and System ID Extension<br>
Cisco Catalyst switches configure the priority value using a number that represents a 16system ID extension exists as the low-order 12 bits of that same number. -bit value; however, the<br>
When the switch builds its BID to use for RSTP in a VLAN, it must combine the configured priority with the VLAN ID of that VLAN.<br>
the configured priority results in a 16-bit priority that always ends with 12 binary 0s.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>Root Switch: 24,576 (priority) + 9 (VLAN ID) = 24585Local Switch: 32,768 (priority) + 9 (VLAN ID) = 32777</code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>RSTP creates one treeVLAN. ‚Äîthe Common Spanning Tree (CST)‚Äîwhile RPVST+ creates one tree for each and every
RSTP sends one set of RSTP messages (BPDUs) in the network, no matter the number of VLANs, while RPVST+ sends one set of messages per VLAN.
RSTP and RPVST+ use different destination MAC addresses: RSTP with multicast address 0180.C200.0000 (an address defined in the IEEE standard), and RPVST+ with multicast address 0100.0CCC.CCCD (an address chosen
by Cisco).
When transmitting messages on VLAN trunks, RSTP sends the messages in the native VLAN with no VLAN header/tag. RPVST+ sends each VLAN‚Äôs messages inside that VLAN‚Äîfor instance, BPDUs about VLAN 9 have an
802.1Q header that lists VLAN 9.
RPVST+ adds an extra type(because it does not need to, as RSTP ignores VLANs.)-length value (TLV) to the BPDU that identifies the VLAN ID, while RSTP does not
Both view the 160000.0000.0000, meaning ‚Äúno VLAN,‚Äù while RPVST+ uses the VLAN ID.-bit priority as having a 12-bit System ID Extension, with RSTP setting the value to</code></pre></div>
<p>RSTP Methods to Support Multiple Spanning Trees</p>
<p>Other RSTP Configuration Options</p>
<p>Switch Priority: The global commandthat VLAN. spanning-tree vlan x priority ylets an engineer set the switch‚Äôs priority in<br>
Primary and Secondary Root Switches: The global command lets you set the priority, but the switch decides on a value to make that switch likely to be the primary root spanning-tree vlan x root primary | secondaryalso<br>
switch (the root) or the secondary root switch (the switch that becomes root if the primary fails).<br>
Port Costs: The interface subcommand cost on that port, either for all VLANs or for a specific VLAN on that port. Changing those costs then changes the spanning-tree [vlan x] cost ylets an engineer set the switch‚Äôs STP/RSTP<br>
root cost for some switches, which impacts the choice of root ports and designated ports.<br>
Configuring Layer 2 Etherchannel<br>
Configuring a Manual Layer 2 EtherChannel<br>
simply add the correct channelall with the on keyword, and all with the same number. The on keyword tells the switches to place a -group configuration command to each physical interface, on each switch,<br>
physical interface into an EtherChannel, and the number identifies the PortChannel interface number that the interface should be a part of.<br>
three terms as synonyms: EtherChannel, PortChannel, and Channelgroup configuration command, but then to display its status, IOS uses the show etherchannel command. -group. Oddly, IOS uses the channel-<br>
Then the output of this show command refers to neither an ‚ÄúEtherChannel‚Äù nor a ‚ÄúChannelinstead using the term ‚ÄúPortChannel.‚Äù So, pay close attention to these three terms in the example.-group,‚Äù<br>
Step 1. Add theeach physical interface that should be in the channel to add it to the channel.channel-group number mode oncommand in interface configuration mode under<br>
Step 2. on the neighboring switch can differ.Use the same number for all commands on the same switch, but the channel-group number</p>
<p>Po1, short for PortChannel1<br>
Configuring Dynamic EtherChannels<br>
Cisco switches also support two different configuration options that then use a dynamic protocol to negotiate whether a particular link becomes part of an EtherChannel or not. Basically, the configuration<br>
enables a protocol for a particular channelto send messages to/from the neighboring switch and discover whether their configuration settings pass -group number. At that point, the switch can use the protocol<br>
all checks. If a given physical link passes, the link is added to the EtherChannel and used; if not, it is placed in a down state, and not used, until the configuration inconsistency can be resolved.<br>
Most Cisco Catalyst switches support thestandard Link Aggregation Control Protocol (LACP),Cisco-proprietary Port Aggregation Protocol (PAgP) and the IEEE<br>
negotiate so that only links that pass the configuration checks are actually used in an EtherChannel.<br>
LACP does support more links in a channelcan be active at one time, with the others waiting to be used should any of the other links fail.‚Äî 16 ‚Äîas compared to PAgP‚Äôs maximum of 8. With LACP, only 8<br>
To configure either protocol, a switch uses the channelbut with a keyword that either means ‚Äúuse this protocol and begin negotiations‚Äù or ‚Äúuse this protocol and -group configuration commands on each switch,<br>
wait for the other switch to begin negotiations.‚Äù<br>
desirable and auto keywords enable PAgP<br>
active and passive keywords enable LACP.<br>
with PAgP, at least one of the two sides must use desirable, and with LACP, at least one of the two sides must use active.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>Do not use the on parameter on one end, and either auto or desirable (or for LACP, active or passive) on the neighboring switch. The on option uses neither PAgP nor LACP, so a configuration that uses on, with
PAgP or LACP options on the other end, would prevent the EtherChannel from working.
#show etherchannel 1 port-channel.</code></pre></div>
<p>Physical Interface Configuration and EtherChannels<br>
the switch compares the new physical port‚Äôs configuration to the existing ports in the channel. That new physical interface‚Äôs settings must be the same as the existing ports‚Äô settings; otherwise, the switch does<br>
not add the new link to the list of approved and working interfaces in the channel. That is, the physical interface remains configured as part of the PortChannel, but it is not used as part of the channel,<br>
The list of items the switch checks includes the following:<br>
‚ñ™‚ñ™SpeedDuplex<br>
‚ñ™‚ñ™Operational access or trunking state (all must be access, or all must be trunks)If an access port, the access VLAN<br>
‚ñ™‚ñ™If a trunk port, the allowed VLAN list (per the switchport trunk allowed command)If a trunk port, the native VLAN<br>
‚ñ™STP interface settings<br>
switches check the settings on the neighboring switch. To do so, the switches either use PAgP or LACP (if already in use) or use Cisco Discovery Protocol (CDP) if using manual configuration. When checking<br>
neighbors, all settings except the STP settings must match.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>errthe -disabled state.PortChannel and physical interfaces must be shutdown, and then no shutdown, to recover from the</code></pre></div>
<p>when a switch applies the shutdown and no shutdown commands to a PortChannel, it applies those same commands to the physical interfaces, as well; so, just do the shutdown/no shutdown on the PortChannel<br>
interface.<br>
EtherChannel Load Distribution<br>
When using Layer 2 EtherChannels,PortChannel interfaces and not the underlying physical portsa switch‚Äôs MAC learning process associates MAC addresses with the. Later, when a switch makes a forwarding<br>
decision to send a frame out a PortChannel interface, the switch must do more work: tspecific physical port to use to forward the frame. IOS documentation refers to those rules as o decide out which<br>
EtherChannel load distribution or load balancing.<br>
Configuration options for EtherChannel Load Distribution<br>
EtherChannel load distribution makes the choice for each frame based on various numeric values found in the Layer 2, 3, and 4 headers. The process uses one configurable setting as input: the load distribution<br>
method as defined with theperforms some match against the fields identified by the configured method.port-channel load-balance methodglobal command. The process then<br>
some switches may support only MACthe model and software version. -based methods, or only MAC-and IP-based methods, depending on</p>
<p>various load distribution algorithms do share some common goals:<br>
To being sent over different links.cause all messages in a single application flow to use the same link in the channel, rather than Doing so means that the switch will not inadvertently reorder the<br>
messages sent in that application flow by sending one message over a busy link that has a queue of waiting messages, while immediately sending the next message out an unused link.<br>
To integrate the load distribution algorithm work into the hardware forwarding ASIC so that load distribution works just as quickly as the work to forward any other frame.<br>
To use all the active links in the EtherChannel, adjusting to the addition and removal of active links over time.<br>
Within the constraints of the other goals, balance the traffic across those active links.<br>
the algorithms first intend to avoid message reordering, make use of the switch forwarding ASICs, and use all the active links. However, the algorithm does not attempt to send the exact same number of bits over<br>
each link over time.other goals. The algorithm does try to balance the traffic, but always within the constraints of the<br>
Ttypically differ the most in real networks, while the highhe algorithm focuses on the low-order bits in the fields in the headers because the low-order bits do not differ much.By focusing on the -order bits<br>
lower-order bits, the algorithm achieves better balancing of traffic over the links.<br>
The Effects of the EtherChannel Load Distribution Algorithm<br>
showing the use of theconsider some addresses or ports and answer the question: which link would you use when forwarding a test etherchannel load-balance EXEC command. That command asks the switch to<br>
message with those address/port values?</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0"><code>All three tests list the same outgoing physical interface because (1) the method uses only the source MAC address, and
all three tests use the same MAC addresses. All three tests use a different destination MAC address, with different low-order bits, but that had no impact on the choice because the method‚Äîsrc-mac‚Äî
does not consider the destination MAC address.</code></pre></div>
<p>chennel-group command cannot override the channel-protocol command</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<a href="https://linuxreader.com">
  <img src="/images/linuxreader.svg" alt="Linux Reader" >
</a>

        </div>
        <search><form action="/search/" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-url="/ansible/"><a class="padding" href="/ansible/"><i class="fa-solid fa-robot"></i> Ansible</a><ul id="R-subsections-e5b911977d99c31c82b120cc3d2f2606" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/bash/"><a class="padding" href="/bash/"><i class="fa-fw fas fa-code"></i> Bash</a><ul id="R-subsections-4b42c24c987a75657a389c72aa61a56d" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/boot/"><a class="padding" href="/boot/"><i class="fa-solid fa-hourglass-start"></i> Boot</a><ul id="R-subsections-a53bfb333437907a8d5bdc636d15c75d" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/containers/"><a class="padding" href="/containers/"><i class="fa-solid fa-cubes"></i> Containers</a><ul id="R-subsections-98e55644e7defe4a283b28e510b18cf5" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/cyber-security/"><a class="padding" href="/cyber-security/"><i class="fa-solid fa-user-secret"></i> Cyber Security</a><ul id="R-subsections-f95cf8cea1c115dd046e46a833f33dfa" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/desktop/"><a class="padding" href="/desktop/"><i class="fa-fw fas fa-computer"></i> Desktop</a><ul id="R-subsections-e1fc414efb00462ad25041a21e45e696" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/files/"><a class="padding" href="/files/"><i class="fa-solid fa-copy"></i> Files</a><ul id="R-subsections-31e56884d732922d4a0e407592968056" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-url="/networking/"><a class="padding" href="/networking/"><i class="fa-fw fas fa-network-wired"></i> Networking</a><ul id="R-subsections-d7c3359b808d40df139a3bb9f9073483" class="collapsible-menu">
            <li class="active hidden " data-nav-url="/networking/ccna/newccnanotes/10rstpandetherchannel/"><a class="padding" href="/networking/ccna/newccnanotes/10rstpandetherchannel/"></a></li>
            <li class="" data-nav-url="/networking/consoling_in_to_mx80_from_linux/"><a class="padding" href="/networking/consoling_in_to_mx80_from_linux/">Consoling in to MX80 from linux</a></li>
            <li class="" data-nav-url="/networking/dns-and-time-synchronization/"><a class="padding" href="/networking/dns-and-time-synchronization/">DNS</a></li>
            <li class="" data-nav-url="/networking/how-to-study-for-the-ccna-exam/"><a class="padding" href="/networking/how-to-study-for-the-ccna-exam/">How to Study for the CCNA Exam</a></li>
            <li class="" data-nav-url="/networking/juniper_cli_basics/"><a class="padding" href="/networking/juniper_cli_basics/">Juniper CLI Basics</a></li>
            <li class="" data-nav-url="/networking/ccna/ccna-notes/my-ccna-notes/"><a class="padding" href="/networking/ccna/ccna-notes/my-ccna-notes/">My CCNA Notes</a></li>
            <li class="" data-nav-url="/networking/networking-network-devices-and-network-connections/"><a class="padding" href="/networking/networking-network-devices-and-network-connections/">Networking Network Devices and Network Connections</a></li>
            <li class="" data-nav-url="/networking/resources-for-passing-ccna/"><a class="padding" href="/networking/resources-for-passing-ccna/">Resources for Passing CCNA</a></li>
            <li class="" data-nav-url="/networking/time-synchronization/"><a class="padding" href="/networking/time-synchronization/">Time Synchronization</a></li>
            <li class="" data-nav-url="/networking/toggle_poe/"><a class="padding" href="/networking/toggle_poe/">Toggle PoE on a Juniper Switch</a></li>
            <li class="" data-nav-url="/networking/what-to-learn-after-ccna/"><a class="padding" href="/networking/what-to-learn-after-ccna/">What to Learn After CCNA</a></li></ul></li>
            <li class="" data-nav-url="/packages/"><a class="padding" href="/packages/"><i class="fa-solid fa-box-open"></i> Packages</a><ul id="R-subsections-bdf1e8ce92aa8ff6883c617f10480430" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/storage/"><a class="padding" href="/storage/"><i class="fa-solid fa-hard-drive"></i> Storage</a><ul id="R-subsections-28a53f7a259bc0e6bfd5bf73591250a9" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/system/"><a class="padding" href="/system/"><i class="fa-solid fa-server"></i> System</a><ul id="R-subsections-0ea554b019cc5a3e6337c45b68b3a647" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/tools/"><a class="padding" href="/tools/"><i class="fa-solid fa-screwdriver-wrench"></i> Tools</a><ul id="R-subsections-bf1399820dde3dd110e03ace4147ff86" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/users-and-groups/"><a class="padding" href="/users-and-groups/"><i class="fa-solid fa-users"></i> Users and Groups</a><ul id="R-subsections-ea23e0c86f0adbd857ee01a4f4dd70e4" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/virtualization/"><a class="padding" href="/virtualization/"><i class="fa-solid fa-microchip"></i> Virtualization</a><ul id="R-subsections-da8ee4406de37987b502b79e5b0a9d1c" class="collapsible-menu"></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <div class="nav-title padding">More</div>
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="/about/"><a class="padding" href="/about/"><i class='fas fa-solid fa-circle-info'></i> About</a></li>
            <li class="" data-nav-url="https://www.youtube.com/@linuxreader"><a class="padding" href="https://www.youtube.com/@linuxreader" rel="external" target="_blank"><i class='fas fa-fw fa-play'></i> YouTube</a></li>
            <li class="" data-nav-url="/contact/"><a class="padding" href="/contact/"><i class='fas fa-fw fa-envelope'></i> Contact</a></li>
            <li class="" data-nav-url="https://github.com/linuxreader"><a class="padding" href="https://github.com/linuxreader" rel="external" target="_blank"><i class='fab fa-fw fa-github'></i> GitHub</a></li>
            <li class="" data-nav-url="https://linkedin.com/in/linuxreader/"><a class="padding" href="https://linkedin.com/in/linuxreader/" rel="external" target="_blank"><i class='fab fa-fw fa-linkedin'></i> LinkedIn</a></li>
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer"><p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p></div>
      </div>
    </aside>
    <script>
      window.MathJax = Object.assign( window.MathJax || {}, {
        tex: {
          inlineMath:  [['\\(', '\\)'], ['$',  '$']],  
          displayMath: [['\\[', '\\]'], ['$$', '$$']], 
        },
        options: {
          enableMenu: false 
        }
      }, JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/js/js-yaml/js-yaml.min.js?1765108392" defer></script>
    <script src="/js/d3/d3-color.min.js?1765108392" defer></script>
    <script src="/js/d3/d3-dispatch.min.js?1765108392" defer></script>
    <script src="/js/d3/d3-drag.min.js?1765108392" defer></script>
    <script src="/js/d3/d3-ease.min.js?1765108392" defer></script>
    <script src="/js/d3/d3-interpolate.min.js?1765108392" defer></script>
    <script src="/js/d3/d3-selection.min.js?1765108392" defer></script>
    <script src="/js/d3/d3-timer.min.js?1765108392" defer></script>
    <script src="/js/d3/d3-transition.min.js?1765108392" defer></script>
    <script src="/js/d3/d3-zoom.min.js?1765108392" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.relearn.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="/js/clipboard/clipboard.min.js?1765108392" defer></script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1765108392" defer></script>
    <script src="/js/theme.min.js?1765108392" defer></script><script async src="https://eomail5.com/form/d37e6864-cf88-11f0-8615-fbed900cb19e.js" data-form="d37e6864-cf88-11f0-8615-fbed900cb19e"></script>

  </body>
</html>
